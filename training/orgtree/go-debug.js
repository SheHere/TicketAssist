/*
 * GoJS v1.7.4 JavaScript Library for HTML Diagrams
 * Northwoods Software, https://www.nwoods.com/
 * GoJS and Northwoods Software are registered trademarks of Northwoods Software Corporation.
 * Copyright (C) 1998-2017 by Northwoods Software Corporation.  All Rights Reserved.
 * THIS SOFTWARE IS LICENSED.  THE LICENSE AGREEMENT IS AT: https://gojs.net/1.7.4/doc/license.html.
 */
(function(window) { var f,ca={};if(!window.document||void 0===window.document.createElement("canvas").getContext)throw window.console&&window.console.log("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode."),Error("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode.");if(!Object.defineProperty)throw Error("GoJS requires a newer version of JavaScript");
Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return g.apply(a,e.concat(d.call(arguments)))}function c(){}var d=Array.prototype.slice,e=d.call(arguments,1),g=this;c.prototype=this.prototype;b.prototype=new c;return b});
(function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),g=Math.max(8,16-(c-a)),h=window.setTimeout(function(){b(c+g)},g);a=c+g;return h});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(a){window.clearTimeout(a)})})();
var u={zj:!1,yA:!1,ZE:!1,zI:!1,$F:!1,xF:!1,$t:null,enableBoundsInfo:function(a){u.zj=!0;a&&a.Iq()},disableBoundsInfo:function(a){u.zj=!1;a&&(da(a.pd,!0),a.Iq())},WE:function(a,b){void 0===a&&(a=u.$t);void 0===b&&(b=a.hm("").qb);var c=b.length,d=a.pd;d.fillStyle="rgba(255,255,0,.3)";for(var e=0;e<c;e++){var g=b.fa(e),h=g.Z;if(null!==g.va)u.WE(a,g.va);else{var k=g.Li.copy();k.fB(g.Kc);d.save();d.transform(k.m11,k.m12,k.m21,k.m22,k.dx,k.dy);d.fillRect(h.x,h.y,h.width,h.height);d.restore()}}},XE:function(a,
b){a||(a=u.$t);b||(b=a.hm("").qb);var c=a.pd,d=b.length;c.fillStyle="rgba(0,0,255,.3)";for(var e=0;e<d;e++){var g=b.fa(e),h=g.Ja,k=g.Li;null!==g.va?u.XE(a,g.va):(c.save(),c.transform(k.m11,k.m12,k.m21,k.m22,k.dx,k.dy),c.fillRect(h.x,h.y,h.width,h.height),c.restore())}},uI:function(a,b){a||(a=u.$t);b||(b=a.hm("").qb);var c=a.pd,d=b.length;c.fillStyle="rgba(0,0,255,.3)";for(var e=0;e<d;e++){var g=b.fa(e),h=g.Ea,k=g.Li;null!==g.va?u.uI(a,g.va):(c.save(),c.transform(k.m11,k.m12,k.m21,k.m22,k.dx,k.dy),
c.fillRect(h.x||0,h.y||0,h.width,h.height),c.restore())}},yL:function(){u.XE();u.WE()},zL:function(a){a||(a=u.$t);var b=a.fd;a=a.pd;a.strokeStyle="rgba(0,255,0,.9)";a.rect(b.x,b.y,b.width,b.height);a.stroke()},YE:function(a,b){b.fillStyle="red";b.fillRect(0,0,8,8);b.lineWidth=8;b.strokeStyle="rgba(255,255,0,.6)";var c=a.yb;b.rect(c.x,c.y,c.width,c.height);b.stroke();b.fillStyle="rgba(0,255,0,.2)";b.fillRect(a.fd.x,a.fd.y,a.fd.width,a.fd.height)},vI:function(a,b){b instanceof ea||(a.lineWidth=2,a.strokeStyle=
"rgba(255,0,0,.5)",a.rect(b.bc.x,b.bc.y,b.bc.width,b.bc.height),a.stroke(),b instanceof w&&(a.strokeStyle=b.stroke,a.lineWidth=b.ib),null!==b.Q&&b.Q.type===ha&&(a.lineWidth=1,a.strokeStyle="rgba(10,200,10,.6)",b instanceof w&&(a.strokeStyle=b.stroke,a.lineWidth=b.ib)))},wI:function(a,b){a.lineWidth=1;a.strokeStyle="rgba(0,0,255,.5)";a.rect(b.Ja.x,b.Ja.y,b.Ja.width,b.Ja.height);a.stroke();void 0!==b.stroke&&(a.strokeStyle=b.stroke);void 0!==b.Ng&&(a.lineWidth=b.Ng)},xA:function(a,b,c){a.setTransform(1,
0,0,1,0,0);a.scale(b.rd,b.rd);a.transform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy);c=b.cc.length;for(var d=0;d<c;d++)for(var e=b.cc.fa(d),g=e.qb.length,h=0;h<g;h++){var k=e.qb.fa(h);if(void 0!==k.location&&null!==k.location){if(k.location.F()){var l=k.location.x,m=k.location.y;a.beginPath();a.strokeStyle="limegreen";a.lineWidth=2;a.moveTo(l,m+6);a.lineTo(l,m);a.lineTo(l+6,m);a.moveTo(l,m);a.lineTo(l+10,m+20);a.stroke()}l=k.position.x;m=k.position.y;a.beginPath();a.strokeStyle="red";a.lineWidth=2;a.moveTo(l,
m+6);a.lineTo(l,m);a.lineTo(l+6,m);a.moveTo(l,m);a.lineTo(l+20,m+10);a.stroke()}}a.setTransform(1,0,0,1,0,0)},AL:function(a,b,c){var d=a.length;b.fillStyle="rgba(255,0,0,.1)";for(var e=0;e<d;e++){var g,h=a[e];g=c.Kc;var k=h.x,l=h.y,m=k+h.width,n=l+h.height,p=g.m11,q=g.m12,r=g.m21,s=g.m22,v=g.dx,t=g.dy,x=k*p+l*r+v,h=k*q+l*s+t;g=m*p+l*r+v;var l=m*q+l*s+t,y=k*p+n*r+v,k=k*q+n*s+t,p=m*p+n*r+v,m=m*q+n*s+t,n=x,q=h,n=Math.min(n,g),x=Math.max(x,g),q=Math.min(q,l),h=Math.max(h,l),n=Math.min(n,y),x=Math.max(x,
y),q=Math.min(q,k),h=Math.max(h,k),n=Math.min(n,p),x=Math.max(x,p),q=Math.min(q,m),h=Math.max(h,m);g=new z(n,q,x-n,h-q);b.fillRect(g.x,g.y,g.width,g.height)}},xI:function(a,b,c,d,e){a.fillStyle="rgba(0,255,0,.2)";a.fillRect(b,c,d,e)},yI:function(a,b,c){a.save();var d=b.Kc;d.reset();1!==b.scale&&d.scale(b.scale);b=b.position;0===b.x&&0===b.y||d.translate(-b.x,-b.y);a.setTransform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy);c=c.dd.o;d=c.length;for(b=0;b<d;b++){var e=c[b];a.beginPath();a.moveTo(e.x-4,e.y);a.lineTo(e.x+
4,e.y);a.moveTo(e.x,e.y-4);a.lineTo(e.x,e.y+4);a.lineWidth=2;a.strokeStyle="rgba(255,0,0,.9)";a.stroke()}a.restore()},wL:function(a){a||(a=u.$t);for(a=a.ao;a.next();)C.trace(a.value.toString())},oM:function(a,b){var c=b.ap(a),d=b.Ub;d.se=b.MB(c);d.ha=c;return ia(b,d,a)},jM:function(a,b){b.He(a.ha)&&(b.pd.fillStyle="lime",b.pd.fillRect(a.se.x,a.se.y,1*b.scale,1*b.scale))},kM:function(a){var b=ja(a,!1,null,null);if(!b.rq){a=a.pd;for(var c=0;c<=b.yn;c++)for(var d=0;d<=b.zn;d++){var e=b.zd[c][d];if(0!==
e){var g=c*b.ce+b.Vf,h=d*b.Nd+b.Wf;0!==e&&(a.fillStyle="rgba(255, 0, 0, .2)",a.fillRect(g,h,b.ce,b.Nd));999999<=e||(e%=10,a.fillStyle="blue",a.fillText(e.toString(),g,h+b.Nd))}}}},dumpReferences:function(a){if(a instanceof D)for(a=a.ao;a.next();){var b=a.value;C.trace(b.toString());for(b=b.Gi;b.next();)u.dumpReferences(b.value)}else if(a instanceof E){C.trace("References for "+a);null!==a.layer&&C.trace("  "+a.layer.toString()+' LayerName: "'+a.Kf+'"');a.no!==a&&C.trace("  SelectionObject: "+a.no.toString()+
' SelectionObjectName: "'+a.vy+'"');a.dc!==a&&C.trace("  LocationObject: "+a.dc.toString()+' LocationObjectName: "'+a.ay+'"');if(a.lh){for(var c="",b=a.lh.j;b.next();)c+=b.key+" ";C.trace("  Adornments: "+c)}null!==a.Qa&&C.trace("  ContainingGroup: "+a.Qa.toString());if(a instanceof F){if(0<a.Hd.count){c="";for(b=a.Hd;b.next();)c+=b.value.toString()+", ";C.trace("  Links: "+c)}null!==a.Cc&&C.trace("  LabeledLink: "+a.Cc.toString());if(a instanceof H){C.trace("  Placeholder: "+a.placeholder);c="";
for(b=a.Pc;b.next();)c+=b.value.toString()+", ";C.trace("  Members: "+c);c="";for(b=a.cn.j;b.next();)c+=b.value.toString()+", ";C.trace("  NestedGroups: "+c);C.trace("  Layout: "+a.Wb)}}else if(a instanceof I){C.trace("  Path: "+a.path);C.trace("  From: "+a.aa+" "+a.gd+' "'+a.cg+'"');C.trace("  To: "+a.ea+" "+a.Md+' "'+a.ih+'"');c="";for(b=a.Jf;b.next();)c+=b.value.toString()+", ";C.trace("  LabelNodes: "+c)}}},dumpVisualTree:function(a){if(a instanceof D)for(a=a.ao;a.next();){var b=a.value;C.trace(b.toString());
for(b=b.Gi;b.next();)u.dumpVisualTree(b.value)}else a instanceof E&&(b=" ",a.ME&&(b+="c"),a.QE&&(b+="d"),a.vF&&(b+="g"),a.YF&&(b+="m"),a.oG&&(b+="h"),a.pG&&(b+="z"),a.uG&&(b+="o"),a.Zk&&(b+="s"),a.NG&&(b+="t"),a.BG&&(b+="A"),a.Qx&&(b+="B"),a.TA&&(b+="L"),a.jb&&(b+="S"),a.Vk&&(b+="H"),u.QC(a,1,b))},QC:function(a,b,c){for(var d="",e=0;e<b;e++)d+="  ";d+=a.toString();c&&(d+=c);c=a.name?' "'+a.name+'" ':" ";c=a.visible?c+"v":c+"!v";c=a.pg?c+"p":c+"!p";a.Hf&&(c+="m");a.ru&&(c+="a");d+=c;if(0!==a.$b||0!==
a.column)d+=" ["+a.$b+","+a.column+"]";d+=" "+a.Z.toString();a.Da.F()&&(d+=" d:"+a.Da.toString());a.Ja.F()&&(d+=" n:"+a.Ja.toString());1!==a.scale&&(d+=" s:"+a.scale);0!==a.angle&&(d+=" a:"+a.angle);null!==a.background&&(d+=" b:"+a.background.toString());null!==a.Xl&&(d+=" a:"+a.background.toString());a instanceof J&&(d+=" elts:"+a.va.count,a.isEnabled||(d+=" !ENABLED"),a.uq&&(d+=" CLIPPING"),0!==a.TG&&(d+=" top:"+a.TG),0!==a.RF&&(d+=" left:"+a.RF),null!==a.Wk&&(d+=" itemArray#:"+C.eb(a.Wk)),a.kJ&&
(d+=" cat:"+a.kJ),null!==a.data&&(d+=" data:"+a.data));null!==a.vd&&(d+=' portId: "'+a.vd+'"');C.trace(d);if(a instanceof J)for(a=a.elements;a.next();)u.QC(a.value,b+1,"")},CL:function(a){C.trace("DelayedReferences ("+a.vg.count+")");for(a=a.vg.j;a.next();){for(var b="",c=a.value.j;c.next();)b+=ka(c.value)+", ";C.trace("  "+a.key+": "+b)}},DE:function(a,b){if(!C.Xa(b)||b instanceof Element||b instanceof CanvasRenderingContext2D||b instanceof ma||b instanceof na)return"";var c="",d;for(d in b)if("string"!==
typeof d)""===c&&(c=b+"\n"),c+="  "+d+" is not a string property\n";else if("_"!==d.charAt(0)&&!(2>=d.length)){var e=C.vb(b,d);if(null!==e&&"function"!==typeof e){if(b.hasOwnProperty(d)){var g=Object.getPrototypeOf(b);if(g&&g.xw&&g.xw[d])continue}else if(C.Lx(b,d))continue;""===c&&(c=b+"\n");c+='  unknown property "'+d+'" has value: '+e+" at "+a+"\n"}}return c},nx:function(a,b){if(null!==b&&void 0!==b&&"number"!==typeof b&&"string"!==typeof b&&"boolean"!==typeof b&&"function"!==typeof b)if(void 0!==
C.Gd(b)){if(!u.Mw.contains(b))if(u.Mw.add(b),u.mw.add(u.DE(a,b)),b instanceof K||b instanceof L||b instanceof oa)for(var c=b.j;c.next();)u.nx(a+"["+c.key+"]",c.value);else for(c in b){var d=C.vb(b,c);if(void 0!==d&&null!==d&&C.Xa(d)&&d!==b.xw){if(b instanceof pa){if(d===b.gi)continue}else if(b instanceof J){if("data"===c||d===b.fe)continue;if("itemArray"===c||d===b.cj)continue;if(b instanceof E&&d===b.Jl)continue}else if(!(b instanceof D))if(b instanceof ta){if("archetypeGroupData"===c||d===b.Sy)continue}else if(b instanceof
ua){if("archetypeLinkData"===c||d===b.Uy)continue;if("archetypeLabelNodeData"===c||d===b.Ty)continue}else if(b instanceof wa){if("archetypeNodeData"===c||d===b.ol)continue}else if(b instanceof M){if("nodeDataArray"===c||d===b.ye)continue;if("linkDataArray"===c||d===b.bf||d===b.hi)continue;if(d===b.Hc)continue;if(d===b.vg)continue}else if(b instanceof ya||b instanceof za||b instanceof Aa)continue;u.nx(a+"."+c,d)}}}else if(Array.isArray(b))for(c=0;c<b.length;c++)u.nx(a+"["+c+"]",b[c]);else u.mw.add(u.DE(a,
b))},checkProperties:function(a){void 0===u.Mw?u.Mw=new L(Object):u.Mw.clear();u.mw=new Ba;u.nx("",a);a=u.mw.toString();u.mw=null;return a}};ca.Debug=u;
var C={xd:1,bd:2,od:4,nd:8,Xn:void 0!==window.navigator&&0<window.navigator.userAgent.indexOf("534.30")&&0<window.navigator.userAgent.indexOf("Android"),GF:void 0!==window.navigator&&0<window.navigator.userAgent.indexOf("MSIE 10.0"),HF:void 0!==window.navigator&&0<window.navigator.userAgent.indexOf("Trident/7"),JL:void 0!==window.navigator&&0<window.navigator.userAgent.indexOf("Edge/"),Uk:void 0!==window.navigator&&void 0!==window.navigator.platform&&0<=window.navigator.platform.toUpperCase().indexOf("MAC"),
IF:void 0!==window.navigator&&void 0!==window.navigator.platform&&null!==window.navigator.platform.match(/(iPhone|iPod|iPad)/i),NE:function(a,b,c){var d=-1;return function(){var e=this,g=arguments;-1!==d&&C.clearTimeout(d);d=C.setTimeout(function(){d=-1;c||a.apply(e,g)},b);c&&!d&&a.apply(e,g)}},setTimeout:function(a,b){return window.setTimeout(a,b)},clearTimeout:function(a){window.clearTimeout(a)},createElement:function(a){return window.document.createElement(a)},k:function(a){throw Error(a);},qa:function(a,
b){var c="The object is frozen, so its properties cannot be set: "+a.toString();void 0!==b&&(c+="  to value: "+b);C.k(c)},l:function(a,b,c,d){a instanceof b||(c=C.getTypeName(c),void 0!==d&&(c+="."+d),C.ic(a,b,c))},h:function(a,b,c,d){typeof a!==b&&(c=C.getTypeName(c),void 0!==d&&(c+="."+d),C.ic(a,b,c))},p:function(a,b,c){"number"===typeof a&&isFinite(a)||(b=C.getTypeName(b),void 0!==c&&(b+="."+c),C.k(b+" must be a real number type, and not NaN or Infinity: "+a))},Ca:function(a,b,c,d){a instanceof
Ca&&a.Pe===b||(c=C.getTypeName(c),void 0!==d&&(c+="."+d),C.ic(a,"a constant of class "+C.tf(b),c))},Vt:function(a,b){"string"===typeof a?Da(a)||C.k('Color "'+a+'" is not a valid color string for '+b):a instanceof Ea||C.k("Value for "+b+" must be a color string or a Brush, not "+a)},ic:function(a,b,c,d){b=C.getTypeName(b);c=C.getTypeName(c);void 0!==d&&(c+="."+d);"string"===typeof a?C.k(c+" value is not an instance of "+b+': "'+a+'"'):C.k(c+" value is not an instance of "+b+": "+a)},wa:function(a,
b,c,d){c=C.getTypeName(c);void 0!==d&&(c+="."+d);C.k(c+" is not in the range "+b+": "+a)},wd:function(a){C.k(C.tf(a)+" constructor cannot take any arguments.")},Va:function(a){C.k("Collection was modified during iteration: "+a.toString()+"\n  Perhaps you should iterate over a copy of the collection,\n  or you could collect items to be removed from the collection after the iteration.")},Vj:function(a,b){C.k("No property to set for this enum value: "+b+" on "+a.toString())},trace:function(a){window.console&&
window.console.log(a)},xx:{},Nn:function(a,b){!0!==C.xx[a]&&(C.xx[a]=!0,window.console&&window.console.log(a+" is deprecated in "+b+", see the GoJS change log for more information."))},Xa:function(a){return"object"===typeof a&&null!==a},isArray:function(a){return Array.isArray(a)||a instanceof NodeList||a instanceof HTMLCollection},fJ:function(a){return Array.isArray(a)},Ut:function(a,b,c){C.isArray(a)||C.ic(a,"Array or NodeList or HTMLCollection",b,c)},eb:function(a){return a.length},am:function(a){return Array.prototype.slice.call(a)},
Ma:function(a,b){Array.isArray(a);return a[b]},BE:function(a,b,c){Array.isArray(a)?a[b]=c:C.k("Cannot replace an object in an HTMLCollection or NodeList at "+b)},Yl:function(a,b){if(Array.isArray(a))return a.indexOf(b);for(var c=a.length,d=0;d<c;d++)if(a[d]===b)return d;return-1},Hh:function(a,b,c){Array.isArray(a)?b>=a.length?a.push(c):a.splice(b,0,c):C.k("Cannot insert an object into an HTMLCollection or NodeList: "+c+" at "+b)},Sg:function(a,b){Array.isArray(a)?b>=a.length?a.pop():a.splice(b,1):
C.k("Cannot remove an object from an HTMLCollection or NodeList at "+b)},Ky:[],P:function(){var a=C.Ky.pop();return void 0===a?new O:a},Fb:function(a,b){var c=C.Ky.pop();if(void 0===c)return new O(a,b);c.x=a;c.y=b;return c},A:function(a){C.Ky.push(a)},$B:[],Am:function(){var a=C.$B.pop();return void 0===a?new Fa:a},Qk:function(a){C.$B.push(a)},Ly:[],Nf:function(){var a=C.Ly.pop();return void 0===a?new z:a},fh:function(a,b,c,d){var e=C.Ly.pop();if(void 0===e)return new z(a,b,c,d);e.x=a;e.y=b;e.width=
c;e.height=d;return e},Lb:function(a){C.Ly.push(a)},aC:[],Of:function(){var a=C.aC.pop();return void 0===a?new Ga:a},Ie:function(a){C.aC.push(a)},My:null,v:function(){var a=C.My;return null!==a?(C.My=null,a):new Ha},u:function(a){a.reset();C.My=a},ZB:[],tb:function(){var a=C.ZB.pop();return void 0===a?[]:a},Ba:function(a){a.length=0;C.ZB.push(a)},bl:Object.freeze([]),Em:1,wc:function(a){a.__gohashid=C.Em++},oq:function(a){var b=a.__gohashid;void 0===b&&(b=C.Em++,a.__gohashid=b);return b},Gd:function(a){return a.__gohashid},
ka:function(a,b){b.Zy=a;ca[a]=b},Ta:function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a},Ai:function(a){a.yH=!0},defineProperty:function(a,b,c,d,e){C.h(a,"function","Util.defineProperty:classfunc");C.h(b,"object","Util.defineProperty:propobj");C.h(c,"function","Util.defineProperty:getter");C.h(d,"function","Util.defineProperty:setter");for(var g in b){b=b[g];c={get:c,set:d,enumerable:!0};if(void 0!==e)for(var h in e)c[h]=e[h];Object.defineProperty(a.prototype,
g,c);e=Object.getOwnPropertyDescriptor(a.prototype,g);b&&e&&Object.defineProperty(a.prototype,b,e);break}},FK:!1,w:function(a,b,c,d){C.h(a,"function","Util.defineReadOnlyProperty:classfunc");C.h(b,"object","Util.defineReadOnlyProperty:propobj");C.h(c,"function","Util.defineReadOnlyProperty:getter");for(var e in b){var g=b[e];b={get:c,set:function(a){C.k('The property "'+g+'" is read-only and cannot be set to '+a)},enumerable:!0};if(void 0!==d)for(var h in d)b[h]=d[h];Object.defineProperty(a.prototype,
e,b);d=Object.getOwnPropertyDescriptor(a.prototype,e);g&&d&&Object.defineProperty(a.prototype,g,d);break}},le:function(a,b){for(var c in b)b[c]=!0;a.prototype.xw=b},getTypeName:function(a){return void 0===a?"":"string"===typeof a?a:"function"===typeof a?C.tf(a):null===a?"*":""},tf:function(a){if("function"===typeof a){if(a.Zy)return a.Zy;if(a.name)return a.name;var b=a.toString(),c=b.indexOf("("),b=b.substring(9,c).trim();if(""!==b)return a.Zy=b}else if("object"===typeof a&&a.constructor)return C.tf(a.constructor);
return typeof a},s:function(a,b,c){C.h(a,"function","Util.defineEnumValue:classfunc");C.h(b,"string","Util.defineEnumValue:name");C.h(c,"number","Util.defineEnumValue:num");c=new Ca(a,b,c);Object.freeze(c);a[b]=c;var d=a.iv;d instanceof oa||(d=new oa("string",Ca),a.iv=d);d.add(b,c);return c},vb:function(a,b){if(!a||!b)return null;var c=void 0;try{"function"===typeof b?c=b(a):"function"===typeof a.getAttribute?(c=a.getAttribute(b),null===c&&(c=void 0)):c=a[b]}catch(d){u&&C.trace("property get error: "+
d.toString())}return c},Ua:function(a,b,c){if(a&&b)try{"function"===typeof b?b(a,c):"function"===typeof a.setAttribute?a.setAttribute(b,c):a[b]=c}catch(d){u&&C.trace("property set error: "+d.toString())}},Wu:function(a,b){C.h(a,"object","Setting properties requires Objects as arguments");C.h(b,"object","Setting properties requires Objects as arguments");var c=a instanceof J,d=a instanceof D,e;for(e in b){""===e&&C.k("Setting properties requires non-empty property names");var g=a,h=e;if(c||d){var k=
e.indexOf(".");if(0<k){var l=e.substring(0,k);if(c)g=a.Fd(l);else if(g=a[l],void 0===g||null===g)g=a.lb[l];C.Xa(g)?h=e.substr(k+1):C.k("Unable to find object named: "+l+" in "+a.toString()+" when trying to set property: "+e)}}if("_"!==h[0]&&!C.Lx(g,h))if(d&&"ModelChanged"===h){a.MH(b[h]);continue}else if(d&&"Changed"===h){a.An(b[h]);continue}else if(d&&C.Lx(a.lb,h))g=a.lb;else if(d&&Ia(a,h)){a.gA(h,b[h]);continue}else if(a instanceof M&&"Changed"===h){a.An(b[h]);continue}else C.k('Trying to set undefined property "'+
h+'" on object: '+g.toString());g[h]=b[e];"_"===h[0]&&g instanceof Q&&g.JH(h)}},Lx:function(a,b){if(a.hasOwnProperty(b))return!0;for(var c=Object.getPrototypeOf(a);c&&c!==Function;){if(c.hasOwnProperty(b))return!0;var d=c.xw;if(d&&d[b])return!0;c=Object.getPrototypeOf(c)}return!1},UJ:function(a){for(var b=[],c=0;256>c;c++)b[c]=c;for(var d=0,e=0,c=0;256>c;c++)d=(d+b[c]+119)%256,e=b[c],b[c]=b[d],b[d]=e;for(var d=c=0,g="",h=0;h<a.length;h++)c=(c+1)%256,d=(d+b[c])%256,e=b[c],b[c]=b[d],b[d]=e,g+=String.fromCharCode(a.charCodeAt(h)^
b[(b[c]+b[d])%256]);return g},UI:function(a){for(var b={},c=0;256>c;c++)b["0123456789abcdef".charAt(c>>4)+"0123456789abcdef".charAt(c&15)]=String.fromCharCode(c);a.length%2&&(a="0"+a);for(var d=[],e=0,c=0;c<a.length;c+=2)d[e++]=b[a.substr(c,2)];a=d.join("");return""===a?"0":a},Tg:function(a){return C.UJ(C.UI(a))},Cm:null,adym:"7da71ca0ad381e90",vfo:"2be641fdb7",ZH:"@COLOR1",$H:"@COLOR2"};
C.Cm=function(){var a=window.document.createElement("canvas"),b=a.getContext("2d");b[C.Tg("7ca11abfd022028846")]=C.Tg("398c3597c01238");for(var c=["5da73c80a3330d854f9e5e671d6633","32ab5ff3b26f42dc0ed90f22422913b54ae6247590da4bb21c324ba3a84e385776","54a702f3e53909c447824c6706603faf4cfb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387","74bf19bce72555874c86"],d=1;5>d;d++)b[C.Tg("7ca11abfd7330390")](C.Tg(c[d-1]),10,15*d+0);b[C.Tg("7ca11abfd022028846")]=C.Tg("39f046ebb36e4b");for(d=1;5>d;d++)b[C.Tg("7ca11abfd7330390")](C.Tg(c[d-
1]),10,15*d+0);if(4!==c.length||"5"!==c[0][0]||"7"!==c[3][0])C.s=function(a,b){var c=new Ca(a,b,2);Object.freeze(c);a[b]=c;var d=a.iv;d instanceof oa||(d=new oa("string",Ca),a.iv=d);d.add(b,c);return c};return a}();function Ca(a,b,c){C.wc(this);this.kC=a;this.Yb=b;this.DH=c}C.ka("EnumValue",Ca);Ca.prototype.toString=function(){return C.tf(this.kC)+"."+this.Yb};C.w(Ca,{Pe:"classType"},function(){return this.kC});C.w(Ca,{name:"name"},function(){return this.Yb});C.w(Ca,{value:"value"},function(){return this.DH});
var Ja;Ca.findName=Ja=function(a,b){if(void 0===b||null===b||""===b)return null;C.h(a,"function","findName:classfunc");C.h(b,"string","EnumValue.findName:name");var c=a.iv;return c instanceof oa?c.pa(b):null};function Ba(){this.jC=[]}Ba.prototype.toString=function(){return this.jC.join("")};Ba.prototype.add=function(a){""!==a&&this.jC.push(a)};function na(){}
function Ka(a){void 0===a&&(a=42);this.seed=a;this.Gy=48271;this.hv=2147483647;this.YB=this.hv/this.Gy;this.hH=this.hv%this.Gy;this.gH=1/this.hv;this.random()}Ka.prototype.random=function(){var a=this.seed%this.YB*this.Gy-this.seed/this.YB*this.hH;this.seed=0<a?a:a+this.hv;return this.seed*this.gH};function La(){}C.w(La,{j:"iterator"},function(){return this});La.prototype.reset=La.prototype.reset=function(){};La.prototype.next=La.prototype.next=function(){return!1};La.prototype.hasNext=function(){return!1};
La.prototype.first=La.prototype.first=function(){return null};La.prototype.any=function(){return!1};La.prototype.all=function(){return!0};La.prototype.each=function(){return this};La.prototype.map=function(){return this};La.prototype.filter=function(){return this};La.prototype.concat=function(a){return a.j};C.w(La,{count:"count"},function(){return 0});La.prototype.Qf=function(){};La.prototype.toString=function(){return"EmptyIterator"};var Na=new La;function Qa(a){this.key=-1;this.value=a}
C.le(Qa,{key:!0,value:!0});C.w(Qa,{j:"iterator"},function(){return this});Qa.prototype.reset=Qa.prototype.reset=function(){this.key=-1};Qa.prototype.next=Qa.prototype.next=function(){return-1===this.key?(this.key=0,!0):!1};Qa.prototype.hasNext=function(){return this.next()};Qa.prototype.first=Qa.prototype.first=function(){this.key=0;return this.value};Qa.prototype.any=function(a){this.key=-1;return a(this.value)};Qa.prototype.all=function(a){this.key=-1;return a(this.value)};
Qa.prototype.each=function(a){this.key=-1;a(this.value);return this};Qa.prototype.map=function(a){return new Qa(a(this.value))};Qa.prototype.filter=function(a){return a(this.value)?new Qa(this.value):Na};Qa.prototype.concat=function(a){return new Sa(this,a.j)};C.w(Qa,{count:"count"},function(){return 1});Qa.prototype.Qf=function(){this.value=null};Qa.prototype.toString=function(){return"SingletonIterator("+this.value+")"};function Sa(a,b){this.Bl=a;this.Cl=b;this.jv=!1}C.le(Sa,{key:!0,value:!0});
C.w(Sa,{j:"iterator"},function(){return this});Sa.prototype.reset=Sa.prototype.reset=function(){this.Bl.reset();this.Cl.reset();this.jv=!1};Sa.prototype.next=Sa.prototype.next=function(){if(!this.jv){var a=this.Bl;if(a.next())return this.key=a.key,this.value=a.value,!0;this.jv=!0}return this.jv&&(a=this.Cl,a.next())?(this.key=a.key,this.value=a.value,!0):!1};Sa.prototype.hasNext=function(){return this.next()};
Sa.prototype.first=Sa.prototype.first=function(){this.reset();return this.next()?this.value:null};Sa.prototype.any=function(a){return this.Bl.any(a)||this.Cl.any(a)?!0:!1};Sa.prototype.all=function(a){return this.Bl.all(a)&&this.Cl.all(a)?!0:!1};Sa.prototype.each=function(a){this.Bl.each(a);this.Cl.each(a);return this};Sa.prototype.map=function(a){return new Sa(this.Bl.map(a),this.Cl.map(a))};Sa.prototype.filter=function(a){return new Sa(this.Bl.filter(a),this.Cl.filter(a))};
Sa.prototype.concat=function(a){return new Sa(this,a.j)};C.w(Sa,{count:"count"},function(){return this.Bl.count+this.Cl.count});Sa.prototype.Qf=function(){this.value=this.key=null};Sa.prototype.toString=function(){return"ConcatIterator()"};function Va(a){this.Gc=a;this.mi=null;a.Xb=null;this.ab=a.G;this.Fc=-1}C.le(Va,{key:!0,value:!0});C.w(Va,{j:"iterator"},function(){return this});C.defineProperty(Va,{Gq:"predicate"},function(){return this.mi},function(a){this.mi=a});
Va.prototype.reset=Va.prototype.reset=function(){var a=this.Gc;a.Xb=null;this.ab=a.G;this.Fc=-1};Va.prototype.next=Va.prototype.next=function(){var a=this.Gc;if(a.G!==this.ab){if(0>this.key)return!1;C.Va(a)}var a=a.o,b=a.length,c=++this.Fc,d=this.mi;if(null!==d)for(;c<b;){var e=a[c];if(d(e))return this.key=this.Fc=c,this.value=e,!0;c++}else{if(c<b)return this.key=c,this.value=a[c],!0;this.Qf()}return!1};Va.prototype.hasNext=function(){return this.next()};
Va.prototype.first=Va.prototype.first=function(){var a=this.Gc;this.ab=a.G;this.Fc=0;var a=a.o,b=a.length,c=this.mi;if(null!==c){for(var d=0;d<b;){var e=a[d];if(c(e))return this.key=this.Fc=d,this.value=e;d++}return null}return 0<b?(e=a[0],this.key=0,this.value=e):null};Va.prototype.any=function(a){var b=this.Gc;b.Xb=null;var c=b.G;this.Fc=-1;for(var d=b.o,e=d.length,g=this.mi,h=0;h<e;h++){var k=d[h];if(null===g||g(k)){if(a(k))return!0;b.G!==c&&C.Va(b)}}return!1};
Va.prototype.all=function(a){var b=this.Gc;b.Xb=null;var c=b.G;this.Fc=-1;for(var d=b.o,e=d.length,g=this.mi,h=0;h<e;h++){var k=d[h];if(null===g||g(k)){if(!a(k))return!1;b.G!==c&&C.Va(b)}}return!0};Va.prototype.each=function(a){var b=this.Gc;b.Xb=null;var c=b.G;this.Fc=-1;for(var d=b.o,e=d.length,g=this.mi,h=0;h<e;h++){var k=d[h];if(null===g||g(k))a(k),b.G!==c&&C.Va(b)}return this};
Va.prototype.map=function(a){var b=this.Gc;b.Xb=null;var c=b.G;this.Fc=-1;for(var d=[],e=b.o,g=e.length,h=this.mi,k=0;k<g;k++){var l=e[k];if(null===h||h(l))d.push(a(l)),b.G!==c&&C.Va(b)}a=new K;a.o=d;a.Tc();return a.j};Va.prototype.filter=function(a){var b=this.Gc;b.Xb=null;var c=b.G;this.Fc=-1;for(var d=[],e=b.o,g=e.length,h=this.mi,k=0;k<g;k++){var l=e[k];if(null===h||h(l))a(l)&&d.push(l),b.G!==c&&C.Va(b)}a=new K(b.ca);a.o=d;a.Tc();return a.j};
Va.prototype.concat=function(a){this.Gc.Xb=null;return new Sa(this,a.j)};C.w(Va,{count:"count"},function(){var a=this.mi;if(null!==a){for(var b=0,c=this.Gc.o,d=c.length,e=0;e<d;e++)a(c[e])&&b++;return b}return this.Gc.o.length});Va.prototype.Qf=function(){this.key=-1;this.value=null;this.ab=-1;this.mi=null;this.Gc.Xb=this};Va.prototype.toString=function(){return"ListIterator@"+this.Fc+"/"+this.Gc.count};function Wa(a){this.Gc=a;a.dj=null;this.ab=a.G;this.Fc=a.o.length}C.le(Wa,{key:!0,value:!0});
C.w(Wa,{j:"iterator"},function(){return this});Wa.prototype.reset=Wa.prototype.reset=function(){var a=this.Gc;a.dj=null;this.ab=a.G;this.Fc=a.o.length};Wa.prototype.next=Wa.prototype.next=function(){var a=this.Gc;if(a.G!==this.ab){if(0>this.key)return!1;C.Va(a)}var b=--this.Fc;if(0<=b)return this.key=b,this.value=a.o[b],!0;this.Qf();return!1};Wa.prototype.hasNext=function(){return this.next()};
Wa.prototype.first=Wa.prototype.first=function(){var a=this.Gc;this.ab=a.G;var b=a.o;this.Fc=a=b.length-1;return 0<=a?(b=b[a],this.key=a,this.value=b):null};Wa.prototype.any=function(a){var b=this.Gc;b.dj=null;var c=b.G,d=b.o,e=d.length;this.Fc=e;for(e-=1;0<=e;e--){if(a(d[e]))return!0;b.G!==c&&C.Va(b)}return!1};Wa.prototype.all=function(a){var b=this.Gc;b.dj=null;var c=b.G,d=b.o,e=d.length;this.Fc=e;for(e-=1;0<=e;e--){if(!a(d[e]))return!1;b.G!==c&&C.Va(b)}return!0};
Wa.prototype.each=function(a){var b=this.Gc;b.dj=null;var c=b.G,d=b.o,e=d.length;this.Fc=e;for(e-=1;0<=e;e--)a(d[e]),b.G!==c&&C.Va(b);return this};Wa.prototype.map=function(a){var b=this.Gc;b.dj=null;var c=b.G,d=[],e=b.o,g=e.length;this.Fc=g;for(g-=1;0<=g;g--)d.push(a(e[g])),b.G!==c&&C.Va(b);a=new K;a.o=d;a.Tc();return a.j};
Wa.prototype.filter=function(a){var b=this.Gc;b.dj=null;var c=b.G,d=[],e=b.o,g=e.length;this.Fc=g;for(g-=1;0<=g;g--){var h=e[g];a(h)&&d.push(h);b.G!==c&&C.Va(b)}a=new K(b.ca);a.o=d;a.Tc();return a.j};Wa.prototype.concat=function(a){this.Gc.dj=null;return new Sa(this,a.j)};C.w(Wa,{count:"count"},function(){return this.Gc.o.length});Wa.prototype.Qf=function(){this.key=-1;this.value=null;this.ab=-1;this.Gc.dj=this};
Wa.prototype.toString=function(){return"ListIteratorBackwards("+this.Fc+"/"+this.Gc.count+")"};
function K(a){C.wc(this);this.J=!1;this.o=[];this.G=0;this.dj=this.Xb=null;void 0===a||null===a?this.ca=null:"string"===typeof a?"object"===a||"string"===a||"number"===a||"boolean"===a||"function"===a?this.ca=a:C.wa(a,"the string 'object', 'number', 'string', 'boolean', or 'function'","List constructor: type"):"function"===typeof a?this.ca=a===Object?"object":a===String?"string":a===Number?"number":a===Boolean?"boolean":a===Function?"function":a:C.wa(a,"null, a primitive type name, or a class type",
"List constructor: type")}C.ka("List",K);K.prototype.nh=function(a){null!==this.ca&&("string"===typeof this.ca?typeof a===this.ca&&null!==a||C.ic(a,this.ca):a instanceof this.ca||C.ic(a,this.ca))};K.prototype.Tc=function(){var a=this.G;a++;999999999<a&&(a=0);this.G=a};K.prototype.freeze=K.prototype.freeze=function(){this.J=!0;return this};K.prototype.thaw=K.prototype.Za=function(){this.J=!1;return this};K.prototype.toString=function(){return"List("+C.getTypeName(this.ca)+")#"+C.Gd(this)};
K.prototype.add=K.prototype.add=function(a){null!==a&&(u&&this.nh(a),this.J&&C.qa(this,a),this.o.push(a),this.Tc())};K.prototype.push=K.prototype.push=function(a){this.add(a)};K.prototype.addAll=K.prototype.Vc=function(a){if(null===a)return this;this.J&&C.qa(this);var b=this.o;if(C.isArray(a))for(var c=C.eb(a),d=0;d<c;d++){var e=C.Ma(a,d);u&&this.nh(e);b.push(e)}else for(a=a.j;a.next();)e=a.value,u&&this.nh(e),b.push(e);this.Tc();return this};
K.prototype.clear=K.prototype.clear=function(){this.J&&C.qa(this);this.o.length=0;this.Tc()};K.prototype.contains=K.prototype.contains=function(a){if(null===a)return!1;u&&this.nh(a);return-1!==this.o.indexOf(a)};K.prototype.has=K.prototype.has=function(a){return this.contains(a)};K.prototype.indexOf=K.prototype.indexOf=function(a){if(null===a)return-1;u&&this.nh(a);return this.o.indexOf(a)};
K.prototype.elt=K.prototype.fa=function(a){u&&C.p(a,K,"elt:i");var b=this.o;(0>a||a>=b.length)&&C.wa(a,"0 <= i < length",K,"elt:i");return b[a]};K.prototype.get=K.prototype.get=function(a){return this.fa(a)};K.prototype.setElt=K.prototype.qg=function(a,b){u&&(this.nh(b),C.p(a,K,"setElt:i"));var c=this.o;(0>a||a>=c.length)&&C.wa(a,"0 <= i < length",K,"setElt:i");this.J&&C.qa(this,a);c[a]=b};K.prototype.set=K.prototype.set=function(a,b){this.qg(a,b)};
K.prototype.first=K.prototype.first=function(){var a=this.o;return 0===a.length?null:a[0]};K.prototype.last=K.prototype.re=function(){var a=this.o,b=a.length;return 0<b?a[b-1]:null};K.prototype.pop=K.prototype.pop=function(){this.J&&C.qa(this);var a=this.o;return 0<a.length?a.pop():null};K.prototype.any=function(a){for(var b=this.o,c=this.G,d=b.length,e=0;e<d;e++){if(a(b[e]))return!0;this.G!==c&&C.Va(this)}return!1};
K.prototype.all=function(a){for(var b=this.o,c=this.G,d=b.length,e=0;e<d;e++){if(!a(b[e]))return!1;this.G!==c&&C.Va(this)}return!0};K.prototype.each=function(a){for(var b=this.o,c=this.G,d=b.length,e=0;e<d;e++)a(b[e]),this.G!==c&&C.Va(this);return this};K.prototype.map=function(a){for(var b=new K,c=[],d=this.o,e=this.G,g=d.length,h=0;h<g;h++)c.push(a(d[h])),this.G!==e&&C.Va(this);b.o=c;b.Tc();return b};
K.prototype.filter=function(a){for(var b=new K(this.ca),c=[],d=this.o,e=this.G,g=d.length,h=0;h<g;h++){var k=d[h];a(k)&&c.push(k);this.G!==e&&C.Va(this)}b.o=c;b.Tc();return b};K.prototype.concat=function(a){return this.copy().Vc(a)};K.prototype.insertAt=K.prototype.Xd=function(a,b){u&&(this.nh(b),C.p(a,K,"insertAt:i"));0>a&&C.wa(a,">= 0",K,"insertAt:i");this.J&&C.qa(this,a);var c=this.o;a>=c.length?c.push(b):c.splice(a,0,b);this.Tc();return!0};
K.prototype.remove=K.prototype.remove=function(a){if(null===a)return!1;u&&this.nh(a);this.J&&C.qa(this,a);var b=this.o;a=b.indexOf(a);if(-1===a)return!1;a===b.length-1?b.pop():b.splice(a,1);this.Tc();return!0};K.prototype["delete"]=K.prototype.delete=function(a){return this.remove(a)};K.prototype.removeAt=K.prototype.md=function(a){u&&C.p(a,K,"removeAt:i");var b=this.o;(0>a||a>=b.length)&&C.wa(a,"0 <= i < length",K,"removeAt:i");this.J&&C.qa(this,a);a===b.length-1?b.pop():b.splice(a,1);this.Tc()};
K.prototype.removeRange=K.prototype.removeRange=function(a,b){u&&(C.p(a,K,"removeRange:from"),C.p(b,K,"removeRange:to"));var c=this.o,d=c.length;if(0>a)a=0;else if(a>=d)return this;if(0>b)return this;b>=d&&(b=d-1);if(a>b)return this;this.J&&C.qa(this);for(var e=a,g=b+1;g<d;)c[e++]=c[g++];c.length=d-(b-a+1);this.Tc();return this};K.prototype.copy=function(){var a=new K(this.ca),b=this.o;0<b.length&&(a.o=Array.prototype.slice.call(b));return a};
K.prototype.toArray=K.prototype.nc=function(){for(var a=this.o,b=this.count,c=Array(b),d=0;d<b;d++)c[d]=a[d];return c};K.prototype.toSet=K.prototype.SG=function(){for(var a=new L(this.ca),b=this.o,c=this.count,d=0;d<c;d++)a.add(b[d]);return a};K.prototype.sort=K.prototype.sort=function(a){u&&C.h(a,"function",K,"sort:sortfunc");this.J&&C.qa(this);this.o.sort(a);this.Tc();return this};
K.prototype.sortRange=K.prototype.Vq=function(a,b,c){var d=this.o,e=d.length;void 0===b&&(b=0);void 0===c&&(c=e);u&&(C.h(a,"function",K,"sortRange:sortfunc"),C.p(b,K,"sortRange:from"),C.p(c,K,"sortRange:to"));this.J&&C.qa(this);var g=c-b;if(1>=g)return this;(0>b||b>=e-1)&&C.wa(b,"0 <= from < length",K,"sortRange:from");if(2===g)return c=d[b],e=d[b+1],0<a(c,e)&&(d[b]=e,d[b+1]=c,this.Tc()),this;if(0===b)if(c>=e)d.sort(a);else for(g=d.slice(0,c),g.sort(a),a=0;a<c;a++)d[a]=g[a];else if(c>=e)for(g=d.slice(b),
g.sort(a),a=b;a<e;a++)d[a]=g[a-b];else for(g=d.slice(b,c),g.sort(a),a=b;a<c;a++)d[a]=g[a-b];this.Tc();return this};K.prototype.reverse=K.prototype.reverse=function(){this.J&&C.qa(this);this.o.reverse();this.Tc();return this};C.w(K,{count:"count"},function(){return this.o.length});C.w(K,{size:"size"},function(){return this.o.length});C.w(K,{length:"length"},function(){return this.o.length});C.w(K,{j:"iterator"},function(){if(0>=this.o.length)return Na;var a=this.Xb;return null!==a?(a.reset(),a):new Va(this)});
C.w(K,{$n:"iteratorBackwards"},function(){if(0>=this.o.length)return Na;var a=this.dj;return null!==a?(a.reset(),a):new Wa(this)});function Xa(a){this.oi=a;a.Xb=null;this.ab=a.G;this.cb=null}C.le(Xa,{key:!0,value:!0});C.w(Xa,{j:"iterator"},function(){return this});Xa.prototype.reset=Xa.prototype.reset=function(){var a=this.oi;a.Xb=null;this.ab=a.G;this.cb=null};
Xa.prototype.next=Xa.prototype.next=function(){var a=this.oi;if(a.G!==this.ab){if(null===this.key)return!1;C.Va(a)}var b=this.cb,b=null===b?a.La:b.gb;if(null!==b)return this.cb=b,this.value=b.value,this.key=b.key,!0;this.Qf();return!1};Xa.prototype.hasNext=function(){return this.next()};Xa.prototype.first=Xa.prototype.first=function(){var a=this.oi;this.ab=a.G;a=a.La;if(null!==a){this.cb=a;var b=a.value;this.key=a.key;return this.value=b}return null};
Xa.prototype.any=function(a){var b=this.oi;b.Xb=null;var c=b.G;this.cb=null;for(var d=b.La;null!==d;){if(a(d.value))return!0;b.G!==c&&C.Va(b);d=d.gb}return!1};Xa.prototype.all=function(a){var b=this.oi;b.Xb=null;var c=b.G;this.cb=null;for(var d=b.La;null!==d;){if(!a(d.value))return!1;b.G!==c&&C.Va(b);d=d.gb}return!0};Xa.prototype.each=function(a){var b=this.oi;b.Xb=null;var c=b.G;this.cb=null;for(var d=b.La;null!==d;)a(d.value),b.G!==c&&C.Va(b),d=d.gb;return this};
Xa.prototype.map=function(a){var b=this.oi;b.Xb=null;for(var c=new K,d=b.G,e=b.La;null!==e;)c.add(a(e.value)),b.G!==d&&C.Va(b),e=e.gb;return c.j};Xa.prototype.filter=function(a){var b=this.oi;b.Xb=null;for(var c=new K(b.ca),d=b.G,e=b.La;null!==e;){var g=e.value;a(g)&&c.add(g);b.G!==d&&C.Va(b);e=e.gb}return c.j};Xa.prototype.concat=function(a){this.oi.Xb=null;return new Sa(this,a.j)};C.w(Xa,{count:"count"},function(){return this.oi.Ad});
Xa.prototype.Qf=function(){this.value=this.key=null;this.ab=-1;this.oi.Xb=this};Xa.prototype.toString=function(){return null!==this.cb?"SetIterator@"+this.cb.value:"SetIterator"};
function L(a){C.wc(this);this.J=!1;void 0===a||null===a?this.ca=null:"string"===typeof a?"object"===a||"string"===a||"number"===a?this.ca=a:C.wa(a,"the string 'object', 'number' or 'string'","Set constructor: type"):"function"===typeof a?this.ca=a===Object?"object":a===String?"string":a===Number?"number":a:C.wa(a,"null, a primitive type name, or a class type","Set constructor: type");this.Bd={};this.Ad=0;this.Xb=null;this.G=0;this.fi=this.La=null}C.ka("Set",L);
L.prototype.nh=function(a){null!==this.ca&&("string"===typeof this.ca?typeof a===this.ca&&null!==a||C.ic(a,this.ca):a instanceof this.ca||C.ic(a,this.ca))};L.prototype.Tc=function(){var a=this.G;a++;999999999<a&&(a=0);this.G=a};L.prototype.freeze=L.prototype.freeze=function(){this.J=!0;return this};L.prototype.thaw=L.prototype.Za=function(){this.J=!1;return this};L.prototype.toString=function(){return"Set("+C.getTypeName(this.ca)+")#"+C.Gd(this)};
L.prototype.add=L.prototype.add=function(a){if(null===a)return!1;u&&this.nh(a);this.J&&C.qa(this,a);var b=a;C.Xa(a)&&(b=C.oq(a));return void 0===this.Bd[b]?(this.Ad++,a=new Za(a,a),this.Bd[b]=a,b=this.fi,null===b?this.La=a:(a.Bp=b,b.gb=a),this.fi=a,this.Tc(),!0):!1};L.prototype.addAll=L.prototype.Vc=function(a){if(null===a)return this;this.J&&C.qa(this);if(C.isArray(a))for(var b=C.eb(a),c=0;c<b;c++)this.add(C.Ma(a,c));else for(a=a.j;a.next();)this.add(a.value);return this};
L.prototype.contains=L.prototype.contains=function(a){if(null===a)return!1;u&&this.nh(a);var b=a;return C.Xa(a)&&(b=C.Gd(a),void 0===b)?!1:void 0!==this.Bd[b]};L.prototype.has=L.prototype.has=function(a){return this.contains(a)};L.prototype.containsAll=function(a){if(null===a)return!0;for(a=a.j;a.next();)if(!this.contains(a.value))return!1;return!0};L.prototype.containsAny=function(a){if(null===a)return!0;for(a=a.j;a.next();)if(this.contains(a.value))return!0;return!1};
L.prototype.first=L.prototype.first=function(){var a=this.La;return null===a?null:a.value};L.prototype.any=function(a){for(var b=this.G,c=this.La;null!==c;){if(a(c.value))return!0;this.G!==b&&C.Va(this);c=c.gb}return!1};L.prototype.all=function(a){for(var b=this.G,c=this.La;null!==c;){if(!a(c.value))return!1;this.G!==b&&C.Va(this);c=c.gb}return!0};L.prototype.each=function(a){for(var b=this.G,c=this.La;null!==c;)a(c.value),this.G!==b&&C.Va(this),c=c.gb;return this};
L.prototype.map=function(a){for(var b=new L,c=this.G,d=this.La;null!==d;)b.add(a(d.value)),this.G!==c&&C.Va(this),d=d.gb;return b};L.prototype.filter=function(a){for(var b=new L(this.ca),c=this.G,d=this.La;null!==d;){var e=d.value;a(e)&&b.add(e);this.G!==c&&C.Va(this);d=d.gb}return b};L.prototype.concat=function(a){return this.copy().Vc(a)};
L.prototype.remove=L.prototype.remove=function(a){if(null===a)return!1;u&&this.nh(a);this.J&&C.qa(this,a);var b=a;if(C.Xa(a)&&(b=C.Gd(a),void 0===b))return!1;a=this.Bd[b];if(void 0===a)return!1;var c=a.gb,d=a.Bp;null!==c&&(c.Bp=d);null!==d&&(d.gb=c);this.La===a&&(this.La=c);this.fi===a&&(this.fi=d);delete this.Bd[b];this.Ad--;this.Tc();return!0};L.prototype["delete"]=L.prototype.delete=function(a){return this.remove(a)};
L.prototype.removeAll=L.prototype.oy=function(a){if(null===a)return this;this.J&&C.qa(this);if(C.isArray(a))for(var b=C.eb(a),c=0;c<b;c++)this.remove(C.Ma(a,c));else for(a=a.j;a.next();)this.remove(a.value);return this};L.prototype.retainAll=function(a){if(null===a||0===this.count)return this;this.J&&C.qa(this);var b=new L(this.ca);b.Vc(a);a=[];for(var c=this.j;c.next();){var d=c.value;b.contains(d)||a.push(d)}this.oy(a);return this};
L.prototype.clear=L.prototype.clear=function(){this.J&&C.qa(this);this.Bd={};this.Ad=0;this.fi=this.La=null;this.Tc()};L.prototype.copy=function(){var a=new L(this.ca),b=this.Bd,c;for(c in b)a.add(b[c].value);return a};L.prototype.toArray=L.prototype.nc=function(){var a=Array(this.Ad),b=this.Bd,c=0,d;for(d in b)a[c]=b[d].value,c++;return a};L.prototype.toList=function(){var a=new K(this.ca),b=this.Bd,c;for(c in b)a.add(b[c].value);return a};C.w(L,{count:"count"},function(){return this.Ad});
C.w(L,{size:"size"},function(){return this.Ad});C.w(L,{j:"iterator"},function(){if(0>=this.Ad)return Na;var a=this.Xb;return null!==a?(a.reset(),a):new Xa(this)});function $a(a){this.Pa=a;this.ab=a.G;this.cb=null}C.le($a,{key:!0,value:!0});C.w($a,{j:"iterator"},function(){return this});$a.prototype.reset=$a.prototype.reset=function(){this.ab=this.Pa.G;this.cb=null};
$a.prototype.next=$a.prototype.next=function(){var a=this.Pa;if(a.G!==this.ab){if(null===this.key)return!1;C.Va(a)}var b=this.cb,b=null===b?a.La:b.gb;if(null!==b)return this.cb=b,this.value=this.key=a=b.key,!0;this.Qf();return!1};$a.prototype.hasNext=function(){return this.next()};$a.prototype.first=$a.prototype.first=function(){var a=this.Pa;this.ab=a.G;a=a.La;return null!==a?(this.cb=a,this.value=this.key=a=a.key):null};
$a.prototype.any=function(a){var b=this.Pa,c=b.G;this.cb=null;for(var d=b.La;null!==d;){if(a(d.key))return!0;b.G!==c&&C.Va(b);d=d.gb}return!1};$a.prototype.all=function(a){var b=this.Pa,c=b.G;this.cb=null;for(var d=b.La;null!==d;){if(!a(d.key))return!1;b.G!==c&&C.Va(b);d=d.gb}return!0};$a.prototype.each=function(a){var b=this.Pa,c=b.G;this.cb=null;for(var d=b.La;null!==d;)a(d.key),b.G!==c&&C.Va(b),d=d.gb;return this};
$a.prototype.map=function(a){var b=this.Pa,c=b.G;this.cb=null;for(var d=new K,e=b.La;null!==e;)d.add(a(e.key)),b.G!==c&&C.Va(b),e=e.gb;return d.j};$a.prototype.filter=function(a){var b=this.Pa,c=b.G;this.cb=null;for(var d=new K(b.pf),e=b.La;null!==e;){var g=e.key;a(g)&&d.add(g);b.G!==c&&C.Va(b);e=e.gb}return d.j};$a.prototype.concat=function(a){return new Sa(this,a.j)};C.w($a,{count:"count"},function(){return this.Pa.Ad});$a.prototype.Qf=function(){this.value=this.key=null;this.ab=-1};
$a.prototype.toString=function(){return null!==this.cb?"MapKeySetIterator@"+this.cb.value:"MapKeySetIterator"};function cb(a){C.wc(this);this.J=!0;this.Pa=a}C.Ta(cb,L);cb.prototype.freeze=function(){return this};cb.prototype.Za=function(){return this};cb.prototype.toString=function(){return"MapKeySet("+this.Pa.toString()+")"};cb.prototype.add=cb.prototype.add=function(){C.k("This Set is read-only: "+this.toString());return!1};
cb.prototype.set=cb.prototype.set=function(){C.k("This Set is read-only: "+this.toString());return!1};cb.prototype.contains=cb.prototype.contains=function(a){return this.Pa.contains(a)};cb.prototype.has=cb.prototype.has=function(a){return this.contains(a)};cb.prototype.remove=cb.prototype.remove=function(){C.k("This Set is read-only: "+this.toString());return!1};cb.prototype["delete"]=cb.prototype.delete=function(){return this.remove()};
cb.prototype.clear=cb.prototype.clear=function(){C.k("This Set is read-only: "+this.toString())};cb.prototype.first=cb.prototype.first=function(){var a=this.Pa.La;return null!==a?a.key:null};cb.prototype.any=function(a){for(var b=this.Pa.La;null!==b;){if(a(b.key))return!0;b=b.gb}return!1};cb.prototype.all=function(a){for(var b=this.Pa.La;null!==b;){if(!a(b.key))return!1;b=b.gb}return!0};cb.prototype.each=function(a){for(var b=this.Pa.La;null!==b;)a(b.key),b=b.gb;return this};
cb.prototype.map=function(a){for(var b=new L,c=this.Pa.La;null!==c;)b.add(a(c.key)),c=c.gb;return b};cb.prototype.filter=function(a){for(var b=new L(this.Pa.pf),c=this.Pa.La;null!==c;){var d=c.key;a(d)&&b.add(d);c=c.gb}return b};cb.prototype.concat=function(a){return this.SG().Vc(a)};cb.prototype.copy=function(){return new cb(this.Pa)};cb.prototype.toSet=cb.prototype.SG=function(){var a=new L(this.Pa.pf),b=this.Pa.Bd,c;for(c in b)a.add(b[c].key);return a};
cb.prototype.toArray=cb.prototype.nc=function(){var a=this.Pa.Bd,b=Array(this.Pa.Ad),c=0,d;for(d in a)b[c]=a[d].key,c++;return b};cb.prototype.toList=function(){var a=new K(this.ca),b=this.Pa.Bd,c;for(c in b)a.add(b[c].key);return a};C.w(cb,{count:"count"},function(){return this.Pa.Ad});C.w(cb,{size:"size"},function(){return this.Pa.Ad});C.w(cb,{j:"iterator"},function(){return 0>=this.Pa.Ad?Na:new $a(this.Pa)});function gb(a){this.Pa=a;a.ej=null;this.ab=a.G;this.cb=null}C.le(gb,{key:!0,value:!0});
C.w(gb,{j:"iterator"},function(){return this});gb.prototype.reset=gb.prototype.reset=function(){var a=this.Pa;a.ej=null;this.ab=a.G;this.cb=null};gb.prototype.next=gb.prototype.next=function(){var a=this.Pa;if(a.G!==this.ab){if(null===this.key)return!1;C.Va(a)}var b=this.cb,b=null===b?a.La:b.gb;if(null!==b)return this.cb=b,this.value=b.value,this.key=b.key,!0;this.Qf();return!1};gb.prototype.hasNext=function(){return this.next()};
gb.prototype.first=gb.prototype.first=function(){var a=this.Pa;this.ab=a.G;a=a.La;if(null!==a){this.cb=a;var b=a.value;this.key=a.key;return this.value=b}return null};gb.prototype.any=function(a){var b=this.Pa;b.ej=null;var c=b.G;this.cb=null;for(var d=b.La;null!==d;){if(a(d.value))return!0;b.G!==c&&C.Va(b);d=d.gb}return!1};gb.prototype.all=function(a){var b=this.Pa;b.ej=null;var c=b.G;this.cb=null;for(var d=b.La;null!==d;){if(!a(d.value))return!1;b.G!==c&&C.Va(b);d=d.gb}return!0};
gb.prototype.each=function(a){var b=this.Pa;b.ej=null;var c=b.G;this.cb=null;for(var d=b.La;null!==d;)a(d.value),b.G!==c&&C.Va(b),d=d.gb;return this};gb.prototype.map=function(a){var b=this.Pa;b.ej=null;var c=b.G;this.cb=null;for(var d=new K,e=b.La;null!==e;)d.add(a(e.value)),b.G!==c&&C.Va(b),e=e.gb;return d.j};gb.prototype.filter=function(a){var b=this.Pa;b.ej=null;var c=b.G;this.cb=null;for(var d=new K(b.pf),e=b.La;null!==e;){var g=e.value;a(g)&&d.add(g);b.G!==c&&C.Va(b);e=e.gb}return d.j};
gb.prototype.concat=function(a){this.Pa.ej=null;return new Sa(this,a.j)};C.w(gb,{count:"count"},function(){return this.Pa.Ad});gb.prototype.Qf=function(){this.value=this.key=null;this.ab=-1;this.Pa.ej=this};gb.prototype.toString=function(){return null!==this.cb?"MapValueSetIterator@"+this.cb.value:"MapValueSetIterator"};function Za(a,b){this.key=a;this.value=b;this.Bp=this.gb=null}C.le(Za,{key:!0,value:!0});Za.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"};
function hb(a){this.Pa=a;a.Xb=null;this.ab=a.G;this.cb=null}C.le(hb,{key:!0,value:!0});C.w(hb,{j:"iterator"},function(){return this});hb.prototype.reset=hb.prototype.reset=function(){var a=this.Pa;a.Xb=null;this.ab=a.G;this.cb=null};hb.prototype.next=hb.prototype.next=function(){var a=this.Pa;if(a.G!==this.ab){if(null===this.key)return!1;C.Va(a)}var b=this.cb,b=null===b?a.La:b.gb;if(null!==b)return this.cb=b,this.key=b.key,this.value=b.value,!0;this.Qf();return!1};hb.prototype.hasNext=function(){return this.next()};
hb.prototype.first=hb.prototype.first=function(){var a=this.Pa;this.ab=a.G;a=a.La;return null!==a?(this.cb=a,this.key=a.key,this.value=a.value,a):null};hb.prototype.any=function(a){var b=this.Pa;b.Xb=null;var c=b.G;this.cb=null;for(var d=b.La;null!==d;){if(a(d))return!0;b.G!==c&&C.Va(b);d=d.gb}return!1};hb.prototype.all=function(a){var b=this.Pa;b.Xb=null;var c=b.G;this.cb=null;for(var d=b.La;null!==d;){if(!a(d))return!1;b.G!==c&&C.Va(b);d=d.gb}return!0};
hb.prototype.each=function(a){var b=this.Pa;b.Xb=null;var c=b.G;this.cb=null;for(var d=b.La;null!==d;)a(d),b.G!==c&&C.Va(b),d=d.gb;return this};hb.prototype.map=function(a){var b=this.Pa;b.Xb=null;var c=b.G;this.cb=null;for(var d=new K,e=b.La;null!==e;)d.add(a(e)),b.G!==c&&C.Va(b),e=e.gb;return d.j};hb.prototype.filter=function(a){var b=this.Pa;b.Xb=null;var c=b.G;this.cb=null;for(var d=new K,e=b.La;null!==e;)a(e)&&d.add(e),b.G!==c&&C.Va(b),e=e.gb;return d.j};
hb.prototype.concat=function(a){this.Pa.Xb=null;return new Sa(this,a.j)};C.w(hb,{count:"count"},function(){return this.Pa.Ad});hb.prototype.Qf=function(){this.value=this.key=null;this.ab=-1;this.Pa.Xb=this};hb.prototype.toString=function(){return null!==this.cb?"MapIterator@"+this.cb:"MapIterator"};
function oa(a,b){C.wc(this);this.J=!1;void 0===a||null===a?this.pf=null:"string"===typeof a?"object"===a||"string"===a||"number"===a?this.pf=a:C.wa(a,"the string 'object', 'number' or 'string'","Map constructor: keytype"):"function"===typeof a?this.pf=a===Object?"object":a===String?"string":a===Number?"number":a:C.wa(a,"null, a primitive type name, or a class type","Map constructor: keytype");void 0===b||null===b?this.yi=null:"string"===typeof b?"object"===b||"string"===b||"boolean"===b||"number"===
b||"function"===b?this.yi=b:C.wa(b,"the string 'object', 'number', 'string', 'boolean', or 'function'","Map constructor: valtype"):"function"===typeof b?this.yi=b===Object?"object":b===String?"string":b===Number?"number":b===Boolean?"boolean":b===Function?"function":b:C.wa(b,"null, a primitive type name, or a class type","Map constructor: valtype");this.Bd={};this.Ad=0;this.ej=this.Xb=null;this.G=0;this.fi=this.La=null}C.ka("Map",oa);
function jb(a,b){null!==a.pf&&("string"===typeof a.pf?typeof b===a.pf&&null!==b||C.ic(b,a.pf):b instanceof a.pf||C.ic(b,a.pf))}oa.prototype.Tc=function(){var a=this.G;a++;999999999<a&&(a=0);this.G=a};oa.prototype.freeze=oa.prototype.freeze=function(){this.J=!0;return this};oa.prototype.thaw=oa.prototype.Za=function(){this.J=!1;return this};oa.prototype.toString=function(){return"Map("+C.getTypeName(this.pf)+","+C.getTypeName(this.yi)+")#"+C.Gd(this)};
oa.prototype.add=oa.prototype.add=function(a,b){u&&(jb(this,a),null!==this.yi&&("string"===typeof this.yi?typeof b===this.yi&&null!==b||C.ic(b,this.yi):b instanceof this.yi||C.ic(b,this.yi)));this.J&&C.qa(this,a);var c=a;C.Xa(a)&&(c=C.oq(a));var d=this.Bd[c];if(void 0===d)return this.Ad++,d=new Za(a,b),this.Bd[c]=d,c=this.fi,null===c?this.La=d:(d.Bp=c,c.gb=d),this.fi=d,this.Tc(),!0;d.value=b;return!1};oa.prototype.set=oa.prototype.set=function(a,b){return this.add(a,b)};
oa.prototype.addAll=oa.prototype.Vc=function(a){if(null===a)return this;if(C.isArray(a))for(var b=C.eb(a),c=0;c<b;c++){var d=C.Ma(a,c);this.add(d.key,d.value)}else for(a=a.j;a.next();)this.add(a.key,a.value);return this};oa.prototype.first=oa.prototype.first=function(){return this.La};oa.prototype.any=function(a){for(var b=this.G,c=this.La;null!==c;){if(a(c))return!0;this.G!==b&&C.Va(this);c=c.gb}return!1};
oa.prototype.all=function(a){for(var b=this.G,c=this.La;null!==c;){if(!a(c))return!1;this.G!==b&&C.Va(this);c=c.gb}return!0};oa.prototype.each=function(a){for(var b=this.G,c=this.La;null!==c;)a(c),this.G!==b&&C.Va(this),c=c.gb;return this};oa.prototype.map=function(a){for(var b=new oa(this.pf),c=this.G,d=this.La;null!==d;)b.add(d.key,a(d)),this.G!==c&&C.Va(this),d=d.gb;return b};
oa.prototype.filter=function(a){for(var b=new oa(this.pf,this.yi),c=this.G,d=this.La;null!==d;)a(d)&&b.add(d.key,d.value),this.G!==c&&C.Va(this),d=d.gb;return b};oa.prototype.concat=function(a){return this.copy().Vc(a)};oa.prototype.contains=oa.prototype.contains=function(a){u&&jb(this,a);var b=a;return C.Xa(a)&&(b=C.Gd(a),void 0===b)?!1:void 0!==this.Bd[b]};oa.prototype.has=oa.prototype.has=function(a){return this.contains(a)};
oa.prototype.getValue=oa.prototype.pa=function(a){u&&jb(this,a);var b=a;if(C.Xa(a)&&(b=C.Gd(a),void 0===b))return null;a=this.Bd[b];return void 0===a?null:a.value};oa.prototype.get=oa.prototype.get=function(a){return this.pa(a)};
oa.prototype.remove=oa.prototype.remove=function(a){if(null===a)return!1;u&&jb(this,a);this.J&&C.qa(this,a);var b=a;if(C.Xa(a)&&(b=C.Gd(a),void 0===b))return!1;a=this.Bd[b];if(void 0===a)return!1;var c=a.gb,d=a.Bp;null!==c&&(c.Bp=d);null!==d&&(d.gb=c);this.La===a&&(this.La=c);this.fi===a&&(this.fi=d);delete this.Bd[b];this.Ad--;this.Tc();return!0};oa.prototype["delete"]=oa.prototype.delete=function(a){return this.remove(a)};
oa.prototype.clear=oa.prototype.clear=function(){this.J&&C.qa(this);this.Bd={};this.Ad=0;this.fi=this.La=null;this.Tc()};oa.prototype.copy=function(){var a=new oa(this.pf,this.yi),b=this.Bd,c;for(c in b){var d=b[c];a.add(d.key,d.value)}return a};oa.prototype.toArray=oa.prototype.nc=function(){var a=this.Bd,b=Array(this.Ad),c=0,d;for(d in a){var e=a[d];b[c]=new Za(e.key,e.value);c++}return b};oa.prototype.toKeySet=oa.prototype.Wj=function(){return new cb(this)};C.w(oa,{count:"count"},function(){return this.Ad});
C.w(oa,{size:"size"},function(){return this.Ad});C.w(oa,{j:"iterator"},function(){if(0>=this.count)return Na;var a=this.Xb;return null!==a?(a.reset(),a):new hb(this)});C.w(oa,{OF:"iteratorKeys"},function(){return 0>=this.count?Na:new $a(this)});C.w(oa,{PF:"iteratorValues"},function(){if(0>=this.count)return Na;var a=this.ej;return null!==a?(a.reset(),a):new gb(this)});
function O(a,b){void 0===a?this.M=this.L=0:"number"===typeof a&&"number"===typeof b?(this.L=a,this.M=b):C.k("Invalid arguments to Point constructor: "+a+", "+b);this.J=!1}C.ka("Point",O);C.Ai(O);C.le(O,{x:!0,y:!0});O.prototype.assign=function(a){this.L=a.L;this.M=a.M};O.prototype.setTo=O.prototype.m=function(a,b){u&&(C.h(a,"number",O,"setTo:x"),C.h(b,"number",O,"setTo:y"));this.L=a;this.M=b;return this};
O.prototype.set=O.prototype.set=function(a){u&&C.l(a,O,O,"set:p");this.Sa();this.L=a.L;this.M=a.M;return this};O.prototype.copy=function(){var a=new O;a.L=this.L;a.M=this.M;return a};f=O.prototype;f.Na=function(){this.J=!0;Object.freeze(this);return this};f.V=function(){return Object.isFrozen(this)?this:this.copy().freeze()};f.freeze=function(){this.J=!0;return this};f.Za=function(){Object.isFrozen(this)&&C.k("cannot thaw constant: "+this);this.J=!1;return this};
f.Sa=function(a){if(this.J){var b="The Point is frozen, so its properties cannot be set: "+this.toString();void 0!==a&&(b+="  to value: "+a);C.k(b)}};O.parse=function(a){if("string"===typeof a){a=a.split(" ");for(var b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));return new O(c,e)}return new O};O.stringify=function(a){u&&C.l(a,O);return a.x.toString()+" "+a.y.toString()};
O.prototype.toString=function(){return"Point("+this.x+","+this.y+")"};O.prototype.equals=O.prototype.O=function(a){return a instanceof O?this.L===a.x&&this.M===a.y:!1};O.prototype.equalTo=O.prototype.Ax=function(a,b){return this.L===a&&this.M===b};O.prototype.equalsApprox=O.prototype.Wc=function(a){return R(this.L,a.x)&&R(this.M,a.y)};O.prototype.add=O.prototype.add=function(a){u&&C.l(a,O,O,"add:p");this.Sa();this.L+=a.x;this.M+=a.y;return this};
O.prototype.subtract=O.prototype.ro=function(a){u&&C.l(a,O,O,"subtract:p");this.Sa();this.L-=a.x;this.M-=a.y;return this};O.prototype.offset=O.prototype.offset=function(a,b){u&&(C.p(a,O,"offset:dx"),C.p(b,O,"offset:dy"));this.Sa();this.L+=a;this.M+=b;return this};
O.prototype.rotate=O.prototype.rotate=function(a){u&&C.p(a,O,"rotate:angle");this.Sa();if(0===a)return this;var b=this.L,c=this.M;if(0===b&&0===c)return this;var d=0,e=0;360<=a?a-=360:0>a&&(a+=360);90===a?(d=0,e=1):180===a?(d=-1,e=0):270===a?(d=0,e=-1):(a=a*Math.PI/180,d=Math.cos(a),e=Math.sin(a));this.L=d*b-e*c;this.M=e*b+d*c;return this};O.prototype.scale=O.prototype.scale=function(a,b){u&&(C.p(a,O,"scale:sx"),C.p(b,O,"scale:sy"));this.L*=a;this.M*=b;return this};
O.prototype.distanceSquaredPoint=O.prototype.Df=function(a){u&&C.l(a,O,O,"distanceSquaredPoint:p");var b=a.x-this.L;a=a.y-this.M;return b*b+a*a};O.prototype.distanceSquared=O.prototype.hq=function(a,b){u&&(C.p(a,O,"distanceSquared:px"),C.p(b,O,"distanceSquared:py"));var c=a-this.L,d=b-this.M;return c*c+d*d};O.prototype.normalize=O.prototype.normalize=function(){this.Sa();var a=this.L,b=this.M,c=Math.sqrt(a*a+b*b);0<c&&(this.L=a/c,this.M=b/c);return this};
O.prototype.directionPoint=O.prototype.Mc=function(a){u&&C.l(a,O,O,"directionPoint:p");return nb(a.x-this.L,a.y-this.M)};O.prototype.direction=O.prototype.direction=function(a,b){u&&(C.p(a,O,"direction:px"),C.p(b,O,"direction:py"));return nb(a-this.L,b-this.M)};function nb(a,b){if(0===a)return 0<b?90:0>b?270:0;if(0===b)return 0<a?0:180;if(isNaN(a)||isNaN(b))return 0;var c=180*Math.atan(Math.abs(b/a))/Math.PI;0>a?c=0>b?c+180:180-c:0>b&&(c=360-c);return c}
O.prototype.projectOntoLineSegment=function(a,b,c,d){u&&(C.p(a,O,"projectOntoLineSegment:px"),C.p(b,O,"projectOntoLineSegment:py"),C.p(c,O,"projectOntoLineSegment:qx"),C.p(d,O,"projectOntoLineSegment:qy"));ob(a,b,c,d,this.L,this.M,this);return this};O.prototype.projectOntoLineSegmentPoint=function(a,b){u&&(C.l(a,O,O,"projectOntoLineSegmentPoint:p"),C.l(b,O,O,"projectOntoLineSegmentPoint:q"));ob(a.x,a.y,b.x,b.y,this.L,this.M,this);return this};
O.prototype.snapToGrid=function(a,b,c,d){u&&(C.p(a,O,"snapToGrid:originx"),C.p(b,O,"snapToGrid:originy"),C.p(c,O,"snapToGrid:cellwidth"),C.p(d,O,"snapToGrid:cellheight"));tb(this.L,this.M,a,b,c,d,this);return this};O.prototype.snapToGridPoint=function(a,b){u&&(C.l(a,O,O,"snapToGridPoint:p"),C.l(b,Fa,O,"snapToGridPoint:q"));tb(this.L,this.M,a.x,a.y,b.width,b.height,this);return this};
O.prototype.setRectSpot=O.prototype.oo=function(a,b){u&&(C.l(a,z,O,"setRectSpot:r"),C.l(b,S,O,"setRectSpot:spot"));this.Sa();this.L=a.x+b.x*a.width+b.offsetX;this.M=a.y+b.y*a.height+b.offsetY;return this};
O.prototype.setSpot=O.prototype.Yu=function(a,b,c,d,e){u&&(C.p(a,O,"setSpot:x"),C.p(b,O,"setSpot:y"),C.p(c,O,"setSpot:w"),C.p(d,O,"setSpot:h"),(0>c||0>d)&&C.k("Point.setSpot:Width and height cannot be negative"),C.l(e,S,O,"setSpot:spot"));this.Sa();this.L=a+e.x*c+e.offsetX;this.M=b+e.y*d+e.offsetY;return this};O.prototype.transform=function(a){u&&C.l(a,Ga,O,"transform:t");a.wb(this);return this};function ub(a,b){u&&C.l(b,Ga,O,"transformInverted:t");b.Ci(a);return a}var xb;
O.distanceLineSegmentSquared=xb=function(a,b,c,d,e,g){u&&(C.p(a,O,"distanceLineSegmentSquared:px"),C.p(b,O,"distanceLineSegmentSquared:py"),C.p(c,O,"distanceLineSegmentSquared:ax"),C.p(d,O,"distanceLineSegmentSquared:ay"),C.p(e,O,"distanceLineSegmentSquared:bx"),C.p(g,O,"distanceLineSegmentSquared:by"));var h=e-c,k=g-d,l=h*h+k*k;c-=a;d-=b;var m=-c*h-d*k;if(0>=m||m>=l)return h=e-a,k=g-b,Math.min(c*c+d*d,h*h+k*k);a=h*d-k*c;return a*a/l};var yb;
O.distanceSquared=yb=function(a,b,c,d){u&&(C.p(a,O,"distanceSquared:px"),C.p(b,O,"distanceSquared:py"),C.p(c,O,"distanceSquared:qx"),C.p(d,O,"distanceSquared:qy"));a=c-a;b=d-b;return a*a+b*b};var zb;
O.direction=zb=function(a,b,c,d){u&&(C.p(a,O,"direction:px"),C.p(b,O,"direction:py"),C.p(c,O,"direction:qx"),C.p(d,O,"direction:qy"));a=c-a;b=d-b;if(0===a)return 0<b?90:0>b?270:0;if(0===b)return 0<a?0:180;if(isNaN(a)||isNaN(b))return 0;d=180*Math.atan(Math.abs(b/a))/Math.PI;0>a?d=0>b?d+180:180-d:0>b&&(d=360-d);return d};C.defineProperty(O,{x:"x"},function(){return this.L},function(a){this.Sa(a);u&&C.h(a,"number",O,"x");this.L=a});
C.defineProperty(O,{y:"y"},function(){return this.M},function(a){this.Sa(a);u&&C.h(a,"number",O,"y");this.M=a});O.prototype.isReal=O.prototype.F=function(){return isFinite(this.x)&&isFinite(this.y)};function Fa(a,b){void 0===a?this.Ga=this.Ia=0:"number"===typeof a&&(0<=a||isNaN(a))&&"number"===typeof b&&(0<=b||isNaN(b))?(this.Ia=a,this.Ga=b):C.k("Invalid arguments to Size constructor: "+a+", "+b);this.J=!1}C.ka("Size",Fa);C.Ai(Fa);C.le(Fa,{width:!0,height:!0});
Fa.prototype.assign=function(a){this.Ia=a.Ia;this.Ga=a.Ga};Fa.prototype.setTo=Fa.prototype.m=function(a,b){u&&(C.h(a,"number",Fa,"setTo:w"),C.h(b,"number",Fa,"setTo:h"),0>a&&C.wa(a,">= 0",Fa,"setTo:w"),0>b&&C.wa(b,">= 0",Fa,"setTo:h"));this.Ia=a;this.Ga=b;return this};Fa.prototype.set=Fa.prototype.set=function(a){u&&C.l(a,Fa,Fa,"set:s");this.Sa();this.Ia=a.Ia;this.Ga=a.Ga;return this};Fa.prototype.copy=function(){var a=new Fa;a.Ia=this.Ia;a.Ga=this.Ga;return a};f=Fa.prototype;
f.Na=function(){this.J=!0;Object.freeze(this);return this};f.V=function(){return Object.isFrozen(this)?this:this.copy().freeze()};f.freeze=function(){this.J=!0;return this};f.Za=function(){Object.isFrozen(this)&&C.k("cannot thaw constant: "+this);this.J=!1;return this};f.Sa=function(a){if(this.J){var b="The Size is frozen, so its properties cannot be set: "+this.toString();void 0!==a&&(b+="  to value: "+a);C.k(b)}};
Fa.parse=function(a){if("string"===typeof a){a=a.split(" ");for(var b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));return new Fa(c,e)}return new Fa};Fa.stringify=function(a){u&&C.l(a,Fa);return a.width.toString()+" "+a.height.toString()};Fa.prototype.toString=function(){return"Size("+this.width+","+this.height+")"};Fa.prototype.equals=Fa.prototype.O=function(a){return a instanceof Fa?this.Ia===a.width&&this.Ga===a.height:!1};
Fa.prototype.equalTo=Fa.prototype.Ax=function(a,b){return this.Ia===a&&this.Ga===b};Fa.prototype.equalsApprox=Fa.prototype.Wc=function(a){return R(this.Ia,a.width)&&R(this.Ga,a.height)};C.defineProperty(Fa,{width:"width"},function(){return this.Ia},function(a){this.Sa(a);u&&C.h(a,"number",Fa,"width");0>a&&C.wa(a,">= 0",Fa,"width");this.Ia=a});
C.defineProperty(Fa,{height:"height"},function(){return this.Ga},function(a){this.Sa(a);u&&C.h(a,"number",Fa,"height");0>a&&C.wa(a,">= 0",Fa,"height");this.Ga=a});Fa.prototype.isReal=Fa.prototype.F=function(){return isFinite(this.width)&&isFinite(this.height)};
function z(a,b,c,d){void 0===a?this.Ga=this.Ia=this.M=this.L=0:a instanceof O?b instanceof O?(this.L=Math.min(a.L,b.L),this.M=Math.min(a.M,b.M),this.Ia=Math.abs(a.L-b.L),this.Ga=Math.abs(a.M-b.M)):b instanceof Fa?(this.L=a.L,this.M=a.M,this.Ia=b.Ia,this.Ga=b.Ga):C.k("Incorrect arguments supplied to Rect constructor"):"number"===typeof a&&"number"===typeof b&&"number"===typeof c&&(0<=c||isNaN(c))&&"number"===typeof d&&(0<=d||isNaN(d))?(this.L=a,this.M=b,this.Ia=c,this.Ga=d):C.k("Invalid arguments to Rect constructor: "+
a+", "+b+", "+c+", "+d);this.J=!1}C.ka("Rect",z);C.Ai(z);C.le(z,{x:!0,y:!0,width:!0,height:!0});z.prototype.assign=function(a){this.L=a.L;this.M=a.M;this.Ia=a.Ia;this.Ga=a.Ga};function Ab(a,b,c){a.Ia=b;a.Ga=c}z.prototype.setTo=z.prototype.m=function(a,b,c,d){u&&(C.h(a,"number",z,"setTo:x"),C.h(b,"number",z,"setTo:y"),C.h(c,"number",z,"setTo:w"),C.h(d,"number",z,"setTo:h"),0>c&&C.wa(c,">= 0",z,"setTo:w"),0>d&&C.wa(d,">= 0",z,"setTo:h"));this.L=a;this.M=b;this.Ia=c;this.Ga=d;return this};
z.prototype.set=z.prototype.set=function(a){u&&C.l(a,z,z,"set:r");this.Sa();this.L=a.L;this.M=a.M;this.Ia=a.Ia;this.Ga=a.Ga;return this};z.prototype.setPoint=z.prototype.dh=function(a){u&&C.l(a,O,z,"setPoint:p");this.Sa();this.L=a.L;this.M=a.M;return this};z.prototype.setSize=function(a){u&&C.l(a,Fa,z,"setSize:s");this.Sa();this.Ia=a.Ia;this.Ga=a.Ga;return this};z.prototype.copy=function(){var a=new z;a.L=this.L;a.M=this.M;a.Ia=this.Ia;a.Ga=this.Ga;return a};f=z.prototype;
f.Na=function(){this.J=!0;Object.freeze(this);return this};f.V=function(){return Object.isFrozen(this)?this:this.copy().freeze()};f.freeze=function(){this.J=!0;return this};f.Za=function(){Object.isFrozen(this)&&C.k("cannot thaw constant: "+this);this.J=!1;return this};f.Sa=function(a){if(this.J){var b="The Rect is frozen, so its properties cannot be set: "+this.toString();void 0!==a&&(b+="  to value: "+a);C.k(b)}};
z.parse=function(a){if("string"===typeof a){a=a.split(" ");for(var b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));for(var g=0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var h=0;""===a[b];)b++;(d=a[b++])&&(h=parseFloat(d));return new z(c,e,g,h)}return new z};z.stringify=function(a){u&&C.l(a,z);return a.x.toString()+" "+a.y.toString()+" "+a.width.toString()+" "+a.height.toString()};
z.prototype.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"};z.prototype.equals=z.prototype.O=function(a){return a instanceof z?this.L===a.x&&this.M===a.y&&this.Ia===a.width&&this.Ga===a.height:!1};z.prototype.equalTo=z.prototype.Ax=function(a,b,c,d){return this.L===a&&this.M===b&&this.Ia===c&&this.Ga===d};z.prototype.equalsApprox=z.prototype.Wc=function(a){return R(this.L,a.x)&&R(this.M,a.y)&&R(this.Ia,a.width)&&R(this.Ga,a.height)};
function Bb(a,b){return Db(a.L,b.x)&&Db(a.M,b.y)&&Db(a.Ia,b.width)&&Db(a.Ga,b.height)}z.prototype.containsPoint=z.prototype.Oa=function(a){u&&C.l(a,O,z,"containsPoint:p");return this.L<=a.x&&this.L+this.Ia>=a.x&&this.M<=a.y&&this.M+this.Ga>=a.y};z.prototype.containsRect=z.prototype.Lk=function(a){u&&C.l(a,z,z,"containsRect:r");return this.L<=a.x&&a.x+a.width<=this.L+this.Ia&&this.M<=a.y&&a.y+a.height<=this.M+this.Ga};
z.prototype.contains=z.prototype.contains=function(a,b,c,d){u?(C.p(a,z,"contains:x"),C.p(b,z,"contains:y"),void 0===c?c=0:C.p(c,z,"contains:w"),void 0===d?d=0:C.p(d,z,"contains:h"),(0>c||0>d)&&C.k("Rect.contains:Width and height cannot be negative")):(void 0===c&&(c=0),void 0===d&&(d=0));return this.L<=a&&a+c<=this.L+this.Ia&&this.M<=b&&b+d<=this.M+this.Ga};z.prototype.reset=function(){this.Sa();this.Ga=this.Ia=this.M=this.L=0};
z.prototype.offset=z.prototype.offset=function(a,b){u&&(C.p(a,z,"offset:dx"),C.p(b,z,"offset:dy"));this.Sa();this.L+=a;this.M+=b;return this};z.prototype.inflate=z.prototype.eg=function(a,b){u&&(C.p(a,z,"inflate:w"),C.p(b,z,"inflate:h"));return Fb(this,b,a,b,a)};z.prototype.addMargin=z.prototype.bx=function(a){u&&C.l(a,Kb,z,"addMargin:m");return Fb(this,a.top,a.right,a.bottom,a.left)};
z.prototype.subtractMargin=z.prototype.rK=function(a){u&&C.l(a,Kb,z,"subtractMargin:m");return Fb(this,-a.top,-a.right,-a.bottom,-a.left)};z.prototype.grow=function(a,b,c,d){u&&(C.p(a,z,"grow:t"),C.p(b,z,"grow:r"),C.p(c,z,"grow:b"),C.p(d,z,"grow:l"));return Fb(this,a,b,c,d)};function Fb(a,b,c,d,e){a.Sa();var g=a.Ia;c+e<=-g?(a.L+=g/2,a.Ia=0):(a.L-=e,a.Ia+=c+e);c=a.Ga;b+d<=-c?(a.M+=c/2,a.Ga=0):(a.M-=b,a.Ga+=b+d);return a}
z.prototype.intersectRect=function(a){u&&C.l(a,z,z,"intersectRect:r");return Lb(this,a.x,a.y,a.width,a.height)};z.prototype.intersect=z.prototype.zF=function(a,b,c,d){u&&(C.p(a,z,"intersect:x"),C.p(b,z,"intersect:y"),C.p(c,z,"intersect:w"),C.p(d,z,"intersect:h"),(0>c||0>d)&&C.k("Rect.intersect:Width and height cannot be negative"));return Lb(this,a,b,c,d)};
function Lb(a,b,c,d,e){a.Sa();var g=Math.max(a.L,b),h=Math.max(a.M,c);b=Math.min(a.L+a.Ia,b+d);c=Math.min(a.M+a.Ga,c+e);a.L=g;a.M=h;a.Ia=Math.max(0,b-g);a.Ga=Math.max(0,c-h);return a}z.prototype.intersectsRect=z.prototype.Wg=function(a){u&&C.l(a,z,z,"intersectsRect:r");return this.AF(a.x,a.y,a.width,a.height)};
z.prototype.intersects=z.prototype.AF=function(a,b,c,d){u&&(C.p(a,z,"intersects:x"),C.p(b,z,"intersects:y"),C.p(a,z,"intersects:w"),C.p(b,z,"intersects:h"),(0>c||0>d)&&C.k("Rect.intersects:Width and height cannot be negative"));var e=this.Ia,g=this.L;if(Infinity!==e&&Infinity!==c&&(e+=g,c+=a,isNaN(c)||isNaN(e)||g>c||a>e))return!1;a=this.Ga;c=this.M;return Infinity!==a&&Infinity!==d&&(a+=c,d+=b,isNaN(d)||isNaN(a)||c>d||b>a)?!1:!0};
function Qb(a,b){var c=a.Ia,d=b.width+10+10,e=a.L,g=b.x-10;if(e>d+g||g>c+e)return!1;c=a.Ga;d=b.height+10+10;e=a.M;g=b.y-10;return e>d+g||g>c+e?!1:!0}z.prototype.unionPoint=z.prototype.Ki=function(a){u&&C.l(a,O,z,"unionPoint:p");return Rb(this,a.x,a.y,0,0)};z.prototype.unionRect=z.prototype.Wh=function(a){u&&C.l(a,z,z,"unionRect:r");return Rb(this,a.L,a.M,a.Ia,a.Ga)};
z.prototype.union=z.prototype.$G=function(a,b,c,d){this.Sa();u?(C.p(a,z,"union:x"),C.p(b,z,"union:y"),void 0===c?c=0:C.p(c,z,"union:w"),void 0===d?d=0:C.p(d,z,"union:h"),(0>c||0>d)&&C.k("Rect.union:Width and height cannot be negative")):(void 0===c&&(c=0),void 0===d&&(d=0));return Rb(this,a,b,c,d)};function Rb(a,b,c,d,e){var g=Math.min(a.L,b),h=Math.min(a.M,c);b=Math.max(a.L+a.Ia,b+d);c=Math.max(a.M+a.Ga,c+e);a.L=g;a.M=h;a.Ia=b-g;a.Ga=c-h;return a}
z.prototype.setSpot=z.prototype.Yu=function(a,b,c){u&&(C.p(a,z,"setSpot:x"),C.p(b,z,"setSpot:y"),C.l(c,S,z,"setSpot:spot"));this.Sa();this.L=a-c.offsetX-c.x*this.Ia;this.M=b-c.offsetY-c.y*this.Ga;return this};var Sb;
z.contains=Sb=function(a,b,c,d,e,g,h,k){u?(C.p(a,z,"contains:rx"),C.p(b,z,"contains:ry"),C.p(c,z,"contains:rw"),C.p(d,z,"contains:rh"),C.p(e,z,"contains:x"),C.p(g,z,"contains:y"),void 0===h?h=0:C.p(h,z,"contains:w"),void 0===k?k=0:C.p(k,z,"contains:h"),(0>c||0>d||0>h||0>k)&&C.k("Rect.contains:Width and height cannot be negative")):(void 0===h&&(h=0),void 0===k&&(k=0));return a<=e&&e+h<=a+c&&b<=g&&g+k<=b+d};
z.intersects=function(a,b,c,d,e,g,h,k){u&&(C.p(a,z,"intersects:rx"),C.p(b,z,"intersects:ry"),C.p(c,z,"intersects:rw"),C.p(d,z,"intersects:rh"),C.p(e,z,"intersects:x"),C.p(g,z,"intersects:y"),C.p(h,z,"intersects:w"),C.p(k,z,"intersects:h"),(0>c||0>d||0>h||0>k)&&C.k("Rect.intersects:Width and height cannot be negative"));c+=a;h+=e;if(a>h||e>c)return!1;a=d+b;k+=g;return b>k||g>a?!1:!0};C.defineProperty(z,{x:"x"},function(){return this.L},function(a){this.Sa(a);u&&C.h(a,"number",z,"x");this.L=a});
C.defineProperty(z,{y:"y"},function(){return this.M},function(a){this.Sa(a);u&&C.h(a,"number",z,"y");this.M=a});C.defineProperty(z,{width:"width"},function(){return this.Ia},function(a){this.Sa(a);u&&C.h(a,"number",z,"width");0>a&&C.wa(a,">= 0",z,"width");this.Ia=a});C.defineProperty(z,{height:"height"},function(){return this.Ga},function(a){this.Sa(a);u&&C.h(a,"number",z,"height");0>a&&C.wa(a,">= 0",z,"height");this.Ga=a});
C.defineProperty(z,{left:"left"},function(){return this.L},function(a){this.Sa(a);u&&C.h(a,"number",z,"left");this.L=a});C.defineProperty(z,{top:"top"},function(){return this.M},function(a){this.Sa(a);u&&C.h(a,"number",z,"top");this.M=a});C.defineProperty(z,{right:"right"},function(){return this.L+this.Ia},function(a){this.Sa(a);u&&C.p(a,z,"right");this.L+=a-(this.L+this.Ia)});
C.defineProperty(z,{bottom:"bottom"},function(){return this.M+this.Ga},function(a){this.Sa(a);u&&C.p(a,z,"top");this.M+=a-(this.M+this.Ga)});C.defineProperty(z,{position:"position"},function(){return new O(this.L,this.M)},function(a){this.Sa(a);u&&C.l(a,O,z,"position");this.L=a.x;this.M=a.y});C.defineProperty(z,{size:"size"},function(){return new Fa(this.Ia,this.Ga)},function(a){this.Sa(a);u&&C.l(a,Fa,z,"size");this.Ia=a.width;this.Ga=a.height});
C.defineProperty(z,{$l:"center"},function(){return new O(this.L+this.Ia/2,this.M+this.Ga/2)},function(a){this.Sa(a);u&&C.l(a,O,z,"center");this.L=a.x-this.Ia/2;this.M=a.y-this.Ga/2});C.defineProperty(z,{oa:"centerX"},function(){return this.L+this.Ia/2},function(a){this.Sa(a);u&&C.p(a,z,"centerX");this.L=a-this.Ia/2});C.defineProperty(z,{xa:"centerY"},function(){return this.M+this.Ga/2},function(a){this.Sa(a);u&&C.p(a,z,"centerY");this.M=a-this.Ga/2});
z.prototype.isReal=z.prototype.F=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)};z.prototype.isEmpty=function(){return 0===this.width&&0===this.height};
function Kb(a,b,c,d){void 0===a?this.th=this.mh=this.Ch=this.Dh=0:void 0===b?this.left=this.bottom=this.right=this.top=a:void 0===c?(d=b,this.top=a,this.right=b,this.bottom=a,this.left=d):void 0!==d?(this.top=a,this.right=b,this.bottom=c,this.left=d):C.k("Invalid arguments to Margin constructor: "+a+", "+b+", "+c+", "+d);this.J=!1}C.ka("Margin",Kb);C.Ai(Kb);C.le(Kb,{top:!0,right:!0,bottom:!0,left:!0});Kb.prototype.assign=function(a){this.Dh=a.Dh;this.Ch=a.Ch;this.mh=a.mh;this.th=a.th};
Kb.prototype.setTo=Kb.prototype.m=function(a,b,c,d){u&&(C.h(a,"number",Kb,"setTo:t"),C.h(b,"number",Kb,"setTo:r"),C.h(c,"number",Kb,"setTo:b"),C.h(d,"number",Kb,"setTo:l"));this.Sa();this.Dh=a;this.Ch=b;this.mh=c;this.th=d;return this};Kb.prototype.set=Kb.prototype.set=function(a){u&&C.l(a,Kb,Kb,"assign:m");this.Sa();this.Dh=a.Dh;this.Ch=a.Ch;this.mh=a.mh;this.th=a.th;return this};Kb.prototype.copy=function(){var a=new Kb;a.Dh=this.Dh;a.Ch=this.Ch;a.mh=this.mh;a.th=this.th;return a};f=Kb.prototype;
f.Na=function(){this.J=!0;Object.freeze(this);return this};f.V=function(){return Object.isFrozen(this)?this:this.copy().freeze()};f.freeze=function(){this.J=!0;return this};f.Za=function(){Object.isFrozen(this)&&C.k("cannot thaw constant: "+this);this.J=!1;return this};f.Sa=function(a){if(this.J){var b="The Margin is frozen, so its properties cannot be set: "+this.toString();void 0!==a&&(b+="  to value: "+a);C.k(b)}};
Kb.parse=function(a){if("string"===typeof a){a=a.split(" ");for(var b=0,c=NaN;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));if(isNaN(c))return new Kb;for(var e=NaN;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));if(isNaN(e))return new Kb(c);for(var g=NaN;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));if(isNaN(g))return new Kb(c,e);for(var h=NaN;""===a[b];)b++;(d=a[b++])&&(h=parseFloat(d));return isNaN(h)?new Kb(c,e):new Kb(c,e,g,h)}return new Kb};
Kb.stringify=function(a){u&&C.l(a,Kb);return a.top.toString()+" "+a.right.toString()+" "+a.bottom.toString()+" "+a.left.toString()};Kb.prototype.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"};Kb.prototype.equals=Kb.prototype.O=function(a){return a instanceof Kb?this.Dh===a.top&&this.Ch===a.right&&this.mh===a.bottom&&this.th===a.left:!1};Kb.prototype.equalTo=Kb.prototype.Ax=function(a,b,c,d){return this.Dh===a&&this.Ch===b&&this.mh===c&&this.th===d};
Kb.prototype.equalsApprox=Kb.prototype.Wc=function(a){return R(this.Dh,a.top)&&R(this.Ch,a.right)&&R(this.mh,a.bottom)&&R(this.th,a.left)};C.defineProperty(Kb,{top:"top"},function(){return this.Dh},function(a){this.Sa(a);u&&C.p(a,Kb,"top");this.Dh=a});C.defineProperty(Kb,{right:"right"},function(){return this.Ch},function(a){this.Sa(a);u&&C.p(a,Kb,"right");this.Ch=a});C.defineProperty(Kb,{bottom:"bottom"},function(){return this.mh},function(a){this.Sa(a);u&&C.p(a,Kb,"bottom");this.mh=a});
C.defineProperty(Kb,{left:"left"},function(){return this.th},function(a){this.Sa(a);u&&C.p(a,Kb,"left");this.th=a});Kb.prototype.isReal=Kb.prototype.F=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)};function Ga(){this.m11=1;this.m21=this.m12=0;this.m22=1;this.dy=this.dx=0}C.Ai(Ga);C.le(Ga,{m11:!0,m12:!0,m21:!0,m22:!0,dx:!0,dy:!0});
Ga.prototype.set=Ga.prototype.set=function(a){u&&C.l(a,Ga,Ga,"set:t");this.m11=a.m11;this.m12=a.m12;this.m21=a.m21;this.m22=a.m22;this.dx=a.dx;this.dy=a.dy;return this};Ga.prototype.copy=function(){var a=new Ga;a.m11=this.m11;a.m12=this.m12;a.m21=this.m21;a.m22=this.m22;a.dx=this.dx;a.dy=this.dy;return a};Ga.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"};
Ga.prototype.equals=Ga.prototype.O=function(a){return a instanceof Ga?this.m11===a.m11&&this.m12===a.m12&&this.m21===a.m21&&this.m22===a.m22&&this.dx===a.dx&&this.dy===a.dy:!1};Ga.prototype.isIdentity=Ga.prototype.vu=function(){return 1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22&&0===this.dx&&0===this.dy};Ga.prototype.reset=Ga.prototype.reset=function(){this.m11=1;this.m21=this.m12=0;this.m22=1;this.dy=this.dx=0;return this};
Ga.prototype.multiply=Ga.prototype.multiply=function(a){u&&C.l(a,Ga,Ga,"multiply:matrix");var b=this.m12*a.m11+this.m22*a.m12,c=this.m11*a.m21+this.m21*a.m22,d=this.m12*a.m21+this.m22*a.m22,e=this.m11*a.dx+this.m21*a.dy+this.dx,g=this.m12*a.dx+this.m22*a.dy+this.dy;this.m11=this.m11*a.m11+this.m21*a.m12;this.m12=b;this.m21=c;this.m22=d;this.dx=e;this.dy=g;return this};
Ga.prototype.multiplyInverted=Ga.prototype.fB=function(a){u&&C.l(a,Ga,Ga,"multiplyInverted:matrix");var b=1/(a.m11*a.m22-a.m12*a.m21),c=a.m22*b,d=-a.m12*b,e=-a.m21*b,g=a.m11*b,h=b*(a.m21*a.dy-a.m22*a.dx),k=b*(a.m12*a.dx-a.m11*a.dy);a=this.m12*c+this.m22*d;b=this.m11*e+this.m21*g;e=this.m12*e+this.m22*g;g=this.m11*h+this.m21*k+this.dx;h=this.m12*h+this.m22*k+this.dy;this.m11=this.m11*c+this.m21*d;this.m12=a;this.m21=b;this.m22=e;this.dx=g;this.dy=h;return this};
Ga.prototype.invert=Ga.prototype.Mx=function(){var a=1/(this.m11*this.m22-this.m12*this.m21),b=-this.m12*a,c=-this.m21*a,d=this.m11*a,e=a*(this.m21*this.dy-this.m22*this.dx),g=a*(this.m12*this.dx-this.m11*this.dy);this.m11=this.m22*a;this.m12=b;this.m21=c;this.m22=d;this.dx=e;this.dy=g;return this};
Ga.prototype.rotate=Ga.prototype.rotate=function(a,b,c){u&&(C.p(a,Ga,"rotate:angle"),C.p(b,Ga,"rotate:rx"),C.p(c,Ga,"rotate:ry"));360<=a?a-=360:0>a&&(a+=360);if(0===a)return this;this.translate(b,c);var d=0,e=0;90===a?(d=0,e=1):180===a?(d=-1,e=0):270===a?(d=0,e=-1):(e=a*Math.PI/180,d=Math.cos(e),e=Math.sin(e));a=this.m12*d+this.m22*e;var g=this.m11*-e+this.m21*d,h=this.m12*-e+this.m22*d;this.m11=this.m11*d+this.m21*e;this.m12=a;this.m21=g;this.m22=h;this.translate(-b,-c);return this};
Ga.prototype.translate=Ga.prototype.translate=function(a,b){u&&(C.p(a,Ga,"translate:x"),C.p(b,Ga,"translate:y"));this.dx+=this.m11*a+this.m21*b;this.dy+=this.m12*a+this.m22*b;return this};Ga.prototype.scale=Ga.prototype.scale=function(a,b){void 0===b&&(b=a);u&&(C.p(a,Ga,"translate:sx"),C.p(b,Ga,"translate:sy"));this.m11*=a;this.m12*=a;this.m21*=b;this.m22*=b;return this};
Ga.prototype.transformPoint=Ga.prototype.wb=function(a){u&&C.l(a,O,Ga,"transformPoint:p");var b=a.L,c=a.M;a.L=b*this.m11+c*this.m21+this.dx;a.M=b*this.m12+c*this.m22+this.dy;return a};Ga.prototype.invertedTransformPoint=Ga.prototype.Ci=function(a){u&&C.l(a,O,Ga,"invertedTransformPoint:p");var b=1/(this.m11*this.m22-this.m12*this.m21),c=-this.m12*b,d=this.m11*b,e=b*(this.m12*this.dx-this.m11*this.dy),g=a.L,h=a.M;a.L=g*this.m22*b+h*-this.m21*b+b*(this.m21*this.dy-this.m22*this.dx);a.M=g*c+h*d+e;return a};
Ga.prototype.transformRect=Ga.prototype.ZG=function(a){u&&C.l(a,z,Ga,"transformRect:rect");var b=a.L,c=a.M,d=b+a.Ia,e=c+a.Ga,g=this.m11,h=this.m12,k=this.m21,l=this.m22,m=this.dx,n=this.dy,p=b*g+c*k+m,q=b*h+c*l+n,r=d*g+c*k+m,c=d*h+c*l+n,s=b*g+e*k+m,b=b*h+e*l+n,g=d*g+e*k+m,d=d*h+e*l+n,e=p,h=q,p=Math.min(p,r),e=Math.max(e,r),h=Math.min(h,c),q=Math.max(q,c),p=Math.min(p,s),e=Math.max(e,s),h=Math.min(h,b),q=Math.max(q,b),p=Math.min(p,g),e=Math.max(e,g),h=Math.min(h,d),q=Math.max(q,d);a.L=p;a.M=h;a.Ia=
e-p;a.Ga=q-h;return a};function S(a,b,c,d){void 0===a?this.Jg=this.Ig=this.M=this.L=0:(void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),this.x=a,this.y=b,this.offsetX=c,this.offsetY=d);this.J=!1}C.ka("Spot",S);C.Ai(S);C.le(S,{x:!0,y:!0,offsetX:!0,offsetY:!0});S.prototype.assign=function(a){this.L=a.L;this.M=a.M;this.Ig=a.Ig;this.Jg=a.Jg};
S.prototype.setTo=S.prototype.m=function(a,b,c,d){u&&(Vb(a,"setTo:x"),Vb(b,"setTo:y"),Zb(c,"setTo:offx"),Zb(d,"setTo:offy"));this.Sa();this.L=a;this.M=b;this.Ig=c;this.Jg=d;return this};S.prototype.set=S.prototype.set=function(a){u&&C.l(a,S,S,"set:s");this.Sa();this.L=a.L;this.M=a.M;this.Ig=a.Ig;this.Jg=a.Jg;return this};S.prototype.copy=function(){var a=new S;a.L=this.L;a.M=this.M;a.Ig=this.Ig;a.Jg=this.Jg;return a};f=S.prototype;f.Na=function(){this.J=!0;Object.freeze(this);return this};
f.V=function(){return Object.isFrozen(this)?this:this.copy().freeze()};f.freeze=function(){this.J=!0;return this};f.Za=function(){Object.isFrozen(this)&&C.k("cannot thaw constant: "+this);this.J=!1;return this};f.Sa=function(a){if(this.J){var b="The Spot is frozen, so its properties cannot be set: "+this.toString();void 0!==a&&(b+="  to value: "+a);C.k(b)}};function $b(a,b){a.L=NaN;a.M=NaN;a.Ig=b;return a}function Vb(a,b){(isNaN(a)||1<a||0>a)&&C.wa(a,"0 <= "+b+" <= 1",S,b)}
function Zb(a,b){(isNaN(a)||Infinity===a||-Infinity===a)&&C.wa(a,"real number, not NaN or Infinity",S,b)}var fc;
S.parse=fc=function(a){if("string"===typeof a){a=a.trim();if("None"===a)return gc;if("TopLeft"===a)return hc;if("Top"===a||"TopCenter"===a||"MiddleTop"===a)return ic;if("TopRight"===a)return jc;if("Left"===a||"LeftCenter"===a||"MiddleLeft"===a)return lc;if("Center"===a)return mc;if("Right"===a||"RightCenter"===a||"MiddleRight"===a)return nc;if("BottomLeft"===a)return oc;if("Bottom"===a||"BottomCenter"===a||"MiddleBottom"===a)return pc;if("BottomRight"===a)return qc;if("TopSide"===a)return rc;if("LeftSide"===
a)return sc;if("RightSide"===a)return xc;if("BottomSide"===a)return yc;if("TopBottomSides"===a)return Bc;if("LeftRightSides"===a)return Cc;if("TopLeftSides"===a)return Dc;if("TopRightSides"===a)return Ec;if("BottomLeftSides"===a)return Fc;if("BottomRightSides"===a)return Gc;if("NotTopSide"===a)return Hc;if("NotLeftSide"===a)return Nc;if("NotRightSide"===a)return Oc;if("NotBottomSide"===a)return Pc;if("AllSides"===a)return Qc;if("Default"===a)return Rc;a=a.split(" ");for(var b=0,c=0;""===a[b];)b++;
var d=a[b++];void 0!==d&&0<d.length&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;d=a[b++];void 0!==d&&0<d.length&&(e=parseFloat(d));for(var g=0;""===a[b];)b++;d=a[b++];void 0!==d&&0<d.length&&(g=parseFloat(d));for(var h=0;""===a[b];)b++;d=a[b++];void 0!==d&&0<d.length&&(h=parseFloat(d));return new S(c,e,g,h)}return new S};S.stringify=function(a){u&&C.l(a,S);return a.jd()?a.x.toString()+" "+a.y.toString()+" "+a.offsetX.toString()+" "+a.offsetY.toString():a.toString()};
S.prototype.toString=function(){return this.jd()?0===this.Ig&&0===this.Jg?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.O(gc)?"None":this.O(hc)?"TopLeft":this.O(ic)?"Top":this.O(jc)?"TopRight":this.O(lc)?"Left":this.O(mc)?"Center":this.O(nc)?"Right":this.O(oc)?"BottomLeft":this.O(pc)?"Bottom":this.O(qc)?"BottomRight":this.O(rc)?"TopSide":this.O(sc)?"LeftSide":this.O(xc)?"RightSide":this.O(yc)?"BottomSide":this.O(Bc)?"TopBottomSides":this.O(Cc)?
"LeftRightSides":this.O(Dc)?"TopLeftSides":this.O(Ec)?"TopRightSides":this.O(Fc)?"BottomLeftSides":this.O(Gc)?"BottomRightSides":this.O(Hc)?"NotTopSide":this.O(Nc)?"NotLeftSide":this.O(Oc)?"NotRightSide":this.O(Pc)?"NotBottomSide":this.O(Qc)?"AllSides":this.O(Rc)?"Default":"None"};S.prototype.equals=S.prototype.O=function(a){return a instanceof S?(this.L===a.x||isNaN(this.L)&&isNaN(a.x))&&(this.M===a.y||isNaN(this.M)&&isNaN(a.y))&&this.Ig===a.offsetX&&this.Jg===a.offsetY:!1};
S.prototype.opposite=S.prototype.cG=function(){return new S(.5-(this.L-.5),.5-(this.M-.5),-this.Ig,-this.Jg)};S.prototype.includesSide=S.prototype.Hj=function(a){if(!this.Ij())return!1;if(!a.Ij())if(a.O(Sc))a=sc;else if(a.O(Tc))a=xc;else if(a.O(Uc))a=rc;else if(a.O(Vc))a=yc;else return!1;a=a.offsetY;return(this.Jg&a)===a};C.defineProperty(S,{x:"x"},function(){return this.L},function(a){this.Sa(a);u&&Vb(a,"x");this.L=a});
C.defineProperty(S,{y:"y"},function(){return this.M},function(a){this.Sa(a);u&&Vb(a,"y");this.M=a});C.defineProperty(S,{offsetX:"offsetX"},function(){return this.Ig},function(a){this.Sa(a);u&&Zb(a,"offsetX");this.Ig=a});C.defineProperty(S,{offsetY:"offsetY"},function(){return this.Jg},function(a){this.Sa(a);u&&Zb(a,"offsetY");this.Jg=a});S.prototype.isSpot=S.prototype.jd=function(){return!isNaN(this.x)&&!isNaN(this.y)};S.prototype.isNoSpot=S.prototype.Zd=function(){return isNaN(this.x)||isNaN(this.y)};
S.prototype.isSide=S.prototype.Ij=function(){return isNaN(this.x)&&isNaN(this.y)&&1===this.offsetX&&0!==this.offsetY};S.prototype.isNone=function(){return isNaN(this.x)&&isNaN(this.y)&&0===this.offsetX&&0===this.offsetY};S.prototype.isDefault=S.prototype.hd=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY};var gc;S.None=gc=$b(new S(0,0,0,0),0).Na();var Rc;S.Default=Rc=$b(new S(0,0,-1,0),-1).Na();var hc;S.TopLeft=hc=(new S(0,0,0,0)).Na();var ic;
S.TopCenter=ic=(new S(.5,0,0,0)).Na();var jc;S.TopRight=jc=(new S(1,0,0,0)).Na();var lc;S.LeftCenter=lc=(new S(0,.5,0,0)).Na();var mc;S.Center=mc=(new S(.5,.5,0,0)).Na();var nc;S.RightCenter=nc=(new S(1,.5,0,0)).Na();var oc;S.BottomLeft=oc=(new S(0,1,0,0)).Na();var pc;S.BottomCenter=pc=(new S(.5,1,0,0)).Na();var qc;S.BottomRight=qc=(new S(1,1,0,0)).Na();var $c;S.MiddleTop=$c=ic;var ad;S.MiddleLeft=ad=lc;var bd;S.MiddleRight=bd=nc;var cd;S.MiddleBottom=cd=pc;var Uc;S.Top=Uc=ic;var Sc;S.Left=Sc=lc;
var Tc;S.Right=Tc=nc;var Vc;S.Bottom=Vc=pc;var rc;S.TopSide=rc=$b(new S(0,0,1,C.xd),1).Na();var sc;S.LeftSide=sc=$b(new S(0,0,1,C.bd),1).Na();var xc;S.RightSide=xc=$b(new S(0,0,1,C.od),1).Na();var yc;S.BottomSide=yc=$b(new S(0,0,1,C.nd),1).Na();var Bc;S.TopBottomSides=Bc=$b(new S(0,0,1,C.xd|C.nd),1).Na();var Cc;S.LeftRightSides=Cc=$b(new S(0,0,1,C.bd|C.od),1).Na();var Dc;S.TopLeftSides=Dc=$b(new S(0,0,1,C.xd|C.bd),1).Na();var Ec;S.TopRightSides=Ec=$b(new S(0,0,1,C.xd|C.od),1).Na();var Fc;
S.BottomLeftSides=Fc=$b(new S(0,0,1,C.nd|C.bd),1).Na();var Gc;S.BottomRightSides=Gc=$b(new S(0,0,1,C.nd|C.od),1).Na();var Hc;S.NotTopSide=Hc=$b(new S(0,0,1,C.bd|C.od|C.nd),1).Na();var Nc;S.NotLeftSide=Nc=$b(new S(0,0,1,C.xd|C.od|C.nd),1).Na();var Oc;S.NotRightSide=Oc=$b(new S(0,0,1,C.xd|C.bd|C.nd),1).Na();var Pc;S.NotBottomSide=Pc=$b(new S(0,0,1,C.xd|C.bd|C.od),1).Na();var Qc;S.AllSides=Qc=$b(new S(0,0,1,C.xd|C.bd|C.od|C.nd),1).Na();function dd(){this.Zb=[1,0,0,1,0,0]}
dd.prototype.copy=function(){var a=new dd;a.Zb[0]=this.Zb[0];a.Zb[1]=this.Zb[1];a.Zb[2]=this.Zb[2];a.Zb[3]=this.Zb[3];a.Zb[4]=this.Zb[4];a.Zb[5]=this.Zb[5];return a};dd.prototype.translate=function(a,b){this.Zb[4]+=this.Zb[0]*a+this.Zb[2]*b;this.Zb[5]+=this.Zb[1]*a+this.Zb[3]*b};dd.prototype.scale=function(a,b){this.Zb[0]*=a;this.Zb[1]*=a;this.Zb[2]*=b;this.Zb[3]*=b};function ed(a){this.type=a;this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0;this.FE=[];this.pattern=null}
ed.prototype.addColorStop=function(a,b){this.FE.push({offset:a,color:b})};
function md(a,b,c){this.fillStyle="#000000";this.font="10px sans-serif";this.globalAlpha=1;this.lineCap="butt";this.bo=0;this.lineJoin="miter";this.lineWidth=1;this.miterLimit=10;this.shadowBlur=0;this.shadowColor="rgba(0, 0, 0, 0)";this.shadowOffsetY=this.shadowOffsetX=0;this.strokeStyle="#000000";this.textAlign="start";this.Xt=!1;this.Lg=this.qt=this.pt=0;this.document=b||document;this.$E=c;this.Wx=null;this.path=[];this.Lh=new dd;this.stack=[];this.Ff=[];this.yx=a;this.MJ="http://www.w3.org/2000/svg";
this.width=this.yx.width;this.height=this.yx.height;this.ym=nd(this,"svg",{width:this.width+"px",height:this.height+"px",GM:"0 0 "+this.yx.width+" "+this.yx.height});this.ym.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg");this.ym.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");od(this,1,0,0,1,0,0);a=C.Em++;b=nd(this,"clipPath",{id:"mainClip"+a});b.appendChild(nd(this,"rect",{x:0,y:0,width:this.width,height:this.height}));
this.ym.appendChild(b);this.Ff[0].setAttributeNS(null,"clip-path","url(#mainClip"+a+")")}f=md.prototype;f.arc=function(a,b,c,d,e,g){pd(this,a,b,c,d,e,g)};f.beginPath=function(){this.path=[]};f.bezierCurveTo=function(a,b,c,d,e,g){this.path.push(["C",a,b,c,d,e,g])};f.clearRect=function(){};f.clip=function(){qd(this,"clipPath",this.path,new dd)};f.closePath=function(){this.path.push(["z"])};f.createLinearGradient=function(a,b,c,d){var e=new ed("linear");e.x1=a;e.y1=b;e.x2=c;e.y2=d;return e};
f.createPattern=function(a){var b=new ed("pattern");b.pattern=a;return b};f.createRadialGradient=function(a,b,c,d,e,g){var h=new ed("radial");h.x1=a;h.y1=b;h.r1=c;h.x2=d;h.y2=e;h.r2=g;return h};
f.drawImage=function(a,b,c,d,e,g,h,k,l){var m="";a instanceof HTMLCanvasElement&&(m=a.toDataURL());a instanceof HTMLImageElement&&(m=a.src);m={x:0,y:0,width:a.naturalWidth,height:a.naturalHeight,href:m};m.preserveAspectRatio=Db(d,k)&&Db(e,l)?"xMidYMid slice":"none";var n="";k/=d;l/=e;if(0!==g||0!==h)n+=" translate("+g+", "+h+")";if(1!==k||1!==l)n+=" scale("+k+", "+l+")";if(0!==b||0!==c)n+=" translate("+-b+", "+-c+")";if(0!==b||0!==c||d!==a.naturalWidth||e!==a.naturalHeight)a="CLIP"+C.Em++,g=nd(this,
"clipPath",{id:a}),g.appendChild(nd(this,"rect",{x:b,y:c,width:d,height:e})),this.ym.appendChild(g),m["clip-path"]="url(#"+a+")";xd(this,"image",m,this.Lh,n);this.addElement("image",m)};f.fill=function(){qd(this,"fill",this.path,this.Lh)};f.Ug=function(){this.Xt?this.clip():this.fill()};f.fillRect=function(a,b,c,d){yd(this,"fill",[a,b,c,d],this.Lh)};
f.fillText=function(a,b,c){a=[a,b,c];b=this.textAlign;"left"===b?b="start":"right"===b?b="end":"center"===b&&(b="middle");b={x:a[1],y:a[2],style:"font: "+this.font,"text-anchor":b};xd(this,"fill",b,this.Lh);this.addElement("text",b,a[0])};f.lineTo=function(a,b){this.path.push(["L",a,b])};f.moveTo=function(a,b){this.path.push(["M",a,b])};f.quadraticCurveTo=function(a,b,c,d){this.path.push(["Q",a,b,c,d])};f.rect=function(a,b,c,d){this.path.push(["M",a,b],["L",a+c,b],["L",a+c,b+d],["L",a,b+d],["z"])};
f.restore=function(){this.Lh=this.stack.pop();this.path=this.stack.pop();var a=this.stack.pop();this.fillStyle=a.fillStyle;this.font=a.font;this.globalAlpha=a.globalAlpha;this.lineCap=a.lineCap;this.bo=a.bo;this.lineJoin=a.lineJoin;this.lineWidth=a.lineWidth;this.miterLimit=a.miterLimit;this.shadowBlur=a.shadowBlur;this.shadowColor=a.shadowColor;this.shadowOffsetX=a.shadowOffsetX;this.shadowOffsetY=a.shadowOffsetY;this.strokeStyle=a.strokeStyle;this.textAlign=a.textAlign};
f.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,bo:this.bo,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var a=[],b=0;b<this.path.length;b++)a.push(this.path[b]);this.stack.push(a);this.stack.push(this.Lh.copy())};
f.setTransform=function(a,b,c,d,e,g){1===a&&0===b&&0===c&&1===d&&0===e&&0===g||od(this,a,b,c,d,e,g)};f.scale=function(a,b){this.Lh.scale(a,b)};f.translate=function(a,b){this.Lh.translate(a,b)};f.stroke=function(){qd(this,"stroke",this.path,this.Lh)};f.Tj=function(){this.Fo||this.stroke()};f.strokeRect=function(a,b,c,d){yd(this,"stroke",[a,b,c,d],this.Lh)};
function nd(a,b,c,d){a=a.document.createElementNS(a.MJ,b);if(C.Xa(c))for(var e in c)a.setAttributeNS("href"===e?"http://www.w3.org/1999/xlink":"",e,c[e]);void 0!==d&&(a.textContent=d);return a}f.addElement=function(a,b,c){a=nd(this,a,b,c);0<this.Ff.length?this.Ff[this.Ff.length-1].appendChild(a):this.ym.appendChild(a);return this.Wx=a};
function xd(a,b,c,d,e){1!==a.globalAlpha&&(c.opacity=a.globalAlpha);"fill"===b?(/^rgba\(/.test(a.fillStyle)?(a=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(a.fillStyle),c.fill="rgb("+a[1]+","+a[2]+","+a[3]+")",c["fill-opacity"]=a[4]):c.fill=a.fillStyle instanceof ed?zd(a,a.fillStyle):a.fillStyle,c.stroke="none"):"stroke"===b&&(c.fill="none",/^rgba\(/.test(a.strokeStyle)?(b=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(a.strokeStyle),
c.stroke="rgb("+b[1]+","+b[2]+","+b[3]+")",c["stroke-opacity"]=b[4]):c.stroke=a.strokeStyle instanceof ed?zd(a,a.strokeStyle):a.strokeStyle,c["stroke-width"]=a.lineWidth,c["stroke-linecap"]=a.lineCap,c["stroke-linejoin"]=a.lineJoin,c["stroke-miterlimit"]=a.miterLimit);d=d.Zb;d="matrix("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+")";void 0!==e&&(d+=e);c.transform=d}
function zd(a,b){var c="GRAD"+C.Em++,d;if("linear"===b.type)d={x1:b.x1,x2:b.x2,y1:b.y1,y2:b.y2,id:c,gradientUnits:"userSpaceOnUse"},d=nd(a,"linearGradient",d);else if("radial"===b.type)d={x1:b.x1,x2:b.x2,y1:b.y1,y2:b.y2,r1:b.r1,r2:b.r2,id:c},d=nd(a,"radialGradient",d);else if("pattern"===b.type){var e=b.pattern;d={width:e.width,height:e.height,id:c,patternUnits:"userSpaceOnUse"};var g="";e instanceof HTMLCanvasElement&&(g=e.toDataURL());e instanceof HTMLImageElement&&(g=e.src);e={x:0,y:0,width:e.width,
height:e.height,href:g};d=nd(a,"pattern",d);d.appendChild(nd(a,"image",e))}else throw Error("invalid gradient");for(var e=b.FE,g=e.length,h=[],k=0;k<g;k++){var l=e[k],m=l.color,l={offset:l.offset,"stop-color":m};/^rgba\(/.test(m)&&(m=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(m),l["stop-color"]="rgb("+m[1]+","+m[2]+","+m[3]+")",l["stop-opacity"]=m[4]);h.push(l)}h.sort(function(a,b){return a.offset>b.offset?1:-1});for(k=0;k<g;k++)d.appendChild(nd(a,"stop",
h[k]));a.ym.appendChild(d);return"url(#"+c+")"}function yd(a,b,c,d){c={x:c[0],y:c[1],width:c[2],height:c[3]};xd(a,b,c,d);a.addElement("rect",c)}
function qd(a,b,c,d){for(var e=[],g=0;g<c.length;g++){var h=C.am(c[g]),k=[h.shift()];if("A"===k[0])k.push(h.shift()+","+h.shift(),h.shift(),h.shift()+","+h.shift(),h.shift()+","+h.shift());else for(;h.length;)k.push(h.shift()+","+h.shift());e.push(k.join(" "))}c={d:e.join(" ")};xd(a,b,c,d);"clipPath"===b?(b="CLIP"+C.Em++,d=nd(a,"clipPath",{id:b}),d.appendChild(nd(a,"path",c)),a.ym.appendChild(d),0<a.Ff.length&&a.Ff[a.Ff.length-1].setAttributeNS(null,"clip-path","url(#"+b+")")):a.addElement("path",
c)}function pd(a,b,c,d,e,g,h){var k=Math.abs(e-g);if(e!==g){var l=b+d*Math.cos(g);g=c+d*Math.sin(g);k>=2*Math.PI?(pd(a,b,c,d,e,e+Math.PI,h),pd(a,b,c,d,e+Math.PI,e+2*Math.PI,h),a.path.push(["M",l,g])):(b+=d*Math.cos(e),c+=d*Math.sin(e),k=180*k/Math.PI,e=h?0:1,h=180<=k===!!h?0:1,0!==a.path.length?a.path.push(["L",b,c]):a.path.push(["M",b,c]),a.path.push(["A",d,d,k,h,e,l,g]))}}function od(a,b,c,d,e,g,h){var k=new dd;k.Zb=[b,c,d,e,g,h];b={};xd(a,"g",b,k);k=a.addElement("g",b);a.Ff.push(k)}
f.kb=function(){if(0!==this.shadowOffsetX||0!==this.shadowOffsetY||0!==this.shadowBlur){var a="SHADOW"+C.Em++,b=this.addElement("filter",{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},null),c,d,e,g,h;c=nd(this,"feGaussianBlur",{"in":"SourceAlpha",result:"blur",wM:this.shadowBlur/2});d=nd(this,"feFlood",{"in":"blur",result:"flood","flood-color":this.shadowColor});e=nd(this,"feComposite",{"in":"flood",in2:"blur",operator:"in",result:"comp"});g=nd(this,"feOffset",{"in":"comp",result:"offsetBlur",
dx:this.shadowOffsetX,dy:this.shadowOffsetY});h=nd(this,"feMerge",{});h.appendChild(nd(this,"feMergeNode",{"in":"offsetBlur"}));h.appendChild(nd(this,"feMergeNode",{"in":"SourceGraphic"}));b.appendChild(c);b.appendChild(d);b.appendChild(e);b.appendChild(g);b.appendChild(h);0<this.Ff.length&&this.Ff[this.Ff.length-1].setAttributeNS(null,"filter","url(#"+a+")")}};f.FB=function(a,b,c){this.pt=a;this.qt=b;this.Lg=c};f.po=function(){this.shadowBlur=this.shadowOffsetY=this.shadowOffsetX=0};
f.qo=function(){this.shadowOffsetX=this.pt;this.shadowOffsetY=this.qt;this.shadowBlur=this.Lg};f.AA=function(){return!1};f.vA=function(){};function ma(a,b){this.ownerDocument=void 0===b?document:b;var c=this.ownerDocument.createElement("canvas");c.tabIndex=0;this.me=c;this.Mk=new Ad(c);c.da=a;Object.seal(this)}f=ma.prototype;f.toDataURL=function(a,b){return this.me.toDataURL(a,b)};f.getBoundingClientRect=function(){return this.me.getBoundingClientRect()};f.focus=function(){return this.me.focus()};
f.addEventListener=function(a,b,c){this.me.addEventListener(a,b,c)};f.removeEventListener=function(a,b,c){this.me.removeEventListener(a,b,c)};C.defineProperty(ma,{width:"width"},function(){return this.me.width},function(a){this.me.width=a});C.defineProperty(ma,{height:"height"},function(){return this.me.height},function(a){this.me.height=a});C.w(ma,{style:"style"},function(){return this.me.style});
function Ad(a){a.getContext&&a.getContext("2d")||C.k("Browser does not support HTML Canvas Element");this.Fa=a.getContext("2d");this.Vy=this.Xy=this.Wy="";this.Fo=!1;this.Lg=this.qt=this.pt=0;Object.seal(this)}C.defineProperty(Ad,{fillStyle:"fillStyle"},function(){return this.Fa.fillStyle},function(a){this.Vy!==a&&(this.Vy=this.Fa.fillStyle=a)});C.defineProperty(Ad,{font:"font"},function(){return this.Fa.font},function(a){this.Wy!==a&&(this.Wy=this.Fa.font=a)});
C.defineProperty(Ad,{globalAlpha:"globalAlpha"},function(){return this.Fa.globalAlpha},function(a){this.Fa.globalAlpha=a});C.defineProperty(Ad,{lineCap:"lineCap"},function(){return this.Fa.lineCap},function(a){this.Fa.lineCap=a});C.defineProperty(Ad,{bo:"lineDashOffset"},function(){return this.Fa.bo},function(a){this.Fa.bo=a});C.defineProperty(Ad,{lineJoin:"lineJoin"},function(){return this.Fa.lineJoin},function(a){this.Fa.lineJoin=a});
C.defineProperty(Ad,{lineWidth:"lineWidth"},function(){return this.Fa.lineWidth},function(a){this.Fa.lineWidth=a});C.defineProperty(Ad,{miterLimit:"miterLimit"},function(){return this.Fa.miterLimit},function(a){this.Fa.miterLimit=a});C.defineProperty(Ad,{shadowBlur:"shadowBlur"},function(){return this.Fa.shadowBlur},function(a){this.Fa.shadowBlur=a});C.defineProperty(Ad,{shadowColor:"shadowColor"},function(){return this.Fa.shadowColor},function(a){this.Fa.shadowColor=a});
C.defineProperty(Ad,{shadowOffsetX:"shadowOffsetX"},function(){return this.Fa.shadowOffsetX},function(a){this.Fa.shadowOffsetX=a});C.defineProperty(Ad,{shadowOffsetY:"shadowOffsetY"},function(){return this.Fa.shadowOffsetY},function(a){this.Fa.shadowOffsetY=a});C.defineProperty(Ad,{strokeStyle:"strokeStyle"},function(){return this.Fa.strokeStyle},function(a){this.Xy!==a&&(this.Xy=this.Fa.strokeStyle=a)});
C.defineProperty(Ad,{textAlign:"textAlign"},function(){return this.Fa.textAlign},function(a){this.Fa.textAlign=a});C.defineProperty(Ad,{ou:"imageSmoothingEnabled"},function(){return this.Fa.ou},function(a){this.Fa.ou=a});f=Ad.prototype;f.arc=function(a,b,c,d,e,g){this.Fa.arc(a,b,c,d,e,g)};f.beginPath=function(){this.Fa.beginPath()};f.bezierCurveTo=function(a,b,c,d,e,g){this.Fa.bezierCurveTo(a,b,c,d,e,g)};f.clearRect=function(a,b,c,d){this.Fa.clearRect(a,b,c,d)};f.clip=function(){this.Fa.clip()};
f.closePath=function(){this.Fa.closePath()};f.createLinearGradient=function(a,b,c,d){return this.Fa.createLinearGradient(a,b,c,d)};f.createPattern=function(a,b){return this.Fa.createPattern(a,b)};f.createRadialGradient=function(a,b,c,d,e,g){return this.Fa.createRadialGradient(a,b,c,d,e,g)};f.drawImage=function(a,b,c,d,e,g,h,k,l){void 0===d?this.Fa.drawImage(a,b,c):this.Fa.drawImage(a,b,c,d,e,g,h,k,l)};f.fill=function(){this.Fa.fill()};f.fillRect=function(a,b,c,d){this.Fa.fillRect(a,b,c,d)};
f.fillText=function(a,b,c){this.Fa.fillText(a,b,c)};f.getImageData=function(a,b,c,d){return this.Fa.getImageData(a,b,c,d)};f.lineTo=function(a,b){this.Fa.lineTo(a,b)};f.measureText=function(a){return this.Fa.measureText(a)};f.moveTo=function(a,b){this.Fa.moveTo(a,b)};f.quadraticCurveTo=function(a,b,c,d){this.Fa.quadraticCurveTo(a,b,c,d)};f.rect=function(a,b,c,d){this.Fa.rect(a,b,c,d)};f.restore=function(){this.Fa.restore()};Ad.prototype.rotate=function(a){this.Fa.rotate(a)};f=Ad.prototype;
f.save=function(){this.Fa.save()};f.setTransform=function(a,b,c,d,e,g){this.Fa.setTransform(a,b,c,d,e,g)};f.scale=function(a,b){this.Fa.scale(a,b)};f.stroke=function(){this.Fa.stroke()};f.transform=function(a,b,c,d,e,g){1===a&&0===b&&0===c&&1===d&&0===e&&0===g||this.Fa.transform(a,b,c,d,e,g)};f.translate=function(a,b){this.Fa.translate(a,b)};
f.Ug=function(a){if(a instanceof Ea&&a.type===Bd){var b=a.Io;a=a.az;a>b?(this.scale(b/a,1),this.translate((a-b)/2,0)):b>a&&(this.scale(1,a/b),this.translate(0,(b-a)/2));this.Fo?this.clip():this.fill();a>b?(this.translate(-(a-b)/2,0),this.scale(1/(b/a),1)):b>a&&(this.translate(0,-(b-a)/2),this.scale(1,1/(a/b)))}else this.Fo?this.clip():this.fill()};f.Tj=function(){this.Fo||this.stroke()};C.defineProperty(Ad,{Xt:"clipInsteadOfFill"},function(){return this.Fo},function(a){this.Fo=a});f=Ad.prototype;
f.FB=function(a,b,c){this.pt=a;this.qt=b;this.Lg=c};f.po=function(){this.shadowBlur=this.shadowOffsetY=this.shadowOffsetX=0};f.qo=function(){this.shadowOffsetX=this.pt;this.shadowOffsetY=this.qt;this.shadowBlur=this.Lg};f.AA=function(a,b){var c=this.Fa;if(void 0!==c.setLineDash)c.setLineDash(a),c.lineDashOffset=b;else if(void 0!==c.webkitLineDash)c.webkitLineDash=a,c.webkitLineDashOffset=b;else if(void 0!==c.mozDash)c.mozDash=a,c.mozDashOffset=b;else return!1;return!0};
f.vA=function(){var a=this.Fa;void 0!==a.setLineDash?(a.setLineDash(C.bl),a.lineDashOffset=0):void 0!==a.webkitLineDash?(a.webkitLineDash=C.bl,a.webkitLineDashOffset=0):void 0!==a.mozDash&&(a.mozDash=null,a.mozDashOffset=0)};function da(a,b){b&&(a.Wy="");a.Xy="";a.Vy=""}
var Cd=(Math.sqrt(2)-1)/3*4,Dd=(new O(0,0)).Na(),Ed=(new z(0,0,0,0)).Na(),Nd=(new Kb(0,0,0,0)).Na(),Od=(new Kb(2,2,2,2)).Na(),Pd=(new O(6,6)).Na(),Qd=(new O(-Infinity,-Infinity)).Na(),Rd=(new O(Infinity,Infinity)).Na(),Sd=(new Fa(0,0)).Na(),Td=(new Fa(1,1)).Na(),Ud=(new Fa(6,6)).Na(),Vd=(new Fa(8,8)).Na(),Wd=(new Fa(10,10)).Na(),ge=(new Fa(Infinity,Infinity)).Na(),he=(new O(NaN,NaN)).Na(),ie=(new Fa(NaN,NaN)).Na(),je=(new z(NaN,NaN,NaN,NaN)).Na(),ke=(new S(.156,.156)).Na(),le=(new S(.844,.844)).Na(),
me=new na,ne=new na,oe=null;function pe(a){if(0>=a)return 0;var b=oe;if(null===b){for(var b=[],c=0;2E3>=c;c++)b[c]=Math.sqrt(c);oe=b}return 1>a?(c=1/a,2E3>=c?1/b[c|0]:Math.sqrt(a)):2E3>=a?b[a|0]:Math.sqrt(a)}function R(a,b){var c=a-b;return.5>c&&-.5<c}function Db(a,b){var c=a-b;return 5E-8>c&&-5E-8<c}
function qe(a,b,c,d,e,g,h){0>=e&&(e=1E-6);var k=0,l=0,m=0,n=0;a<c?(l=a,k=c):(l=c,k=a);b<d?(n=b,m=d):(n=d,m=b);if(a===c)return n<=h&&h<=m&&a-e<=g&&g<=a+e;if(b===d)return l<=g&&g<=k&&b-e<=h&&h<=b+e;k+=e;l-=e;if(l<=g&&g<=k&&(m+=e,n-=e,n<=h&&h<=m))if(k-l>m-n)if(a-c>e||c-a>e){if(g=(d-b)/(c-a)*(g-a)+b,g-e<=h&&h<=g+e)return!0}else return!0;else if(b-d>e||d-b>e){if(h=(c-a)/(d-b)*(h-b)+a,h-e<=g&&g<=h+e)return!0}else return!0;return!1}
function we(a,b,c,d,e,g,h,k,l,m,n,p){if(qe(a,b,h,k,p,c,d)&&qe(a,b,h,k,p,e,g))return qe(a,b,h,k,p,m,n);var q=(a+c)/2,r=(b+d)/2,s=(c+e)/2,v=(d+g)/2;e=(e+h)/2;g=(g+k)/2;d=(q+s)/2;c=(r+v)/2;var s=(s+e)/2,v=(v+g)/2,t=(d+s)/2,x=(c+v)/2;return we(a,b,q,r,d,c,t,x,l,m,n,p)||we(t,x,s,v,e,g,h,k,l,m,n,p)}
function xe(a,b,c,d,e,g,h,k,l,m){if(qe(a,b,h,k,l,c,d)&&qe(a,b,h,k,l,e,g))Rb(m,a,b,0,0),Rb(m,h,k,0,0);else{var n=(a+c)/2,p=(b+d)/2,q=(c+e)/2,r=(d+g)/2;e=(e+h)/2;g=(g+k)/2;d=(n+q)/2;c=(p+r)/2;var q=(q+e)/2,r=(r+g)/2,s=(d+q)/2,v=(c+r)/2;xe(a,b,n,p,d,c,s,v,l,m);xe(s,v,q,r,e,g,h,k,l,m)}}
function ye(a,b,c,d,e,g,h,k,l,m){if(qe(a,b,h,k,l,c,d)&&qe(a,b,h,k,l,e,g))0===m.length&&(m.push(a),m.push(b)),m.push(h),m.push(k);else{var n=(a+c)/2,p=(b+d)/2,q=(c+e)/2,r=(d+g)/2;e=(e+h)/2;g=(g+k)/2;d=(n+q)/2;c=(p+r)/2;var q=(q+e)/2,r=(r+g)/2,s=(d+q)/2,v=(c+r)/2;ye(a,b,n,p,d,c,s,v,l,m);ye(s,v,q,r,e,g,h,k,l,m)}}
function ze(a,b,c,d,e,g,h,k,l,m,n,p,q,r){var s=1-l;a=a*s+c*l;b=b*s+d*l;c=c*s+e*l;d=d*s+g*l;e=e*s+h*l;g=g*s+k*l;k=a*s+c*l;h=b*s+d*l;c=c*s+e*l;d=d*s+g*l;m.x=a;m.y=b;n.x=k;n.y=h;p.x=k*s+c*l;p.y=h*s+d*l;q.x=c;q.y=d;r.x=e;r.y=g}function Ae(a,b,c,d,e,g,h,k,l,m){if(qe(a,b,e,g,m,c,d))return qe(a,b,e,g,m,k,l);var n=(a+c)/2,p=(b+d)/2;c=(c+e)/2;d=(d+g)/2;var q=(n+c)/2,r=(p+d)/2;return Ae(a,b,n,p,q,r,h,k,l,m)||Ae(q,r,c,d,e,g,h,k,l,m)}
function Be(a,b,c,d,e,g,h,k){if(qe(a,b,e,g,h,c,d))Rb(k,a,b,0,0),Rb(k,e,g,0,0);else{var l=(a+c)/2,m=(b+d)/2;c=(c+e)/2;d=(d+g)/2;var n=(l+c)/2,p=(m+d)/2;Be(a,b,l,m,n,p,h,k);Be(n,p,c,d,e,g,h,k)}}function Ce(a,b,c,d,e,g,h,k){if(qe(a,b,e,g,h,c,d))0===k.length&&(k.push(a),k.push(b)),k.push(e),k.push(g);else{var l=(a+c)/2,m=(b+d)/2;c=(c+e)/2;d=(d+g)/2;var n=(l+c)/2,p=(m+d)/2;Ce(a,b,l,m,n,p,h,k);Ce(n,p,c,d,e,g,h,k)}}
function De(a,b,c,d,e,g,h,k,l,m,n,p,q,r){0>=q&&(q=1E-6);if(qe(a,b,h,k,q,c,d)&&qe(a,b,h,k,q,e,g)){var s=(a-h)*(m-p)-(b-k)*(l-n);if(0===s)return!1;q=((a*k-b*h)*(l-n)-(a-h)*(l*p-m*n))/s;s=((a*k-b*h)*(m-p)-(b-k)*(l*p-m*n))/s;if((l>n?l-n:n-l)<(m>p?m-p:p-m)){if(h=l=0,b<k?(l=b,h=k):(l=k,h=b),s<l||s>h)return!1}else if(a<h?l=a:(l=h,h=a),q<l||q>h)return!1;r.x=q;r.y=s;return!0}var s=(a+c)/2,v=(b+d)/2;c=(c+e)/2;d=(d+g)/2;e=(e+h)/2;g=(g+k)/2;var t=(s+c)/2,x=(v+d)/2;c=(c+e)/2;d=(d+g)/2;var y=(t+c)/2,B=(x+d)/2,
A=(n-l)*(n-l)+(p-m)*(p-m),N=!1;De(a,b,s,v,t,x,y,B,l,m,n,p,q,r)&&(b=(r.x-l)*(r.x-l)+(r.y-m)*(r.y-m),b<A&&(A=b,N=!0));a=r.x;s=r.y;De(y,B,c,d,e,g,h,k,l,m,n,p,q,r)&&(b=(r.x-l)*(r.x-l)+(r.y-m)*(r.y-m),b<A?N=!0:(r.x=a,r.y=s));return N}
function Ee(a,b,c,d,e,g,h,k,l,m,n,p,q){var r=0;0>=q&&(q=1E-6);if(qe(a,b,h,k,q,c,d)&&qe(a,b,h,k,q,e,g)){q=(a-h)*(m-p)-(b-k)*(l-n);if(0===q)return r;var s=((a*k-b*h)*(l-n)-(a-h)*(l*p-m*n))/q,v=((a*k-b*h)*(m-p)-(b-k)*(l*p-m*n))/q;if(s>=n)return r;if((l>n?l-n:n-l)<(m>p?m-p:p-m)){if(a=l=0,b<k?(l=b,a=k):(l=k,a=b),v<l||v>a)return r}else if(a<h?(l=a,a=h):l=h,s<l||s>a)return r;0<q?r++:0>q&&r--}else{var s=(a+c)/2,v=(b+d)/2,t=(c+e)/2,x=(d+g)/2;e=(e+h)/2;g=(g+k)/2;d=(s+t)/2;c=(v+x)/2;var t=(t+e)/2,x=(x+g)/2,
y=(d+t)/2,B=(c+x)/2,r=r+Ee(a,b,s,v,d,c,y,B,l,m,n,p,q),r=r+Ee(y,B,t,x,e,g,h,k,l,m,n,p,q)}return r}
function ob(a,b,c,d,e,g,h){if(Db(a,c)){var k=0;c=0;b<d?(k=b,c=d):(k=d,c=b);d=g;if(d<k)return h.x=a,h.y=k,!1;if(d>c)return h.x=a,h.y=c,!1;h.x=a;h.y=d;return!0}if(Db(b,d)){a<c?k=a:(k=c,c=a);d=e;if(d<k)return h.x=k,h.y=b,!1;if(d>c)return h.x=c,h.y=b,!1;h.x=d;h.y=b;return!0}k=((a-e)*(a-c)+(b-g)*(b-d))/((c-a)*(c-a)+(d-b)*(d-b));if(-5E-6>k)return h.x=a,h.y=b,!1;if(1.000005<k)return h.x=c,h.y=d,!1;h.x=a+k*(c-a);h.y=b+k*(d-b);return!0}
function Fe(a,b,c,d,e,g,h,k,l){if(R(a,c)&&R(b,d))return l.x=a,l.y=b,!1;if(Db(e,h)){if(Db(a,c))return ob(a,b,c,d,e,g,l),!1;g=(d-b)/(c-a)*(e-a)+b;return ob(a,b,c,d,e,g,l)}k=(k-g)/(h-e);if(Db(a,c)){g=k*(a-e)+g;c=h=0;b<d?(h=b,c=d):(h=d,c=b);if(g<h)return l.x=a,l.y=h,!1;if(g>c)return l.x=a,l.y=c,!1;l.x=a;l.y=g;return!0}h=(d-b)/(c-a);if(Db(k,h))return ob(a,b,c,d,e,g,l),!1;e=(h*a-k*e+g-b)/(h-k);if(Db(h,0)){a<c?h=a:(h=c,c=a);if(e<h)return l.x=h,l.y=b,!1;if(e>c)return l.x=c,l.y=b,!1;l.x=e;l.y=b;return!0}g=
h*(e-a)+b;return ob(a,b,c,d,e,g,l)}function Ge(a,b,c,d,e,g,h,k,l){var m=1E21,n=a,p=b;if(Fe(a,b,a,d,e,g,h,k,l)){var q=(l.x-e)*(l.x-e)+(l.y-g)*(l.y-g);q<m&&(m=q,n=l.x,p=l.y)}Fe(c,b,c,d,e,g,h,k,l)&&(q=(l.x-e)*(l.x-e)+(l.y-g)*(l.y-g),q<m&&(m=q,n=l.x,p=l.y));Fe(a,b,c,b,e,g,h,k,l)&&(q=(l.x-e)*(l.x-e)+(l.y-g)*(l.y-g),q<m&&(m=q,n=l.x,p=l.y));Fe(a,d,c,d,e,g,h,k,l)&&(q=(l.x-e)*(l.x-e)+(l.y-g)*(l.y-g),q<m&&(m=q,n=l.x,p=l.y));l.x=n;l.y=p;return 1E21>m}
function Ne(a,b,c,d,e,g,h,k,l){c=a-c;var m=e-h,n=h=0;0===c||0===m?0===c?(k=(g-k)/m,h=a,n=k*h+(g-k*e)):(d=(b-d)/c,h=e,n=d*h+(b-d*a)):(d=(b-d)/c,k=(g-k)/m,a=b-d*a,h=(g-k*e-a)/(d-k),n=d*h+a);l.m(h,n);return l}
function Oe(a,b,c){var d=b.x,e=b.y,g=c.x,h=c.y,k=a.left,l=a.right,m=a.top,n=a.bottom;return d===g?(g=a=0,e<h?(a=e,g=h):(a=h,g=e),k<=d&&d<=l&&a<=n&&g>=m):e===h?(d<g?a=d:(a=g,g=d),m<=e&&e<=n&&a<=l&&g>=k):a.Oa(b)||a.Oa(c)||Pe(k,m,l,m,d,e,g,h)||Pe(l,m,l,n,d,e,g,h)||Pe(l,n,k,n,d,e,g,h)||Pe(k,n,k,m,d,e,g,h)?!0:!1}function Pe(a,b,c,d,e,g,h,k){return 0>=Qe(a,b,c,d,e,g)*Qe(a,b,c,d,h,k)&&0>=Qe(e,g,h,k,a,b)*Qe(e,g,h,k,c,d)}
function Qe(a,b,c,d,e,g){c-=a;d-=b;a=e-a;b=g-b;g=a*d-b*c;0===g&&(g=a*c+b*d,0<g&&(g=(a-c)*c+(b-d)*d,0>g&&(g=0)));return 0>g?-1:0<g?1:0}function Re(a){0>a&&(a+=360);360<=a&&(a-=360);return a}
function Se(a,b,c,d){var e=Math.PI;d||(b*=e/180,c*=e/180);d=b<c?1:-1;var g=[],h=e/2,k=b;for(b=Math.min(2*e,Math.abs(c-b));1E-5<b;){c=k+d*Math.min(b,h);var e=(c-k)/2,l=a*Math.cos(e),m=a*Math.sin(e),n=-m,p=l*l+n*n,q=p+l*l+n*m,p=4/3*(Math.sqrt(2*p*q)-q)/(l*m-n*l),m=l-p*n,l=n+p*l,n=-l,p=e+k,e=Math.cos(p),p=Math.sin(p);g.push([0+a*Math.cos(k),0+a*Math.sin(k),0+m*e-l*p,0+m*p+l*e,0+m*e-n*p,0+m*p+n*e,0+a*Math.cos(c),0+a*Math.sin(c)]);b-=Math.abs(c-k);k=c}return g}
function tb(a,b,c,d,e,g,h){c=Math.floor((a-c)/e)*e+c;d=Math.floor((b-d)/g)*g+d;var k=c;c+e-a<e/2&&(k=c+e);a=d;d+g-b<g/2&&(a=d+g);h.m(k,a)}function Te(a,b){var c=Math.max(a,b),d=Math.min(a,b),e=1,g=1;do e=c%d,c=g=d,d=e;while(0<e);return g}
function Ue(a,b,c,d){var e=0>c,g=0>d,h=0,k=h=0;a<b?(h=1,k=0):(h=0,k=1);var l=0,m=0,n=0,p=0,l=0===h?a:b,n=0===h?c:d;if(0===h?e:g)n=-n;h=k;m=0===h?a:b;p=0===h?c:d;if(0===h?e:g)p=-p;a=a=0;if(0<p)if(0<n){b=l*l;a=m*m;l*=n;c=m*p;d=-a+c;e=-a+Math.sqrt(l*l+c*c);m=d;for(g=0;9999999999>g;++g){m=.5*(d+e);if(m===d||m===e)break;k=l/(m+b);h=c/(m+a);k=k*k+h*h-1;if(0<k)d=m;else if(0>k)e=m;else break}n=b*n/(m+b)-n;p=a*p/(m+a)-p;a=Math.sqrt(n*n+p*p)}else a=Math.abs(p-m);else p=l*l-m*m,a=l*n,a<p?(p=a/p,a=m*Math.sqrt(Math.abs(1-
p*p)),n=l*p-n,a=Math.sqrt(n*n+a*a)):a=Math.abs(n-l);return a}function Ve(a){1<arguments.length&&C.k("Geometry constructor can take at most one optional argument, the Geometry type.");C.wc(this);this.J=!1;void 0===a?a=We:u&&C.Ca(a,Ve,Ve,"constructor:type");this.ca=a;this.Ib=this.Bb=this.Jc=this.zc=0;this.dk=new K(Xe);this.Ov=this.dk.G;this.zv=(new z).freeze();this.mb=!0;this.fr=this.Ao=null;this.gr=NaN;this.ui=hc;this.vi=qc;this.gp=this.ip=NaN;this.Vi=gf}C.ka("Geometry",Ve);C.Ai(Ve);
Ve.prototype.copy=function(){var a=new Ve;a.ca=this.ca;a.zc=this.zc;a.Jc=this.Jc;a.Bb=this.Bb;a.Ib=this.Ib;for(var b=this.dk.o,c=b.length,d=a.dk,e=0;e<c;e++){var g=b[e].copy();d.add(g)}a.Ov=this.Ov;a.zv.assign(this.zv);a.mb=this.mb;a.Ao=this.Ao;a.fr=this.fr;a.gr=this.gr;a.ui=this.ui.V();a.vi=this.vi.V();a.ip=this.ip;a.gp=this.gp;a.Vi=this.Vi;return a};var hf;Ve.Line=hf=C.s(Ve,"Line",0);var jf;Ve.Rectangle=jf=C.s(Ve,"Rectangle",1);var kf;Ve.Ellipse=kf=C.s(Ve,"Ellipse",2);var We;
Ve.Path=We=C.s(Ve,"Path",3);Ve.prototype.Na=function(){this.freeze();Object.freeze(this);return this};Ve.prototype.freeze=function(){this.J=!0;var a=this.mc;a.freeze();for(var a=a.o,b=a.length,c=0;c<b;c++)a[c].freeze();return this};Ve.prototype.Za=function(){Object.isFrozen(this)&&C.k("cannot thaw constant: "+this);this.J=!1;var a=this.mc;a.Za();for(var a=a.o,b=a.length,c=0;c<b;c++)a[c].Za();return this};
Ve.prototype.equalsApprox=Ve.prototype.Wc=function(a){if(!(a instanceof Ve))return!1;if(this.type!==a.type)return this.type===hf&&a.type===We?lf(this,a):a.type===hf&&this.type===We?lf(a,this):!1;if(this.type===We){var b=this.mc.o;a=a.mc.o;var c=b.length;if(c!==a.length)return!1;for(var d=0;d<c;d++)if(!b[d].Wc(a[d]))return!1;return!0}return R(this.na,a.na)&&R(this.la,a.la)&&R(this.H,a.H)&&R(this.I,a.I)};
function lf(a,b){if(a.type!==hf||b.type!==We)return!1;if(1===b.mc.count){var c=b.mc.fa(0);if(1===c.Db.count&&R(a.na,c.na)&&R(a.la,c.la)&&(c=c.Db.fa(0),c.type===mf&&R(a.H,c.H)&&R(a.I,c.I)))return!0}return!1}var nf;Ve.stringify=nf=function(a){return a.toString()};Ve.prototype.pc=function(a){a.Pe===Ve?this.type=a:C.Vj(this,a)};
Ve.prototype.toString=function(a){void 0===a&&(a=-1);switch(this.type){case hf:return 0>a?"M"+this.na.toString()+" "+this.la.toString()+"L"+this.H.toString()+" "+this.I.toString():"M"+this.na.toFixed(a)+" "+this.la.toFixed(a)+"L"+this.H.toFixed(a)+" "+this.I.toFixed(a);case jf:var b=new z(this.na,this.la,0,0);b.$G(this.H,this.I,0,0);return 0>a?"M"+b.x.toString()+" "+b.y.toString()+"H"+b.right.toString()+"V"+b.bottom.toString()+"H"+b.left.toString()+"z":"M"+b.x.toFixed(a)+" "+b.y.toFixed(a)+"H"+b.right.toFixed(a)+
"V"+b.bottom.toFixed(a)+"H"+b.left.toFixed(a)+"z";case kf:b=new z(this.na,this.la,0,0);b.$G(this.H,this.I,0,0);if(0>a){var c=b.left.toString()+" "+(b.y+b.height/2).toString(),d=b.right.toString()+" "+(b.y+b.height/2).toString();return"M"+c+"A"+(b.width/2).toString()+" "+(b.height/2).toString()+" 0 0 1 "+d+"A"+(b.width/2).toString()+" "+(b.height/2).toString()+" 0 0 1 "+c}c=b.left.toFixed(a)+" "+(b.y+b.height/2).toFixed(a);d=b.right.toFixed(a)+" "+(b.y+b.height/2).toFixed(a);return"M"+c+"A"+(b.width/
2).toFixed(a)+" "+(b.height/2).toFixed(a)+" 0 0 1 "+d+"A"+(b.width/2).toFixed(a)+" "+(b.height/2).toFixed(a)+" 0 0 1 "+c;case We:for(var b="",c=this.mc.o,d=c.length,e=0;e<d;e++){var g=c[e];0<e&&(b+=" x ");g.uu&&(b+="F ");b+=g.toString(a)}return b;default:return this.type.toString()}};
Ve.fillPath=function(a){"string"!==typeof a&&C.ic(a,"string",Ve,"fillPath:str");a=a.split(/[Xx]/);for(var b=a.length,c="",d=0;d<b;d++)var e=a[d],c=null!==e.match(/[Ff]/)?0===d?c+e:c+("X"+(" "===e[0]?"":" ")+e):c+((0===d?"":"X ")+"F"+(" "===e[0]?"":" ")+e);return c};var of;
Ve.parse=of=function(a,b){function c(){return m>=v-1?!0:null!==l[m+1].match(/[A-Za-z]/)}function d(){m++;return l[m]}function e(){var a=new O(parseFloat(d()),parseFloat(d()));n===n.toLowerCase()&&(a.x=s.x+a.x,a.y=s.y+a.y);return a}function g(){return s=e()}function h(){return r=e()}function k(){return"c"!==p.toLowerCase()&&"s"!==p.toLowerCase()?s:new O(2*s.x-r.x,2*s.y-r.y)}void 0===b&&(b=!1);"string"!==typeof a&&C.ic(a,"string",Ve,"parse:str");a=a.replace(/,/gm," ");a=a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,
"$1 $2");a=a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2");a=a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([^\s])/gm,"$1 $2");a=a.replace(/([^\s])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2");a=a.replace(/([0-9])([+\-])/gm,"$1 $2");a=a.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");a=a.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 ");a=a.replace(/[\s\r\t\n]+/gm," ");a=a.replace(/^\s+|\s+$/g,"");for(var l=a.split(" "),m=-1,n="",p="",q=new O(0,0),r=new O(0,0),s=new O(0,
0),v=l.length,t=C.v(),x=!1,y=!1,B=!0,A=null;!(m>=v-1);)if(p=n,n=d(),""!==n)switch(n.toUpperCase()){case "X":B=!0;y=x=!1;break;case "M":A=g();null===t.ec||!0===B?(U(t,A.x,A.y,x,!1,!y),B=!1):t.moveTo(A.x,A.y);for(q=s;!c();)A=g(),t.lineTo(A.x,A.y);break;case "L":for(;!c();)A=g(),t.lineTo(A.x,A.y);break;case "H":for(;!c();)s=A=new O((n===n.toLowerCase()?s.x:0)+parseFloat(d()),s.y),t.lineTo(s.x,s.y);break;case "V":for(;!c();)s=A=new O(s.x,(n===n.toLowerCase()?s.y:0)+parseFloat(d())),t.lineTo(s.x,s.y);
break;case "C":for(;!c();){var N=e(),G=h(),A=g();V(t,N.x,N.y,G.x,G.y,A.x,A.y)}break;case "S":for(;!c();)N=k(),G=h(),A=g(),V(t,N.x,N.y,G.x,G.y,A.x,A.y);break;case "Q":for(;!c();)G=h(),A=g(),pf(t,G.x,G.y,A.x,A.y);break;case "T":for(;!c();)r=G=k(),A=g(),pf(t,G.x,G.y,A.x,A.y);break;case "B":for(;!c();){var A=parseFloat(d()),N=parseFloat(d()),G=parseFloat(d()),T=parseFloat(d()),fa=parseFloat(d()),W=fa,P=!1;c()||(W=parseFloat(d()),c()||(P=0!==parseFloat(d())));n===n.toLowerCase()&&(G+=s.x,T+=s.y);t.arcTo(A,
N,G,T,fa,W,P)}break;case "A":for(;!c();)N=Math.abs(parseFloat(d())),G=Math.abs(parseFloat(d())),T=parseFloat(d()),fa=!!parseFloat(d()),W=!!parseFloat(d()),A=g(),qf(t,N,G,T,fa,W,A.x,A.y);break;case "Z":A=t.q.mc.o[t.q.mc.length-1];X(t);s=q;break;case "F":A="";for(N=1;l[m+N];)if(null!==l[m+N].match(/[Uu]/))N++;else if(null===l[m+N].match(/[A-Za-z]/))N++;else{A=l[m+N];break}A.match(/[Mm]/)?x=!0:rf(t);break;case "U":A="";for(N=1;l[m+N];)if(null!==l[m+N].match(/[Ff]/))N++;else if(null===l[m+N].match(/[A-Za-z]/))N++;
else{A=l[m+N];break}A.match(/[Mm]/)?y=!0:t.kb(!1)}q=t.q;C.u(t);if(b)for(t=q.mc.j;t.next();)A=t.value,A.uu=!0;return q};function sf(a,b){for(var c=a.length,d=C.P(),e=0;e<c;e++){var g=a[e];d.x=g[0];d.y=g[1];b.wb(d);g[0]=d.x;g[1]=d.y;d.x=g[2];d.y=g[3];b.wb(d);g[2]=d.x;g[3]=d.y;d.x=g[4];d.y=g[5];b.wb(d);g[4]=d.x;g[5]=d.y;d.x=g[6];d.y=g[7];b.wb(d);g[6]=d.x;g[7]=d.y}C.A(d)}
Ve.prototype.Rx=function(){if(this.mb||this.Ov!==this.mc.G)return!0;for(var a=this.mc.o,b=a.length,c=0;c<b;c++)if(a[c].Rx())return!0;return!1};Ve.prototype.Ey=function(){this.mb=!1;this.fr=this.Ao=null;this.gr=NaN;this.Ov=this.mc.G;for(var a=this.mc.o,b=a.length,c=0;c<b;c++)a[c].Ey()};Ve.prototype.Jh=function(){var a=this.zv;a.Za();isNaN(this.ip)||isNaN(this.gp)?a.m(0,0,0,0):a.m(0,0,this.ip,this.gp);tf(this,a,!1);Rb(a,0,0,0,0);a.freeze()};
Ve.prototype.computeBoundsWithoutOrigin=Ve.prototype.cI=function(){var a=new z;tf(this,a,!0);return a};
function tf(a,b,c){switch(a.type){case hf:case jf:case kf:c?b.m(a.zc,a.Jc,0,0):Rb(b,a.zc,a.Jc,0,0);Rb(b,a.Bb,a.Ib,0,0);break;case We:var d=a.mc;a=d.o;for(var d=d.length,e=0;e<d;e++){var g=a[e];c&&0===e?b.m(g.na,g.la,0,0):Rb(b,g.na,g.la,0,0);for(var h=g.Db.o,k=h.length,l=g.na,m=g.la,n=0;n<k;n++){var p=h[n];switch(p.type){case mf:case Mf:l=p.H;m=p.I;Rb(b,l,m,0,0);break;case Nf:xe(l,m,p.Dc,p.$c,p.Rh,p.Sh,p.H,p.I,.5,b);l=p.H;m=p.I;break;case Of:Be(l,m,p.Dc,p.$c,p.H,p.I,.5,b);l=p.H;m=p.I;break;case Pf:case Qf:var q=
p.type===Pf?Rf(p,g):Sf(p,g,l,m),r=q.length;if(0===r){l=p.oa;m=p.xa;Rb(b,l,m,0,0);break}for(var p=null,s=0;s<r;s++)p=q[s],xe(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],.5,b);null!==p&&(l=p[6],m=p[7]);break;default:C.k("Unknown Segment type: "+p.type)}}}break;default:C.k("Unknown Geometry type: "+a.type)}}Ve.prototype.normalize=Ve.prototype.normalize=function(){this.J&&C.qa(this);var a=this.cI();this.offset(-a.x,-a.y);return new O(-a.x,-a.y)};
Ve.prototype.offset=Ve.prototype.offset=function(a,b){this.J&&C.qa(this);u&&(C.p(a,Ve,"offset"),C.p(b,Ve,"offset"));this.transform(1,0,0,1,a,b);return this};Ve.prototype.scale=Ve.prototype.scale=function(a,b){this.J&&C.qa(this);u&&(C.p(a,Ve,"scale:x"),C.p(b,Ve,"scale:y"),0===a&&C.wa(a,"scale must be non-zero",Ve,"scale:x"),0===b&&C.wa(b,"scale must be non-zero",Ve,"scale:y"));this.transform(a,0,0,b,0,0);return this};
Ve.prototype.rotate=Ve.prototype.rotate=function(a,b,c){this.J&&C.qa(this);void 0===b&&(b=0);void 0===c&&(c=0);u&&(C.p(a,Ve,"rotate:angle"),C.p(b,Ve,"rotate:x"),C.p(c,Ve,"rotate:y"));var d=C.Of();d.reset();d.rotate(a,b,c);this.transform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy);C.Ie(d);return this};
Ve.prototype.transform=Ve.prototype.transform=function(a,b,c,d,e,g){var h=0,k=0;switch(this.type){case hf:case jf:case kf:h=this.zc;k=this.Jc;this.zc=h*a+k*c+e;this.Jc=h*b+k*d+g;h=this.Bb;k=this.Ib;this.Bb=h*a+k*c+e;this.Ib=h*b+k*d+g;break;case We:for(var l=this.mc.o,m=l.length,n=0;n<m;n++){var p=l[n],h=p.na,k=p.la;p.na=h*a+k*c+e;p.la=h*b+k*d+g;for(var p=p.Db.o,q=p.length,r=0;r<q;r++){var s=p[r];switch(s.type){case mf:case Mf:h=s.H;k=s.I;s.H=h*a+k*c+e;s.I=h*b+k*d+g;break;case Nf:h=s.Dc;k=s.$c;s.Dc=
h*a+k*c+e;s.$c=h*b+k*d+g;h=s.Rh;k=s.Sh;s.Rh=h*a+k*c+e;s.Sh=h*b+k*d+g;h=s.H;k=s.I;s.H=h*a+k*c+e;s.I=h*b+k*d+g;break;case Of:h=s.Dc;k=s.$c;s.Dc=h*a+k*c+e;s.$c=h*b+k*d+g;h=s.H;k=s.I;s.H=h*a+k*c+e;s.I=h*b+k*d+g;break;case Pf:h=s.oa;k=s.xa;s.oa=h*a+k*c+e;s.xa=h*b+k*d+g;0!==b&&(h=180*Math.atan2(b,a)/Math.PI,0>h&&(h+=360),s.Me+=h);0>a&&(s.Me=180-s.Me,s.Af=-s.Af);0>d&&(s.Me=-s.Me,s.Af=-s.Af);s.radiusX*=Math.sqrt(a*a+c*c);void 0!==s.radiusY&&(s.radiusY*=Math.sqrt(b*b+d*d));break;case Qf:h=s.H;k=s.I;s.H=h*
a+k*c+e;s.I=h*b+k*d+g;0!==b&&(h=180*Math.atan2(b,a)/Math.PI,0>h&&(h+=360),s.Xj+=h);0>a&&(s.Xj=180-s.Xj,s.qm=!s.qm);0>d&&(s.Xj=-s.Xj,s.qm=!s.qm);s.radiusX*=Math.sqrt(a*a+c*c);s.radiusY*=Math.sqrt(b*b+d*d);break;default:C.k("Unknown Segment type: "+s.type)}}}}this.mb=!0;return this};
Ve.prototype.Oa=function(a,b,c,d){var e=a.x,g=a.y,h=this.sb.x-20;a=a.y;for(var k=0,l=0,m=0,n=0,p=0,q=0,r=this.mc.o,s=r.length,v=0;v<s;v++){var t=r[v];if(t.uu){if(c&&t.Oa(e,g,b))return!0;for(var x=t.Db,l=t.na,m=t.la,y=l,B=m,A=x.o,N=0;N<=x.length;N++){var G,T;N!==x.length?(G=A[N],T=G.type,p=G.H,q=G.I):(T=mf,p=y,q=B);switch(T){case Mf:n=Tf(e,g,h,a,l,m,y,B);if(isNaN(n))return!0;k+=n;y=p;B=q;break;case mf:n=Tf(e,g,h,a,l,m,p,q);if(isNaN(n))return!0;k+=n;break;case Nf:n=Ee(l,m,G.Dc,G.$c,G.Rh,G.Sh,p,q,h,
a,e,g,.5);k+=n;break;case Of:n=Ee(l,m,(l+2*G.Dc)/3,(m+2*G.$c)/3,(2*G.Dc+p)/3,(2*G.$c+q)/3,p,q,h,a,e,g,.5);k+=n;break;case Pf:case Qf:T=G.type===Pf?Rf(G,t):Sf(G,t,l,m);var fa=T.length;if(0===fa){n=Tf(e,g,h,a,l,m,G.oa,G.xa);if(isNaN(n))return!0;k+=n;break}for(var W=null,P=0;P<fa;P++){W=T[P];if(0===P){n=Tf(e,g,h,a,l,m,W[0],W[1]);if(isNaN(n))return!0;k+=n}n=Ee(W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],h,a,e,g,.5);k+=n}null!==W&&(p=W[6],q=W[7]);break;default:C.k("Unknown Segment type: "+G.type)}l=p;m=q}if(0!==
k)return!0;k=0}else if(t.Oa(e,g,d?b:b+2))return!0}return 0!==k};function Tf(a,b,c,d,e,g,h,k){if(qe(e,g,h,k,.05,a,b))return NaN;var l=(a-c)*(g-k);if(0===l)return 0;var m=((a*d-b*c)*(e-h)-(a-c)*(e*k-g*h))/l;b=(a*d-b*c)*(g-k)/l;if(m>=a)return 0;if((e>h?e-h:h-e)<(g>k?g-k:k-g)){if(e=a=0,g<k?(a=g,e=k):(a=k,e=g),b<a||b>e)return 0}else if(e<h?(a=e,e=h):a=h,m<a||m>e)return 0;return 0<l?1:-1}function Uf(a,b,c,d){a=a.mc.o;for(var e=a.length,g=0;g<e;g++)if(a[g].Oa(b,c,d))return!0;return!1}
Ve.prototype.getPointAlongPath=Ve.prototype.MI=function(a,b){0>a?a=0:1<a&&(a=1);void 0===b&&(b=new O);if(this.type===hf)return b.m(this.na+a*(this.H-this.na),this.la+a*(this.I-this.la)),b;for(var c=this.DA,d=this.Gx,e=c.length,g=this.EA*a,h=0,k=0;k<e;k++)for(var l=d[k],m=l.length,n=0;n<m;n++){var p=l[n];if(h+p>=g)return d=(g-h)/p,c=c[k],k=c[2*n],e=c[2*n+1],b.m(k+(c[2*n+2]-k)*d,e+(c[2*n+3]-e)*d),b;h+=p}b.m(NaN,NaN);return b};
Ve.prototype.getFractionForPoint=Ve.prototype.II=function(a){if(this.type===hf){var b=this.na,c=this.la,d=this.H,e=this.I;if(b!==d||c!==e){var g=a.x;a=a.y;var h=0,k=0;return b===d?(c<e?(h=c,k=e):(h=e,k=c),a<=h?h===c?0:1:a>=k?k===c?0:1:Math.abs(a-c)/(k-h)):c===e?(b<d?(h=b,k=d):(h=d,k=b),g<=h?h===b?0:1:g>=k?k===b?0:1:Math.abs(g-b)/(k-h)):((g-b)*(g-b)+(a-c)*(a-c))/((d-b)*(d-b)+(e-c)*(e-c))}}else if(this.type===jf){if(b=this.na,c=this.la,d=this.H,e=this.I,b!==d||c!==e){var h=d-b,k=e-c,l=2*h+2*k,g=a.x;
a=a.y;g=Math.min(Math.max(g,b),d);a=Math.min(Math.max(a,c),e);var b=Math.abs(g-b),d=Math.abs(g-d),c=Math.abs(a-c),e=Math.abs(a-e),m=Math.min(b,d,c,e);if(m===c)return g/l;if(m===d)return(h+a)/l;if(m===e)return(2*h+k-g)/l;if(m===b)return(2*h+2*k-a)/l}}else{for(var e=this.DA,h=this.Gx,k=this.EA,l=C.P(),c=Infinity,b=d=0,g=e.length,n=m=0,p=0;p<g;p++)for(var q=e[p],r=h[p],s=q.length,v=0;v<s;v+=2){var t=q[v],x=q[v+1];if(0!==v){ob(m,n,t,x,a.x,a.y,l);var y=(l.x-a.x)*(l.x-a.x)+(l.y-a.y)*(l.y-a.y);y<c&&(c=y,
d=b,d+=Math.sqrt((l.x-m)*(l.x-m)+(l.y-n)*(l.y-n)));b+=r[(v-2)/2]}m=t;n=x}C.A(l);a=d/k;return 0>a?0:1<a?1:a}return 0};C.w(Ve,{DA:null},function(){Vf(this);return this.Ao});
function Vf(a){if(null===a.Ao){a.Rx()&&a.Ey();var b=a.Ao=[],c=a.fr=[],d=[],e=[];if(a.type===hf)d.push(a.na),d.push(a.la),d.push(a.H),d.push(a.I),b.push(d),e.push(Math.sqrt((a.na-a.H)*(a.na-a.H)+(a.la-a.I)*(a.la-a.I))),c.push(e);else if(a.type===jf)d.push(a.na),d.push(a.la),d.push(a.H),d.push(a.la),d.push(a.H),d.push(a.I),d.push(a.na),d.push(a.I),d.push(a.na),d.push(a.la),b.push(d),e.push(Math.abs(a.na-a.H)),e.push(Math.abs(a.la-a.I)),e.push(Math.abs(a.na-a.H)),e.push(Math.abs(a.la-a.I)),c.push(e);
else if(a.type===kf){var g=new Xe;g.na=a.H;g.la=(a.la+a.I)/2;var h=new Wf(Pf);h.Me=0;h.Af=360;h.oa=(a.na+a.H)/2;h.xa=(a.la+a.I)/2;h.radiusX=Math.abs(a.na-a.H)/2;h.radiusY=Math.abs(a.la-a.I)/2;g.add(h);a=Rf(h,g);e=a.length;if(0===e)d.push(h.oa),d.push(h.xa);else for(var h=g.na,g=g.la,k=0;k<e;k++){var l=a[k];ye(h,g,l[2],l[3],l[4],l[5],l[6],l[7],.5,d);h=l[6];g=l[7]}b.push(d);c.push(Xf(d))}else for(var m=a.mc.j;m.next();){var n=m.value,d=[];d.push(n.na);d.push(n.la);for(var h=n.na,g=n.la,p=h,q=g,r=n.Db.o,
s=r.length,v=0;v<s;v++){var t=r[v];switch(t.ca){case Mf:4<=d.length&&(b.push(d),c.push(Xf(d)));d=[];d.push(t.H);d.push(t.I);h=t.H;g=t.I;p=h;q=g;break;case mf:d.push(t.H);d.push(t.I);h=t.H;g=t.I;break;case Nf:ye(h,g,t.Qd,t.df,t.Bh,t.Kg,t.Bb,t.Ib,.5,d);h=t.H;g=t.I;break;case Of:Ce(h,g,t.Qd,t.df,t.Bb,t.Ib,.5,d);h=t.H;g=t.I;break;case Pf:a=Rf(t,n);e=a.length;if(0===e){d.push(t.oa);d.push(t.xa);h=t.oa;g=t.xa;break}for(k=0;k<e;k++)l=a[k],ye(h,g,l[2],l[3],l[4],l[5],l[6],l[7],.5,d),h=l[6],g=l[7];break;case Qf:a=
Sf(t,n,h,g);e=a.length;if(0===e){d.push(t.oa);d.push(t.xa);h=t.oa;g=t.xa;break}for(k=0;k<e;k++)l=a[k],ye(h,g,l[2],l[3],l[4],l[5],l[6],l[7],.5,d),h=l[6],g=l[7];break;default:C.k("Segment not of valid type: "+t.ca)}t.ei&&(d.push(p),d.push(q))}4<=d.length&&(b.push(d),c.push(Xf(d)))}}}C.w(Ve,{Gx:null},function(){Vf(this);return this.fr});
C.w(Ve,{EA:null},function(){var a=this.gr;if(isNaN(a)){if(this.type===hf)var a=Math.abs(this.H-this.na),b=Math.abs(this.I-this.la),a=Math.sqrt(a*a+b*b);else if(this.type===jf)a=Math.abs(this.H-this.na),b=Math.abs(this.I-this.la),a=2*a+2*b;else for(var b=this.Gx,c=b.length,d=a=0;d<c;d++)for(var e=b[d],g=e.length,h=0;h<g;h++)a+=e[h];this.gr=a}return a});function Xf(a){for(var b=[],c=0,d=0,e=a.length,g=0;g<e;g+=2){var h=a[g],k=a[g+1];0!==g&&(c=Math.sqrt(yb(c,d,h,k)),b.push(c));c=h;d=k}return b}
C.defineProperty(Ve,{type:"type"},function(){return this.ca},function(a){this.ca!==a&&(u&&C.Ca(a,Ve,Ve,"type"),this.J&&C.qa(this,a),this.ca=a,this.mb=!0)});C.defineProperty(Ve,{na:"startX"},function(){return this.zc},function(a){this.zc!==a&&(u&&C.p(a,Ve,"startX"),this.J&&C.qa(this,a),this.zc=a,this.mb=!0)});C.defineProperty(Ve,{la:"startY"},function(){return this.Jc},function(a){this.Jc!==a&&(u&&C.p(a,Ve,"startY"),this.J&&C.qa(this,a),this.Jc=a,this.mb=!0)});
C.defineProperty(Ve,{H:"endX"},function(){return this.Bb},function(a){this.Bb!==a&&(u&&C.p(a,Ve,"endX"),this.J&&C.qa(this,a),this.Bb=a,this.mb=!0)});C.defineProperty(Ve,{I:"endY"},function(){return this.Ib},function(a){this.Ib!==a&&(u&&C.p(a,Ve,"endY"),this.J&&C.qa(this,a),this.Ib=a,this.mb=!0)});C.defineProperty(Ve,{mc:"figures"},function(){return this.dk},function(a){this.dk!==a&&(u&&C.l(a,K,Ve,"figures"),this.J&&C.qa(this,a),this.dk=a,this.mb=!0)});
Ve.prototype.add=Ve.prototype.add=function(a){this.dk.add(a);return this};Ve.prototype.setSpots=function(a,b,c,d,e,g,h,k){this.J&&C.qa(this);this.ui=(new S(a,b,e,g)).freeze();this.vi=(new S(c,d,h,k)).freeze();return this};C.defineProperty(Ve,{C:"spot1"},function(){return this.ui},function(a){u&&C.l(a,S,Ve,"spot1");this.J&&C.qa(this,a);this.ui=a.V()});C.defineProperty(Ve,{D:"spot2"},function(){return this.vi},function(a){u&&C.l(a,S,Ve,"spot2");this.J&&C.qa(this,a);this.vi=a.V()});
C.defineProperty(Ve,{ke:"defaultStretch"},function(){return this.Vi},function(a){u&&C.Ca(a,Q,Ve,"stretch");this.J&&C.qa(this,a);this.Vi=a});C.w(Ve,{sb:"bounds"},function(){this.Rx()&&(this.Ey(),this.Jh());return this.zv});function Xe(a,b,c,d){C.wc(this);this.J=!1;void 0===c&&(c=!0);this.Rm=c;void 0===d&&(d=!0);this.jp=d;void 0!==a?(u&&C.p(a,Xe,"sx"),this.zc=a):this.zc=0;void 0!==b?(u&&C.p(b,Xe,"sy"),this.Jc=b):this.Jc=0;this.Gp=new K(Wf);this.Nw=this.Gp.G;this.mb=!0}C.ka("PathFigure",Xe);C.Ai(Xe);
Xe.prototype.copy=function(){var a=new Xe;a.Rm=this.Rm;a.jp=this.jp;a.zc=this.zc;a.Jc=this.Jc;for(var b=this.Gp.o,c=b.length,d=a.Gp,e=0;e<c;e++){var g=b[e].copy();d.add(g)}a.Nw=this.Nw;a.mb=this.mb;return a};Xe.prototype.equalsApprox=Xe.prototype.Wc=function(a){if(!(a instanceof Xe&&R(this.na,a.na)&&R(this.la,a.la)))return!1;var b=this.Db.o;a=a.Db.o;var c=b.length;if(c!==a.length)return!1;for(var d=0;d<c;d++)if(!b[d].Wc(a[d]))return!1;return!0};f=Xe.prototype;
f.toString=function(a){void 0===a&&(a=-1);for(var b=0>a?"M"+this.na.toString()+" "+this.la.toString():"M"+this.na.toFixed(a)+" "+this.la.toFixed(a),c=this.Db.o,d=c.length,e=0;e<d;e++)b+=" "+c[e].toString(a);return b};f.freeze=function(){this.J=!0;var a=this.Db;a.freeze();for(var b=a.o,a=a.length,c=0;c<a;c++)b[c].freeze();return this};f.Za=function(){this.J=!1;var a=this.Db;a.Za();for(var a=a.o,b=a.length,c=0;c<b;c++)a[c].Za();return this};
f.Rx=function(){if(this.mb)return!0;var a=this.Db;if(this.Nw!==a.G)return!0;for(var a=a.o,b=a.length,c=0;c<b;c++)if(a[c].mb)return!0;return!1};f.Ey=function(){this.mb=!1;var a=this.Db;this.Nw=a.G;for(var a=a.o,b=a.length,c=0;c<b;c++){var d=a[c];d.mb=!1;d.tg=null}};C.defineProperty(Xe,{uu:"isFilled"},function(){return this.Rm},function(a){u&&C.h(a,"boolean",Xe,"isFilled");this.J&&C.qa(this,a);this.Rm=a});
C.defineProperty(Xe,{Vk:"isShadowed"},function(){return this.jp},function(a){u&&C.h(a,"boolean",Xe,"isShadowed");this.J&&C.qa(this,a);this.jp=a});C.defineProperty(Xe,{na:"startX"},function(){return this.zc},function(a){u&&C.p(a,Xe,"startX");this.J&&C.qa(this,a);this.zc=a;this.mb=!0});C.defineProperty(Xe,{la:"startY"},function(){return this.Jc},function(a){u&&C.p(a,Xe,"startY");this.J&&C.qa(this,a);this.Jc=a;this.mb=!0});
C.defineProperty(Xe,{Db:"segments"},function(){return this.Gp},function(a){u&&C.l(a,K,Xe,"segments");this.J&&C.qa(this,a);this.Gp=a;this.mb=!0});Xe.prototype.add=Xe.prototype.add=function(a){this.Gp.add(a);return this};
Xe.prototype.Oa=function(a,b,c){for(var d=this.na,e=this.la,g=d,h=e,k=this.Db.o,l=k.length,m=0;m<l;m++){var n=k[m];switch(n.type){case Mf:g=n.H;h=n.I;d=n.H;e=n.I;break;case mf:if(qe(d,e,n.H,n.I,c,a,b))return!0;d=n.H;e=n.I;break;case Nf:if(we(d,e,n.Dc,n.$c,n.Rh,n.Sh,n.H,n.I,.5,a,b,c))return!0;d=n.H;e=n.I;break;case Of:if(Ae(d,e,n.Dc,n.$c,n.H,n.I,.5,a,b,c))return!0;d=n.H;e=n.I;break;case Pf:case Qf:var p=n.type===Pf?Rf(n,this):Sf(n,this,d,e),q=p.length;if(0===q){if(qe(d,e,n.oa,n.xa,c,a,b))return!0;
d=n.oa;e=n.xa;break}for(var r=null,s=0;s<q;s++)if(r=p[s],0===s&&qe(d,e,r[0],r[1],c,a,b)||we(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],.5,a,b,c))return!0;null!==r&&(d=r[6],e=r[7]);break;default:C.k("Unknown Segment type: "+n.type)}if(n.Nx&&(d!==g||e!==h)&&qe(d,e,g,h,c,a,b))return!0}return!1};
function Wf(a,b,c,d,e,g,h,k){C.wc(this);this.J=!1;void 0===a?a=mf:u&&C.Ca(a,Wf,Wf,"constructor:type");this.ca=a;void 0!==b?(u&&C.p(b,Wf,"ex"),this.Bb=b):this.Bb=0;void 0!==c?(u&&C.p(c,Wf,"ey"),this.Ib=c):this.Ib=0;void 0===d&&(d=0);void 0===e&&(e=0);void 0===g&&(g=0);void 0===h&&(h=0);a===Qf?(a=g%360,0>a&&(a+=360),this.Qd=a,this.df=0,u&&C.p(d,Wf,"x1"),this.Bh=Math.max(d,0),u&&C.p(e,Wf,"y1"),this.Kg=Math.max(e,0),this.op="boolean"===typeof h?!!h:!1,this.Go=!!k):(u&&C.p(d,Wf,"x1"),this.Qd=d,u&&C.p(e,
Wf,"y1"),this.df=e,u&&C.p(g,Wf,"x2"),a===Pf&&(g=Math.max(g,0)),this.Bh=g,"number"===typeof h?(a===Pf&&(h=Math.max(h,0)),this.Kg=h):this.Kg=0,this.Go=this.op=!1);this.ei=!1;this.mb=!0;this.tg=null}C.ka("PathSegment",Wf);C.Ai(Wf);Wf.prototype.copy=function(){var a=new Wf;a.ca=this.ca;a.Bb=this.Bb;a.Ib=this.Ib;a.Qd=this.Qd;a.df=this.df;a.Bh=this.Bh;a.Kg=this.Kg;a.op=this.op;a.Go=this.Go;a.ei=this.ei;a.mb=this.mb;return a};
Wf.prototype.equalsApprox=Wf.prototype.Wc=function(a){if(!(a instanceof Wf)||this.type!==a.type||this.Nx!==a.Nx)return!1;switch(this.type){case Mf:case mf:return R(this.H,a.H)&&R(this.I,a.I);case Nf:return R(this.H,a.H)&&R(this.I,a.I)&&R(this.Dc,a.Dc)&&R(this.$c,a.$c)&&R(this.Rh,a.Rh)&&R(this.Sh,a.Sh);case Of:return R(this.H,a.H)&&R(this.I,a.I)&&R(this.Dc,a.Dc)&&R(this.$c,a.$c);case Pf:return R(this.Me,a.Me)&&R(this.Af,a.Af)&&R(this.oa,a.oa)&&R(this.xa,a.xa)&&R(this.radiusX,a.radiusX)&&R(this.radiusY,
a.radiusY);case Qf:return this.qm===a.qm&&this.Sx===a.Sx&&R(this.Xj,a.Xj)&&R(this.H,a.H)&&R(this.I,a.I)&&R(this.radiusX,a.radiusX)&&R(this.radiusY,a.radiusY);default:return!1}};Wf.prototype.pc=function(a){a.Pe===Wf?this.type=a:C.Vj(this,a)};
Wf.prototype.toString=function(a){void 0===a&&(a=-1);var b="";switch(this.type){case Mf:b=0>a?"M"+this.H.toString()+" "+this.I.toString():"M"+this.H.toFixed(a)+" "+this.I.toFixed(a);break;case mf:b=0>a?"L"+this.H.toString()+" "+this.I.toString():"L"+this.H.toFixed(a)+" "+this.I.toFixed(a);break;case Nf:b=0>a?"C"+this.Dc.toString()+" "+this.$c.toString()+" "+this.Rh.toString()+" "+this.Sh.toString()+" "+this.H.toString()+" "+this.I.toString():"C"+this.Dc.toFixed(a)+" "+this.$c.toFixed(a)+" "+this.Rh.toFixed(a)+
" "+this.Sh.toFixed(a)+" "+this.H.toFixed(a)+" "+this.I.toFixed(a);break;case Of:b=0>a?"Q"+this.Dc.toString()+" "+this.$c.toString()+" "+this.H.toString()+" "+this.I.toString():"Q"+this.Dc.toFixed(a)+" "+this.$c.toFixed(a)+" "+this.H.toFixed(a)+" "+this.I.toFixed(a);break;case Pf:b=0>a?"B"+this.Me.toString()+" "+this.Af.toString()+" "+this.oa.toString()+" "+this.xa.toString()+" "+this.radiusX:"B"+this.Me.toFixed(a)+" "+this.Af.toFixed(a)+" "+this.oa.toFixed(a)+" "+this.xa.toFixed(a)+" "+this.radiusX;
break;case Qf:b=0>a?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.Xj.toString()+" "+(this.Sx?1:0)+" "+(this.qm?1:0)+" "+this.H.toString()+" "+this.I.toString():"A"+this.radiusX.toFixed(a)+" "+this.radiusY.toFixed(a)+" "+this.Xj.toFixed(a)+" "+(this.Sx?1:0)+" "+(this.qm?1:0)+" "+this.H.toFixed(a)+" "+this.I.toFixed(a);break;default:b=this.type.toString()}return b+(this.ei?"z":"")};var Mf;Wf.Move=Mf=C.s(Wf,"Move",0);var mf;Wf.Line=mf=C.s(Wf,"Line",1);var Nf;
Wf.Bezier=Nf=C.s(Wf,"Bezier",2);var Of;Wf.QuadraticBezier=Of=C.s(Wf,"QuadraticBezier",3);var Pf;Wf.Arc=Pf=C.s(Wf,"Arc",4);var Qf;Wf.SvgArc=Qf=C.s(Wf,"SvgArc",4);Wf.prototype.freeze=function(){this.J=!0;return this};Wf.prototype.Za=function(){this.J=!1;return this};Wf.prototype.close=Wf.prototype.close=function(){this.ei=!0;return this};
function Rf(a,b){if(null!==a.tg&&!1===b.mb)return a.tg;var c=a.radiusX,d=a.radiusY;void 0===d&&(d=c);if(0===c||0===d)return a.tg=[],a.tg;var e=a.Qd,g=a.df,h=Se(c<d?c:d,a.Me,a.Me+a.Af,!1);if(c!==d){var k=C.Of();k.reset();c<d?k.scale(1,d/c):k.scale(c/d,1);sf(h,k);C.Ie(k)}c=h.length;for(d=0;d<c;d++)k=h[d],k[0]+=e,k[1]+=g,k[2]+=e,k[3]+=g,k[4]+=e,k[5]+=g,k[6]+=e,k[7]+=g;a.tg=h;return a.tg}
function Sf(a,b,c,d){function e(a,b,c,d){return(a*d<b*c?-1:1)*Math.acos((a*c+b*d)/(Math.sqrt(a*a+b*b)*Math.sqrt(c*c+d*d)))}if(null!==a.tg&&!1===b.mb)return a.tg;b=a.Bh;var g=a.Kg;if(0===b||0===g)return a.tg=[],a.tg;var h=Math.PI/180*a.Qd,k=a.op,l=a.Go,m=a.Bb,n=a.Ib,p=Math.cos(h),q=Math.sin(h),r=p*(c-m)/2+q*(d-n)/2,h=-q*(c-m)/2+p*(d-n)/2,s=r*r/(b*b)+h*h/(g*g);1<s&&(b*=Math.sqrt(s),g*=Math.sqrt(s));s=(k===l?-1:1)*Math.sqrt((b*b*g*g-b*b*h*h-g*g*r*r)/(b*b*h*h+g*g*r*r));isNaN(s)&&(s=0);k=s*b*h/g;s=s*-g*
r/b;isNaN(k)&&(k=0);isNaN(s)&&(s=0);c=(c+m)/2+p*k-q*s;d=(d+n)/2+q*k+p*s;n=e(1,0,(r-k)/b,(h-s)/g);p=(r-k)/b;m=(h-s)/g;r=(-r-k)/b;k=(-h-s)/g;h=e(p,m,r,k);r=(p*r+m*k)/(Math.sqrt(p*p+m*m)*Math.sqrt(r*r+k*k));-1>=r?h=Math.PI:1<=r&&(h=0);!l&&0<h&&(h-=2*Math.PI);l&&0>h&&(h+=2*Math.PI);l=b>g?1:b/g;r=b>g?g/b:1;b=Se(b>g?b:g,n,n+h,!0);g=C.Of();g.reset();g.translate(c,d);g.rotate(a.Qd,0,0);g.scale(l,r);sf(b,g);C.Ie(g);a.tg=b;return a.tg}
C.defineProperty(Wf,{Nx:"isClosed"},function(){return this.ei},function(a){this.ei!==a&&(this.ei=a,this.mb=!0)});C.defineProperty(Wf,{type:"type"},function(){return this.ca},function(a){u&&C.Ca(a,Wf,Wf,"type");this.J&&C.qa(this,a);this.ca=a;this.mb=!0});C.defineProperty(Wf,{H:"endX"},function(){return this.Bb},function(a){u&&C.p(a,Wf,"endX");this.J&&C.qa(this,a);this.Bb=a;this.mb=!0});
C.defineProperty(Wf,{I:"endY"},function(){return this.Ib},function(a){u&&C.p(a,Wf,"endY");this.J&&C.qa(this,a);this.Ib=a;this.mb=!0});C.defineProperty(Wf,{Dc:"point1X"},function(){return this.Qd},function(a){u&&C.p(a,Wf,"point1X");this.J&&C.qa(this,a);this.Qd=a;this.mb=!0});C.defineProperty(Wf,{$c:"point1Y"},function(){return this.df},function(a){u&&C.p(a,Wf,"point1Y");this.J&&C.qa(this,a);this.df=a;this.mb=!0});
C.defineProperty(Wf,{Rh:"point2X"},function(){return this.Bh},function(a){u&&C.p(a,Wf,"point2X");this.J&&C.qa(this,a);this.Bh=a;this.mb=!0});C.defineProperty(Wf,{Sh:"point2Y"},function(){return this.Kg},function(a){u&&C.p(a,Wf,"point2Y");this.J&&C.qa(this,a);this.Kg=a;this.mb=!0});C.defineProperty(Wf,{oa:"centerX"},function(){return this.Qd},function(a){u&&C.p(a,Wf,"centerX");this.J&&C.qa(this,a);this.Qd=a;this.mb=!0});
C.defineProperty(Wf,{xa:"centerY"},function(){return this.df},function(a){u&&C.p(a,Wf,"centerY");this.J&&C.qa(this,a);this.df=a;this.mb=!0});C.defineProperty(Wf,{radiusX:"radiusX"},function(){return this.Bh},function(a){u&&C.p(a,Wf,"radiusX");0>a&&C.wa(a,">= zero",Wf,"radiusX");this.J&&C.qa(this,a);this.Bh=a;this.mb=!0});C.defineProperty(Wf,{radiusY:"radiusY"},function(){return this.Kg},function(a){u&&C.p(a,Wf,"radiusY");0>a&&C.wa(a,">= zero",Wf,"radiusY");this.J&&C.qa(this,a);this.Kg=a;this.mb=!0});
C.defineProperty(Wf,{Me:"startAngle"},function(){return this.Bb},function(a){this.Bb!==a&&(this.J&&C.qa(this,a),u&&C.p(a,Wf,"startAngle"),a%=360,0>a&&(a+=360),this.Bb=a,this.mb=!0)});C.defineProperty(Wf,{Af:"sweepAngle"},function(){return this.Ib},function(a){u&&C.p(a,Wf,"sweepAngle");this.J&&C.qa(this,a);360<a&&(a=360);-360>a&&(a=-360);this.Ib=a;this.mb=!0});C.defineProperty(Wf,{qm:"isClockwiseArc"},function(){return this.Go},function(a){this.J&&C.qa(this,a);this.Go=a;this.mb=!0});
C.defineProperty(Wf,{Sx:"isLargeArc"},function(){return this.op},function(a){this.J&&C.qa(this,a);this.op=a;this.mb=!0});C.defineProperty(Wf,{Xj:"xAxisRotation"},function(){return this.Qd},function(a){u&&C.p(a,Wf,"xAxisRotation");a%=360;0>a&&(a+=360);this.J&&C.qa(this,a);this.Qd=a;this.mb=!0});
function Yf(){this.da=null;this.cA=(new O(0,0)).freeze();this.jz=(new O(0,0)).freeze();this.wv=this.pw=0;this.xv=1;this.ew="";this.Xw=this.Lv=!1;this.Iv=this.yv=0;this.Zj=this.Sv=this.bw=!1;this.Rr=null;this.Vw=0;this.Og=this.Uw=null}C.ka("InputEvent",Yf);
Yf.prototype.copy=function(){var a=new Yf;a.da=this.da;a.cA.assign(this.se);a.jz.assign(this.ha);a.pw=this.pw;a.wv=this.wv;a.xv=this.xv;a.ew=this.ew;a.Lv=this.Lv;a.Xw=this.Xw;a.yv=this.yv;a.Iv=this.Iv;a.bw=this.bw;a.Sv=this.Sv;a.Zj=this.Zj;a.Rr=this.Rr;a.Vw=this.Vw;a.Uw=this.Uw;a.Og=this.Og;return a};
Yf.prototype.toString=function(){var a="^";0!==this.Kd&&(a+="M:"+this.Kd);0!==this.button&&(a+="B:"+this.button);""!==this.key&&(a+="K:"+this.key);0!==this.Qe&&(a+="C:"+this.Qe);0!==this.fm&&(a+="D:"+this.fm);this.Oc&&(a+="h");this.bubbles&&(a+="b");null!==this.ha&&(a+="@"+this.ha.toString());return a};C.defineProperty(Yf,{g:"diagram"},function(){return this.da},function(a){this.da=a});C.defineProperty(Yf,{se:"viewPoint"},function(){return this.cA},function(a){C.l(a,O,Yf,"viewPoint");this.cA.assign(a)});
C.defineProperty(Yf,{ha:"documentPoint"},function(){return this.jz},function(a){C.l(a,O,Yf,"documentPoint");this.jz.assign(a)});Yf.prototype.getMultiTouchViewPoint=Yf.prototype.Ix=function(a,b){var c=this.g;if(null===c)return b;Zf(c,this.event,a,b);return b};Yf.prototype.getMultiTouchDocumentPoint=function(a,b){var c=this.g;if(null===c)return b;Zf(c,this.event,a,b);b.assign(c.NB(b));return b};C.defineProperty(Yf,{Kd:"modifiers"},function(){return this.pw},function(a){this.pw=a});
C.defineProperty(Yf,{button:"button"},function(){return this.wv},function(a){this.wv=a;if(null===this.event)switch(a){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}});C.defineProperty(Yf,{buttons:"buttons"},function(){return this.xv},function(a){this.xv=a});C.defineProperty(Yf,{key:"key"},function(){return this.ew},function(a){this.ew=a});C.defineProperty(Yf,{gm:"down"},function(){return this.Lv},function(a){this.Lv=a});
C.defineProperty(Yf,{up:"up"},function(){return this.Xw},function(a){this.Xw=a});C.defineProperty(Yf,{Qe:"clickCount"},function(){return this.yv},function(a){this.yv=a});C.defineProperty(Yf,{fm:"delta"},function(){return this.Iv},function(a){this.Iv=a});C.defineProperty(Yf,{wu:"isMultiTouch"},function(){return this.bw},function(a){this.bw=a});C.defineProperty(Yf,{Oc:"handled"},function(){return this.Sv},function(a){this.Sv=a});
C.defineProperty(Yf,{bubbles:"bubbles"},function(){return this.Zj},function(a){this.Zj=a});C.defineProperty(Yf,{event:"event"},function(){return this.Rr},function(a){this.Rr=a});C.w(Yf,{Jj:"isTouchEvent"},function(){var a=window.TouchEvent;return a&&this.event instanceof a?!0:(a=window.PointerEvent)&&this.event instanceof a&&"touch"===this.event.pointerType});C.w(Yf,{Uk:"isMac"},function(){return C.Uk});C.defineProperty(Yf,{timestamp:"timestamp"},function(){return this.Vw},function(a){this.Vw=a});
C.defineProperty(Yf,{eh:"targetDiagram"},function(){return this.Uw},function(a){this.Uw=a});C.defineProperty(Yf,{We:"targetObject"},function(){return this.Og},function(a){this.Og=a});C.defineProperty(Yf,{control:"control"},function(){return 0!==(this.Kd&1)},function(a){this.Kd=a?this.Kd|1:this.Kd&-2});C.defineProperty(Yf,{shift:"shift"},function(){return 0!==(this.Kd&4)},function(a){this.Kd=a?this.Kd|4:this.Kd&-5});
C.defineProperty(Yf,{alt:"alt"},function(){return 0!==(this.Kd&2)},function(a){this.Kd=a?this.Kd|2:this.Kd&-3});C.defineProperty(Yf,{Eu:"meta"},function(){return 0!==(this.Kd&8)},function(a){this.Kd=a?this.Kd|8:this.Kd&-9});C.defineProperty(Yf,{left:"left"},function(){var a=this.event;return null!==a&&a instanceof MouseEvent&&("mousedown"===a.type||"mouseup"===a.type)?0===this.button:0!==(this.buttons&1)},function(a){this.buttons=a?this.buttons|1:this.buttons&-2});
C.defineProperty(Yf,{right:"right"},function(){var a=this.event;return null!==a&&a instanceof MouseEvent&&("mousedown"===a.type||"mouseup"===a.type)?2===this.button:0!==(this.buttons&2)},function(a){this.buttons=a?this.buttons|2:this.buttons&-3});C.defineProperty(Yf,{YL:"middle"},function(){var a=this.event;return null!==a&&a instanceof MouseEvent&&("mousedown"===a.type||"mouseup"===a.type)?1===this.button:0!==(this.buttons&4)},function(a){this.buttons=a?this.buttons|4:this.buttons&-5});
function $f(){this.da=null;this.Yb="";this.yw=this.Sw=null;this.mr=!1}C.ka("DiagramEvent",$f);$f.prototype.copy=function(){var a=new $f;a.da=this.da;a.Yb=this.Yb;a.Sw=this.Sw;a.yw=this.yw;a.mr=this.mr;return a};$f.prototype.toString=function(){var a="*"+this.name;null!==this.HB&&(a+=":"+this.HB.toString());null!==this.lB&&(a+="("+this.lB.toString()+")");return a};C.defineProperty($f,{g:"diagram"},function(){return this.da},function(a){this.da=a});
C.defineProperty($f,{name:"name"},function(){return this.Yb},function(a){this.Yb=a});C.defineProperty($f,{HB:"subject"},function(){return this.Sw},function(a){this.Sw=a});C.defineProperty($f,{lB:"parameter"},function(){return this.yw},function(a){this.yw=a});C.defineProperty($f,{cancel:"cancel"},function(){return this.mr},function(a){this.mr!==a&&C.Nn("DiagramEvent.cancel","2.0");this.mr=a});function ag(){this.nr=bg;this.jn=this.ow="";this.Ls=this.Ms=this.Ps=this.Qs=this.Os=this.da=this.xe=null}
C.ka("ChangedEvent",ag);var rg;ag.Transaction=rg=C.s(ag,"Transaction",-1);var bg;ag.Property=bg=C.s(ag,"Property",0);var sg;ag.Insert=sg=C.s(ag,"Insert",1);var tg;ag.Remove=tg=C.s(ag,"Remove",2);ag.prototype.clear=ag.prototype.clear=function(){this.Ls=this.Ms=this.Ps=this.Qs=this.Os=this.da=this.xe=null};
ag.prototype.copy=function(){var a=new ag;a.nr=this.nr;a.ow=this.ow;a.jn=this.jn;a.xe=this.xe;a.da=this.da;a.Os=this.Os;var b=this.Qs;a.Qs=C.Xa(b)&&"function"===typeof b.V?b.V():b;b=this.Ps;a.Ps=C.Xa(b)&&"function"===typeof b.V?b.V():b;b=this.Ms;a.Ms=C.Xa(b)&&"function"===typeof b.V?b.V():b;b=this.Ls;a.Ls=C.Xa(b)&&"function"===typeof b.V?b.V():b;return a};ag.prototype.pc=function(a){a.Pe===ag?this.Lc=a:C.Vj(this,a)};
ag.prototype.toString=function(){var a="",a=this.Lc===rg?a+"* ":this.Lc===bg?a+(null!==this.ia?"!m":"!d"):a+((null!==this.ia?"!m":"!d")+this.Lc);this.propertyName&&"string"===typeof this.propertyName&&(a+=" "+this.propertyName);this.zf&&this.zf!==this.propertyName&&(a+=" "+this.zf);a+=": ";this.Lc===rg?null!==this.oldValue&&(a+=" "+this.oldValue):(null!==this.object&&(a+=ka(this.object)),null!==this.oldValue&&(a+="  old: "+ka(this.oldValue)),null!==this.Qj&&(a+=" "+this.Qj),null!==this.newValue&&
(a+="  new: "+ka(this.newValue)),null!==this.Oj&&(a+=" "+this.Oj));return a};ag.prototype.getValue=ag.prototype.pa=function(a){return a?this.oldValue:this.newValue};ag.prototype.getParam=function(a){return a?this.Qj:this.Oj};ag.prototype.canUndo=ag.prototype.canUndo=function(){return null!==this.ia||null!==this.g?!0:!1};ag.prototype.undo=ag.prototype.undo=function(){this.canUndo()&&(null!==this.ia?this.ia.En(this,!0):null!==this.g&&this.g.En(this,!0))};
ag.prototype.canRedo=ag.prototype.canRedo=function(){return null!==this.ia||null!==this.g?!0:!1};ag.prototype.redo=ag.prototype.redo=function(){this.canRedo()&&(null!==this.ia?this.ia.En(this,!1):null!==this.g&&this.g.En(this,!1))};C.defineProperty(ag,{ia:"model"},function(){return this.xe},function(a){this.xe=a});C.defineProperty(ag,{g:"diagram"},function(){return this.da},function(a){this.da=a});
C.defineProperty(ag,{Lc:"change"},function(){return this.nr},function(a){u&&C.Ca(a,ag,ag,"change");this.nr=a});C.defineProperty(ag,{zf:"modelChange"},function(){return this.ow},function(a){u&&C.h(a,"string",ag,"modelChange");this.ow=a});C.defineProperty(ag,{propertyName:"propertyName"},function(){return this.jn},function(a){u&&"string"!==typeof a&&C.h(a,"function",ag,"propertyName");this.jn=a});
C.w(ag,{NF:"isTransactionFinished"},function(){return this.nr===rg&&("CommittedTransaction"===this.jn||"FinishedUndo"===this.jn||"FinishedRedo"===this.jn)});C.defineProperty(ag,{object:"object"},function(){return this.Os},function(a){this.Os=a});C.defineProperty(ag,{oldValue:"oldValue"},function(){return this.Qs},function(a){this.Qs=a});C.defineProperty(ag,{Qj:"oldParam"},function(){return this.Ps},function(a){this.Ps=a});
C.defineProperty(ag,{newValue:"newValue"},function(){return this.Ms},function(a){this.Ms=a});C.defineProperty(ag,{Oj:"newParam"},function(){return this.Ls},function(a){this.Ls=a});
function M(a){1<arguments.length&&C.k("Model constructor can only take one optional argument, the Array of node data.");C.wc(this);this.Br=this.Yb="";this.aj=!1;this.Kz={};this.ye=[];this.Hc=new oa(null,Object);this.uk="key";this.Lo=this.sp=null;this.sr=this.tr=!1;this.er=null;this.dn="category";this.vg=new oa(null,L);this.qk=null;this.tj=!1;this.bA=null;this.sa=new ug;void 0!==a&&(this.mg=a)}C.ka("Model",M);
M.prototype.cloneProtected=function(a){a.Yb=this.Yb;a.Br=this.Br;a.aj=this.aj;a.uk=this.uk;a.sp=this.sp;a.Lo=this.Lo;a.tr=this.tr;a.sr=this.sr;a.er=this.er;a.dn=this.dn};M.prototype.copy=function(){var a=new this.constructor;this.cloneProtected(a);return a};M.prototype.clear=M.prototype.clear=function(){this.ye=[];this.Hc.clear();this.vg.clear();this.sa.clear()};f=M.prototype;
f.toString=function(a){void 0===a&&(a=0);if(1<a)return this.KB();var b=(""!==this.name?this.name:"")+" Model";if(0<a){b+="\n node data:";a=this.mg;for(var c=C.eb(a),d=0;d<c;d++)var e=C.Ma(a,d),b=b+(" "+this.Cb(e)+":"+ka(e))}return b};
f.vo=function(){var a="";""!==this.name&&(a+=',\n  "name": '+this.quote(this.name));""!==this.dm&&(a+=',\n  "dataFormat": '+this.quote(this.dm));this.nb&&(a+=',\n  "isReadOnly": '+this.nb);"key"!==this.Pj&&"string"===typeof this.Pj&&(a+=',\n  "nodeKeyProperty": '+this.quote(this.Pj));this.rA&&(a+=',\n  "copiesArrays": true');this.qA&&(a+=',\n  "copiesArrayObjects": true');"category"!==this.jo&&"string"===typeof this.jo&&(a+=',\n  "nodeCategoryProperty": '+this.quote(this.jo));return a};
f.Ou=function(a){a.name&&(this.name=a.name);a.dataFormat&&(this.dm=a.dataFormat);a.isReadOnly&&(this.nb=a.isReadOnly);a.nodeKeyProperty&&(this.Pj=a.nodeKeyProperty);a.copiesArrays&&(this.rA=a.copiesArrays);a.copiesArrayObjects&&(this.qA=a.copiesArrayObjects);a.nodeCategoryProperty&&(this.jo=a.nodeCategoryProperty)};function vg(a){return',\n  "modelData": '+wg(a,a.Xk)}function xg(a,b){var c=b.modelData;C.Xa(c)&&(a.Ru(c),a.Xk=c)}
f.UB=function(){var a=this.Xk,b=!1,c;for(c in a)if(!yg(c,a[c])){b=!0;break}a="";b&&(a=vg(this));return a+',\n  "nodeDataArray": '+zg(this,this.mg,!0)};f.oB=function(a){xg(this,a);a=a.nodeDataArray;C.isArray(a)&&(this.Ru(a),this.mg=a)};
function Ag(a,b,c,d){if(b===c)return!0;if(typeof b!==typeof c||"function"===typeof b||"function"===typeof c)return!1;if(Array.isArray(b)&&Array.isArray(c)){if(d.pa(b)===c)return!0;d.add(b,c);if(b.length!==c.length)return!1;for(var e=0;e<b.length;e++)if(!Ag(a,b[e],c[e],d))return!1;return!0}if(C.Xa(b)&&C.Xa(c)){if(d.pa(b)===c)return!0;d.add(b,c);for(e in b){var g=b[e];if(!yg(e,g)){var h=c[e];if(void 0===h||!Ag(a,g,h,d))return!1}}for(var k in c)if(h=c[k],!yg(k,h)&&(g=b[k],void 0===g||!Ag(a,g,h,d)))return!1;
return!0}return!1}function Bg(a,b,c){a[c]!==b[c]&&C.k("Model.computeJsonDifference: Model."+c+' is not the same in both models: "'+a[c]+'" and "'+b[c]+'"')}
f.VB=function(a){Bg(this,a,"nodeKeyProperty");this instanceof Cg&&Bg(this,a,"nodeParentKeyProperty");for(var b=new L,c=new L,d=(new L).Vc(this.Hc.OF),e=new oa,g=a.mg,h=0;h<g.length;h++){var k=g[h],l=a.Cb(k);if(void 0!==l){d.remove(l);var m=this.Ge(l);null===m?(b.add(l),c.add(k)):Ag(this,m,k,e)||c.add(k)}else this.ZA(k),l=this.Cb(k),b.add(l),c.add(k)}g="";Ag(this,this.Xk,a.Xk,e)||(g+=vg(this));0<b.count&&(g+=this.Oy+zg(this,b.nc(),!0));0<c.count&&(g+=this.cC+zg(this,c.nc(),!0));0<d.count&&(g+=this.Qy+
zg(this,d.nc(),!0));return g};M.prototype.computeJsonDifference=M.prototype.computeJSONDifference=function(a,b){C.l(a,M,M,"computeJsonDifference:newmodel");void 0===b&&(b=this.constructor===M?"go.Model":this.constructor===Y?"go.GraphLinksModel":this.constructor===Cg?"go.TreeModel":C.tf(this));return'{ "class": '+this.quote(b)+', "incremental": 1'+this.vo()+this.VB(a)+"}"};f=M.prototype;f.Oy=',\n  "insertedNodeKeys": ';f.cC=',\n  "modifiedNodeData": ';f.Qy=',\n  "removedNodeKeys": ';
f.TB=function(a,b){var c=this,d=!1,e=new L,g=new L,h=new L;a.ag.each(function(a){a.ia===c&&("nodeDataArray"===a.zf?a.Lc===sg?e.add(a.newValue):a.Lc===tg&&h.add(a.oldValue):c.je(a.object)?g.add(a.object):c.Xk===a.object&&a.Lc===bg&&(d=!0))});var k=new L;e.each(function(a){k.add(c.Cb(a));b||g.add(a)});var l=new L;h.each(function(a){l.add(c.Cb(a));b&&g.add(a)});var m="";d&&(m+=vg(this));0<k.count&&(m+=(b?this.Qy:this.Oy)+zg(this,k.nc(),!0));0<g.count&&(m+=this.cC+zg(this,g.nc(),!0));0<l.count&&(m+=(b?
this.Oy:this.Qy)+zg(this,l.nc(),!0));return m};
f.nB=function(a){xg(this,a);var b=a.insertedNodeKeys;if(C.isArray(b))for(var c=C.eb(b),d=0;d<c;d++){var e=C.Ma(b,d),g=this.Ge(e);null===g&&(g=this.copyNodeData({}),this.yy(g,e),this.Tl(g))}b=a.modifiedNodeData;if(C.isArray(b))for(c=C.eb(b),d=0;d<c;d++){var h=C.Ma(b,d),e=this.Cb(h),g=this.Ge(e);if(null!==g)for(var k in h)"__gohashid"!==k&&k!==this.Pj&&this.setDataProperty(g,k,h[k])}a=a.removedNodeKeys;if(C.isArray(a))for(c=C.eb(a),d=0;d<c;d++)e=C.Ma(a,d),g=this.Ge(e),null!==g&&this.qy(g)};
M.prototype.toIncrementalJson=M.prototype.toIncrementalJSON=function(a,b){C.l(a,ag,M,"toIncrementalJson:e");a.Lc!==rg&&C.k("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+a.toString());var c=a.object;if(!(a.NF&&c instanceof Dg))return'{ "incremental": 0 }';void 0===b&&(b=this.constructor===M?"go.Model":this.constructor===Y?"go.GraphLinksModel":this.constructor===Cg?"go.TreeModel":C.tf(this));return'{ "class": '+this.quote(b)+', "incremental": 1'+this.vo()+this.TB(c,"FinishedUndo"===
a.propertyName)+"}"};M.prototype.toJson=M.prototype.toJSON=M.prototype.KB=function(a){void 0===a&&(a=this.constructor===M?"go.Model":this.constructor===Y?"go.GraphLinksModel":this.constructor===Cg?"go.TreeModel":C.tf(this));return'{ "class": '+this.quote(a)+this.vo()+this.UB()+"}"};
M.prototype.applyIncrementalJson=M.prototype.applyIncrementalJSON=function(a){var b=null;if("string"===typeof a)if(window.JSON&&window.JSON.parse)try{b=window.JSON.parse(a)}catch(c){u&&C.trace("JSON.parse error: "+c.toString())}else C.trace("WARNING: no JSON.parse available");else"object"===typeof a?b=a:C.k("Unable to modify a Model from: "+a);var d=b.incremental;"number"!==typeof d&&C.k("Unable to apply non-incremental changes to Model: "+a);0!==d&&(this.ac("applyIncrementalJson"),this.nB(b),this.Ud("applyIncrementalJson"))};
M.fromJson=M.fromJSON=function(a,b){void 0===b&&(b=null);null!==b&&C.l(b,M,M,"fromJson:model");var c=null;if("string"===typeof a)if(window.JSON&&window.JSON.parse)try{c=window.JSON.parse(a)}catch(d){u&&C.trace("JSON.parse error: "+d.toString())}else C.trace("WARNING: no JSON.parse available");else"object"===typeof a?c=a:C.k("Unable to construct a Model from: "+a);if(null===b){var e;e=null;var g=c["class"];if("string"===typeof g)try{var h=null;0===g.indexOf("go.")?(g=g.substr(3),h=ca[g]):(h=ca[g],
void 0===h&&(h=window[g]));"function"===typeof h&&(e=new h)}catch(k){}null===e||e instanceof M?b=e:C.k("Unable to construct a Model of declared class: "+c["class"])}null===b&&(b=new Y);b.Ou(c);b.oB(c);return b};
M.prototype.replaceJsonObjects=M.prototype.Ru=function(a){if(C.isArray(a))for(var b=C.eb(a),c=0;c<b;c++){var d=C.Ma(a,c);C.Xa(d)&&C.BE(a,c,this.Ru(d))}else if(C.Xa(a)){for(c in a)d=a[c],C.Xa(d)&&(d=this.Ru(d),a[c]=d);if("object"===typeof a){d=a;c=a["class"];if("NaN"===c)d=NaN;else if("Date"===c)d=new Date(a.value);else if("go.Point"===c)d=new O(Eg(a.x),Eg(a.y));else if("go.Size"===c)d=new Fa(Eg(a.width),Eg(a.height));else if("go.Rect"===c)d=new z(Eg(a.x),Eg(a.y),Eg(a.width),Eg(a.height));else if("go.Margin"===
c)d=new Kb(Eg(a.top),Eg(a.right),Eg(a.bottom),Eg(a.left));else if("go.Spot"===c)d="string"===typeof a["enum"]?fc(a["enum"]):new S(Eg(a.x),Eg(a.y),Eg(a.offsetX),Eg(a.offsetY));else if("go.Brush"===c){if(d=new Ea,d.type=Ja(Ea,a.type),"string"===typeof a.color&&(d.color=a.color),a.start instanceof S&&(d.start=a.start),a.end instanceof S&&(d.end=a.end),"number"===typeof a.startRadius&&(d.av=Eg(a.startRadius)),"number"===typeof a.endRadius&&(d.cu=Eg(a.endRadius)),a=a.colorStops,C.Xa(a))for(b in a)d.addColorStop(parseFloat(b),
a[b])}else"go.Geometry"===c?(b=null,b="string"===typeof a.path?of(a.path):new Ve,b.type=Ja(Ve,a.type),"number"===typeof a.startX&&(b.na=Eg(a.startX)),"number"===typeof a.startY&&(b.la=Eg(a.startY)),"number"===typeof a.endX&&(b.H=Eg(a.endX)),"number"===typeof a.endY&&(b.I=Eg(a.endY)),a.spot1 instanceof S&&(b.C=a.spot1),a.spot2 instanceof S&&(b.D=a.spot2),d=b):"go.EnumValue"===c&&(b=a.classType,0===b.indexOf("go.")&&(b=b.substr(3)),d=Ja(ca[b],a.name));a=d}}return a};
M.prototype.quote=function(a){for(var b="",c=a.length,d=0;d<c;d++){var e=a[d];if('"'===e||"\\"===e)b+="\\"+e;else if("\b"===e)b+="\\b";else if("\f"===e)b+="\\f";else if("\n"===e)b+="\\n";else if("\r"===e)b+="\\r";else if("\t"===e)b+="\\t";else var g=a.charCodeAt(d),b=16>g?b+("\\u000"+a.charCodeAt(d).toString(16)):32>g?b+("\\u00"+a.charCodeAt(d).toString(16)):8232===g?b+"\\u2028":8233===g?b+"\\u2029":b+e}return'"'+b+'"'};
M.prototype.writeJsonValue=M.prototype.gv=function(a){return void 0===a?"undefined":null===a?"null":!0===a?"true":!1===a?"false":"string"===typeof a?this.quote(a):"number"===typeof a?Infinity===a?"9e9999":-Infinity===a?"-9e9999":isNaN(a)?'{"class":"NaN"}':a.toString():a instanceof Date?'{"class":"Date", "value":"'+a.toJSON()+'"}':a instanceof Number?this.gv(a.valueOf()):C.isArray(a)?zg(this,a):C.Xa(a)?wg(this,a):"function"===typeof a?"null":a.toString()};
function zg(a,b,c){void 0===c&&(c=!1);var d=C.eb(b);if(0>=d)return"[]";var e=new Ba;e.add("[ ");c&&1<d&&e.add("\n");for(var g=0;g<d;g++){var h=C.Ma(b,g);void 0!==h&&(0<g&&(e.add(","),c&&e.add("\n")),e.add(a.gv(h)))}c&&1<d&&e.add("\n");e.add(" ]");return e.toString()}function yg(a,b){return void 0===b||"__gohashid"===a||"_"===a[0]||"function"===typeof b?!0:!1}function Fg(a){return isNaN(a)?"NaN":Infinity===a?"9e9999":-Infinity===a?"-9e9999":a}
function wg(a,b){var c=b;if(c instanceof O){var d=c;b={"class":"go.Point",x:Fg(d.x),y:Fg(d.y)}}else if(c instanceof Fa){var e=c;b={"class":"go.Size",width:Fg(e.width),height:Fg(e.height)}}else if(c instanceof z)b={"class":"go.Rect",x:Fg(c.x),y:Fg(c.y),width:Fg(c.width),height:Fg(c.height)};else if(c instanceof Kb)b={"class":"go.Margin",top:Fg(c.top),right:Fg(c.right),bottom:Fg(c.bottom),left:Fg(c.left)};else if(c instanceof S)e=c,b=e.jd()?{"class":"go.Spot",x:Fg(e.x),y:Fg(e.y),offsetX:Fg(e.offsetX),
offsetY:Fg(e.offsetY)}:{"class":"go.Spot","enum":e.toString()};else if(c instanceof Ea){b={"class":"go.Brush",type:c.type.name};if(c.type===Zg)b.color=c.color;else if(c.type===$g||c.type===Bd)b.start=c.start,b.end=c.end,c.type===Bd&&(0!==c.av&&(b.startRadius=Fg(c.av)),isNaN(c.cu)||(b.endRadius=Fg(c.cu)));if(null!==c.Jk){for(var g={},h=c.Jk.j;h.next();)g[h.key]=h.value;b.colorStops=g}}else if(c instanceof Ve)b={"class":"go.Geometry",type:c.type.name},0!==c.na&&(b.startX=Fg(c.na)),0!==c.la&&(b.startY=
Fg(c.la)),0!==c.H&&(b.endX=Fg(c.H)),0!==c.I&&(b.endY=Fg(c.I)),c.C.O(hc)||(b.spot1=c.C),c.D.O(qc)||(b.spot2=c.D),c.type===We&&(b.path=nf(c));else if(c instanceof Ca)b={"class":"go.EnumValue",classType:C.tf(c.Pe),name:c.name};else if(c instanceof Q||c instanceof D||c instanceof ah||c instanceof M||c instanceof bh||c instanceof ta||c instanceof ch||c instanceof ya||c instanceof ug||c instanceof Dg)return C.trace("ERROR: trying to convert a GraphObject or Diagram or Model or Tool or Layout or UndoManager into JSON text: "+
c.toString()),"{}";g="{";c=!0;for(d in b)if(e=C.vb(b,d),!yg(d,e))if(c?c=!1:g+=", ",g+='"'+d+'":',"points"===d&&e instanceof K&&e.ca===O){h=e;e="[";for(h=h.j;h.next();){var k=h.value;1<e.length&&(e+=",");e+=a.gv(k.x);e+=",";e+=a.gv(k.y)}e+="]";g+=e}else g+=a.gv(e);return g+"}"}function Eg(a){return"number"===typeof a?a:"NaN"===a?NaN:"9e9999"===a?Infinity:"-9e9999"===a?-Infinity:parseFloat(a)}
C.defineProperty(M,{name:"name"},function(){return this.Yb},function(a){var b=this.Yb;b!==a&&(C.h(a,"string",M,"name"),this.Yb=a,this.i("name",b,a))});C.defineProperty(M,{dm:"dataFormat"},function(){return this.Br},function(a){var b=this.Br;b!==a&&(C.h(a,"string",M,"dataFormat"),this.Br=a,this.i("dataFormat",b,a))});C.defineProperty(M,{nb:"isReadOnly"},function(){return this.aj},function(a){var b=this.aj;b!==a&&(C.h(a,"boolean",M,"isReadOnly"),this.aj=a,this.i("isReadOnly",b,a))});
C.defineProperty(M,{Xk:"modelData"},function(){return this.Kz},function(a){var b=this.Kz;b!==a&&(C.h(a,"object",M,"modelData"),this.Kz=a,this.i("modelData",b,a),this.Mb(a))});M.prototype.addChangedListener=M.prototype.An=function(a){C.h(a,"function",M,"addChangedListener:listener");null===this.qk&&(this.qk=new K("function"));this.qk.add(a)};
M.prototype.removeChangedListener=M.prototype.Pu=function(a){C.h(a,"function",M,"removeChangedListener:listener");null!==this.qk&&(this.qk.remove(a),0===this.qk.count&&(this.qk=null))};M.prototype.mx=function(a){this.Eb||this.sa.wF(a);if(null!==this.qk){var b=this.qk,c=b.length;if(1===c)b=b.fa(0),b(a);else if(0!==c)for(var d=b.nc(),e=0;e<c;e++)b=d[e],b(a)}};M.prototype.raiseChangedEvent=M.prototype.ld=function(a,b,c,d,e,g,h){dh(this,"",a,b,c,d,e,g,h)};
M.prototype.raiseChanged=M.prototype.i=function(a,b,c,d,e){dh(this,"",bg,a,this,b,c,d,e)};M.prototype.raiseDataChanged=M.prototype.mB=function(a,b,c,d,e,g){dh(this,"",bg,b,a,c,d,e,g)};function dh(a,b,c,d,e,g,h,k,l){void 0===k&&(k=null);void 0===l&&(l=null);var m=new ag;m.ia=a;m.Lc=c;m.zf=b;m.propertyName=d;m.object=e;m.oldValue=g;m.Qj=k;m.newValue=h;m.Oj=l;a.mx(m)}
C.defineProperty(M,{sa:"undoManager"},function(){return this.bA},function(a){var b=this.bA;b!==a&&(C.l(a,ug,M,"undoManager"),null!==b&&b.YJ(this),this.bA=a,null!==a&&a.LH(this))});C.defineProperty(M,{Eb:"skipsUndoManager"},function(){return this.tj},function(a){C.h(a,"boolean",M,"skipsUndoManager");this.tj=a});
M.prototype.En=function(a,b){if(null!==a&&a.ia===this)if(a.Lc===bg){var c=a.object,d=a.propertyName,e=a.pa(b);C.Ua(c,d,e)}else a.Lc===sg?(c=a.Oj,"nodeDataArray"===a.zf?(d=a.newValue,C.Xa(d)&&"number"===typeof c&&(e=this.Cb(d),b?(C.Ma(this.ye,c)===d&&C.Sg(this.ye,c),void 0!==e&&this.Hc.remove(e)):(C.Ma(this.ye,c)!==d&&C.Hh(this.ye,c,d),void 0!==e&&this.Hc.add(e,d)))):""===a.zf?(d=a.object,!C.isArray(d)&&a.propertyName&&(d=C.vb(a.object,a.propertyName)),C.isArray(d)&&"number"===typeof c&&(e=a.newValue,
b?C.Sg(d,c):C.Hh(d,c,e))):C.k("unknown ChangedEvent.Insert modelChange: "+a.toString())):a.Lc===tg?(c=a.Qj,"nodeDataArray"===a.zf?(d=a.oldValue,C.Xa(d)&&"number"===typeof c&&(e=this.Cb(d),b?(C.Ma(this.ye,c)!==d&&C.Hh(this.ye,c,d),void 0!==e&&this.Hc.add(e,d)):(C.Ma(this.ye,c)===d&&C.Sg(this.ye,c),void 0!==e&&this.Hc.remove(e)))):""===a.zf?(d=a.object,!C.isArray(d)&&a.propertyName&&(d=C.vb(a.object,a.propertyName)),C.isArray(d)&&"number"===typeof c&&(e=a.oldValue,b?C.Hh(d,c,e):C.Sg(d,c))):C.k("unknown ChangedEvent.Remove modelChange: "+
a.toString())):a.Lc!==rg&&C.k("unknown ChangedEvent: "+a.toString())};M.prototype.startTransaction=M.prototype.ac=function(a){return this.sa.ac(a)};M.prototype.commitTransaction=M.prototype.Ud=function(a){return this.sa.Ud(a)};M.prototype.rollbackTransaction=M.prototype.Lq=function(){return this.sa.Lq()};M.prototype.updateTargetBindings=M.prototype.Mb=function(a,b){void 0===b&&(b="");dh(this,"SourceChanged",rg,b,a,null,null)};
C.defineProperty(M,{Pj:"nodeKeyProperty"},function(){return this.uk},function(a){var b=this.uk;b!==a&&(eh(a,M,"nodeKeyProperty"),""===a&&C.k("Model.nodeKeyProperty may not be the empty string"),0<this.Hc.count&&C.k("Cannot set Model.nodeKeyProperty when there is existing node data"),this.uk=a,this.i("nodeKeyProperty",b,a))});function eh(a,b,c){"string"!==typeof a&&"function"!==typeof a&&C.ic(a,"string or function",b,c)}
M.prototype.getKeyForNodeData=M.prototype.Cb=function(a){if(null!==a){var b=this.uk;if(""!==b&&(b=C.vb(a,b),void 0!==b)){if(fh(b))return b;C.k("Key value for node data "+a+" is not a number or a string: "+b)}}};
M.prototype.setKeyForNodeData=M.prototype.yy=function(a,b){void 0!==b&&null!==b&&fh(b)||C.ic(b,"number or string",M,"setKeyForNodeData:key");if(null!==a){var c=this.uk;if(""!==c)if(this.je(a)){var d=C.vb(a,c);d!==b&&null===this.Ge(b)&&(C.Ua(a,c,b),this.Hc.remove(d),this.Hc.add(b,a),dh(this,"nodeKey",bg,c,a,d,b),"string"===typeof c&&this.Mb(a,c),this.Qu(d,b))}else C.Ua(a,c,b)}};
C.defineProperty(M,{RL:"makeUniqueKeyFunction"},function(){return this.sp},function(a){var b=this.sp;b!==a&&(null!==a&&C.h(a,"function",M,"makeUniqueKeyFunction"),this.sp=a,this.i("makeUniqueKeyFunction",b,a))});function fh(a){return"number"===typeof a||"string"===typeof a}M.prototype.containsNodeData=M.prototype.je=function(a){var b=this.Cb(a);return void 0===b?!1:this.Hc.pa(b)===a};
M.prototype.findNodeDataForKey=M.prototype.Ge=function(a){null===a&&C.k("Model.findNodeDataForKey:key must not be null");return void 0!==a&&fh(a)?this.Hc.pa(a):null};
C.defineProperty(M,{mg:"nodeDataArray"},function(){return this.ye},function(a){var b=this.ye;if(b!==a){C.Ut(a,M,"nodeDataArray");this.Hc.clear();this.PB();for(var c=C.eb(a),d=0;d<c;d++){var e=C.Ma(a,d);if(!C.Xa(e)){C.k("Model.nodeDataArray must only contain Objects, not: "+e);return}C.oq(e)}this.ye=a;for(var g=new K(Object),d=0;d<c;d++){var e=C.Ma(a,d),h=this.Cb(e);void 0===h?g.add(e):null!==this.Hc.pa(h)?g.add(e):this.Hc.add(h,e)}for(d=g.j;d.next();)e=d.value,this.ZA(e),g=this.Cb(e),void 0!==g&&
this.Hc.add(g,e);dh(this,"nodeDataArray",bg,"nodeDataArray",this,b,a);for(d=0;d<c;d++)e=C.Ma(a,d),this.Kq(e),this.Jq(e);this.EE();C.fJ(a)||(this.nb=!0)}});
M.prototype.makeNodeDataKeyUnique=M.prototype.ZA=function(a){if(null!==a){var b=this.uk;if(""!==b){var c=this.Cb(a);if(void 0===c||this.Hc.contains(c)){var d=this.sp;if(null!==d&&(c=d(this,a),void 0!==c&&null!==c&&!this.Hc.contains(c))){C.Ua(a,b,c);return}if("string"===typeof c){for(d=2;this.Hc.contains(c+d);)d++;C.Ua(a,b,c+d)}else if(void 0===c||"number"===typeof c){for(d=-this.Hc.count-1;this.Hc.contains(d);)d--;C.Ua(a,b,d)}else C.k("Model.getKeyForNodeData returned something other than a string or a number: "+
c)}}}};M.prototype.addNodeData=M.prototype.Tl=function(a){null!==a&&(C.oq(a),this.je(a)||gh(this,a,!0))};function gh(a,b,c){var d=a.Cb(b);if(void 0===d||a.Hc.pa(d)!==b)a.ZA(b),d=a.Cb(b),void 0===d?C.k("Model.makeNodeDataKeyUnique failed on "+b+".  Data not added to Model."):(a.Hc.add(d,b),d=null,c&&(d=C.eb(a.ye),C.Hh(a.ye,d,b)),dh(a,"nodeDataArray",sg,"nodeDataArray",a,null,b,null,d),a.Kq(b),a.Jq(b))}
M.prototype.addNodeDataCollection=function(a){if(C.isArray(a))for(var b=C.eb(a),c=0;c<b;c++)this.Tl(C.Ma(a,c));else for(a=a.j;a.next();)this.Tl(a.value)};M.prototype.removeNodeData=M.prototype.qy=function(a){null!==a&&hh(this,a,!0)};function hh(a,b,c){var d=a.Cb(b);void 0!==d&&a.Hc.remove(d);d=null;if(c){d=C.Yl(a.ye,b);if(0>d)return;C.Sg(a.ye,d)}dh(a,"nodeDataArray",tg,"nodeDataArray",a,b,null,d,null);a.ev(b)}
M.prototype.removeNodeDataCollection=function(a){if(C.isArray(a))for(var b=C.eb(a),c=0;c<b;c++)this.qy(C.Ma(a,c));else for(a=a.j;a.next();)this.qy(a.value)};f=M.prototype;f.Qu=function(a,b){var c=ih(this,a);c instanceof L&&this.vg.add(b,c)};f.PB=function(){};f.Kq=function(){};f.Jq=function(){};f.ev=function(){};function jh(a,b,c){if(void 0!==b){var d=a.vg.pa(b);null===d&&(d=new L(Object),a.vg.add(b,d));d.add(c)}}
function kh(a,b,c){if(void 0!==b){var d=a.vg.pa(b);d instanceof L&&(void 0===c||null===c?a.vg.remove(b):(d.remove(c),0===d.count&&a.vg.remove(b)))}}function ih(a,b){if(void 0===b)return null;var c=a.vg.pa(b);return c instanceof L?c:null}M.prototype.clearUnresolvedReferences=M.prototype.EE=function(a){void 0===a?this.vg.clear():this.vg.remove(a)};
C.defineProperty(M,{hL:"copyNodeDataFunction"},function(){return this.Lo},function(a){var b=this.Lo;b!==a&&(null!==a&&C.h(a,"function",M,"copyNodeDataFunction"),this.Lo=a,this.i("copyNodeDataFunction",b,a))});C.defineProperty(M,{rA:"copiesArrays"},function(){return this.tr},function(a){var b=this.tr;b!==a&&(null!==a&&C.h(a,"boolean",M,"copiesArrays"),this.tr=a,this.i("copiesArrays",b,a))});
C.defineProperty(M,{qA:"copiesArrayObjects"},function(){return this.sr},function(a){var b=this.sr;b!==a&&(null!==a&&C.h(a,"boolean",M,"copiesArrayObjects"),this.sr=a,this.i("copiesArrayObjects",b,a))});M.prototype.copyNodeData=function(a){if(null===a)return null;var b=null,b=this.Lo,b=null!==b?b(a,this):lh(this,a,!0);C.Xa(b)&&C.wc(b);return b};
function lh(a,b,c){if(a.rA&&Array.isArray(b)){var d=[];for(c=0;c<b.length;c++){var e=lh(a,b[c],a.qA);d.push(e)}C.wc(d);return d}if(c&&C.Xa(b)){c=(c=b.constructor)?new c:{};for(d in b)if("__gohashid"!==d){var e=C.vb(b,d),g;g=e;g instanceof Q||g instanceof D||g instanceof ah||g instanceof mh||g instanceof nh||g instanceof bh||g instanceof ta||g instanceof ch||g instanceof Yf||g instanceof $f?("_"!==d[0]&&C.trace('Warning: found GraphObject or Diagram reference when copying model data on property "'+
d+'" of data object: '+b.toString()+"  \nModel data should not have any references to a Diagram or any part of a diagram, such as: "+g.toString()),g=!0):g=g instanceof M||g instanceof ug||g instanceof Dg||g instanceof ag?!0:!1;g||(e=lh(a,e,!1));C.Ua(c,d,e)}C.wc(c);return c}return b instanceof O?b.copy():b instanceof Fa?b.copy():b instanceof z?b.copy():b instanceof S?b.copy():b instanceof Kb?b.copy():b}
C.defineProperty(M,{NH:"afterCopyFunction"},function(){return this.er},function(a){var b=this.er;b!==a&&(null!==a&&C.h(a,"function",M,"afterCopyFunction"),this.er=a,this.i("afterCopyFunction",b,a))});var oh=!1;
M.prototype.setDataProperty=function(a,b,c){u&&(C.h(a,"object",M,"setDataProperty:data"),C.h(b,"string",M,"setDataProperty:propname"),""===b&&C.k("Model.setDataProperty: property name must not be an empty string when setting "+a+" to "+c));if(this.je(a))if(b===this.Pj)this.yy(a,c);else{if(b===this.jo){this.xy(a,c);return}}else!oh&&a instanceof Q&&(oh=!0,C.trace('Model.setDataProperty is modifying a GraphObject, "'+a.toString()+'"'),C.trace("  Is that really your intent?"));var d=C.vb(a,b);d!==c&&
(C.Ua(a,b,c),this.mB(a,b,d,c))};M.prototype.addArrayItem=function(a,b){this.PA(a,-1,b)};M.prototype.insertArrayItem=M.prototype.PA=function(a,b,c){u&&(C.Ut(a,M,"insertArrayItem:arr"),C.p(b,M,"insertArrayItem:idx"));a===this.ye&&C.k("Model.insertArrayItem or Model.addArrayItem should not be called on the Model.nodeDataArray");0>b&&(b=C.eb(a));C.Hh(a,b,c);dh(this,"",sg,"",a,null,c,null,b)};
M.prototype.removeArrayItem=M.prototype.hG=function(a,b){void 0===b&&(b=-1);u&&(C.Ut(a,M,"removeArrayItem:arr"),C.p(b,M,"removeArrayItem:idx"));a===this.ye&&C.k("Model.removeArrayItem should not be called on the Model.nodeDataArray");-1===b&&(b=C.eb(a)-1);var c=C.Ma(a,b);C.Sg(a,b);dh(this,"",tg,"",a,c,null,b,null)};C.defineProperty(M,{jo:"nodeCategoryProperty"},function(){return this.dn},function(a){var b=this.dn;b!==a&&(eh(a,M,"nodeCategoryProperty"),this.dn=a,this.i("nodeCategoryProperty",b,a))});
M.prototype.getCategoryForNodeData=M.prototype.IA=function(a){if(null===a)return"";var b=this.dn;if(""===b)return"";b=C.vb(a,b);if(void 0===b)return"";if("string"===typeof b)return b;C.k("getCategoryForNodeData found a non-string category for "+a+": "+b);return""};
M.prototype.setCategoryForNodeData=M.prototype.xy=function(a,b){C.h(b,"string",M,"setCategoryForNodeData:cat");if(null!==a){var c=this.dn;if(""!==c)if(this.je(a)){var d=C.vb(a,c);void 0===d&&(d="");d!==b&&(C.Ua(a,c,b),dh(this,"nodeCategory",bg,c,a,d,b))}else C.Ua(a,c,b)}};
function Y(a,b){2<arguments.length&&C.k("GraphLinksModel constructor can only take two optional arguments, the Array of node data and the Array of link data.");M.call(this);this.bf=[];this.hi=new L(Object);this.qd=new oa(null,Object);this.Fl="";this.ol=this.Ko=this.tp=null;this.ii="from";this.ji="to";this.$m=this.Zm="";this.Ym="category";this.Gg="";this.xp="isGroup";this.yh="group";this.ur=!1;void 0!==a&&(this.mg=a);void 0!==b&&(this.Yg=b)}C.Ta(Y,M);C.ka("GraphLinksModel",Y);
Y.prototype.cloneProtected=function(a){M.prototype.cloneProtected.call(this,a);a.Fl=this.Fl;a.tp=this.tp;a.Ko=this.Ko;a.ii=this.ii;a.ji=this.ji;a.Zm=this.Zm;a.$m=this.$m;a.Ym=this.Ym;a.Gg=this.Gg;a.xp=this.xp;a.yh=this.yh;a.ur=this.ur};Y.prototype.clear=Y.prototype.clear=function(){M.prototype.clear.call(this);this.bf=[];this.qd.clear();this.hi.clear()};f=Y.prototype;
f.toString=function(a){void 0===a&&(a=0);if(2<=a)return this.KB();var b=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<a){b+="\n node data:";a=this.mg;for(var c=C.eb(a),d=0,d=0;d<c;d++)var e=C.Ma(a,d),b=b+(" "+this.Cb(e)+":"+ka(e));b+="\n link data:";a=this.Yg;c=C.eb(a);for(d=0;d<c;d++)e=C.Ma(a,d),b+=" "+this.mm(e)+"--\x3e"+this.nm(e)}return b};
f.vo=function(){var a=M.prototype.vo.call(this),b="";"category"!==this.Au&&"string"===typeof this.Au&&(b+=',\n  "linkCategoryProperty": '+this.quote(this.Au));""!==this.Mj&&"string"===typeof this.Mj&&(b+=',\n  "linkKeyProperty": '+this.quote(this.Mj));"from"!==this.co&&"string"===typeof this.co&&(b+=',\n  "linkFromKeyProperty": '+this.quote(this.co));"to"!==this.eo&&"string"===typeof this.eo&&(b+=',\n  "linkToKeyProperty": '+this.quote(this.eo));""!==this.Bu&&"string"===typeof this.Bu&&(b+=',\n  "linkFromPortIdProperty": '+
this.quote(this.Bu));""!==this.Du&&"string"===typeof this.Du&&(b+=',\n  "linkToPortIdProperty": '+this.quote(this.Du));""!==this.Cu&&"string"===typeof this.Cu&&(b+=',\n  "linkLabelKeysProperty": '+this.quote(this.Cu));"isGroup"!==this.Ku&&"string"===typeof this.Ku&&(b+=',\n  "nodeIsGroupProperty": '+this.quote(this.Ku));"group"!==this.Ju&&"string"===typeof this.Ju&&(b+=',\n  "nodeGroupKeyProperty": '+this.quote(this.Ju));return a+b};
f.Ou=function(a){M.prototype.Ou.call(this,a);a.linkKeyProperty&&(this.Mj=a.linkKeyProperty);a.linkFromKeyProperty&&(this.co=a.linkFromKeyProperty);a.linkToKeyProperty&&(this.eo=a.linkToKeyProperty);a.linkFromPortIdProperty&&(this.Bu=a.linkFromPortIdProperty);a.linkToPortIdProperty&&(this.Du=a.linkToPortIdProperty);a.linkCategoryProperty&&(this.Au=a.linkCategoryProperty);a.linkLabelKeysProperty&&(this.Cu=a.linkLabelKeysProperty);a.nodeIsGroupProperty&&(this.Ku=a.nodeIsGroupProperty);a.nodeGroupKeyProperty&&
(this.Ju=a.nodeGroupKeyProperty)};f.UB=function(){var a=M.prototype.UB.call(this),b=',\n  "linkDataArray": '+zg(this,this.Yg,!0);return a+b};f.oB=function(a){M.prototype.oB.call(this,a);a=a.linkDataArray;C.isArray(a)&&(this.Ru(a),this.Yg=a)};
f.VB=function(a){a instanceof Y||C.k("Model.computeJsonDifference: newmodel must be a GraphLinksModel");""===this.Mj&&C.k("GraphLinksModel.linkKeyProperty must not be an empty string for .computeJsonDifference() to succeed.");var b=M.prototype.VB.call(this,a);Bg(this,a,"linkKeyProperty");Bg(this,a,"linkFromKeyProperty");Bg(this,a,"linkToKeyProperty");Bg(this,a,"linkLabelKeysProperty");Bg(this,a,"nodeIsGroupProperty");Bg(this,a,"nodeGroupKeyProperty");for(var c=new L,d=new L,e=(new L).Vc(this.qd.OF),
g=new oa,h=a.Yg,k=0;k<h.length;k++){var l=h[k],m=a.dg(l);if(void 0!==m){e.remove(m);var n=this.jq(m);null===n?(c.add(m),d.add(l)):Ag(this,n,l,g)||d.add(l)}else this.YA(l),m=this.dg(l),c.add(m),d.add(l)}a=b;0<c.count&&(a+=this.Ny+zg(this,c.nc(),!0));0<d.count&&(a+=this.bC+zg(this,d.nc(),!0));0<e.count&&(a+=this.Py+zg(this,e.nc(),!0));return a};f.Ny=',\n  "insertedLinkKeys": ';f.bC=',\n  "modifiedLinkData": ';f.Py=',\n  "removedLinkKeys": ';
f.TB=function(a,b){""===this.Mj&&C.k("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.");var c=M.prototype.TB.call(this,a,b),d=this,e=new L,g=new L,h=new L;a.ag.each(function(a){a.ia===d&&("linkDataArray"===a.zf?a.Lc===sg?e.add(a.newValue):a.Lc===tg&&h.add(a.oldValue):d.Kh(a.object)&&g.add(a.object))});var k=new L;e.each(function(a){k.add(d.dg(a));b||g.add(a)});var l=new L;h.each(function(a){l.add(d.dg(a));b&&g.add(a)});0<k.count&&(c+=(b?this.Py:this.Ny)+
zg(this,k.nc(),!0));0<g.count&&(c+=this.bC+zg(this,g.nc(),!0));0<l.count&&(c+=(b?this.Ny:this.Py)+zg(this,l.nc(),!0));return c};
f.nB=function(a){M.prototype.nB.call(this,a);var b=a.insertedLinkKeys;if(C.isArray(b))for(var c=C.eb(b),d=0;d<c;d++){var e=C.Ma(b,d),g=this.jq(e);null===g&&(g=this.qx({}),this.EG(g,e),this.Nt(g))}b=a.modifiedLinkData;if(C.isArray(b))for(c=C.eb(b),d=0;d<c;d++){var h=C.Ma(b,d),e=this.dg(h),g=this.jq(e);if(null!==g)for(var k in h)"__gohashid"!==k&&k!==this.Mj&&this.setDataProperty(g,k,h[k])}a=a.removedLinkKeys;if(C.isArray(a))for(c=C.eb(a),d=0;d<c;d++)e=C.Ma(a,d),g=this.jq(e),null!==g&&this.py(g)};
f.En=function(a,b){if(a.Lc===sg){var c=a.Oj;if("linkDataArray"===a.zf){var d=a.newValue;if(C.Xa(d)&&"number"===typeof c){var e=this.dg(d);b?(this.hi.remove(d),C.Ma(this.bf,c)===d&&C.Sg(this.bf,c),void 0!==e&&this.qd.remove(e)):(this.hi.add(d),C.Ma(this.bf,c)!==d&&C.Hh(this.bf,c,d),void 0!==e&&this.qd.add(e,d))}return}if("linkLabelKeys"===a.zf){d=this.Rk(a.object);C.isArray(d)&&"number"===typeof c&&(b?(c=C.Yl(d,a.newValue),0<=c&&C.Sg(d,c)):0>C.Yl(d,a.newValue)&&C.Hh(d,c,a.newValue));return}}else if(a.Lc===
tg){c=a.Qj;if("linkDataArray"===a.zf){d=a.oldValue;C.Xa(d)&&"number"===typeof c&&(e=this.dg(d),b?(this.hi.add(d),C.Ma(this.bf,c)!==d&&C.Hh(this.bf,c,d),void 0!==e&&this.qd.add(e,d)):(this.hi.remove(d),C.Ma(this.bf,c)===d&&C.Sg(this.bf,c),void 0!==e&&this.qd.remove(e)));return}if("linkLabelKeys"===a.zf){d=this.Rk(a.object);C.isArray(d)&&"number"===typeof c&&(b?0>C.Yl(d,a.newValue)&&C.Hh(d,c,a.newValue):(c=C.Yl(d,a.newValue),0<=c&&C.Sg(d,c)));return}}M.prototype.En.call(this,a,b)};
C.defineProperty(Y,{jA:"archetypeNodeData"},function(){return this.ol},function(a){var b=this.ol;b!==a&&(null!==a&&C.l(a,Object,Y,"archetypeNodeData"),this.ol=a,this.i("archetypeNodeData",b,a))});Y.prototype.ho=function(a){if(void 0!==a){var b=this.ol;if(null!==b){var c=this.Ge(a);null===c&&(c=this.copyNodeData(b),C.Ua(c,this.uk,a),this.Tl(c))}return a}};
C.defineProperty(Y,{co:"linkFromKeyProperty"},function(){return this.ii},function(a){var b=this.ii;b!==a&&(eh(a,Y,"linkFromKeyProperty"),this.ii=a,this.i("linkFromKeyProperty",b,a))});Y.prototype.getFromKeyForLinkData=Y.prototype.mm=function(a){if(null!==a){var b=this.ii;if(""!==b&&(b=C.vb(a,b),void 0!==b)){if(fh(b))return b;C.k("FromKey value for link data "+a+" is not a number or a string: "+b)}}};
Y.prototype.setFromKeyForLinkData=Y.prototype.xB=function(a,b){null===b&&(b=void 0);void 0===b||fh(b)||C.ic(b,"number or string",Y,"setFromKeyForLinkData:key");if(null!==a){var c=this.ii;if(""!==c)if(b=this.ho(b),this.Kh(a)){var d=C.vb(a,c);d!==b&&(kh(this,d,a),C.Ua(a,c,b),null===this.Ge(b)&&jh(this,b,a),dh(this,"linkFromKey",bg,c,a,d,b),"string"===typeof c&&this.Mb(a,c))}else C.Ua(a,c,b)}};
C.defineProperty(Y,{eo:"linkToKeyProperty"},function(){return this.ji},function(a){var b=this.ji;b!==a&&(eh(a,Y,"linkToKeyProperty"),this.ji=a,this.i("linkToKeyProperty",b,a))});Y.prototype.getToKeyForLinkData=Y.prototype.nm=function(a){if(null!==a){var b=this.ji;if(""!==b&&(b=C.vb(a,b),void 0!==b)){if(fh(b))return b;C.k("ToKey value for link data "+a+" is not a number or a string: "+b)}}};
Y.prototype.setToKeyForLinkData=Y.prototype.DB=function(a,b){null===b&&(b=void 0);void 0===b||fh(b)||C.ic(b,"number or string",Y,"setToKeyForLinkData:key");if(null!==a){var c=this.ji;if(""!==c)if(b=this.ho(b),this.Kh(a)){var d=C.vb(a,c);d!==b&&(kh(this,d,a),C.Ua(a,c,b),null===this.Ge(b)&&jh(this,b,a),dh(this,"linkToKey",bg,c,a,d,b),"string"===typeof c&&this.Mb(a,c))}else C.Ua(a,c,b)}};
C.defineProperty(Y,{Bu:"linkFromPortIdProperty"},function(){return this.Zm},function(a){var b=this.Zm;b!==a&&(eh(a,Y,"linkFromPortIdProperty"),a!==this.co&&a!==this.eo||C.k("linkFromPortIdProperty name must not be the same as the GraphLinksModel.linkFromKeyProperty or linkToKeyProperty: "+a),this.Zm=a,this.i("linkFromPortIdProperty",b,a))});Y.prototype.getFromPortIdForLinkData=Y.prototype.JI=function(a){if(null===a)return"";var b=this.Zm;if(""===b)return"";a=C.vb(a,b);return void 0===a?"":a};
Y.prototype.setFromPortIdForLinkData=Y.prototype.yB=function(a,b){C.h(b,"string",Y,"setFromPortIdForLinkData:portname");if(null!==a){var c=this.Zm;if(""!==c)if(this.Kh(a)){var d=C.vb(a,c);void 0===d&&(d="");d!==b&&(C.Ua(a,c,b),dh(this,"linkFromPortId",bg,c,a,d,b),"string"===typeof c&&this.Mb(a,c))}else C.Ua(a,c,b)}};
C.defineProperty(Y,{Du:"linkToPortIdProperty"},function(){return this.$m},function(a){var b=this.$m;b!==a&&(eh(a,Y,"linkToPortIdProperty"),a!==this.co&&a!==this.eo||C.k("linkFromPortIdProperty name must not be the same as the GraphLinksModel.linkFromKeyProperty or linkToKeyProperty: "+a),this.$m=a,this.i("linkToPortIdProperty",b,a))});Y.prototype.getToPortIdForLinkData=Y.prototype.NI=function(a){if(null===a)return"";var b=this.$m;if(""===b)return"";a=C.vb(a,b);return void 0===a?"":a};
Y.prototype.setToPortIdForLinkData=Y.prototype.EB=function(a,b){C.h(b,"string",Y,"setToPortIdForLinkData:portname");if(null!==a){var c=this.$m;if(""!==c)if(this.Kh(a)){var d=C.vb(a,c);void 0===d&&(d="");d!==b&&(C.Ua(a,c,b),dh(this,"linkToPortId",bg,c,a,d,b),"string"===typeof c&&this.Mb(a,c))}else C.Ua(a,c,b)}};C.defineProperty(Y,{Cu:"linkLabelKeysProperty"},function(){return this.Gg},function(a){var b=this.Gg;b!==a&&(eh(a,Y,"linkLabelKeysProperty"),this.Gg=a,this.i("linkLabelKeysProperty",b,a))});
Y.prototype.getLabelKeysForLinkData=Y.prototype.Rk=function(a){if(null===a)return C.bl;var b=this.Gg;if(""===b)return C.bl;a=C.vb(a,b);return void 0===a?C.bl:a};
Y.prototype.setLabelKeysForLinkData=Y.prototype.FG=function(a,b){C.Ut(b,Y,"setLabelKeysForLinkData:arr");if(null!==a){var c=this.Gg;if(""!==c)if(this.Kh(a)){var d=C.vb(a,c);void 0===d&&(d=C.bl);if(d!==b){for(var e=C.eb(d),g=0;g<e;g++){var h=C.Ma(d,g);kh(this,h,a)}C.Ua(a,c,b);e=C.eb(b);for(g=0;g<e;g++)h=C.Ma(b,g),null===this.Ge(h)&&jh(this,h,a);dh(this,"linkLabelKeys",bg,c,a,d,b);"string"===typeof c&&this.Mb(a,c)}}else C.Ua(a,c,b)}};
Y.prototype.addLabelKeyForLinkData=Y.prototype.uE=function(a,b){if(null!==b&&void 0!==b&&(fh(b)||C.ic(b,"number or string",Y,"addLabelKeyForLinkData:key"),null!==a)){var c=this.Gg;if(""!==c){var d=C.vb(a,c);if(void 0===d)c=[],c.push(b),this.FG(a,c);else if(C.isArray(d)){var e=C.Yl(d,b);0<=e||(e=C.eb(d),C.Hh(d,Infinity,b),this.Kh(a)&&(null===this.Ge(b)&&jh(this,b,a),dh(this,"linkLabelKeys",sg,c,a,null,b,null,e)))}else C.k(c+" property is not an Array; cannot addLabelKeyForLinkData: "+a)}}};
Y.prototype.removeLabelKeyForLinkData=Y.prototype.XJ=function(a,b){if(null!==b&&void 0!==b&&(fh(b)||C.ic(b,"number or string",Y,"removeLabelKeyForLinkData:key"),null!==a)){var c=this.Gg;if(""!==c){var d=C.vb(a,c);if(C.isArray(d)){var e=C.Yl(d,b);0>e||(C.Sg(d,e),this.Kh(a)&&(kh(this,b,a),dh(this,"linkLabelKeys",tg,c,a,b,null,e,null)))}else void 0!==d&&C.k(c+" property is not an Array; cannot removeLabelKeyforLinkData: "+a)}}};
C.defineProperty(Y,{Yg:"linkDataArray"},function(){return this.bf},function(a){var b=this.bf;if(b!==a){C.Ut(a,Y,"linkDataArray");this.qd.clear();for(var c=C.eb(a),d=0;d<c;d++){var e=C.Ma(a,d);if(!C.Xa(e)){C.k("GraphLinksModel.linkDataArray must only contain Objects, not: "+e);return}C.oq(e)}this.bf=a;if(""!==this.Mj){for(var g=new K(Object),d=0;d<c;d++){var e=C.Ma(a,d),h=this.dg(e);void 0===h?g.add(e):null!==this.qd.pa(h)?g.add(e):this.qd.add(h,e)}for(d=g.j;d.next();)e=d.value,this.YA(e),g=this.dg(e),
void 0!==g&&this.qd.add(g,e)}g=new L(Object);for(d=0;d<c;d++)e=C.Ma(a,d),g.add(e);this.hi=g;dh(this,"linkDataArray",bg,"linkDataArray",this,b,a);for(d=0;d<c;d++)e=C.Ma(a,d),ph(this,e)}});C.defineProperty(Y,{Mj:"linkKeyProperty"},function(){return this.Fl},function(a){var b=this.Fl;if(b!==a){eh(a,Y,"linkKeyProperty");this.Fl=a;this.qd.clear();for(var c=C.eb(this.Yg),d=0;d<c;d++){var e=C.Ma(this.Yg,d),g=this.dg(e);void 0!==g&&this.qd.add(g,e)}this.i("linkKeyProperty",b,a)}});
Y.prototype.getKeyForLinkData=Y.prototype.dg=function(a){if(null!==a){var b=this.Fl;if(""!==b&&(b=C.vb(a,b),void 0!==b)){if(fh(b))return b;C.k("Key value for link data "+a+" is not a number or a string: "+b)}}};
Y.prototype.setKeyForLinkData=Y.prototype.EG=function(a,b){void 0!==b&&null!==b&&fh(b)||C.ic(b,"number or string",Y,"setKeyForLinkData:key");if(null!==a){var c=this.Fl;if(""!==c)if(this.Kh(a)){var d=C.vb(a,c);d!==b&&null===this.jq(b)&&(C.Ua(a,c,b),this.qd.remove(d),this.qd.add(b,a),dh(this,"linkKey",bg,c,a,d,b),"string"===typeof c&&this.Mb(a,c))}else C.Ua(a,c,b)}};
C.defineProperty(Y,{SL:"makeUniqueLinkKeyFunction"},function(){return this.tp},function(a){var b=this.tp;b!==a&&(null!==a&&C.h(a,"function",Y,"makeUniqueLinkKeyFunction"),this.tp=a,this.i("makeUniqueLinkKeyFunction",b,a))});Y.prototype.findLinkDataForKey=Y.prototype.jq=function(a){null===a&&C.k("GraphLinksModel.findLinkDataForKey:key must not be null");return void 0!==a&&fh(a)?this.qd.pa(a):null};
Y.prototype.makeLinkDataKeyUnique=Y.prototype.YA=function(a){if(null!==a){var b=this.Fl;if(""!==b){var c=this.dg(a);if(void 0===c||this.qd.contains(c)){var d=this.tp;if(null!==d&&(c=d(this,a),void 0!==c&&null!==c&&!this.qd.contains(c))){C.Ua(a,b,c);return}if("string"===typeof c){for(d=2;this.qd.contains(c+d);)d++;C.Ua(a,b,c+d)}else if(void 0===c||"number"===typeof c){for(d=-this.qd.count-1;this.qd.contains(d);)d--;C.Ua(a,b,d)}else C.k("GraphLinksModel.getKeyForLinkData returned something other than a string or a number: "+
c)}}}};Y.prototype.containsLinkData=Y.prototype.Kh=function(a){return null===a?!1:this.hi.contains(a)};Y.prototype.addLinkData=Y.prototype.Nt=function(a){null!==a&&(C.oq(a),this.Kh(a)||qh(this,a,!0))};
function qh(a,b,c){if(""!==a.Mj){var d=a.dg(b);if(void 0!==d&&a.qd.pa(d)===b)return;a.YA(b);d=a.dg(b);if(void 0===d){C.k("GraphLinksModel.makeLinkDataKeyUnique failed on "+b+". Data not added to model.");return}a.qd.add(d,b)}a.hi.add(b);d=null;c&&(d=C.eb(a.bf),C.Hh(a.bf,d,b));dh(a,"linkDataArray",sg,"linkDataArray",a,null,b,null,d);ph(a,b)}Y.prototype.addLinkDataCollection=function(a){if(C.isArray(a))for(var b=C.eb(a),c=0;c<b;c++)this.Nt(C.Ma(a,c));else for(a=a.j;a.next();)this.Nt(a.value)};
Y.prototype.removeLinkData=Y.prototype.py=function(a){null!==a&&rh(this,a,!0)};function rh(a,b,c){a.hi.remove(b);var d=a.dg(b);void 0!==d&&a.qd.remove(d);d=null;if(c){d=C.Yl(a.bf,b);if(0>d)return;C.Sg(a.bf,d)}dh(a,"linkDataArray",tg,"linkDataArray",a,b,null,d,null);c=a.mm(b);kh(a,c,b);c=a.nm(b);kh(a,c,b);d=a.Rk(b);if(C.isArray(d))for(var e=C.eb(d),g=0;g<e;g++)c=C.Ma(d,g),kh(a,c,b)}
Y.prototype.removeLinkDataCollection=function(a){if(C.isArray(a))for(var b=C.eb(a),c=0;c<b;c++)this.py(C.Ma(a,c));else for(a=a.j;a.next();)this.py(a.value)};function ph(a,b){var c=a.mm(b),c=a.ho(c);null===a.Ge(c)&&jh(a,c,b);c=a.nm(b);c=a.ho(c);null===a.Ge(c)&&jh(a,c,b);var d=a.Rk(b);if(C.isArray(d))for(var e=C.eb(d),g=0;g<e;g++)c=C.Ma(d,g),null===a.Ge(c)&&jh(a,c,b)}
C.defineProperty(Y,{gL:"copyLinkDataFunction"},function(){return this.Ko},function(a){var b=this.Ko;b!==a&&(null!==a&&C.h(a,"function",Y,"copyLinkDataFunction"),this.Ko=a,this.i("copyLinkDataFunction",b,a))});Y.prototype.copyLinkData=Y.prototype.qx=function(a){if(null===a)return null;var b=null,b=this.Ko,b=null!==b?b(a,this):lh(this,a,!0);C.Xa(b)&&(C.wc(b),""!==this.ii&&C.Ua(b,this.ii,void 0),""!==this.ji&&C.Ua(b,this.ji,void 0),""!==this.Gg&&C.Ua(b,this.Gg,[]));return b};
C.defineProperty(Y,{Ku:"nodeIsGroupProperty"},function(){return this.xp},function(a){var b=this.xp;b!==a&&(eh(a,Y,"nodeIsGroupProperty"),this.xp=a,this.i("nodeIsGroupProperty",b,a))});Y.prototype.isGroupForNodeData=Y.prototype.SA=function(a){if(null===a)return!1;var b=this.xp;return""===b?!1:C.vb(a,b)?!0:!1};C.defineProperty(Y,{Ju:"nodeGroupKeyProperty"},function(){return this.yh},function(a){var b=this.yh;b!==a&&(eh(a,Y,"nodeGroupKeyProperty"),this.yh=a,this.i("nodeGroupKeyProperty",b,a))});
C.defineProperty(Y,{In:"copiesGroupKeyOfNodeData"},function(){return this.ur},function(a){this.ur!==a&&(C.h(a,"boolean",Y,"copiesGroupKeyOfNodeData"),this.ur=a)});Y.prototype.getGroupKeyForNodeData=Y.prototype.Sn=function(a){if(null!==a){var b=this.yh;if(""!==b&&(b=C.vb(a,b),void 0!==b)){if(fh(b))return b;C.k("GroupKey value for node data "+a+" is not a number or a string: "+b)}}};
Y.prototype.setGroupKeyForNodeData=Y.prototype.zB=function(a,b){null===b&&(b=void 0);void 0===b||fh(b)||C.ic(b,"number or string",Y,"setGroupKeyForNodeData:key");if(null!==a){var c=this.yh;if(""!==c)if(this.je(a)){var d=C.vb(a,c);d!==b&&(kh(this,d,a),C.Ua(a,c,b),null===this.Ge(b)&&jh(this,b,a),dh(this,"nodeGroupKey",bg,c,a,d,b),"string"===typeof c&&this.Mb(a,c))}else C.Ua(a,c,b)}};
Y.prototype.copyNodeData=function(a){if(null===a)return null;a=M.prototype.copyNodeData.call(this,a);this.In||""===this.yh||void 0===C.vb(a,this.yh)||C.Ua(a,this.yh,void 0);return a};
Y.prototype.setDataProperty=function(a,b,c){u&&(C.h(a,"object",Y,"setDataProperty:data"),C.h(b,"string",Y,"setDataProperty:propname"),""===b&&C.k("GraphLinksModel.setDataProperty: property name must not be an empty string when setting "+a+" to "+c));if(this.je(a))if(b===this.Pj)this.yy(a,c);else{if(b===this.jo){this.xy(a,c);return}if(b===this.Ju){this.zB(a,c);return}b===this.Ku&&C.k("GraphLinksModel.setDataProperty: property name must not be the nodeIsGroupProperty: "+b)}else if(this.Kh(a)){if(b===
this.co){this.xB(a,c);return}if(b===this.eo){this.DB(a,c);return}if(b===this.Bu){this.yB(a,c);return}if(b===this.Du){this.EB(a,c);return}if(b===this.Mj){this.EG(a,c);return}if(b===this.Au){this.DG(a,c);return}if(b===this.Cu){this.FG(a,c);return}}else!oh&&a instanceof Q&&(oh=!0,C.trace('GraphLinksModel.setDataProperty is modifying a GraphObject, "'+a.toString()+'"'),C.trace("  Is that really your intent?"));var d=C.vb(a,b);d!==c&&(C.Ua(a,b,c),this.mB(a,b,d,c))};f=Y.prototype;
f.Qu=function(a,b){M.prototype.Qu.call(this,a,b);for(var c=this.Hc.j;c.next();)this.sB(c.value,a,b);for(c=this.hi.j;c.next();){var d=c.value,e=a,g=b;if(this.mm(d)===e){var h=this.ii;C.Ua(d,h,g);dh(this,"linkFromKey",bg,h,d,e,g);"string"===typeof h&&this.Mb(d,h)}this.nm(d)===e&&(h=this.ji,C.Ua(d,h,g),dh(this,"linkToKey",bg,h,d,e,g),"string"===typeof h&&this.Mb(d,h));var k=this.Rk(d);if(C.isArray(k))for(var l=C.eb(k),h=this.Gg,m=0;m<l;m++)C.Ma(k,m)===e&&(C.BE(k,m,g),dh(this,"linkLabelKeys",sg,h,d,e,
g,m,m))}};f.sB=function(a,b,c){if(this.Sn(a)===b){var d=this.yh;C.Ua(a,d,c);dh(this,"nodeGroupKey",bg,d,a,b,c);"string"===typeof d&&this.Mb(a,d)}};f.PB=function(){M.prototype.PB.call(this);for(var a=this.Yg,b=C.eb(a),c=0;c<b;c++){var d=C.Ma(a,c);ph(this,d)}};
f.Kq=function(a){M.prototype.Kq.call(this,a);a=this.Cb(a);var b=ih(this,a);if(null!==b){for(var c=new K(Object),b=b.j;b.next();){var d=b.value;if(this.je(d)){if(this.Sn(d)===a){var e=this.yh;dh(this,"nodeGroupKey",bg,e,d,a,a);"string"===typeof e&&this.Mb(d,e);c.add(d)}}else{this.mm(d)===a&&(e=this.ii,dh(this,"linkFromKey",bg,e,d,a,a),"string"===typeof e&&this.Mb(d,e),c.add(d));this.nm(d)===a&&(e=this.ji,dh(this,"linkToKey",bg,e,d,a,a),"string"===typeof e&&this.Mb(d,e),c.add(d));var g=this.Rk(d);if(C.isArray(g))for(var h=
C.eb(g),e=this.Gg,k=0;k<h;k++)C.Ma(g,k)===a&&(dh(this,"linkLabelKeys",sg,e,d,a,a,k,k),c.add(d))}}for(c=c.j;c.next();)kh(this,a,c.value)}};f.Jq=function(a){M.prototype.Jq.call(this,a);var b=this.Sn(a);null===this.Ge(b)&&jh(this,b,a)};f.ev=function(a){M.prototype.ev.call(this,a);var b=this.Sn(a);kh(this,b,a)};C.defineProperty(Y,{Au:"linkCategoryProperty"},function(){return this.Ym},function(a){var b=this.Ym;b!==a&&(eh(a,Y,"linkCategoryProperty"),this.Ym=a,this.i("linkCategoryProperty",b,a))});
Y.prototype.getCategoryForLinkData=Y.prototype.Hx=function(a){if(null===a)return"";var b=this.Ym;if(""===b)return"";b=C.vb(a,b);if(void 0===b)return"";if("string"===typeof b)return b;C.k("getCategoryForLinkData found a non-string category for "+a+": "+b);return""};
Y.prototype.setCategoryForLinkData=Y.prototype.DG=function(a,b){C.h(b,"string",Y,"setCategoryForLinkData:cat");if(null!==a){var c=this.Ym;if(""!==c)if(this.Kh(a)){var d=C.vb(a,c);void 0===d&&(d="");d!==b&&(C.Ua(a,c,b),dh(this,"linkCategory",bg,c,a,d,b),"string"===typeof c&&this.Mb(a,c))}else C.Ua(a,c,b)}};
function Cg(a){1<arguments.length&&C.k("TreeModel constructor can only take one optional argument, the Array of node data.");M.call(this);this.zh="parent";this.vr=!1;this.gn="parentLinkCategory";void 0!==a&&(this.mg=a)}C.Ta(Cg,M);C.ka("TreeModel",Cg);Cg.prototype.cloneProtected=function(a){M.prototype.cloneProtected.call(this,a);a.zh=this.zh;a.vr=this.vr;a.gn=this.gn};
Cg.prototype.toString=function(a){void 0===a&&(a=0);if(2<=a)return this.KB();var b=(""!==this.name?this.name:"")+" TreeModel";if(0<a){b+="\n node data:";a=this.mg;for(var c=C.eb(a),d=0;d<c;d++)var e=C.Ma(a,d),b=b+(" "+this.Cb(e)+":"+ka(e))}return b};Cg.prototype.vo=function(){var a=M.prototype.vo.call(this),b="";"parent"!==this.Lu&&"string"===typeof this.Lu&&(b+=',\n  "nodeParentKeyProperty": '+this.quote(this.Lu));return a+b};
Cg.prototype.Ou=function(a){M.prototype.Ou.call(this,a);a.nodeParentKeyProperty&&(this.Lu=a.nodeParentKeyProperty)};Cg.prototype.ho=function(a){return a};C.defineProperty(Cg,{Lu:"nodeParentKeyProperty"},function(){return this.zh},function(a){var b=this.zh;b!==a&&(eh(a,Cg,"nodeParentKeyProperty"),this.zh=a,this.i("nodeParentKeyProperty",b,a))});
C.defineProperty(Cg,{Jn:"copiesParentKeyOfNodeData"},function(){return this.vr},function(a){this.vr!==a&&(C.h(a,"boolean",Cg,"copiesParentKeyOfNodeData"),this.vr=a)});Cg.prototype.getParentKeyForNodeData=Cg.prototype.Un=function(a){if(null!==a){var b=this.zh;if(""!==b&&(b=C.vb(a,b),void 0!==b)){if(fh(b))return b;C.k("ParentKey value for node data "+a+" is not a number or a string: "+b)}}};
Cg.prototype.setParentKeyForNodeData=Cg.prototype.Hi=function(a,b){null===b&&(b=void 0);void 0===b||fh(b)||C.ic(b,"number or string",Cg,"setParentKeyForNodeData:key");if(null!==a){var c=this.zh;if(""!==c)if(b=this.ho(b),this.je(a)){var d=C.vb(a,c);d!==b&&(kh(this,d,a),C.Ua(a,c,b),null===this.Ge(b)&&jh(this,b,a),dh(this,"nodeParentKey",bg,c,a,d,b),"string"===typeof c&&this.Mb(a,c))}else C.Ua(a,c,b)}};
C.defineProperty(Cg,{lM:"parentLinkCategoryProperty"},function(){return this.gn},function(a){var b=this.gn;b!==a&&(eh(a,Cg,"parentLinkCategoryProperty"),this.gn=a,this.i("parentLinkCategoryProperty",b,a))});Cg.prototype.getParentLinkCategoryForNodeData=Cg.prototype.LI=function(a){if(null===a)return"";var b=this.gn;if(""===b)return"";b=C.vb(a,b);if(void 0===b)return"";if("string"===typeof b)return b;C.k("getParentLinkCategoryForNodeData found a non-string category for "+a+": "+b);return""};
Cg.prototype.setParentLinkCategoryForNodeData=Cg.prototype.jK=function(a,b){C.h(b,"string",Cg,"setParentLinkCategoryForNodeData:cat");if(null!==a){var c=this.gn;if(""!==c)if(this.je(a)){var d=C.vb(a,c);void 0===d&&(d="");d!==b&&(C.Ua(a,c,b),dh(this,"parentLinkCategory",bg,c,a,d,b),"string"===typeof c&&this.Mb(a,c))}else C.Ua(a,c,b)}};
Cg.prototype.copyNodeData=function(a){if(null===a)return null;a=M.prototype.copyNodeData.call(this,a);this.Jn||""===this.zh||void 0===C.vb(a,this.zh)||C.Ua(a,this.zh,void 0);return a};
Cg.prototype.setDataProperty=function(a,b,c){u&&(C.h(a,"object",Cg,"setDataProperty:data"),C.h(b,"string",Cg,"setDataProperty:propname"),""===b&&C.k("TreeModel.setDataProperty: property name must not be an empty string when setting "+a+" to "+c));if(this.je(a))if(b===this.Pj)this.yy(a,c);else{if(b===this.jo){this.xy(a,c);return}if(b===this.Lu){this.Hi(a,c);return}}else!oh&&a instanceof Q&&(oh=!0,C.trace('TreeModel.setDataProperty is modifying a GraphObject, "'+a.toString()+'"'),C.trace("  Is that really your intent?"));
var d=C.vb(a,b);d!==c&&(C.Ua(a,b,c),this.mB(a,b,d,c))};f=Cg.prototype;f.Qu=function(a,b){M.prototype.Qu.call(this,a,b);for(var c=this.Hc.j;c.next();)this.sB(c.value,a,b)};f.sB=function(a,b,c){if(this.Un(a)===b){var d=this.zh;C.Ua(a,d,c);dh(this,"nodeParentKey",bg,d,a,b,c);"string"===typeof d&&this.Mb(a,d)}};
f.Kq=function(a){M.prototype.Kq.call(this,a);a=this.Cb(a);var b=ih(this,a);if(null!==b){for(var c=new K(Object),b=b.j;b.next();){var d=b.value;if(this.je(d)&&this.Un(d)===a){var e=this.zh;dh(this,"nodeParentKey",bg,e,d,a,a);"string"===typeof e&&this.Mb(d,e);c.add(d)}}for(c=c.j;c.next();)kh(this,a,c.value)}};f.Jq=function(a){M.prototype.Jq.call(this,a);var b=this.Un(a),b=this.ho(b);null===this.Ge(b)&&jh(this,b,a)};f.ev=function(a){M.prototype.ev.call(this,a);var b=this.Un(a);kh(this,b,a)};
function sh(a,b,c){C.wc(this);this.J=!1;void 0===a?a="":C.h(a,"string",sh,"constructor:targetprop");void 0===b?b=a:C.h(b,"string",sh,"constructor:sourceprop");void 0===c?c=null:null!==c&&C.h(c,"function",sh,"constructor:conv");this.WD=-1;this.Og=null;this.Rp=a;this.Qp=this.Bt=0;this.Pw=null;this.ks=!1;this.Ip=b;this.rr=c;this.Ds=th;this.lr=null;this.sz=new L}C.ka("Binding",sh);
sh.prototype.copy=function(){var a=new sh;a.Rp=this.Rp;a.Bt=this.Bt;a.Qp=this.Qp;a.Pw=this.Pw;a.ks=this.ks;a.Ip=this.Ip;a.rr=this.rr;a.Ds=this.Ds;a.lr=this.lr;return a};var th;sh.OneWay=th=C.s(sh,"OneWay",1);var uh;sh.TwoWay=uh=C.s(sh,"TwoWay",2);sh.parseEnum=function(a,b){C.h(a,"function",sh,"parseEnum:ctor");C.Ca(b,a,sh,"parseEnum:defval");return function(c){c=Ja(a,c);return null===c?b:c}};sh.prototype.pc=function(a){a.Pe===sh?this.mode=a:C.Vj(this,a)};var ka;
sh.toString=ka=function(a){var b=a;C.Xa(a)&&(a.text?b=a.text:a.name?b=a.name:void 0!==a.key?b=a.key:void 0!==a.id?b=a.id:a.constructor===Object&&(a.Text?b=a.Text:a.Name?b=a.Name:void 0!==a.Key?b=a.Key:void 0!==a.Id?b=a.Id:void 0!==a.ID&&(b=a.ID)));return void 0===b?"undefined":null===b?"null":b.toString()};sh.prototype.toString=function(){return"Binding("+this.bv+":"+this.JG+(-1!==this.zm?" "+this.zm:"")+" "+this.mode.name+")"};sh.prototype.freeze=function(){this.J=!0;return this};
sh.prototype.Za=function(){this.J=!1;return this};C.defineProperty(sh,{zm:null},function(){return this.WD},function(a){this.J&&C.qa(this);C.h(a,"number",sh,"targetId");this.WD=a});C.defineProperty(sh,{bv:"targetProperty"},function(){return this.Rp},function(a){this.J&&C.qa(this);C.h(a,"string",sh,"targetProperty");this.Rp=a});C.defineProperty(sh,{Wq:"sourceName"},function(){return this.Pw},function(a){this.J&&C.qa(this);null!==a&&C.h(a,"string",sh,"sourceName");this.Pw=a;null!==a&&(this.ks=!1)});
C.defineProperty(sh,{Ux:"isToModel"},function(){return this.ks},function(a){this.J&&C.qa(this);C.h(a,"boolean",sh,"isToModel");this.ks=a});C.defineProperty(sh,{JG:"sourceProperty"},function(){return this.Ip},function(a){this.J&&C.qa(this);C.h(a,"string",sh,"sourceProperty");this.Ip=a});C.defineProperty(sh,{fI:"converter"},function(){return this.rr},function(a){this.J&&C.qa(this);null!==a&&C.h(a,"function",sh,"converter");this.rr=a});
C.defineProperty(sh,{TH:"backConverter"},function(){return this.lr},function(a){this.J&&C.qa(this);null!==a&&C.h(a,"function",sh,"backConverter");this.lr=a});C.defineProperty(sh,{mode:"mode"},function(){return this.Ds},function(a){this.J&&C.qa(this);C.Ca(a,sh,sh,"mode");this.Ds=a});sh.prototype.makeTwoWay=sh.prototype.wJ=function(a){void 0===a&&(a=null);null!==a&&C.h(a,"function",sh,"makeTwoWay");this.mode=uh;this.TH=a;return this};
sh.prototype.ofObject=sh.prototype.ey=function(a){void 0===a&&(a="");u&&C.h(a,"string",sh,"ofObject:srcname");this.Wq=a;this.Ux=!1;return this};sh.prototype.ofModel=function(){this.Wq=null;this.Ux=!0;return this};function vh(a,b,c){a=a.Wq;var d=null;return d=null===a||""===a?b:"/"===a?c.ba:"."===a?c:".."===a?c.Q:b.Fd(a)}
sh.prototype.updateTarget=sh.prototype.bH=function(a,b,c){var d=this.Ip;if(void 0===c||""===d||d===c){c=this.Rp;var e=this.rr;if(null===e&&""===c)C.trace("Binding error: target property is the empty string: "+this.toString());else{u&&"string"===typeof c&&("function"!==typeof a.setAttribute&&0<c.length&&"_"!==c[0]&&!C.Lx(a,c)?C.trace("Binding error: undefined target property: "+c+" on "+a.toString()):"name"===c&&a instanceof Q&&C.trace("Binding error: cannot modify GraphObject.name on "+a.toString()));
var g=b;""!==d&&(g=C.vb(b,d));if(void 0!==g)if(null===e)""!==c&&C.Ua(a,c,g);else try{if(""!==c){var h=e(g,a);u&&void 0===h&&C.trace('Binding warning: conversion function returned undefined when setting target property "'+c+'" on '+a.toString()+", function is: "+e);C.Ua(a,c,h)}else e(g,a)}catch(k){u&&C.trace("Binding error: "+k.toString()+' setting target property "'+c+'" on '+a.toString()+" with conversion function: "+e)}}}};
sh.prototype.updateSource=sh.prototype.Cy=function(a,b,c,d){if(this.Ds===uh){var e=this.Rp;if(void 0===c||e===c){c=this.Ip;var g=this.lr,h=a;""!==e&&(h=C.vb(a,e));if(void 0!==h&&!this.sz.contains(a))try{this.sz.add(a);var k=null!==d?d.g:null,l=null!==k?k.ia:null;if(null===g)if(""!==c)null!==l?(u&&l.Pj===c&&l.je(b)&&C.trace("Binding error: cannot have TwoWay Binding on node data key property: "+this.toString()),l.setDataProperty(b,c,h)):C.Ua(b,c,h);else{if(null!==l&&null!==d&&0<=d.yu&&null!==d.Q&&
Array.isArray(d.Q.Wk)){var m=d.yu,n=d.Q.Wk;l.hG(n,m);l.PA(n,m,h)}}else try{if(""!==c){var p=g(h,b,l);null!==l?(u&&(l.Pj===c&&l.je(b)&&C.trace("Binding error: cannot have TwoWay Binding on node data key property: "+this.toString()),void 0===p&&C.trace('Binding warning: conversion function returned undefined when setting source property "'+c+'" on '+b.toString()+", function is: "+g)),l.setDataProperty(b,c,p)):C.Ua(b,c,p)}else p=g(h,b,l),void 0!==p&&null!==l&&null!==d&&0<=d.yu&&null!==d.Q&&Array.isArray(d.Q.Wk)&&
(m=d.yu,n=d.Q.Wk,l.hG(n,m),l.PA(n,m,p))}catch(q){u&&C.trace("Binding error: "+q.toString()+' setting source property "'+c+'" on '+b.toString()+" with conversion function: "+g)}}finally{this.sz.remove(a)}}}};function Dg(){this.iH=(new K(ag)).freeze();this.Yb="";this.aD=!1}C.ka("Transaction",Dg);
Dg.prototype.toString=function(a){var b="Transaction: "+this.name+" "+this.ag.count.toString()+(this.su?"":", incomplete");if(void 0!==a&&0<a){a=this.ag.count;for(var c=0;c<a;c++){var d=this.ag.fa(c);null!==d&&(b+="\n  "+d.toString())}}return b};Dg.prototype.clear=Dg.prototype.clear=function(){var a=this.ag;a.Za();for(var b=a.count-1;0<=b;b--){var c=a.fa(b);null!==c&&c.clear()}a.clear();a.freeze()};Dg.prototype.canUndo=Dg.prototype.canUndo=function(){return this.su};
Dg.prototype.undo=Dg.prototype.undo=function(){if(this.canUndo())for(var a=this.ag.count-1;0<=a;a--){var b=this.ag.fa(a);null!==b&&b.undo()}};Dg.prototype.canRedo=Dg.prototype.canRedo=function(){return this.su};Dg.prototype.redo=Dg.prototype.redo=function(){if(this.canRedo())for(var a=this.ag.count,b=0;b<a;b++){var c=this.ag.fa(b);null!==c&&c.redo()}};C.w(Dg,{ag:"changes"},function(){return this.iH});C.defineProperty(Dg,{name:"name"},function(){return this.Yb},function(a){this.Yb=a});
C.defineProperty(Dg,{su:"isComplete"},function(){return this.aD},function(a){this.aD=a});function ug(){this.Lz=new L(M);this.of=!1;this.mH=(new K(Dg)).freeze();this.rh=-1;this.pD=999;this.bj=!1;this.Hv=null;this.Ql=0;this.Yy=!1;u&&(this.Yy=!0);this.xh=(new K("string")).freeze();this.wp=new K("number");this.uz=!0;this.Fz=!1}C.ka("UndoManager",ug);
ug.prototype.toString=function(a){for(var b="UndoManager "+this.Gj+"<"+this.history.count+"<="+this.UF,b=b+"[",c=this.ZF.count,d=0;d<c;d++)0<d&&(b+=" "),b+=this.ZF.fa(d);b+="]";if(void 0!==a&&0<a)for(c=this.history.count,d=0;d<c;d++)b+="\n "+this.history.fa(d).toString(a-1);return b};
ug.prototype.clear=ug.prototype.clear=function(){var a=this.history;a.Za();for(var b=a.count-1;0<=b;b--){var c=a.fa(b);null!==c&&c.clear()}a.clear();this.rh=-1;a.freeze();this.bj=!1;this.Hv=null;this.Ql=0;this.xh.Za();this.xh.clear();this.xh.freeze();this.wp.clear()};ug.prototype.addModel=ug.prototype.LH=function(a){this.Lz.add(a)};ug.prototype.removeModel=ug.prototype.YJ=function(a){this.Lz.remove(a)};
ug.prototype.startTransaction=ug.prototype.ac=function(a){void 0===a&&(a="");null===a&&(a="");if(this.ob)return!1;!0===this.uz&&(this.uz=!1,this.Ql++,this.sd("StartingFirstTransaction",a,this.Bj),0<this.Ql&&this.Ql--);this.isEnabled&&(this.xh.Za(),this.xh.add(a),this.xh.freeze(),null===this.Bj?this.wp.add(0):this.wp.add(this.Bj.ag.count));this.Ql++;var b=1===this.Vh;b&&this.sd("StartedTransaction",a,this.Bj);return b};
ug.prototype.commitTransaction=ug.prototype.Ud=function(a){void 0===a&&(a="");return wh(this,!0,a)};ug.prototype.rollbackTransaction=ug.prototype.Lq=function(){return wh(this,!1,"")};
function wh(a,b,c){if(a.ob)return!1;a.lA&&1>a.Vh&&C.trace("Ending transaction without having started a transaction: "+c);var d=1===a.Vh;d&&b&&a.sd("CommittingTransaction",c,a.Bj);var e=0;if(0<a.Vh&&(a.Ql--,a.isEnabled)){var g=a.xh.count;0<g&&(""===c&&(c=a.xh.fa(0)),a.xh.Za(),a.xh.md(g-1),a.xh.freeze());g=a.wp.count;0<g&&(e=a.wp.fa(g-1),a.wp.md(g-1))}g=a.Bj;if(d){if(b){a.Fz=!1;if(a.isEnabled&&null!==g){b=g;b.su=!0;b.name=c;d=a.history;d.Za();for(e=d.count-1;e>a.Gj;e--)g=d.fa(e),null!==g&&g.clear(),
d.md(e),a.Fz=!0;e=a.UF;0===e&&(e=1);0<e&&d.count>=e&&(g=d.fa(0),null!==g&&g.clear(),d.md(0),a.rh--);d.add(b);a.rh++;d.freeze();g=b}a.sd("CommittedTransaction",c,g)}else{a.bj=!0;try{a.isEnabled&&null!==g&&(g.su=!0,g.undo())}finally{a.sd("RolledBackTransaction",c,g),a.bj=!1}null!==g&&g.clear()}a.Hv=null;return!0}if(a.isEnabled&&!b&&null!==g){a=e;c=g.ag;for(b=c.count-1;b>=a;b--)d=c.fa(b),null!==d&&d.undo(),c.Za(),c.md(b);c.freeze()}return!1}
ug.prototype.canUndo=ug.prototype.canUndo=function(){if(!this.isEnabled||0<this.Vh||this.ob)return!1;var a=this.YG;return null!==a&&a.canUndo()?!0:!1};ug.prototype.undo=ug.prototype.undo=function(){if(this.canUndo()){var a=this.YG;try{this.sd("StartingUndo","Undo",a),this.bj=!0,this.rh--,a.undo()}catch(b){C.trace("undo error: "+b.toString())}finally{this.bj=!1,this.sd("FinishedUndo","Undo",a)}}};
ug.prototype.canRedo=ug.prototype.canRedo=function(){if(!this.isEnabled||0<this.Vh||this.ob)return!1;var a=this.XG;return null!==a&&a.canRedo()?!0:!1};ug.prototype.redo=ug.prototype.redo=function(){if(this.canRedo()){var a=this.XG;try{this.sd("StartingRedo","Redo",a),this.bj=!0,this.rh++,a.redo()}catch(b){C.trace("redo error: "+b.toString())}finally{this.bj=!1,this.sd("FinishedRedo","Redo",a)}}};
ug.prototype.sd=function(a,b,c){void 0===c&&(c=null);var d=new ag;d.Lc=rg;d.propertyName=a;d.object=c;d.oldValue=b;for(a=this.GJ;a.next();)b=a.value,d.ia=b,b.mx(d)};ug.prototype.handleChanged=ug.prototype.wF=function(a){if(this.isEnabled&&!this.ob&&!this.skipsEvent(a)){var b=this.Bj;null===b&&(this.Hv=b=new Dg);var c=a.copy(),b=b.ag;b.Za();b.add(c);b.freeze();this.lA&&0>=this.Vh&&!this.uz&&(a=a.g,null!==a&&!1===a.Zn||C.trace("Change not within a transaction: "+c.toString()))}};
ug.prototype.skipsEvent=function(a){if(null===a||0>a.Lc.value)return!0;a=a.object;if(a instanceof Q){if(a=a.layer,null!==a&&a.Xc)return!0}else if(a instanceof ah&&a.Xc)return!0;return!1};C.w(ug,{GJ:"models"},function(){return this.Lz.j});C.defineProperty(ug,{isEnabled:"isEnabled"},function(){return this.of},function(a){this.of=a});C.w(ug,{YG:"transactionToUndo"},function(){return 0<=this.Gj&&this.Gj<=this.history.count-1?this.history.fa(this.Gj):null});
C.w(ug,{XG:"transactionToRedo"},function(){return this.Gj<this.history.count-1?this.history.fa(this.Gj+1):null});C.w(ug,{ob:"isUndoingRedoing"},function(){return this.bj});C.w(ug,{history:"history"},function(){return this.mH});C.defineProperty(ug,{UF:"maxHistoryLength"},function(){return this.pD},function(a){this.pD=a});C.w(ug,{Gj:"historyIndex"},function(){return this.rh});C.w(ug,{Bj:"currentTransaction"},function(){return this.Hv});C.w(ug,{Vh:"transactionLevel"},function(){return this.Ql});
C.w(ug,{JF:"isInTransaction"},function(){return 0<this.Ql});C.defineProperty(ug,{lA:"checksTransactionLevel"},function(){return this.Yy},function(a){this.Yy=a});C.w(ug,{ZF:"nestedTransactionNames"},function(){return this.xh});function ta(){0<arguments.length&&C.wd(ta);C.wc(this);this.da=null;this.mC=!1;this.HC=this.nC=!0;this.pC=this.qC=this.IC=this.rC=!1;this.Il=this.Sy=null;this.oE=1.05;this.EC=1;this.Gz=NaN;this.lD=null;this.fA=NaN;this.eA=Ed;this.sj=null}C.ka("CommandHandler",ta);
var Ih=null,Jh="";ta.prototype.toString=function(){return"CommandHandler"};C.w(ta,{g:"diagram"},function(){return this.da});ta.prototype.ad=function(a){u&&null!==a&&C.l(a,D,ta,"setDiagram");this.da=a};
ta.prototype.doKeyDown=function(){var a=this.g;if(null!==a){var b=a.U,c=C.Uk?b.Eu:b.control,d=b.shift,e=b.alt,g=b.key;!c||"C"!==g&&"Insert"!==g?c&&"X"===g||d&&"Del"===g?this.canCutSelection()&&this.cutSelection():c&&"V"===g||d&&"Insert"===g?this.canPasteSelection()&&this.pasteSelection():c&&"Y"===g||e&&d&&"Backspace"===g?this.canRedo()&&this.redo():c&&"Z"===g||e&&"Backspace"===g?this.canUndo()&&this.undo():"Del"===g||"Backspace"===g?this.canDeleteSelection()&&this.deleteSelection():c&&"A"===g?this.canSelectAll()&&
this.selectAll():"Esc"===g?this.canStopCommand()&&this.stopCommand():"Up"===g?a.Be&&(c?a.scroll("pixel","up"):a.scroll("line","up")):"Down"===g?a.Be&&(c?a.scroll("pixel","down"):a.scroll("line","down")):"Left"===g?a.Ae&&(c?a.scroll("pixel","left"):a.scroll("line","left")):"Right"===g?a.Ae&&(c?a.scroll("pixel","right"):a.scroll("line","right")):"PageUp"===g?d&&a.Ae?a.scroll("page","left"):a.Be&&a.scroll("page","up"):"PageDown"===g?d&&a.Ae?a.scroll("page","right"):a.Be&&a.scroll("page","down"):"Home"===
g?c&&a.Be?a.scroll("document","up"):!c&&a.Ae&&a.scroll("document","left"):"End"===g?c&&a.Be?a.scroll("document","down"):!c&&a.Ae&&a.scroll("document","right"):" "===g?this.canScrollToPart()&&this.scrollToPart():"Subtract"===g?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===g?this.canIncreaseZoom()&&this.increaseZoom():c&&"0"===g?this.canResetZoom()&&this.resetZoom():d&&"Z"===g?this.canZoomToFit()&&this.zoomToFit():c&&!d&&"G"===g?this.canGroupSelection()&&this.groupSelection():c&&d&&"G"===g?this.canUngroupSelection()&&
this.ungroupSelection():b.event&&113===b.event.which?this.canEditTextBlock()&&this.editTextBlock():b.event&&93===b.event.which?this.canShowContextMenu()&&this.showContextMenu():b.bubbles=!0:this.canCopySelection()&&this.copySelection()}};ta.prototype.doKeyUp=function(){var a=this.g;null!==a&&(a.U.bubbles=!0)};ta.prototype.stopCommand=function(){var a=this.g;if(null!==a){var b=a.hb;b instanceof Kh&&a.Cf&&a.ox();null!==b&&b.doCancel()}};ta.prototype.canStopCommand=function(){return!0};
ta.prototype.selectAll=function(){var a=this.g;if(null!==a){a.ra();try{a.lc="wait";a.Ka("ChangingSelection");for(var b=a.Gi;b.next();)b.value.jb=!0;for(var c=a.ng;c.next();)c.value.jb=!0;for(var d=a.links;d.next();)d.value.jb=!0}finally{a.Ka("ChangedSelection"),a.lc=""}}};ta.prototype.canSelectAll=function(){var a=this.g;return null!==a&&a.Cf};
ta.prototype.deleteSelection=function(){var a=this.g;if(null!==a&&!a.Ka("SelectionDeleting",a.selection))try{a.lc="wait";a.ac("Delete");a.Ka("ChangingSelection");for(var b=new L(E),c=a.selection.j;c.next();)Lh(b,c.value,!0,this.oI?Infinity:0,this.UE,function(a){return a.canDelete()});a.rB(b,!0);a.Ka("SelectionDeleted",b)}finally{a.Ka("ChangedSelection"),a.Ud("Delete"),a.lc=""}};ta.prototype.canDeleteSelection=function(){var a=this.g;return null===a||a.nb||a.Gf||!a.Bn||0===a.selection.count?!1:!0};
function Lh(a,b,c,d,e,g){void 0===g&&(g=null);if(!(a.contains(b)||null!==g&&!g(b)||b instanceof ea))if(a.add(b),b instanceof F){if(c&&b instanceof H)for(var h=b.Pc;h.next();)Lh(a,h.value,c,d,e,g);if(e)for(h=b.Hd;h.next();){var k=h.value;if(!a.contains(k)){var l=k.aa,m=k.ea;null!==l&&a.contains(l)&&null!==m&&a.contains(m)?Lh(a,k,c,d,e,g):null!==l&&null!==m||Lh(a,k,c,d,e,g)}}if(1<d)for(b=b.iF();b.next();)Lh(a,b.value,c,d-1,e,g)}else if(b instanceof I)for(h=b.Jf;h.next();)Lh(a,h.value,c,d,e,g)}
ta.prototype.cq=function(a,b,c){var d=new oa(E,E);for(a=a.j;a.next();)Mh(this,a.value,b,d,c);if(null!==b){c=b.ia;a=!1;null!==b.lb.Ee&&(a=b.lb.Ee.Dj);for(var e=new L(I),g=new oa(I,I),h=d.j;h.next();){var k=h.value;if(k instanceof I){var l=k;a||null!==l.aa&&null!==l.ea||e.add(l)}else if(c instanceof Cg&&k instanceof F&&null!==k.data){var l=c,m=k,k=h.key,n=k.km();null!==n&&(n=d.pa(n),null!==n?(l.Hi(m.data,l.Cb(n.data)),l=b.bg(m.data),k=k.Pn(),null!==k&&null!==l&&g.add(k,l)):l.Hi(m.data,void 0))}}0<e.count&&
b.rB(e,!1);if(0<g.count)for(c=g.j;c.next();)d.add(c.key,c.value)}if(null!==b&&null!==this.g&&(b=b.ia,c=b.NH,null!==c)){var p=new oa;d.each(function(a){null!==a.key.data&&p.add(a.key.data,a.value.data)});c(p,b,this.g.ia)}for(b=d.j;b.next();)b.value.Mb();return d};
function Mh(a,b,c,d,e){if(null===b||e&&!b.canCopy())return null;if(d.contains(b))return d.pa(b);var g=null,h=b.data;if(null!==h&&null!==c){var k=c.ia;b instanceof I?k instanceof Y&&(h=k.qx(h),C.Xa(h)&&(k.Nt(h),g=c.bg(h))):(h=k.copyNodeData(h),C.Xa(h)&&(k.Tl(h),g=c.Mh(h)))}else Nh(b),g=b.copy(),null!==g&&(null!==c?c.add(g):null!==h&&null!==a.g&&a.gI&&(k=a.g.ia,h=g instanceof I&&k instanceof Y?k.qx(h):k.copyNodeData(h),C.Xa(h)&&(g.data=h)));if(!(g instanceof E))return null;g.jb=!1;g.Xg=!1;d.add(b,g);
if(b instanceof F){for(h=b.Hd;h.next();){k=h.value;if(k.aa===b){var l=d.pa(k);null!==l&&(l.aa=g)}k.ea===b&&(l=d.pa(k),null!==l&&(l.ea=g))}if(b instanceof H&&g instanceof H)for(h=g,b=b.Pc;b.next();)k=Mh(a,b.value,c,d,e),k instanceof I||null===k||(k.Qa=h)}else if(b instanceof I)for(h=b.aa,null!==h&&(h=d.pa(h),null!==h&&(g.aa=h)),h=b.ea,null!==h&&(h=d.pa(h),null!==h&&(g.ea=h)),b=b.Jf;b.next();)h=Mh(a,b.value,c,d,e),null!==h&&(h.Cc=g);return g}
ta.prototype.copySelection=function(){var a=this.g;if(null!==a){for(var b=new L(E),a=a.selection.j;a.next();)Lh(b,a.value,!0,this.jI?Infinity:0,this.hI,function(a){return a.canCopy()});this.copyToClipboard(b)}};ta.prototype.canCopySelection=function(){var a=this.g;return null!==a&&a.Ik&&a.hA&&0!==a.selection.count?!0:!1};ta.prototype.cutSelection=function(){this.copySelection();this.deleteSelection()};
ta.prototype.canCutSelection=function(){var a=this.g;return null!==a&&!a.nb&&!a.Gf&&a.Ik&&a.Bn&&a.hA&&0!==a.selection.count?!0:!1};ta.prototype.copyToClipboard=function(a){var b=this.g;if(null!==b){var c=null;if(null===a)Ih=null,Jh="";else{var c=b.ia,d=!1,e=!1,g=null;try{if(c instanceof Cg){var h=c,d=h.Jn;h.Jn=this.LE}c instanceof Y&&(h=c,e=h.In,h.In=this.KE);g=b.cq(a,null,!0)}finally{c instanceof Cg&&(c.Jn=d),c instanceof Y&&(c.In=e),c=new K(E),c.Vc(g),Ih=c,Jh=b.ia.dm}}b.Ka("ClipboardChanged",c)}};
ta.prototype.pasteFromClipboard=function(){var a=new L(E),b=Ih;if(null===b)return a;var c=this.g;if(null===c||Jh!==c.ia.dm)return a;var d=c.ia,e=!1,g=!1,h=null;try{if(d instanceof Cg){var k=d,e=k.Jn;k.Jn=this.LE}d instanceof Y&&(k=d,g=k.In,k.In=this.KE);h=c.cq(b,c,!1)}finally{for(d instanceof Cg&&(d.Jn=e),d instanceof Y&&(d.In=g),b=h.j;b.next();)c=b.value,d=b.key,c.location.F()||(d.location.F()?c.location=d.location:!c.position.F()&&d.position.F()&&(c.position=d.position)),a.add(c)}return a};
ta.prototype.pasteSelection=function(a){void 0===a&&(a=null);var b=this.g;if(null!==b)try{b.lc="wait";b.ac("Paste");b.Ka("ChangingSelection");var c=this.pasteFromClipboard();0<c.count&&Oh(b);for(var d=c.j;d.next();)d.value.jb=!0;b.Ka("ChangedSelection");if(null!==a){var e=b.computePartsBounds(b.selection);if(e.F()){var g=b.lb.Ee;null===g&&(g=new Ph,g.ad(b));var h=g.computeEffectiveCollection(b.selection);g.moveParts(h,new O(a.x-e.oa,a.y-e.xa),!1)}}b.Ka("ClipboardPasted",c)}finally{b.Ud("Paste"),b.lc=
""}};ta.prototype.canPasteSelection=function(){var a=this.g;return null===a||a.nb||a.Gf||!a.Vp||!a.hA||null===Ih||Jh!==a.ia.dm?!1:!0};ta.prototype.undo=function(){var a=this.g;null!==a&&a.sa.undo()};ta.prototype.canUndo=function(){var a=this.g;return null===a||a.nb||a.Gf?!1:a.xE&&a.sa.canUndo()};ta.prototype.redo=function(){var a=this.g;null!==a&&a.sa.redo()};ta.prototype.canRedo=function(){var a=this.g;return null===a||a.nb||a.Gf?!1:a.xE&&a.sa.canRedo()};
ta.prototype.decreaseZoom=function(a){void 0===a&&(a=1/this.Fy);C.p(a,ta,"decreaseZoom:factor");var b=this.g;null!==b&&b.Zl===Qh&&(a*=b.scale,a<b.Ph||a>b.Oh||(b.scale=a))};ta.prototype.canDecreaseZoom=function(a){void 0===a&&(a=1/this.Fy);C.p(a,ta,"canDecreaseZoom:factor");var b=this.g;if(null===b||b.Zl!==Qh)return!1;a*=b.scale;return a<b.Ph||a>b.Oh?!1:b.lx};
ta.prototype.increaseZoom=function(a){void 0===a&&(a=this.Fy);C.p(a,ta,"increaseZoom:factor");var b=this.g;null!==b&&b.Zl===Qh&&(a*=b.scale,a<b.Ph||a>b.Oh||(b.scale=a))};ta.prototype.canIncreaseZoom=function(a){void 0===a&&(a=this.Fy);C.p(a,ta,"canIncreaseZoom:factor");var b=this.g;if(null===b||b.Zl!==Qh)return!1;a*=b.scale;return a<b.Ph||a>b.Oh?!1:b.lx};ta.prototype.resetZoom=function(a){void 0===a&&(a=this.vx);C.p(a,ta,"resetZoom:newscale");var b=this.g;null===b||a<b.Ph||a>b.Oh||(b.scale=a)};
ta.prototype.canResetZoom=function(a){void 0===a&&(a=this.vx);C.p(a,ta,"canResetZoom:newscale");var b=this.g;return null===b||a<b.Ph||a>b.Oh?!1:b.lx};ta.prototype.zoomToFit=function(){var a=this.g;if(null!==a){var b=a.scale,c=a.position;b===this.fA&&!isNaN(this.Gz)&&a.fd.O(this.eA)?(a.scale=this.Gz,a.position=this.lD,this.fA=NaN,this.eA=Ed):(this.Gz=b,this.lD=c.copy(),a.zoomToFit(),this.fA=a.scale,this.eA=a.fd.copy())}};ta.prototype.canZoomToFit=function(){var a=this.g;return null===a?!1:a.lx};
ta.prototype.scrollToPart=function(a){void 0===a&&(a=null);null!==a&&C.l(a,E,ta,"part");var b=this.g;if(null!==b){if(null===a){try{null!==this.sj&&(this.sj.next()?a=this.sj.value:this.sj=null)}catch(c){this.sj=null}null===a&&(0<b.om.count?this.sj=b.om.j:0<b.selection.count&&(this.sj=b.selection.j),null!==this.sj&&this.sj.next()&&(a=this.sj.value))}if(null!==a){var d=b.Ya;d.ko("Scroll To Part");var e=b.position.copy();b.UH(a.Z);e.Wc(b.position)&&d.Ii()}}};
ta.prototype.canScrollToPart=function(a){void 0===a&&(a=null);if(null!==a&&!(a instanceof E))return!1;a=this.g;return null===a||0===a.selection.count&&0===a.om.count?!1:a.Ae&&a.Be};
ta.prototype.collapseTree=function(a){void 0===a&&(a=null);var b=this.g;if(null!==b)try{b.ac("Collapse Tree");b.Ya.ko("Collapse Tree");var c=new K(F);if(null!==a&&a.ud)a.collapseTree(),c.add(a);else for(var d=b.selection.j;d.next();){var e=d.value;e instanceof F&&(a=e,a.ud&&(a.collapseTree(),c.add(a)))}b.Ka("TreeCollapsed",c)}finally{b.Ud("Collapse Tree")}};
ta.prototype.canCollapseTree=function(a){void 0===a&&(a=null);var b=this.g;if(null===b||b.nb)return!1;if(null!==a){if(!(a instanceof F&&a.ud))return!1;if(0<a.Fx().count)return!0}else for(a=b.selection.j;a.next();)if(b=a.value,b instanceof F&&b.ud&&0<b.Fx().count)return!0;return!1};
ta.prototype.expandTree=function(a){void 0===a&&(a=null);var b=this.g;if(null!==b)try{b.ac("Expand Tree");b.Ya.ko("Expand Tree");var c=new K(F);if(null===a||a.ud)for(var d=b.selection.j;d.next();){var e=d.value;e instanceof F&&(a=e,a.ud||(a.expandTree(),c.add(a)))}else a.expandTree(),c.add(a);b.Ka("TreeExpanded",c)}finally{b.Ud("Expand Tree")}};
ta.prototype.canExpandTree=function(a){void 0===a&&(a=null);var b=this.g;if(null===b||b.nb)return!1;if(null!==a){if(!(a instanceof F)||a.ud)return!1;if(0<a.Fx().count)return!0}else for(a=b.selection.j;a.next();)if(b=a.value,b instanceof F&&!b.ud&&0<b.Fx().count)return!0;return!1};
ta.prototype.groupSelection=function(){var a=this.g;if(null!==a){var b=a.ia;if(b instanceof Y){var c=this.yE;if(null!==c){var d=null;try{a.lc="wait";a.ac("Group");a.Ka("ChangingSelection");for(var e=new K(E),g=a.selection.j;g.next();){var h=g.value;h.qe()&&h.canGroup()&&e.add(h)}for(var k=new K(E),l=e.j;l.next();){for(var m=l.value,g=!1,n=e.j;n.next();)if(m.Ei(n.value)){g=!0;break}g||k.add(m)}if(0<k.count){var p=k.first().Qa;if(null!==p)for(;null!==p;){for(var e=!1,q=k.j;q.next();)if(!q.value.Ei(p)){e=
!0;break}if(e)p=p.Qa;else break}if(c instanceof H)Nh(c),d=c.copy(),null!==d&&a.add(d);else if(b.SA(c)){var r=b.copyNodeData(c);C.Xa(r)&&(b.Tl(r),d=a.Ex(r))}if(null!==d){null!==p&&this.isValidMember(p,d)&&(d.Qa=p);for(var s=k.j;s.next();){var v=s.value;this.isValidMember(d,v)&&(v.Qa=d)}a.select(d)}}a.Ka("ChangedSelection");a.Ka("SelectionGrouped",d)}finally{a.Ud("Group"),a.lc=""}}}}};
ta.prototype.canGroupSelection=function(){var a=this.g;if(null===a||a.nb||a.Gf||!a.Vp||!a.gx||!(a.ia instanceof Y)||null===this.yE)return!1;for(a=a.selection.j;a.next();){var b=a.value;if(b.qe()&&b.canGroup())return!0}return!1};function Rh(a){var b=C.tb();for(a=a.j;a.next();){var c=a.value;c instanceof I||b.push(c)}a=new L(E);for(var c=b.length,d=0;d<c;d++){for(var e=b[d],g=!0,h=0;h<c;h++)if(e.Ei(b[h])){g=!1;break}g&&a.add(e)}C.Ba(b);return a}
ta.prototype.isValidMember=function(a,b){if(null===b||a===b||b instanceof I)return!1;if(null!==a){if(a===b||a.Ei(b))return!1;var c=a.aB;if(null!==c&&!c(a,b)||null===a.data&&null!==b.data||null!==a.data&&null===b.data)return!1}c=this.aB;return null!==c?c(a,b):!0};
ta.prototype.ungroupSelection=function(a){void 0===a&&(a=null);var b=this.g;if(null!==b){var c=b.ia;if(c instanceof Y)try{b.lc="wait";b.ac("Ungroup");b.Ka("ChangingSelection");var d=new K(H);if(null!==a)d.add(a);else for(var e=b.selection.j;e.next();){var g=e.value;g instanceof H&&(a=g,a.canUngroup()&&d.add(a))}if(0<d.count){b.ox();for(var h=d.j;h.next();){var k=h.value;k.expandSubGraph();var l=k.Qa,m=null!==l&&null!==l.data?c.Cb(l.data):void 0,n=new K(E);n.Vc(k.Pc);for(var p=n.j;p.next();){var q=
p.value;q.jb=!0;if(!(q instanceof I)){var r=q.data;null!==r?c.zB(r,m):q.Qa=l}}b.remove(k)}}b.Ka("ChangedSelection");b.Ka("SelectionUngrouped",d,n)}finally{b.Ud("Ungroup"),b.lc=""}}};ta.prototype.canUngroupSelection=function(a){void 0===a&&(a=null);var b=this.g;if(null===b||b.nb||b.Gf||!b.Bn||!b.kx||!(b.ia instanceof Y))return!1;if(null!==a){if(!(a instanceof H))return!1;if(a.canUngroup())return!0}else for(a=b.selection.j;a.next();)if(b=a.value,b instanceof H&&b.canUngroup())return!0;return!1};
ta.prototype.addTopLevelParts=function(a,b){for(var c=!0,d=Rh(a).j;d.next();){var e=d.value;null!==e.Qa&&(!b||this.isValidMember(null,e)?e.Qa=null:c=!1)}return c};
ta.prototype.collapseSubGraph=function(a){void 0===a&&(a=null);var b=this.g;if(null!==b)try{b.ac("Collapse SubGraph");b.Ya.ko("Collapse SubGraph");var c=new K(H);if(null!==a&&a.Ke)a.collapseSubGraph(),c.add(a);else for(var d=b.selection.j;d.next();){var e=d.value;e instanceof H&&(a=e,a.Ke&&(a.collapseSubGraph(),c.add(a)))}b.Ka("SubGraphCollapsed",c)}finally{b.Ud("Collapse SubGraph")}};
ta.prototype.canCollapseSubGraph=function(a){void 0===a&&(a=null);var b=this.g;if(null===b||b.nb)return!1;if(null!==a)return a instanceof H&&a.Ke?!0:!1;for(a=b.selection.j;a.next();)if(b=a.value,b instanceof H&&b.Ke)return!0;return!1};
ta.prototype.expandSubGraph=function(a){void 0===a&&(a=null);var b=this.g;if(null!==b)try{b.ac("Expand SubGraph");b.Ya.ko("Expand SubGraph");var c=new K(H);if(null===a||a.Ke)for(var d=b.selection.j;d.next();){var e=d.value;e instanceof H&&(a=e,a.Ke||(a.expandSubGraph(),c.add(a)))}else a.expandSubGraph(),c.add(a);b.Ka("SubGraphExpanded",c)}finally{b.Ud("Expand SubGraph")}};
ta.prototype.canExpandSubGraph=function(a){void 0===a&&(a=null);var b=this.g;if(null===b||b.nb)return!1;if(null!==a)return a instanceof H&&!a.Ke?!0:!1;for(a=b.selection.j;a.next();)if(b=a.value,b instanceof H&&!b.Ke)return!0;return!1};
ta.prototype.editTextBlock=function(a){void 0===a&&(a=null);null!==a&&C.l(a,pa,ta,"editTextBlock");var b=this.g;if(null!==b){var c=b.lb.IB;if(null!==c){if(null===a){a=null;for(var d=b.selection.j;d.next();){var e=d.value;if(e.canEdit()){a=e;break}}if(null===a)return;a=a.eu(function(a){return a instanceof pa&&a.zA})}null!==a&&(b.hb=null,c.hh=a,b.hb=c)}}};
ta.prototype.canEditTextBlock=function(a){void 0===a&&(a=null);var b=this.g;if(null===b||b.nb||b.Gf||!b.jx||null===b.lb.IB)return!1;if(null!==a){if(!(a instanceof pa))return!1;a=a.ba;if(null!==a&&a.canEdit())return!0}else for(b=b.selection.j;b.next();)if(a=b.value,a.canEdit()&&(a=a.eu(function(a){return a instanceof pa&&a.zA}),null!==a))return!0;return!1};
ta.prototype.showContextMenu=function(a){var b=this.g;if(null!==b){var c=b.lb.pA;if(null!==c&&(void 0===a&&(a=0<b.selection.count?b.selection.first():b),a=c.findObjectWithContextMenu(a),null!==a)){var d=new Yf,e=null;a instanceof Q?e=a.fb(mc):b.gJ||(e=b.yb,e=new O(e.x+e.width/2,e.y+e.height/2));null!==e&&(d.g=b,d.se=b.MB(e),d.ha=e,d.left=!1,d.right=!0,d.up=!0,b.U=d);b.hb=c;Sh(c,!1,a)}}};
ta.prototype.canShowContextMenu=function(a){var b=this.g;if(null===b)return!1;var c=b.lb.pA;if(null===c)return!1;void 0===a&&(a=0<b.selection.count?b.selection.first():b);return null===c.findObjectWithContextMenu(a)?!1:!0};C.defineProperty(ta,{gI:"copiesClipboardData"},function(){return this.mC},function(a){C.h(a,"boolean",ta,"copiesClipboardData");this.mC=a});
C.defineProperty(ta,{hI:"copiesConnectedLinks"},function(){return this.nC},function(a){C.h(a,"boolean",ta,"copiesConnectedLinks");this.nC=a});C.defineProperty(ta,{UE:"deletesConnectedLinks"},function(){return this.HC},function(a){C.h(a,"boolean",ta,"deletesConnectedLinks");this.HC=a});C.defineProperty(ta,{jI:"copiesTree"},function(){return this.rC},function(a){C.h(a,"boolean",ta,"copiesTree");this.rC=a});
C.defineProperty(ta,{oI:"deletesTree"},function(){return this.IC},function(a){C.h(a,"boolean",ta,"deletesTree");this.IC=a});C.defineProperty(ta,{LE:"copiesParentKey"},function(){return this.qC},function(a){C.h(a,"boolean",ta,"copiesParentKey");this.qC=a});C.defineProperty(ta,{KE:"copiesGroupKey"},function(){return this.pC},function(a){C.h(a,"boolean",ta,"copiesGroupKey");this.pC=a});
C.defineProperty(ta,{yE:"archetypeGroupData"},function(){return this.Sy},function(a){null!==a&&C.l(a,Object,ta,"archetypeGroupData");var b=this.g;null!==b&&(b=b.ia,b instanceof Y&&(a instanceof H||b.SA(a)||C.k("CommandHandler.archetypeGroupData must be either a Group or a data object for which GraphLinksModel.isGroupForNodeData is true: "+a)));this.Sy=a});C.defineProperty(ta,{aB:"memberValidation"},function(){return this.Il},function(a){null!==a&&C.h(a,"function",ta,"memberValidation");this.Il=a});
C.defineProperty(ta,{vx:"defaultScale"},function(){return this.EC},function(a){C.p(a,ta,"defaultScale");0<a||C.k("defaultScale must be larger than zero, not: "+a);this.EC=a});C.defineProperty(ta,{Fy:"zoomFactor"},function(){return this.oE},function(a){C.p(a,ta,"zoomFactor");1<a||C.k("zoomFactor must be larger than 1.0, not: "+a);this.oE=a});ta.prototype.yt=function(a){if(null!==a)for(a=a.j;a.next();){var b=a.key;b instanceof I&&(b.Uj=!0)}};
ta.prototype.Dp=function(a){if(null!==a)for(a=a.j;a.next();){var b=a.key;b instanceof I&&(b.Uj=!1,Th(b)&&b.hc())}};function bh(){0<arguments.length&&C.wd(bh);C.wc(this);this.da=null;this.Yb="";this.of=!0;this.ZC=!1;this.jE=null;this.$w=-1}C.ka("Tool",bh);bh.prototype.ad=function(a){u&&null!==a&&C.l(a,D,bh,"setDiagram");this.da=a};bh.prototype.toString=function(){return""!==this.name?this.name+" Tool":C.tf(Object.getPrototypeOf(this))};bh.prototype.updateAdornments=function(){};
bh.prototype.canStart=function(){return this.isEnabled};bh.prototype.doStart=function(){};bh.prototype.doActivate=function(){this.ya=!0};bh.prototype.doDeactivate=function(){this.ya=!1};bh.prototype.doStop=function(){};bh.prototype.doCancel=function(){this.stopTool()};bh.prototype.stopTool=function(){var a=this.g;null!==a&&a.hb===this&&(a.hb=null,a.lc="")};bh.prototype.doMouseDown=function(){!this.ya&&this.canStart()&&this.doActivate()};bh.prototype.doMouseMove=function(){};
bh.prototype.doMouseUp=function(){this.stopTool()};bh.prototype.doMouseWheel=function(){};bh.prototype.canStartMultiTouch=function(){return!0};bh.prototype.standardPinchZoomStart=function(){var a=this.g;if(null!==a){var b=a.U,c=b.Ix(0,C.Fb(NaN,NaN)),d=b.Ix(1,C.Fb(NaN,NaN));if(c.F()&&d.F()&&(this.doCancel(),a.mu("hasGestureZoom"))){a.yD=a.scale;var e=d.x-c.x,g=d.y-c.y;a.SD=Math.sqrt(e*e+g*g);b.bubbles=!1}C.A(c);C.A(d)}};
bh.prototype.standardPinchZoomMove=function(){var a=this.g;if(null!==a){var b=a.U,c=b.Ix(0,C.Fb(NaN,NaN)),d=b.Ix(1,C.Fb(NaN,NaN));if(c.F()&&d.F()&&(this.doCancel(),a.mu("hasGestureZoom"))){var e=d.x-c.x,g=d.y-c.y,g=Math.sqrt(e*e+g*g)/a.SD,e=new O((Math.min(d.x,c.x)+Math.max(d.x,c.x))/2,(Math.min(d.y,c.y)+Math.max(d.y,c.y))/2),g=a.yD*g,h=a.xb;if(g!==a.scale&&h.canResetZoom(g)){var k=a.Dm;a.Dm=e;h.resetZoom(g);a.Dm=k}b.bubbles=!1}C.A(c);C.A(d)}};
bh.prototype.doKeyDown=function(){var a=this.g;null!==a&&"Esc"===a.U.key&&this.doCancel()};bh.prototype.doKeyUp=function(){};bh.prototype.startTransaction=bh.prototype.ac=function(a){void 0===a&&(a=this.name);this.Pf=null;var b=this.g;return null===b?!1:b.ac(a)};bh.prototype.stopTransaction=bh.prototype.al=function(){var a=this.g;return null===a?!1:null===this.Pf?a.Lq():a.Ud(this.Pf)};
bh.prototype.standardMouseSelect=function(){var a=this.g;if(null!==a&&a.Cf){var b=a.U,c=a.fu(b.ha,!1);if(null!==c)if(C.Uk?b.Eu:b.control){a.Ka("ChangingSelection");for(b=c;null!==b&&!b.canSelect();)b=b.Qa;null!==b&&(b.jb=!b.jb);a.Ka("ChangedSelection")}else if(b.shift){if(!c.jb){a.Ka("ChangingSelection");for(b=c;null!==b&&!b.canSelect();)b=b.Qa;null!==b&&(b.jb=!0);a.Ka("ChangedSelection")}}else{if(!c.jb){for(b=c;null!==b&&!b.canSelect();)b=b.Qa;null!==b&&a.select(b)}}else!b.left||(C.Uk?b.Eu:b.control)||
b.shift||a.ox()}};bh.prototype.standardMouseClick=function(a,b){void 0===a&&(a=null);void 0===b&&(b=function(a){return!a.layer.Xc});var c=this.g;if(null===c)return!1;var d=c.U,e=c.He(d.ha,a,b);d.We=e;Uh(e,d,c);return d.Oc};
function Uh(a,b,c){b.Oc=!1;if(null===a||a.tu()){var d=0;b.left?d=1===b.Qe?1:2===b.Qe?2:1:b.right&&1===b.Qe&&(d=3);var e="";if(null!==a){switch(d){case 1:e="ObjectSingleClicked";break;case 2:e="ObjectDoubleClicked";break;case 3:e="ObjectContextClicked"}0!==d&&c.Ka(e,a)}else{switch(d){case 1:e="BackgroundSingleClicked";break;case 2:e="BackgroundDoubleClicked";break;case 3:e="BackgroundContextClicked"}0!==d&&c.Ka(e)}if(null!==a)for(;null!==a;){c=null;switch(d){case 1:c=a.click;break;case 2:c=a.bu?a.bu:
a.click;break;case 3:c=a.oA}if(null!==c&&(c(b,a),b.Oc))break;a=a.Q}else{a=null;switch(d){case 1:a=c.click;break;case 2:a=c.bu?c.bu:c.click;break;case 3:a=c.oA}null!==a&&a(b)}}}
bh.prototype.standardMouseOver=function(){var a=this.g;if(null!==a){var b=a.U;if(null!==b.g&&!0!==a.Ya.yc){var c=a.Eb;a.Eb=!0;var d=a.He(b.ha,null,null);b.We=d;var e=!1;if(d!==a.Mo){var g=a.Mo,h=g;a.Mo=d;this.doCurrentObjectChanged(g,d);for(b.Oc=!1;null!==g;){var k=g.Gu;if(null!==k){if(d===g)break;if(null!==d&&d.rm(g))break;k(b,g,d);e=!0;if(b.Oc)break}g=g.Q}g=h;for(b.Oc=!1;null!==d;){k=d.Fu;if(null!==k){if(g===d)break;if(null!==g&&g.rm(d))break;k(b,d,g);e=!0;if(b.Oc)break}d=d.Q}d=a.Mo}if(null!==d){g=
d;for(k="";null!==g;){k=g.cursor;if(""!==k)break;g=g.Q}a.lc=k;b.Oc=!1;for(g=d;null!==g;){k=g.eB;if(null!==k&&(k(b,g),e=!0,b.Oc))break;g=g.Q}}else a.lc="",k=a.eB,null!==k&&(k(b),e=!0);e&&a.Te();a.Eb=c}}};bh.prototype.doCurrentObjectChanged=function(){};
bh.prototype.standardMouseWheel=function(){var a=this.g;if(null!==a){var b=a.U,c=b.fm;if(0!==c&&a.fd.F()){var d=a.xb,e=a.lb.Hu;if((e===Vh&&!b.shift||e===Wh&&b.control)&&(0<c?d.canIncreaseZoom():d.canDecreaseZoom()))e=a.Dm,a.Dm=b.se,0<c?d.increaseZoom():d.decreaseZoom(),a.Dm=e,b.bubbles=!1;else if(e===Vh&&b.shift||e===Wh&&!b.control){var d=a.position.copy(),e=0<c?c:-c,g=b.event.deltaX,h=b.event.deltaY;void 0===g||void 0===h||0===g&&0===h||b.shift?!b.shift&&a.Be?(g=a.Vu,e=e/40*g,0<c?a.scroll("pixel",
"up",e):a.scroll("pixel","down",e)):b.shift&&a.Ae&&(g=a.Uu,e=e/40*g,0<c?a.scroll("pixel","left",e):a.scroll("pixel","right",e)):(0!==g&&a.Ae&&(0<g?a.scroll("pixel","left",-g):a.scroll("pixel","right",g)),0!==h&&a.Be&&(0<h?a.scroll("pixel","up",-h):a.scroll("pixel","down",h)));a.position.O(d)||(b.bubbles=!1)}}}};bh.prototype.standardWaitAfter=function(a,b){C.h(a,"number",bh,"standardWaitAfter:delay");this.cancelWaitAfter();var c=this,d=b.copy();this.$w=C.setTimeout(function(){c.doWaitAfter(d)},a)};
bh.prototype.cancelWaitAfter=function(){-1!==this.$w&&C.clearTimeout(this.$w);this.$w=-1};bh.prototype.doWaitAfter=function(){};bh.prototype.findToolHandleAt=function(a,b){var c=this.g;if(null===c)return null;c=c.He(a,function(a){for(;null!==a&&!(a.Q instanceof ea);)a=a.Q;return a});return null===c?null:c.Q.rc===b?c:null};
bh.prototype.isBeyondDragSize=function(a,b){var c=this.g;if(null===c)return!1;void 0===a&&(a=c.Nc.se);void 0===b&&(b=c.U.se);var d=c.lb.sI,e=d.width,d=d.height;c.Nc.Jj&&(e+=6,d+=6);return Math.abs(b.x-a.x)>e||Math.abs(b.y-a.y)>d};C.w(bh,{g:"diagram"},function(){return this.da});C.defineProperty(bh,{name:"name"},function(){return this.Yb},function(a){C.h(a,"string",bh,"name");this.Yb=a});
C.defineProperty(bh,{isEnabled:"isEnabled"},function(){return this.of},function(a){C.h(a,"boolean",bh,"isEnabled");this.of=a});C.defineProperty(bh,{ya:"isActive"},function(){return this.ZC},function(a){C.h(a,"boolean",bh,"isActive");this.ZC=a});C.defineProperty(bh,{Pf:"transactionResult"},function(){return this.jE},function(a){null!==a&&C.h(a,"string",bh,"transactionResult");this.jE=a});
function Ph(){bh.call(this);0<arguments.length&&C.wd(Ph);this.name="Dragging";this.oC=this.cD=!0;this.es=this.OC=!1;this.gD=!0;this.vz=(new Fa(NaN,NaN)).freeze();this.wz=hc;this.xz=(new O(NaN,NaN)).freeze();this.NC=!1;this.LC=this.lC=this.MC=this.wC=this.qj=null;this.Lr=this.eD=!1;this.Lp=new O(NaN,NaN);this.Qw=new O;this.Tw=!1;this.bD=!0;this.So=100;this.ck=[];this.lH=(new L(E)).freeze()}C.Ta(Ph,bh);C.ka("DraggingTool",Ph);
C.defineProperty(Ph,{EF:"isCopyEnabled"},function(){return this.cD},function(a){C.h(a,"boolean",Ph,"isCopyEnabled");this.cD=a});C.defineProperty(Ph,{iI:"copiesEffectiveCollection"},function(){return this.oC},function(a){C.h(a,"boolean",Ph,"copiesEffectiveCollection");this.oC=a});C.defineProperty(Ph,{tI:"dragsTree"},function(){return this.OC},function(a){C.h(a,"boolean",Ph,"dragsTree");this.OC=a});
C.defineProperty(Ph,{Px:"isGridSnapEnabled"},function(){return this.es},function(a){C.h(a,"boolean",Ph,"isGridSnapEnabled");this.es=a});C.defineProperty(Ph,{cJ:"isComplexRoutingRealtime"},function(){return this.bD},function(a){C.h(a,"boolean",Ph,"isComplexRoutingRealtime");this.bD=a});C.defineProperty(Ph,{eJ:"isGridSnapRealtime"},function(){return this.gD},function(a){C.h(a,"boolean",Ph,"isGridSnapRealtime");this.gD=a});
C.defineProperty(Ph,{uF:"gridSnapCellSize"},function(){return this.vz},function(a){C.l(a,Fa,Ph,"gridSnapCellSize");this.vz.O(a)||(this.vz=a=a.V())});C.defineProperty(Ph,{OI:"gridSnapCellSpot"},function(){return this.wz},function(a){C.l(a,S,Ph,"gridSnapCellSpot");this.wz.O(a)||(this.wz=a=a.V())});C.defineProperty(Ph,{QI:"gridSnapOrigin"},function(){return this.xz},function(a){C.l(a,O,Ph,"gridSnapOrigin");this.xz.O(a)||(this.xz=a=a.V())});
C.defineProperty(Ph,{Dj:"dragsLink"},function(){return this.NC},function(a){C.h(a,"boolean",Ph,"dragsLink");this.NC=a});C.defineProperty(Ph,{Ln:"currentPart"},function(){return this.wC},function(a){null!==a&&C.l(a,E,Ph,"currentPart");this.wC=a});C.defineProperty(Ph,{kc:"copiedParts"},function(){return this.lC},function(a){this.lC=a});C.defineProperty(Ph,{gc:"draggedParts"},function(){return this.MC},function(a){this.MC=a});
C.w(Ph,{xL:"draggingParts"},function(){return null!==this.kc?this.kc.Wj():null!==this.gc?this.gc.Wj():this.lH});C.defineProperty(Ph,{td:"draggedLink"},function(){return this.LC},function(a){null!==a&&C.l(a,I,Ph,"draggedLink");this.LC=a});C.defineProperty(Ph,{Ox:"isDragOutStarted"},function(){return this.eD},function(a){this.eD=a});C.defineProperty(Ph,{$k:"startPoint"},function(){return this.Qw},function(a){C.l(a,O,Ph,"startPoint");this.Qw.O(a)||(this.Qw=a=a.V())});
C.defineProperty(Ph,{PE:"delay"},function(){return this.So},function(a){C.h(a,"number",Ph,"delay");this.So=a});Ph.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;if(null===a||a.nb&&!a.Rt||!a.Wl&&!a.Ik&&!a.Rt||!a.Cf)return!1;var b=a.U;return!b.left||a.hb!==this&&(!this.isBeyondDragSize()||b.Jj&&b.timestamp-a.Nc.timestamp<this.So)?!1:null!==this.findDraggablePart()};
Ph.prototype.findDraggablePart=function(){var a=this.g;if(null===a)return null;a=a.fu(a.Nc.ha,!1);if(null===a)return null;for(;null!==a&&!a.canSelect();)a=a.Qa;return null!==a&&(a.canMove()||a.canCopy())?a:null};Ph.prototype.standardMouseSelect=function(){var a=this.g;if(null!==a&&a.Cf){var b=a.fu(a.Nc.ha,!1);if(null!==b){for(;null!==b&&!b.canSelect();)b=b.Qa;this.Ln=b;this.Ln.jb||(a.Ka("ChangingSelection"),b=a.U,(C.Uk?b.Eu:b.control)||b.shift||Oh(a),this.Ln.jb=!0,a.Ka("ChangedSelection"))}}};
Ph.prototype.doActivate=function(){var a=this.g;if(null!==a){null===this.Ln&&this.standardMouseSelect();var b=this.Ln;null!==b&&(b.canMove()||b.canCopy())&&(this.ya=!0,this.Lp.set(a.position),Xh(this,a.selection),this.ck.length=0,this.gc=this.computeEffectiveCollection(a.selection),a.$u=!0,this.yt(this.gc),this.ac("Drag"),this.$k=a.Nc.ha,a.kf=!0,a.Rt&&(this.Ox=!0,this.Lr=!1,Yh=this,Zh=this.g,this.doSimulatedDragOut()))}};
function Xh(a,b){if(a.Dj){var c=a.g;null!==c&&c.Cn&&(c.ia instanceof Y&&1===b.count&&b.first()instanceof I?(a.td=b.first(),a.td.canRelinkFrom()&&a.td.canRelinkTo()&&a.td.Wt(),a.qj=c.lb.gG,null===a.qj&&(a.qj=new $h,a.qj.ad(c))):(a.td=null,a.qj=null))}}
Ph.prototype.computeEffectiveCollection=function(a){var b=null!==this.g&&this.g.hb===this,c=new oa(E);if(null===a)return c;for(var d=a.j;d.next();)ji(this,c,d.value,b);if(null!==this.td&&this.Dj)return c;for(d=a.j;d.next();)a=d.value,a instanceof I&&(b=a.aa,null===b||c.contains(b)?(b=a.ea,null===b||c.contains(b)||c.remove(a)):c.remove(a));return c};function wi(a){return void 0===a?new xi(Dd):new xi(a.copy())}
function ji(a,b,c,d){if(!b.contains(c)&&(!d||c.canMove()||c.canCopy()))if(c instanceof F){b.add(c,wi(c.location));if(c instanceof H)for(var e=c.Pc;e.next();)ji(a,b,e.value,d);for(e=c.Hd;e.next();){var g=e.value;if(!b.contains(g)){var h=g.aa,k=g.ea;null!==h&&b.contains(h)&&null!==k&&b.contains(k)&&ji(a,b,g,d)}}if(a.tI)for(c=c.iF();c.next();)ji(a,b,c.value,d)}else if(c instanceof I)for(g=c,b.add(g,wi()),e=g.Jf;e.next();)ji(a,b,e.value,d);else c instanceof ea||b.add(c,wi(c.location))}
Ph.prototype.doDeactivate=function(){this.ya=!1;var a=this.g;null!==a&&yi(a);zi(this);this.Dp(this.gc);this.gc=this.Ln=null;this.Lr=this.Ox=!1;if(0<Ai.count){for(var b=Ai.length,c=0;c<b;c++){var d=Ai.fa(c);Bi(d);Ci(d);zi(d);null!==d.g&&yi(d.g)}Ai.clear()}Bi(this);this.Lp.m(NaN,NaN);Yh=Zh=null;Ci(this);a.kf=!1;a.lc="";a.$u=!1;this.al()};function zi(a){var b=a.g;if(null!==b){var c=b.Eb;b.Eb=!0;Di(a,b.U,null);b.Eb=c}a.ck.length=0}
function Ei(){var a=Yh;Ci(a);Fi(a);var b=a.g;null!==b&&a.Lp.F()&&(b.position=a.Lp);null!==b&&yi(b)}Ph.prototype.doCancel=function(){Ci(this);Fi(this);var a=this.g;null!==a&&this.Lp.F()&&(a.position=this.Lp);this.stopTool()};Ph.prototype.yt=function(a){if(null!==a)for(this.Tw=!0,a=a.j;a.next();){var b=a.key;b instanceof I&&(b.Uj=!0)}};Ph.prototype.Dp=function(a){if(null!==a){for(a=a.j;a.next();){var b=a.key;b instanceof I&&(b.Uj=!1,Th(b)&&b.hc())}this.Tw=!1}};
Ph.prototype.doKeyDown=function(){var a=this.g;null!==a&&(a=a.U,null!==a&&this.ya&&("Esc"===a.key?this.doCancel():this.doMouseMove()))};Ph.prototype.doKeyUp=function(){var a=this.g;null!==a&&null!==a.U&&this.ya&&this.doMouseMove()};function Gi(a,b){for(var c=Infinity,d=Infinity,e=-Infinity,g=-Infinity,h=a.j;h.next();){var k=h.value;if(k.qe()&&k.isVisible()){var l=k.location,k=l.x,l=l.y;isNaN(k)||isNaN(l)||(k<c&&(c=k),l<d&&(d=l),k>e&&(e=k),l>g&&(g=l))}}Infinity===c?b.m(0,0,0,0):b.m(c,d,e-c,g-d)}
function Hi(a,b){if(null===a.kc){var c=a.g;if(!(null===c||b&&(c.nb||c.Gf))&&null!==a.gc){var d=c.sa;d.isEnabled&&d.JF?null!==d.Bj&&0<d.Bj.ag.count&&(c.sa.Lq(),c.ac("Drag")):Fi(a);c.Eb=!b;c.cr=!b;a.$k=c.Nc.ha;d=a.iI?a.gc.Wj():c.selection;d=c.cq(d,c,!0);for(c=d.j;c.next();)c.value.location=c.key.location;c=C.Nf();Gi(d,c);C.Lb(c);for(var c=new oa(E),e=a.gc.j;e.next();){var g=e.key;g.qe()&&g.canCopy()&&(g=d.pa(g),null!==g&&(g.jf(),c.add(g,wi(g.location))))}for(d=d.j;d.next();)e=d.value,e instanceof I&&
e.canCopy()&&c.add(e,wi());a.kc=c;Xh(a,c.Wj());null!==a.td&&(c=a.td,d=c.mo,c.um(a.$k.x-(d.x+d.width/2),a.$k.y-(d.y+d.height/2)))}}}function Ci(a){var b=a.g;if(null!==b){if(null!==a.kc&&(b.rB(a.kc.Wj(),!1),a.kc=null,null!==a.gc))for(var c=a.gc.j;c.next();)c.key instanceof I&&(c.value.point=new O(0,0));b.Eb=!1;b.cr=!1;a.$k=b.Nc.ha}}function Bi(a){if(null!==a.td){if(a.Dj&&null!==a.qj){var b=a.qj;null!==b.g&&(b.g.remove(b.ae),b.g.remove(b.be))}a.td=null;a.qj=null}}
function Ii(a,b,c){var d=a.g;if(null!==d){var e=a.$k,g=C.P();g.assign(d.U.ha);a.moveParts(b,g.ro(e),c);C.A(g)}}
Ph.prototype.moveParts=function(a,b,c){if(null!==a&&(C.l(a,oa,Ph,"moveParts:parts"),0!==a.count)){var d=C.P(),e=C.P();e.assign(b);isNaN(e.x)&&(e.x=0);isNaN(e.y)&&(e.y=0);(b=this.Tw)||this.yt(a);for(var g=new K(Ji),h=new K(Za),k=a.j;k.next();){var l=k.key;if(l.qe()){var m=Ki(this,l,a);if(null!==m)g.add(new Ji(l,k.value,m));else if(!c||l.canMove()){m=k.value.point;d.assign(m);var n=C.P(),p=this.computeMove(l,d.add(e),a,n);l.location=p;k.value.GG=n.ro(m);C.A(n)}}else k.key instanceof I&&h.add(k.cb)}for(c=
g.j;c.next();)g=c.value,m=g.info.point,d.assign(m),g.Zc.location=d.add(g.RI.GG);c=C.P();m=C.P();for(h=h.j;h.next();)if(k=h.value,g=k.key,g instanceof I)if(g.Uj)l=g.aa,n=g.ea,null!==this.td&&this.Dj?(k=k.value.point,a.add(g,wi(e)),l=e.x-k.x,k=e.y-k.y,g.um(l,k)):(null!==l&&(c.assign(l.location),p=a.pa(l),null!==p&&c.ro(p.point)),null!==n&&(m.assign(n.location),p=a.pa(n),null!==p&&m.ro(p.point)),null!==l&&null!==n?c.Wc(m)?(k=k.value.point,l=d,l.assign(c),l.ro(k),a.add(g,wi(c)),g.um(l.x,l.y)):(g.Uj=!1,
g.hc()):(k=k.value.point,n=null!==l?c:null!==n?m:e,a.add(g,wi(n)),l=n.x-k.x,k=n.y-k.y,g.um(l,k)));else if(null===g.aa||null===g.ea)k=k.value.point,a.add(g,wi(e)),l=e.x-k.x,k=e.y-k.y,g.um(l,k);C.A(d);C.A(e);C.A(c);C.A(m);b||(Li(this.g),this.Dp(a))}};function Ki(a,b,c){b=b.Qa;if(null!==b){a=Ki(a,b,c);if(null!==a)return a;a=c.pa(b);if(null!==a)return a}return null}
function Fi(a){if(null!==a.gc){for(var b=a.g,c=a.gc.j;c.next();){var d=c.key;d.qe()&&(d.location=c.value.point)}for(c=a.gc.j;c.next();)if(d=c.key,d instanceof I&&d.Uj){var e=c.value.point;a.gc.add(d,wi());d.um(-e.x,-e.y)}b.gg()}}
Ph.prototype.computeMove=function(a,b,c,d){void 0===d&&(d=new O);d.assign(b);if(null===a)return d;void 0===c&&(c=null);var e=b;if(this.Px&&(this.eJ||null===c||null!==this.g&&this.g.U.up)&&(e=C.P(),c=e,c.assign(b),null!==a)){var g=this.g;if(null!==g){var h=g.Vn,k=this.uF,g=k.width,k=k.height,l=this.QI,m=l.x,l=l.y,n=this.OI;if(null!==h){var p=h.Kx;isNaN(g)&&(g=p.width);isNaN(k)&&(k=p.height);h=h.tF;isNaN(m)&&(m=h.x);isNaN(l)&&(l=h.y)}h=C.Fb(0,0);h.Yu(0,0,g,k,n);tb(b.x,b.y,m+h.x,l+h.y,g,k,c);C.A(h)}}c=
null!==a.VE?a.VE(a,b,e):e;k=a.FJ;g=k.x;isNaN(g)&&(g=a.location.x);k=k.y;isNaN(k)&&(k=a.location.y);h=a.zJ;m=h.x;isNaN(m)&&(m=a.location.x);h=h.y;isNaN(h)&&(h=a.location.y);d.m(Math.max(g,Math.min(c.x,m)),Math.max(k,Math.min(c.y,h)));e!==b&&C.A(e);return d};function Mi(a,b){if(null===b)return!0;var c=b.ba;return null===c||c instanceof ea||c.layer.Xc||a.gc&&a.gc.contains(c)||a.kc&&a.kc.contains(c)?!0:!1}
function Ni(a,b,c,d){var e=a.g;if(null!==e){a.Dj&&(null!==a.td&&(a.td.aa=null,a.td.ea=null),Oi(a,!1));var g=Pi(e,b,null,function(b){return!Mi(a,b)}),h=e.U;h.We=g;var k=e.Eb,l=!1;try{e.Eb=!0;l=Di(a,h,g);if(!a.ya&&null===Yh)return;if(null===g){var m=e.JJ;null!==m&&(m(h),l=!0)}if(!a.ya&&null===Yh)return;a.doDragOver(b,g);if(!a.ya&&null===Yh)return}finally{e.Eb=k,l&&e.gg()}(e.Ae||e.Be)&&(c||d)&&e.wA(h.se)}}
function Di(a,b,c){var d=!1,e=a.ck.length,g=0<e?a.ck[0]:null;if(c===g)return!1;b.Oc=!1;for(var h=0;h<e;h++){var k=a.ck[h],l=k.IJ;if(null!==l&&(l(b,k,c),d=!0,b.Oc))break}a.ck.length=0;if(!a.ya&&null===Yh||null===c)return d;for(b.Oc=!1;null!==c;)a.ck.push(c),c=Qi(c);e=a.ck.length;for(h=0;h<e&&(k=a.ck[h],l=k.HJ,null===l||(l(b,k,g),d=!0,!b.Oc));h++);return d}function Qi(a){var b=a.Q;return null!==b?b:a instanceof E&&!(a instanceof H)&&(a=a.Qa,null!==a&&a.TI)?a:null}
function Ri(a,b,c){var d=a.qj;if(null===d)return null;var e=a.g.On(b,d.eG,function(a){return d.findValidLinkablePort(a,c)});a=C.P();for(var g=Infinity,h=null,e=e.j;e.next();){var k=e.value;if(null!==k.ba){var l=k.fb(mc,a),l=b.Df(l);l<g&&(h=k,g=l)}}C.A(a);return h}
function Oi(a,b){var c=a.td;if(null!==c&&!(2>c.ua)){var d=a.g;if(null!==d&&!d.nb&&(d=a.qj,null!==d)){var e=null,g=null;null===c.aa&&(e=Ri(a,c.n(0),!1),null!==e&&(g=e.ba));var h=null,k=null;null===c.ea&&(h=Ri(a,c.n(c.ua-1),!0),null!==h&&(k=h.ba));d.isValidLink(g,e,k,h)?b?(c.dq=c.n(0),c.eq=c.n(c.ua-1),c.Uj=!1,c.aa=g,null!==e&&(c.cg=e.vd),c.ea=k,null!==h&&(c.ih=h.vd)):Si(d,g,e,k,h):Si(d,null,null,null,null)}}}Ph.prototype.doDragOver=function(){};
function Ti(a,b){var c=a.g;if(null!==c){a.Dj&&Oi(a,!0);zi(a);var d=Pi(c,b,null,function(b){return!Mi(a,b)}),e=c.U;e.We=d;if(null!==d){e.Oc=!1;for(var g=d;null!==g;){var h=g.bB;if(null!==h&&(h(e,g),e.Oc))break;g=Qi(g)}}else h=c.bB,null!==h&&h(e);if(a.ya||null!==Yh){for(e=(a.kc||a.gc).j;e.next();)g=e.key,g instanceof F&&g.Hd.each(function(a){a.Uj=!1});a.doDropOnto(b,d);if(a.ya||null!==Yh){d=C.Nf();for(e=c.selection.j;e.next();)g=e.value,g instanceof F&&Ui(c,g.getAvoidableRect(d));C.Lb(d)}}}}
Ph.prototype.doDropOnto=function(){};Ph.prototype.doMouseMove=function(){if(this.ya){var a=this.g;if(null!==a&&null!==this.Ln&&null!==this.gc){var b=!1,c=!1;this.mayCopy()?(b=!0,a.lc="copy",Hi(this,!1),this.yt(this.kc),Ii(this,this.kc,!1),this.Dp(this.kc)):this.mayMove()?(c=!0,a.lc="default",Ci(this),Ii(this,this.gc,!0)):this.mayDragOut()?(a.lc="no-drop",Hi(this,!1),Ii(this,this.kc,!1)):Ci(this);Ni(this,a.U.ha,c,b)}}};
Ph.prototype.doMouseUp=function(){if(this.ya){var a=this.g;if(null!==a){var b=!1,c=this.mayCopy();c&&null!==this.kc?(Ci(this),Hi(this,!0),this.yt(this.kc),Ii(this,this.kc,!1),this.Dp(this.kc),null!==this.kc&&a.AG(this.kc.Wj())):(b=!0,Ci(this),this.mayMove()&&(Ii(this,this.gc,!0),Ni(this,a.U.ha,!0,!1)));this.Lr=!0;Ti(this,a.U.ha);if(this.ya){this.kc=null;if(b&&null!==this.gc)for(b=this.gc.j;b.next();){var d=b.key;d instanceof F&&(d=d.Qa,null===d||null===d.placeholder||this.gc.contains(d)||d.placeholder.K())}a.Bc();
this.Dp(this.gc);this.Pf=c?"Copy":"Move";a.Ka(c?"SelectionCopied":"SelectionMoved",a.selection)}this.stopTool()}}};Ph.prototype.mayCopy=function(){if(!this.EF)return!1;var a=this.g;if(null===a||a.nb||a.Gf||!a.Vp||!a.Ik||(C.Uk?!a.U.alt:!a.U.control))return!1;for(a=a.selection.j;a.next();){var b=a.value;if(b.qe()&&b.canCopy())return!0}return null!==this.td&&this.Dj&&this.td.canCopy()?!0:!1};
Ph.prototype.mayDragOut=function(){if(!this.EF)return!1;var a=this.g;if(null===a||!a.Rt||!a.Ik||a.Wl)return!1;for(a=a.selection.j;a.next();){var b=a.value;if(b.qe()&&b.canCopy())return!0}return null!==this.td&&this.Dj&&this.td.canCopy()?!0:!1};Ph.prototype.mayMove=function(){var a=this.g;if(null===a||a.nb||!a.Wl)return!1;for(a=a.selection.j;a.next();){var b=a.value;if(b.qe()&&b.canMove())return!0}return null!==this.td&&this.Dj&&this.td.canMove()?!0:!1};var Ai=new K(Ph),Yh=null,Zh=null;
Ph.prototype.getDraggingSource=function(){return Yh};Ph.prototype.mayDragIn=function(){var a=this.g;if(null===a||!a.wE||a.nb||a.Gf||!a.Vp)return!1;var b=Yh;return null===b||null===b.g||b.g.ia.dm!==a.ia.dm?!1:!0};Ph.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var a=this.g;a.Ya.Ii();Vi(a);a=Yh;null!==a&&null!==a.g&&(a.g.lc="copy")}};Ph.prototype.doSimulatedDragLeave=function(){var a=Yh;null!==a&&a.doSimulatedDragOut();this.doCancel()};
Ph.prototype.doSimulatedDragOver=function(){var a=this.g;if(null!==a){var b=Yh;null!==b&&null!==b.gc&&this.mayDragIn()&&(a.lc="copy",Wi(this,b.gc.Wj(),!1),Ii(this,this.kc,!1),Ni(this,a.U.ha,!1,!0))}};
Ph.prototype.doSimulatedDrop=function(){var a=this.g;if(null!==a){var b=Yh;if(null!==b){var c=b.g;b.Lr=!0;Ci(this);this.mayDragIn()&&(this.ac("Drop"),Wi(this,b.gc.Wj(),!0),Ii(this,this.kc,!1),null!==this.kc&&a.AG(this.kc.Wj()),Ti(this,a.U.ha),a.Bc(),b=a.selection,null!==this.kc?this.Pf="ExternalCopy":b=new L(E),this.kc=null,a.doFocus(),a.Ka("ExternalObjectsDropped",b,c),this.al())}}};
function Wi(a,b,c){if(null===a.kc){var d=a.g;if(null!==d&&!d.nb&&!d.Gf){d.Eb=!c;d.cr=!c;a.$k=d.U.ha;d=d.cq(b,d,!0);c=C.Nf();Gi(b,c);var e=c.x+c.width/2,g=c.y+c.height/2;C.Lb(c);var h=a.Qw;c=new oa(E);var k=C.P();for(b=b.j;b.next();){var l=b.value;if(l.qe()&&l.canCopy()){var m=l.location,l=d.pa(l);k.m(h.x-(e-m.x),h.y-(g-m.y));l.location=k;l.jf();c.add(l,wi(k))}}C.A(k);for(d=d.j;d.next();)e=d.value,e instanceof I&&e.canCopy()&&c.add(e,wi());a.kc=c;Xh(a,c.Wj());null!==a.td&&(c=a.td,d=c.mo,c.um(a.$k.x-
(d.x+d.width/2),a.$k.y-(d.y+d.height/2)))}}}Ph.prototype.doSimulatedDragOut=function(){var a=this.g;null!==a&&(this.mayCopy()||this.mayMove()?a.lc="":a.lc="no-drop")};function xi(a){this.point=a;this.GG=Dd}C.ka("DraggingInfo",xi);function Ji(a,b,c){this.Zc=a;this.info=b;this.RI=c}
function Xi(){0<arguments.length&&C.wd(Xi);bh.call(this);this.JD=100;this.jD=!1;var a=new I,b=new w;b.Hf=!0;b.stroke="blue";a.add(b);b=new w;b.Xq="Standard";b.fill="blue";b.stroke="blue";a.add(b);a.Kf="Tool";this.bE=a;a=new F;b=new w;b.vd="";b.Jb="Rectangle";b.fill=null;b.stroke="magenta";b.ib=2;b.Da=Td;a.add(b);a.Zk=!1;a.Kf="Tool";this.$D=a;this.aE=b;a=new F;b=new w;b.vd="";b.Jb="Rectangle";b.fill=null;b.stroke="magenta";b.ib=2;b.Da=Td;a.add(b);a.Zk=!1;a.Kf="Tool";this.cE=a;this.dE=b;this.GD=this.FD=
this.BD=this.AD=this.CD=null;this.fD=!0;this.CH=new oa(Q,"boolean");this.KD=this.Gl=this.XD=null}C.Ta(Xi,bh);C.ka("LinkingBaseTool",Xi);Xi.prototype.doStop=function(){var a=this.g;null!==a&&yi(a);this.bh=this.ah=this.$g=this.Zg=this.uc=null;this.Dy.clear();this.Mf=null};C.defineProperty(Xi,{eG:"portGravity"},function(){return this.JD},function(a){C.h(a,"number",Xi,"portGravity");0<=a&&(this.JD=a)});
C.defineProperty(Xi,{wq:"isUnconnectedLinkValid"},function(){return this.jD},function(a){C.h(a,"boolean",Xi,"isUnconnectedLinkValid");this.jD=a});C.defineProperty(Xi,{gh:"temporaryLink"},function(){return this.bE},function(a){C.l(a,I,Xi,"temporaryLink");this.bE=a});C.defineProperty(Xi,{ae:"temporaryFromNode"},function(){return this.$D},function(a){C.l(a,F,Xi,"temporaryFromNode");this.$D=a});
C.defineProperty(Xi,{so:"temporaryFromPort"},function(){return this.aE},function(a){C.l(a,Q,Xi,"temporaryFromPort");this.aE=a});C.defineProperty(Xi,{be:"temporaryToNode"},function(){return this.cE},function(a){C.l(a,F,Xi,"temporaryToNode");this.cE=a});C.defineProperty(Xi,{to:"temporaryToPort"},function(){return this.dE},function(a){C.l(a,Q,Xi,"temporaryToPort");this.dE=a});C.defineProperty(Xi,{uc:"originalLink"},function(){return this.CD},function(a){null!==a&&C.l(a,I,Xi,"originalLink");this.CD=a});
C.defineProperty(Xi,{Zg:"originalFromNode"},function(){return this.AD},function(a){null!==a&&C.l(a,F,Xi,"originalFromNode");this.AD=a});C.defineProperty(Xi,{$g:"originalFromPort"},function(){return this.BD},function(a){null!==a&&C.l(a,Q,Xi,"originalFromPort");this.BD=a});C.defineProperty(Xi,{ah:"originalToNode"},function(){return this.FD},function(a){null!==a&&C.l(a,F,Xi,"originalToNode");this.FD=a});
C.defineProperty(Xi,{bh:"originalToPort"},function(){return this.GD},function(a){null!==a&&C.l(a,Q,Xi,"originalToPort");this.GD=a});C.defineProperty(Xi,{Yd:"isForwards"},function(){return this.fD},function(a){C.h(a,"boolean",Xi,"isForwards");this.fD=a});C.w(Xi,{Dy:"validPortsCache"},function(){return this.CH});C.defineProperty(Xi,{Mf:"targetPort"},function(){return this.XD},function(a){null!==a&&C.l(a,Q,Xi,"targetPort");this.XD=a});
Xi.prototype.copyPortProperties=function(a,b,c,d,e){if(null!==a&&null!==b&&null!==c&&null!==d){d.Da=b.Z.size;e?(d.Hb=b.Hb,d.Bm=b.Bm):(d.Gb=b.Gb,d.lm=b.lm);c.xf=mc;var g=C.P();c.location=b.fb(mc,g);C.A(g);d.angle=b.Rn();null!==this.ly&&this.ly(a,b,c,d,e)}};Xi.prototype.setNoTargetPortProperties=function(a,b,c){null!==b&&(b.Da=Td,b.Gb=gc,b.Hb=gc);null!==a&&null!==this.g&&(a.location=this.g.U.ha);null!==this.ly&&this.ly(null,null,a,b,c)};Xi.prototype.doMouseDown=function(){this.ya&&this.doMouseMove()};
Xi.prototype.doMouseMove=function(){if(this.ya){var a=this.g;if(null!==a){this.Mf=this.findTargetPort(this.Yd);if(null!==this.Mf&&this.Mf.ba instanceof F){var b=this.Mf.ba;this.Yd?this.copyPortProperties(b,this.Mf,this.be,this.to,!0):this.copyPortProperties(b,this.Mf,this.ae,this.so,!1)}else this.Yd?this.setNoTargetPortProperties(this.be,this.to,!0):this.setNoTargetPortProperties(this.ae,this.so,!1);(a.Ae||a.Be)&&a.wA(a.U.se)}}};
Xi.prototype.findValidLinkablePort=function(a,b){if(null===a)return null;var c=a.ba;if(!(c instanceof F))return null;for(;null!==a;){var d=b?a.QG:a.kF;if(!0===d&&(null!==a.vd||a instanceof F)&&(b?this.isValidTo(c,a):this.isValidFrom(c,a)))return a;if(!1===d)break;a=a.Q}return null};
Xi.prototype.findTargetPort=function(a){var b=this.g,c=b.U.ha,d=this.eG;0>=d&&(d=.1);for(var e=this,g=b.On(c,d,function(b){return e.findValidLinkablePort(b,a)},null,!0),d=Infinity,b=null,g=g.j;g.next();){var h=g.value,k=h.ba;if(k instanceof F){var l=h.fb(mc,C.P()),m=c.x-l.x,n=c.y-l.y;C.A(l);l=m*m+n*n;l<d&&(m=this.Dy.pa(h),null!==m?m&&(b=h,d=l):a&&this.isValidLink(this.Zg,this.$g,k,h)||!a&&this.isValidLink(k,h,this.ah,this.bh)?(this.Dy.add(h,!0),b=h,d=l):this.Dy.add(h,!1))}}return null!==b&&(c=b.ba,
c instanceof F&&(null===c.layer||c.layer.St))?b:null};Xi.prototype.isValidFrom=function(a,b){if(null===a||null===b)return this.wq;if(null!==this.g&&this.g.hb===this&&(null!==a.layer&&!a.layer.St||!0!==b.kF))return!1;var c=b.GA;if(Infinity>c){if(null!==this.uc&&a===this.Zg&&b===this.$g)return!0;var d=b.vd;null===d&&(d="");if(a.Dx(d).count>=c)return!1}return!0};
Xi.prototype.isValidTo=function(a,b){if(null===a||null===b)return this.wq;if(null!==this.g&&this.g.hb===this&&(null!==a.layer&&!a.layer.St||!0!==b.QG))return!1;var c=b.wK;if(Infinity>c){if(null!==this.uc&&a===this.ah&&b===this.bh)return!0;var d=b.vd;null===d&&(d="");if(a.Vg(d).count>=c)return!1}return!0};Xi.prototype.isInSameNode=function(a,b){if(null===a||null===b)return!1;if(a===b)return!0;var c=a.ba,d=b.ba;return null!==c&&c===d};
Xi.prototype.isLinked=function(a,b){if(null===a||null===b)return!1;var c=a.ba;if(!(c instanceof F))return!1;var d=a.vd;null===d&&(d="");var e=b.ba;if(!(e instanceof F))return!1;var g=b.vd;null===g&&(g="");for(e=e.Vg(g);e.next();)if(g=e.value,g.aa===c&&g.cg===d)return!0;return!1};
Xi.prototype.isValidLink=function(a,b,c,d){if(!this.isValidFrom(a,b)||!this.isValidTo(c,d)||!(null===b||null===d||(b.GI&&d.vK||!this.isInSameNode(b,d))&&(b.FI&&d.uK||!this.isLinked(b,d)))||null!==this.uc&&(null!==a&&this.isLabelDependentOnLink(a,this.uc)||null!==c&&this.isLabelDependentOnLink(c,this.uc))||null!==a&&null!==c&&(null===a.data&&null!==c.data||null!==a.data&&null===c.data)||!this.isValidCycle(a,c,this.uc))return!1;if(null!==a){var e=a.Zx;if(null!==e&&!e(a,b,c,d,this.uc))return!1}if(null!==
c&&(e=c.Zx,null!==e&&!e(a,b,c,d,this.uc)))return!1;e=this.Zx;return null!==e?e(a,b,c,d,this.uc):!0};Xi.prototype.isLabelDependentOnLink=function(a,b){if(null===a)return!1;var c=a.Cc;if(null===c)return!1;if(c===b)return!0;var d=new L(F);d.add(a);return Yi(this,c,b,d)};function Yi(a,b,c,d){if(b===c)return!0;var e=b.aa;if(null!==e&&e.wf&&(d.add(e),Yi(a,e.Cc,c,d)))return!0;b=b.ea;return null!==b&&b.wf&&(d.add(b),Yi(a,b.Cc,c,d))?!0:!1}
Xi.prototype.isValidCycle=function(a,b,c){void 0===c&&(c=null);if(null===a||null===b)return this.wq;var d=null!==this.g?this.g.CK:Zi;if(d!==Zi){if(d===$i){if(null!==c&&!c.Yc)return!0;for(d=b.Hd;d.next();){var e=d.value;if(e!==c&&e.Yc&&e.ea===b)return!1}return!aj(this,a,b,c,!0)}if(d===bj){if(null!==c&&!c.Yc)return!0;for(d=a.Hd;d.next();)if(e=d.value,e!==c&&e.Yc&&e.aa===a)return!1;return!aj(this,a,b,c,!0)}if(d===cj)return a===b?a=!0:(d=new L(F),d.add(b),a=dj(this,d,a,b,c)),!a;if(d===ej)return!aj(this,
a,b,c,!1);if(d===fj)return a===b?a=!0:(d=new L(F),d.add(b),a=gj(this,d,a,b,c)),!a}return!0};function aj(a,b,c,d,e){if(b===c)return!0;if(null===b||null===c)return!1;for(var g=b.Hd;g.next();){var h=g.value;if(h!==d&&(!e||h.Yc)&&h.ea===b&&(h=h.aa,h!==b&&aj(a,h,c,d,e)))return!0}return!1}function dj(a,b,c,d,e){if(c===d)return!0;if(null===c||null===d||b.contains(c))return!1;b.add(c);for(var g=c.Hd;g.next();){var h=g.value;if(h!==e&&h.ea===c&&(h=h.aa,h!==c&&dj(a,b,h,d,e)))return!0}return!1}
function gj(a,b,c,d,e){if(c===d)return!0;if(null===c||null===d||b.contains(c))return!1;b.add(c);for(var g=c.Hd;g.next();){var h=g.value;if(h!==e){var k=h.aa,h=h.ea,k=k===c?h:k;if(k!==c&&gj(a,b,k,d,e))return!0}}return!1}C.defineProperty(Xi,{Zx:"linkValidation"},function(){return this.Gl},function(a){null!==a&&C.h(a,"function",Xi,"linkValidation");this.Gl=a});C.defineProperty(Xi,{ly:"portTargeted"},function(){return this.KD},function(a){null!==a&&C.h(a,"function",Xi,"portTargeted");this.KD=a});
function ua(){0<arguments.length&&C.wd(ua);Xi.call(this);this.name="Linking";this.Uy={};this.Ty=null;this.ga=hj;this.TD=null}C.Ta(ua,Xi);C.ka("LinkingTool",ua);var hj;ua.Either=hj=C.s(ua,"Either",0);var ij;ua.ForwardsOnly=ij=C.s(ua,"ForwardsOnly",0);var jj;ua.BackwardsOnly=jj=C.s(ua,"BackwardsOnly",0);C.defineProperty(ua,{PH:"archetypeLinkData"},function(){return this.Uy},function(a){null!==a&&C.l(a,Object,ua,"archetypeLinkData");a instanceof Q&&C.l(a,I,ua,"archetypeLinkData");this.Uy=a});
C.defineProperty(ua,{zE:"archetypeLabelNodeData"},function(){return this.Ty},function(a){null!==a&&C.l(a,Object,ua,"archetypeLabelNodeData");a instanceof Q&&C.l(a,F,ua,"archetypeLabelNodeData");this.Ty=a});C.defineProperty(ua,{direction:"direction"},function(){return this.ga},function(a){C.Ca(a,ua,ua,"direction");this.ga=a});C.defineProperty(ua,{KG:"startObject"},function(){return this.TD},function(a){null!==a&&C.l(a,Q,ua,"startObject");this.TD=a});
ua.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;if(null===a||a.nb||a.Gf||!a.St)return!1;var b=a.ia;return(b instanceof Y||b instanceof Cg)&&a.U.left&&(a.hb===this||this.isBeyondDragSize())?null!==this.findLinkablePort():!1};
ua.prototype.findLinkablePort=function(){var a=this.g;if(null===a)return null;var b=this.KG;null===b&&(b=a.He(a.Nc.ha,null,null));if(null===b||!(b.ba instanceof F))return null;a=this.direction;if(a===hj||a===ij){var c=this.findValidLinkablePort(b,!1);if(null!==c)return this.Yd=!0,c}if(a===hj||a===jj)if(c=this.findValidLinkablePort(b,!0),null!==c)return this.Yd=!1,c;return null};
ua.prototype.doActivate=function(){var a=this.g;if(null!==a){var b=this.findLinkablePort();null!==b&&(this.ac(this.name),a.kf=!0,a.lc="pointer",this.Yd?(null===this.be||this.be.location.F()||(this.be.location=a.U.ha),this.$g=b,b=this.$g.ba,b instanceof F&&(this.Zg=b),this.copyPortProperties(this.Zg,this.$g,this.ae,this.so,!1)):(null===this.ae||this.ae.location.F()||(this.ae.location=a.U.ha),this.bh=b,b=this.bh.ba,b instanceof F&&(this.ah=b),this.copyPortProperties(this.ah,this.bh,this.be,this.to,
!0)),a.add(this.ae),a.add(this.be),null!==this.gh&&(null!==this.ae&&(this.gh.aa=this.ae),null!==this.be&&(this.gh.ea=this.be),this.gh.hc(),a.add(this.gh)),this.ya=!0)}};ua.prototype.doDeactivate=function(){this.ya=!1;var a=this.g;null!==a&&(a.remove(this.gh),a.remove(this.ae),a.remove(this.be),a.kf=!1,a.lc="",this.al())};ua.prototype.doStop=function(){Xi.prototype.doStop.call(this);this.KG=null};
ua.prototype.doMouseUp=function(){if(this.ya){var a=this.g;if(null===a)return;var b=this.Pf=null,c=null,d=null,e=null,g=this.Mf=this.findTargetPort(this.Yd);if(null!==g){var h=g.ba;h instanceof F&&(this.Yd?(null!==this.Zg&&(b=this.Zg,c=this.$g),d=h,e=g):(b=h,c=g,null!==this.ah&&(d=this.ah,e=this.bh)))}else this.Yd?null!==this.Zg&&this.wq&&(b=this.Zg,c=this.$g):null!==this.ah&&this.wq&&(d=this.ah,e=this.bh);null!==b||null!==d?(h=this.insertLink(b,c,d,e),null!==h?(null===g&&(this.Yd?h.eq=a.U.ha:h.dq=
a.U.ha),a.Cf&&a.select(h),this.Pf=this.name,a.Ka("LinkDrawn",h)):(a.ia.EE(),this.doNoLink(b,c,d,e))):this.Yd?this.doNoLink(this.Zg,this.$g,null,null):this.doNoLink(null,null,this.ah,this.bh)}this.stopTool()};
ua.prototype.insertLink=function(a,b,c,d){var e=this.g;if(null===e)return null;var g=e.ia;if(g instanceof Cg){var h=a;b=c;e.$d||(h=c,b=a);if(null!==h&&null!==b)return g.Hi(b.data,g.Cb(h.data)),b.Pn()}else if(g instanceof Y)if(h="",null!==a&&(null===b&&(b=a),h=b.vd,null===h&&(h="")),b="",null!==c&&(null===d&&(d=c),b=d.vd,null===b&&(b="")),d=this.PH,d instanceof I){if(Nh(d),g=d.copy(),null!==g)return g.aa=a,g.cg=h,g.ea=c,g.ih=b,e.add(g),a=this.zE,a instanceof F&&(Nh(a),a=a.copy(),null!==a&&(a.Cc=g,
e.add(a))),g}else if(null!==d&&(d=g.qx(d),C.Xa(d)))return null!==a&&g.xB(d,g.Cb(a.data)),g.yB(d,h),null!==c&&g.DB(d,g.Cb(c.data)),g.EB(d,b),g.Nt(d),a=this.zE,null===a||a instanceof F||(a=g.copyNodeData(a),C.Xa(a)&&(g.Tl(a),a=g.Cb(a),void 0!==a&&g.uE(d,a))),g=e.bg(d);return null};ua.prototype.doNoLink=function(){};
function $h(){0<arguments.length&&C.wd($h);Xi.call(this);this.name="Relinking";var a=new w;a.Jb="Diamond";a.Da=Vd;a.fill="lightblue";a.stroke="dodgerblue";a.cursor="pointer";a.Ue=0;this.TC=a;a=new w;a.Jb="Diamond";a.Da=Vd;a.fill="lightblue";a.stroke="dodgerblue";a.cursor="pointer";a.Ue=-1;this.eE=a;this.oc=null;this.DD=new z}C.Ta($h,Xi);C.ka("RelinkingTool",$h);
$h.prototype.updateAdornments=function(a){if(null!==a&&a instanceof I){var b="RelinkFrom",c=null;if(a.jb&&null!==this.g&&!this.g.nb){var d=a.no;null!==d&&a.canRelinkFrom()&&a.Z.F()&&a.isVisible()&&d.Z.F()&&d.Lj()&&(c=a.iq(b),null===c&&(c=this.makeAdornment(d,!1),null!==c&&(c.rc=b),a.Sl(b,c)))}null===c&&a.Rj(b);b="RelinkTo";c=null;a.jb&&null!==this.g&&!this.g.nb&&(d=a.no,null!==d&&a.canRelinkTo()&&a.Z.F()&&a.isVisible()&&d.Z.F()&&d.Lj()&&(c=a.iq(b),null===c&&(c=this.makeAdornment(d,!0),null!==c&&(c.rc=
b),a.Sl(b,c))));null===c&&a.Rj(b)}};$h.prototype.makeAdornment=function(a,b){var c=new ea;c.type=kj;var d=b?this.tK:this.EI;null!==d&&c.add(d.copy());c.Ab=a;return c};C.defineProperty($h,{EI:"fromHandleArchetype"},function(){return this.TC},function(a){null!==a&&C.l(a,Q,$h,"fromHandleArchetype");this.TC=a});C.defineProperty($h,{tK:"toHandleArchetype"},function(){return this.eE},function(a){null!==a&&C.l(a,Q,$h,"toHandleArchetype");this.eE=a});C.w($h,{handle:"handle"},function(){return this.oc});
$h.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;if(null===a||a.nb||a.Gf||!a.Cn)return!1;var b=a.ia;if(!(b instanceof Y||b instanceof Cg)||!a.U.left)return!1;b=this.findToolHandleAt(a.Nc.ha,"RelinkFrom");null===b&&(b=this.findToolHandleAt(a.Nc.ha,"RelinkTo"));return null!==b};
$h.prototype.doActivate=function(){var a=this.g;if(null!==a){if(null===this.uc){var b=this.findToolHandleAt(a.Nc.ha,"RelinkFrom");null===b&&(b=this.findToolHandleAt(a.Nc.ha,"RelinkTo"));if(null===b)return;var c=b.ba;if(!(c instanceof ea&&c.Zf instanceof I))return;this.oc=b;this.Yd=null===c||"RelinkTo"===c.rc;this.uc=c.Zf}this.ac(this.name);a.kf=!0;a.lc="pointer";this.$g=this.uc.gd;this.Zg=this.uc.aa;this.bh=this.uc.Md;this.ah=this.uc.ea;this.DD.set(this.uc.Z);null!==this.uc&&0<this.uc.ua&&(null===
this.uc.aa&&(null!==this.so&&(this.so.Da=Sd),null!==this.ae&&(this.ae.location=this.uc.n(0))),null===this.uc.ea&&(null!==this.to&&(this.to.Da=Sd),null!==this.be&&(this.be.location=this.uc.n(this.uc.ua-1))));this.copyPortProperties(this.Zg,this.$g,this.ae,this.so,!1);this.copyPortProperties(this.ah,this.bh,this.be,this.to,!0);a.add(this.ae);a.add(this.be);null!==this.gh&&(null!==this.ae&&(this.gh.aa=this.ae),null!==this.be&&(this.gh.ea=this.be),this.copyLinkProperties(this.uc,this.gh),this.gh.hc(),
a.add(this.gh));this.ya=!0}};$h.prototype.copyLinkProperties=function(a,b){if(null!==a&&null!==b){b.Pt=a.Pt;b.sA=a.sA;var c=a.gf;if(c===lj||c===mj)c=nj;b.gf=c;b.ux=a.ux;b.ty=a.ty;b.Uq=a.Uq;b.Gb=a.Gb;b.lm=a.lm;b.ku=a.ku;b.lu=a.lu;b.Hb=a.Hb;b.Bm=a.Bm;b.cv=a.cv;b.dv=a.dv}};$h.prototype.doDeactivate=function(){this.ya=!1;var a=this.g;null!==a&&(a.remove(this.gh),a.remove(this.ae),a.remove(this.be),a.kf=!1,a.lc="",this.al())};$h.prototype.doStop=function(){Xi.prototype.doStop.call(this);this.oc=null};
$h.prototype.doMouseUp=function(){if(this.ya){var a=this.g;if(null===a)return;this.Pf=null;var b=this.Zg,c=this.$g,d=this.ah,e=this.bh,g=this.uc;this.Mf=this.findTargetPort(this.Yd);if(null!==this.Mf){var h=this.Mf.ba;h instanceof F&&(this.Yd?(d=h,e=this.Mf):(b=h,c=this.Mf))}else this.wq?this.Yd?e=d=null:c=b=null:g=null;null!==g?(this.reconnectLink(g,this.Yd?d:b,this.Yd?e:c,this.Yd),null===this.Mf&&(this.Yd?g.eq=a.U.ha:g.dq=a.U.ha,g.hc()),a.Cf&&(g.jb=!0),this.Pf=this.name,a.Ka("LinkRelinked",g,this.Yd?
this.bh:this.$g)):this.doNoRelink(this.uc,this.Yd);oj(this.uc,this.DD)}this.stopTool()};$h.prototype.reconnectLink=function(a,b,c,d){if(null===this.g)return!1;c=null!==c&&null!==c.vd?c.vd:"";d?(a.ea=b,a.ih=c):(a.aa=b,a.cg=c);return!0};$h.prototype.doNoRelink=function(){};function Si(a,b,c,d,e){null!==a.g&&(null!==b?(a.copyPortProperties(b,c,a.ae,a.so,!1),a.g.add(a.ae)):a.g.remove(a.ae),null!==d?(a.copyPortProperties(d,e,a.be,a.to,!0),a.g.add(a.be)):a.g.remove(a.be))}
function pj(){0<arguments.length&&C.wd(pj);bh.call(this);this.name="LinkReshaping";var a=new w;a.Jb="Rectangle";a.Da=Ud;a.fill="lightblue";a.stroke="dodgerblue";this.vl=a;a=new w;a.Jb="Diamond";a.Da=Ud;a.fill="lightblue";a.stroke="dodgerblue";this.qD=a;this.LD=3;this.Ry=this.oc=null;this.zp=new O;this.uw=null}C.Ta(pj,bh);C.ka("LinkReshapingTool",pj);var qj;pj.None=qj=C.s(pj,"None",0);var Aj;pj.Horizontal=Aj=C.s(pj,"Horizontal",1);var Bj;pj.Vertical=Bj=C.s(pj,"Vertical",2);var Cj;
pj.All=Cj=C.s(pj,"All",3);pj.prototype.getReshapingBehavior=pj.prototype.oF=function(a){return a&&a.MD?a.MD:qj};pj.prototype.setReshapingBehavior=pj.prototype.Xu=function(a,b){C.l(a,Q,pj,"setReshapingBehavior:obj");C.Ca(b,pj,pj,"setReshapingBehavior:behavior");a.MD=b};
pj.prototype.updateAdornments=function(a){if(null!==a&&a instanceof I){if(a.jb&&null!==this.g&&!this.g.nb){var b=a.path;if(null!==b&&a.canReshape()&&a.Z.F()&&a.isVisible()&&b.Z.F()&&b.Lj()){var c=a.iq(this.name);if(null===c||c.sH!==a.ua||c.EH!==a.Su)c=this.makeAdornment(b),null!==c&&(c.sH=a.ua,c.EH=a.Su,a.Sl(this.name,c));if(null!==c){c.location=a.position;return}}}a.Rj(this.name)}};
pj.prototype.makeAdornment=function(a){var b=a.ba,c=b.ua,d=b.tc,e=null;if(null!==b.points&&1<c){e=new ea;e.type=kj;var c=b.gu,g=b.Xx,h=d?1:0;if(b.Su&&b.gf!==Dj)for(var k=c+h;k<g-h;k++){var l=this.makeResegmentHandle(a,k);null!==l&&(l.Ue=k,l.vB=.5,l.GA=999,e.add(l))}for(k=c+1;k<g;k++)if(l=this.makeHandle(a,k),null!==l){l.Ue=k;if(k!==c)if(k===c+1&&d){var h=b.n(c),m=b.n(c+1);R(h.x,m.x)&&R(h.y,m.y)&&(m=b.n(c-1));R(h.x,m.x)?(this.Xu(l,Bj),l.cursor="n-resize"):R(h.y,m.y)&&(this.Xu(l,Aj),l.cursor="w-resize")}else k===
g-1&&d?(h=b.n(g-1),m=b.n(g),R(h.x,m.x)&&R(h.y,m.y)&&(h=b.n(g+1)),R(h.x,m.x)?(this.Xu(l,Bj),l.cursor="n-resize"):R(h.y,m.y)&&(this.Xu(l,Aj),l.cursor="w-resize")):k!==g&&(this.Xu(l,Cj),l.cursor="move");e.add(l)}e.rc=this.name;e.Ab=a}return e};pj.prototype.makeHandle=function(){var a=this.nu;return null===a?null:a.copy()};C.defineProperty(pj,{nu:"handleArchetype"},function(){return this.vl},function(a){null!==a&&C.l(a,Q,pj,"handleArchetype");this.vl=a});
pj.prototype.makeResegmentHandle=function(){var a=this.EJ;return null===a?null:a.copy()};C.defineProperty(pj,{EJ:"midHandleArchetype"},function(){return this.qD},function(a){null!==a&&C.l(a,Q,pj,"midHandleArchetype");this.qD=a});C.w(pj,{handle:"handle"},function(){return this.oc});C.w(pj,{Qt:"adornedLink"},function(){return this.Ry});pj.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;return null!==a&&!a.nb&&a.hx&&a.U.left?null!==this.findToolHandleAt(a.Nc.ha,this.name):!1};
pj.prototype.doActivate=function(){var a=this.g;if(null!==a&&(this.oc=this.findToolHandleAt(a.Nc.ha,this.name),null!==this.oc)){var b=this.oc.ba.Zf;if(b instanceof I){this.Ry=b;a.kf=!0;this.ac(this.name);if(b.Su&&999===this.oc.GA){var c=b.points.copy(),d=this.oc.fb(mc);c.Xd(this.oc.Ue+1,d);b.tc&&c.Xd(this.oc.Ue+1,d);b.points=c;b.pe();this.oc=this.findToolHandleAt(a.Nc.ha,this.name);if(null===this.oc){this.doDeactivate();return}}this.zp=b.n(this.oc.Ue);this.uw=b.points.copy();this.ya=!0}}};
pj.prototype.doDeactivate=function(){this.al();this.Ry=this.oc=null;var a=this.g;null!==a&&(a.kf=!1);this.ya=!1};pj.prototype.doCancel=function(){var a=this.Qt;null!==a&&(a.points=this.uw);this.stopTool()};pj.prototype.doMouseMove=function(){var a=this.g;this.ya&&null!==a&&(a=this.computeReshape(a.U.ha),this.reshape(a))};
pj.prototype.doMouseUp=function(){var a=this.g;if(this.ya&&null!==a){var b=this.computeReshape(a.U.ha);this.reshape(b);b=this.Qt;if(null!==b&&b.Su){var c=this.handle.Ue,d=b.n(c-1),e=b.n(c),g=b.n(c+1);if(b.tc){if(c>b.gu+1&&c<b.Xx-1){var h=b.n(c-2);if(Math.abs(d.x-e.x)<this.Th&&Math.abs(d.y-e.y)<this.Th&&(Pj(this,h,d,e,g,!0)||Pj(this,h,d,e,g,!1))){var k=b.points.copy();Pj(this,h,d,e,g,!0)?(k.qg(c-2,new O(h.x,(g.y+h.y)/2)),k.qg(c+1,new O(g.x,(g.y+h.y)/2))):(k.qg(c-2,new O((g.x+h.x)/2,h.y)),k.qg(c+1,
new O((g.x+h.x)/2,g.y)));k.md(c);k.md(c-1);b.points=k;b.pe()}else h=b.n(c+2),Math.abs(e.x-g.x)<this.Th&&Math.abs(e.y-g.y)<this.Th&&(Pj(this,d,e,g,h,!0)||Pj(this,d,e,g,h,!1))&&(k=b.points.copy(),Pj(this,d,e,g,h,!0)?(k.qg(c-1,new O(d.x,(d.y+h.y)/2)),k.qg(c+2,new O(h.x,(d.y+h.y)/2))):(k.qg(c-1,new O((d.x+h.x)/2,d.y)),k.qg(c+2,new O((d.x+h.x)/2,h.y))),k.md(c+1),k.md(c),b.points=k,b.pe())}}else h=C.P(),ob(d.x,d.y,g.x,g.y,e.x,e.y,h)&&h.Df(e)<this.Th*this.Th&&(k=b.points.copy(),k.md(c),b.points=k,b.pe()),
C.A(h)}a.Bc();this.Pf=this.name;a.Ka("LinkReshaped",this.Qt,this.uw)}this.stopTool()};function Pj(a,b,c,d,e,g){return g?Math.abs(b.y-c.y)<a.Th&&Math.abs(c.y-d.y)<a.Th&&Math.abs(d.y-e.y)<a.Th:Math.abs(b.x-c.x)<a.Th&&Math.abs(c.x-d.x)<a.Th&&Math.abs(d.x-e.x)<a.Th}C.defineProperty(pj,{Th:"resegmentingDistance"},function(){return this.LD},function(a){C.h(a,"number",pj,"resegmentingDistance");this.LD=a});
pj.prototype.reshape=function(a){var b=this.Qt;b.xm();var c=this.handle.Ue,d=this.oF(this.handle);if(b.tc)if(c===b.gu+1)c=b.gu+1,d===Bj?(b.ja(c,b.n(c-1).x,a.y),b.ja(c+1,b.n(c+2).x,a.y)):d===Aj&&(b.ja(c,a.x,b.n(c-1).y),b.ja(c+1,a.x,b.n(c+2).y));else if(c===b.Xx-1)c=b.Xx-1,d===Bj?(b.ja(c-1,b.n(c-2).x,a.y),b.ja(c,b.n(c+1).x,a.y)):d===Aj&&(b.ja(c-1,a.x,b.n(c-2).y),b.ja(c,a.x,b.n(c+1).y));else{var d=c,e=b.n(d),g=b.n(d-1),h=b.n(d+1);R(g.x,e.x)&&R(e.y,h.y)?(R(g.x,b.n(d-2).x)&&!R(g.y,b.n(d-2).y)?(b.B(d,a.x,
g.y),c++,d++):b.ja(d-1,a.x,g.y),R(h.y,b.n(d+2).y)&&!R(h.x,b.n(d+2).x)?b.B(d+1,h.x,a.y):b.ja(d+1,h.x,a.y)):R(g.y,e.y)&&R(e.x,h.x)?(R(g.y,b.n(d-2).y)&&!R(g.x,b.n(d-2).x)?(b.B(d,g.x,a.y),c++,d++):b.ja(d-1,g.x,a.y),R(h.x,b.n(d+2).x)&&!R(h.y,b.n(d+2).y)?b.B(d+1,a.x,h.y):b.ja(d+1,a.x,h.y)):R(g.x,e.x)&&R(e.x,h.x)?(R(g.x,b.n(d-2).x)&&!R(g.y,b.n(d-2).y)?(b.B(d,a.x,g.y),c++,d++):b.ja(d-1,a.x,g.y),R(h.x,b.n(d+2).x)&&!R(h.y,b.n(d+2).y)?b.B(d+1,a.x,h.y):b.ja(d+1,a.x,h.y)):R(g.y,e.y)&&R(e.y,h.y)&&(R(g.y,b.n(d-
2).y)&&!R(g.x,b.n(d-2).x)?(b.B(d,g.x,a.y),c++,d++):b.ja(d-1,g.x,a.y),R(h.y,b.n(d+2).y)&&!R(h.x,b.n(d+2).x)?b.B(d+1,h.x,a.y):b.ja(d+1,h.x,a.y));b.ja(c,a.x,a.y)}else b.ja(c,a.x,a.y),1===c&&b.computeSpot(!0).Zd()&&(e=b.aa,g=b.gd,null===e||e.isVisible()||(e=e.findVisibleNode(),e!==b.aa&&(g=e.im(""))),d=g.fb(mc,C.P()),e=b.getLinkPointFromPoint(e,g,d,a,!0,C.P()),b.ja(0,e.x,e.y),C.A(d),C.A(e)),c===b.ua-2&&b.computeSpot(!1).Zd()&&(c=b.ea,e=b.Md,null===c||c.isVisible()||(c=c.findVisibleNode(),c!==b.ea&&(e=
c.im(""))),d=e.fb(mc,C.P()),e=b.getLinkPointFromPoint(c,e,d,a,!1,C.P()),b.ja(b.ua-1,e.x,e.y),C.A(d),C.A(e));b.Aj()};pj.prototype.computeReshape=function(a){var b=this.Qt,c=this.handle.Ue;switch(this.oF(this.handle)){case Cj:return a;case Bj:return b=b.n(c),new O(b.x,a.y);case Aj:return b=b.n(c),new O(a.x,b.y);default:case qj:return b.n(c)}};C.w(pj,{fM:"originalPoint"},function(){return this.zp});C.w(pj,{gM:"originalPoints"},function(){return this.uw});
function Qj(){0<arguments.length&&C.wd(Qj);bh.call(this);this.name="Resizing";this.li=(new Fa(1,1)).freeze();this.ki=(new Fa(9999,9999)).freeze();this.$j=(new Fa(NaN,NaN)).freeze();this.es=!1;this.Sc=null;var a=new w;a.Fh=mc;a.Jb="Rectangle";a.Da=Ud;a.fill="lightblue";a.stroke="dodgerblue";a.ib=1;a.cursor="pointer";this.vl=a;this.oc=null;this.zp=new O;this.zD=new Fa;this.ED=new O;this.rz=new Fa(0,0);this.qz=new Fa(Infinity,Infinity);this.pz=new Fa(1,1);this.wD=!0}C.Ta(Qj,bh);C.ka("ResizingTool",Qj);
Qj.prototype.updateAdornments=function(a){if(!(null===a||a instanceof I)){if(a.jb&&null!==this.g&&!this.g.nb){var b=a.rG;if(null!==b&&a.canResize()&&a.Z.F()&&a.isVisible()&&b.Z.F()&&b.Lj()){var c=a.iq(this.name);if(null===c||c.Ab!==b)c=this.makeAdornment(b);if(null!==c){var d=b.Rn();c.angle=d;var e=b.fb(c.xf,C.P()),g=b.Ej();c.location=e;C.A(e);e=c.placeholder;if(null!==e){var b=b.Ja,h=C.Am();h.m(b.width*g,b.height*g);e.Da=h;C.Qk(h)}this.updateResizeHandles(c,d);a.Sl(this.name,c);return}}}a.Rj(this.name)}};
Qj.prototype.makeAdornment=function(a){var b=null,b=a.ba.qG;if(null===b){b=new ea;b.type=Rj;b.xf=mc;var c=new Sj;c.Hf=!0;b.add(c);b.add(this.makeHandle(a,hc));b.add(this.makeHandle(a,jc));b.add(this.makeHandle(a,qc));b.add(this.makeHandle(a,oc));b.add(this.makeHandle(a,$c));b.add(this.makeHandle(a,bd));b.add(this.makeHandle(a,cd));b.add(this.makeHandle(a,ad))}else if(Nh(b),b=b.copy(),null===b)return null;b.rc=this.name;b.Ab=a;return b};
Qj.prototype.makeHandle=function(a,b){var c=this.nu;if(null===c)return null;c=c.copy();c.alignment=b;return c};
Qj.prototype.updateResizeHandles=function(a,b){if(null!==a)if(!a.alignment.hd()&&("pointer"===a.cursor||0<a.cursor.indexOf("resize")))a:{var c=a.alignment;c.Zd()&&(c=mc);var d=b;if(0>=c.x)d=0>=c.y?d+225:1<=c.y?d+135:d+180;else if(1<=c.x)0>=c.y?d+=315:1<=c.y&&(d+=45);else if(0>=c.y)d+=270;else if(1<=c.y)d+=90;else break a;0>d?d+=360:360<=d&&(d-=360);a.cursor=22.5>d?"e-resize":67.5>d?"se-resize":112.5>d?"s-resize":157.5>d?"sw-resize":202.5>d?"w-resize":247.5>d?"nw-resize":292.5>d?"n-resize":337.5>d?
"ne-resize":"e-resize"}else if(a instanceof J)for(c=a.elements;c.next();)this.updateResizeHandles(c.value,b)};C.defineProperty(Qj,{nu:"handleArchetype"},function(){return this.vl},function(a){null!==a&&C.l(a,Q,Qj,"handleArchetype");this.vl=a});C.w(Qj,{handle:"handle"},function(){return this.oc});C.defineProperty(Qj,{Ab:"adornedObject"},function(){return this.Sc},function(a){null!==a&&C.l(a,Q,Qj,"adornedObject");this.Sc=a});
Qj.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;return null!==a&&!a.nb&&a.Tt&&a.U.left?null!==this.findToolHandleAt(a.Nc.ha,this.name):!1};
Qj.prototype.doActivate=function(){var a=this.g;null!==a&&(this.oc=this.findToolHandleAt(a.Nc.ha,this.name),null!==this.oc&&(this.Sc=this.oc.ba.Ab,this.zp.set(this.Ab.fb(this.handle.alignment.cG())),this.ED.set(this.Sc.ba.location),this.zD.set(this.Sc.Da),this.pz=this.computeCellSize(),this.rz=this.computeMinSize(),this.qz=this.computeMaxSize(),a.kf=!0,this.wD=a.Ya.isEnabled,a.Ya.isEnabled=!1,this.ac(this.name),this.ya=!0))};
Qj.prototype.doDeactivate=function(){var a=this.g;null!==a&&(this.al(),this.Sc=this.oc=null,this.ya=a.kf=!1,a.Ya.isEnabled=this.wD)};Qj.prototype.doCancel=function(){null!==this.Ab&&(this.Ab.Da=this.dG,this.Ab.ba.location=this.NJ);this.stopTool()};Qj.prototype.doMouseMove=function(){var a=this.g;if(this.ya&&null!==a){var b=this.rz,c=this.qz,d=this.pz,e=this.Ab.mF(a.U.ha,C.P()),g=this.computeReshape(),b=this.computeResize(e,this.handle.alignment,b,c,d,g);this.resize(b);a.gg();C.A(e)}};
Qj.prototype.doMouseUp=function(){var a=this.g;if(this.ya&&null!==a){var b=this.rz,c=this.qz,d=this.pz,e=this.Ab.mF(a.U.ha,C.P()),g=this.computeReshape(),b=this.computeResize(e,this.handle.alignment,b,c,d,g);this.resize(b);C.A(e);a.Bc();this.Pf=this.name;a.Ka("PartResized",this.Ab,this.dG)}this.stopTool()};
Qj.prototype.resize=function(a){if(null!==this.g){var b=this.Ab,c=b.ba;b.Da=a.size;c.jf();a=this.Ab.fb(this.handle.alignment.cG());c instanceof H?(a=c.position.copy().ro(a).add(this.zp),c.move(a)):c.location=c.location.copy().ro(a).add(this.zp)}};
Qj.prototype.computeResize=function(a,b,c,d,e,g){b.Zd()&&(b=mc);var h=this.Ab.Ja,k=h.x,l=h.y,m=h.x+h.width,n=h.y+h.height,p=1;if(!g){var p=h.width,q=h.height;0>=p&&(p=1);0>=q&&(q=1);p=q/p}q=C.P();tb(a.x,a.y,k,l,e.width,e.height,q);a=h.copy();0>=b.x?0>=b.y?(a.x=Math.max(q.x,m-d.width),a.x=Math.min(a.x,m-c.width),a.width=Math.max(m-a.x,c.width),a.y=Math.max(q.y,n-d.height),a.y=Math.min(a.y,n-c.height),a.height=Math.max(n-a.y,c.height),g||(b=a.height/a.width,p<b?(a.height=p*a.width,a.y=n-a.height):(a.width=
a.height/p,a.x=m-a.width))):1<=b.y?(a.x=Math.max(q.x,m-d.width),a.x=Math.min(a.x,m-c.width),a.width=Math.max(m-a.x,c.width),a.height=Math.max(Math.min(q.y-l,d.height),c.height),g||(b=a.height/a.width,p<b?a.height=p*a.width:(a.width=a.height/p,a.x=m-a.width))):(a.x=Math.max(q.x,m-d.width),a.x=Math.min(a.x,m-c.width),a.width=m-a.x,g||(a.height=p*a.width,a.y=l+.5*(n-l-a.height))):1<=b.x?0>=b.y?(a.width=Math.max(Math.min(q.x-k,d.width),c.width),a.y=Math.max(q.y,n-d.height),a.y=Math.min(a.y,n-c.height),
a.height=Math.max(n-a.y,c.height),g||(b=a.height/a.width,p<b?(a.height=p*a.width,a.y=n-a.height):a.width=a.height/p)):1<=b.y?(a.width=Math.max(Math.min(q.x-k,d.width),c.width),a.height=Math.max(Math.min(q.y-l,d.height),c.height),g||(b=a.height/a.width,p<b?a.height=p*a.width:a.width=a.height/p)):(a.width=Math.max(Math.min(q.x-k,d.width),c.width),g||(a.height=p*a.width,a.y=l+.5*(n-l-a.height))):0>=b.y?(a.y=Math.max(q.y,n-d.height),a.y=Math.min(a.y,n-c.height),a.height=n-a.y,g||(a.width=a.height/p,a.x=
k+.5*(m-k-a.width))):1<=b.y&&(a.height=Math.max(Math.min(q.y-l,d.height),c.height),g||(a.width=a.height/p,a.x=k+.5*(m-k-a.width)));C.A(q);return a};Qj.prototype.computeReshape=function(){var a=Tj;this.Ab instanceof w&&(a=Uj(this.Ab));return!(a===Vj||a===Wj||null!==this.g&&this.g.U.shift)};Qj.prototype.computeMinSize=function(){var a=this.Ab.hg.copy(),b=this.hg;!isNaN(b.width)&&b.width>a.width&&(a.width=b.width);!isNaN(b.height)&&b.height>a.height&&(a.height=b.height);return a};
Qj.prototype.computeMaxSize=function(){var a=this.Ab.lf.copy(),b=this.lf;!isNaN(b.width)&&b.width<a.width&&(a.width=b.width);!isNaN(b.height)&&b.height<a.height&&(a.height=b.height);return a};
Qj.prototype.computeCellSize=function(){var a=new Fa(NaN,NaN),b=this.Ab.ba;if(null!==b){var c=b.ZJ;!isNaN(c.width)&&0<c.width&&(a.width=c.width);!isNaN(c.height)&&0<c.height&&(a.height=c.height)}c=this.Yp;isNaN(a.width)&&!isNaN(c.width)&&0<c.width&&(a.width=c.width);isNaN(a.height)&&!isNaN(c.height)&&0<c.height&&(a.height=c.height);b=this.g;(isNaN(a.width)||isNaN(a.height))&&b&&(c=b.lb.Ee,null!==c&&c.Px&&(c=c.uF,isNaN(a.width)&&!isNaN(c.width)&&0<c.width&&(a.width=c.width),isNaN(a.height)&&!isNaN(c.height)&&
0<c.height&&(a.height=c.height)),b=b.Vn,null!==b&&b.visible&&this.Px&&(c=b.Kx,isNaN(a.width)&&!isNaN(c.width)&&0<c.width&&(a.width=c.width),isNaN(a.height)&&!isNaN(c.height)&&0<c.height&&(a.height=c.height)));if(isNaN(a.width)||0===a.width||Infinity===a.width)a.width=1;if(isNaN(a.height)||0===a.height||Infinity===a.height)a.height=1;return a};
C.defineProperty(Qj,{hg:"minSize"},function(){return this.li},function(a){C.l(a,Fa,Qj,"minSize");if(!this.li.O(a)){var b=a.width;isNaN(b)&&(b=0);a=a.height;isNaN(a)&&(a=0);this.li.m(b,a)}});C.defineProperty(Qj,{lf:"maxSize"},function(){return this.ki},function(a){C.l(a,Fa,Qj,"maxSize");if(!this.ki.O(a)){var b=a.width;isNaN(b)&&(b=Infinity);a=a.height;isNaN(a)&&(a=Infinity);this.ki.m(b,a)}});
C.defineProperty(Qj,{Yp:"cellSize"},function(){return this.$j},function(a){C.l(a,Fa,Qj,"cellSize");this.$j.O(a)||this.$j.assign(a)});C.defineProperty(Qj,{Px:"isGridSnapEnabled"},function(){return this.es},function(a){C.h(a,"boolean",Qj,"isGridSnapEnabled");this.es=a});C.w(Qj,{dG:"originalDesiredSize"},function(){return this.zD});C.w(Qj,{NJ:"originalLocation"},function(){return this.ED});
function Xj(){0<arguments.length&&C.wd(Xj);bh.call(this);this.name="Rotating";this.RD=45;this.QD=2;this.Sc=null;var a=new w;a.Jb="Ellipse";a.Da=Vd;a.fill="lightblue";a.stroke="dodgerblue";a.ib=1;a.cursor="pointer";this.vl=a;this.oc=null;this.tw=0;this.ND=new O}C.Ta(Xj,bh);C.ka("RotatingTool",Xj);
Xj.prototype.updateAdornments=function(a){if(!(null===a||a instanceof I)){if(a.jb&&null!==this.g&&!this.g.nb){var b=a.vG;if(null!==b&&a.canRotate()&&a.Z.F()&&a.isVisible()&&b.Z.F()&&b.Lj()){var c=a.iq(this.name);if(null===c||c.Ab!==b)c=this.makeAdornment(b);if(null!==c){c.angle=b.Rn();var d=null,e=null;b===a||b===a.dc?(d=a.dc,e=a.xf):(d=b,e=mc);for(var g=d.Ja,e=C.Fb(g.width*e.x+e.offsetX,g.height*e.y+e.offsetY);null!==d&&d!==b;)d.transform.wb(e),d=d.Q;var d=e.y,g=Math.max(e.x-b.Ja.width,0),h=C.P();
c.location=b.fb(new S(1,0,50+g,d),h);C.A(h);C.A(e);a.Sl(this.name,c);return}}}a.Rj(this.name)}};Xj.prototype.makeAdornment=function(a){var b=null,b=a.ba.aK;if(null===b){b=new ea;b.type=Yj;b.xf=mc;var c=this.nu;null!==c&&b.add(c.copy())}else if(Nh(b),b=b.copy(),null===b)return null;b.rc=this.name;b.Ab=a;return b};C.defineProperty(Xj,{nu:"handleArchetype"},function(){return this.vl},function(a){null!==a&&C.l(a,Q,Xj,"handleArchetype");this.vl=a});C.w(Xj,{handle:"handle"},function(){return this.oc});
C.defineProperty(Xj,{Ab:"adornedObject"},function(){return this.Sc},function(a){null!==a&&C.l(a,Q,Xj,"adornedObject");this.Sc=a});Xj.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;return null!==a&&!a.nb&&a.ix&&a.U.left?null!==this.findToolHandleAt(a.Nc.ha,this.name):!1};
Xj.prototype.doActivate=function(){var a=this.g;if(null!==a&&(this.oc=this.findToolHandleAt(a.Nc.ha,this.name),null!==this.oc)){this.Sc=this.oc.ba.Ab;var b=this.Sc.ba,c=b.dc;this.ND=this.Sc===b||this.Sc===c?c.fb(b.xf):this.Sc.fb(mc);this.tw=this.Sc.angle;a.kf=!0;a.uA=!0;this.ac(this.name);this.ya=!0}};Xj.prototype.doDeactivate=function(){var a=this.g;null!==a&&(this.al(),this.Sc=this.oc=null,this.ya=a.kf=!1)};Xj.prototype.doCancel=function(){var a=this.g;null!==a&&(a.uA=!1);this.rotate(this.tw);this.stopTool()};
Xj.prototype.doMouseMove=function(){var a=this.g;this.ya&&null!==a&&(a=this.computeRotate(a.U.ha),this.rotate(a))};Xj.prototype.doMouseUp=function(){var a=this.g;if(this.ya&&null!==a){a.uA=!1;var b=this.computeRotate(a.U.ha);this.rotate(b);a.Bc();this.Pf=this.name;a.Ka("PartRotated",this.Sc,this.tw)}this.stopTool()};Xj.prototype.rotate=function(a){u&&C.p(a,Xj,"rotate:newangle");null!==this.Sc&&(this.Sc.angle=a)};
Xj.prototype.computeRotate=function(a){a=this.ND.Mc(a);var b=this.Sc.Q;null!==b&&(a-=b.Rn(),360<=a?a-=360:0>a&&(a+=360));var b=Math.min(Math.abs(this.nK),180),c=Math.min(Math.abs(this.mK),b/2);(null===this.g||!this.g.U.shift)&&0<b&&0<c&&(a%b<c?a=Math.floor(a/b)*b:a%b>b-c&&(a=(Math.floor(a/b)+1)*b));360<=a?a-=360:0>a&&(a+=360);return a};C.defineProperty(Xj,{nK:"snapAngleMultiple"},function(){return this.RD},function(a){C.h(a,"number",Xj,"snapAngleMultiple");this.RD=a});
C.defineProperty(Xj,{mK:"snapAngleEpsilon"},function(){return this.QD},function(a){C.h(a,"number",Xj,"snapAngleEpsilon");this.QD=a});C.w(Xj,{eM:"originalAngle"},function(){return this.tw});function Zj(){0<arguments.length&&C.wd(Zj);bh.call(this);this.name="ClickSelecting"}C.Ta(Zj,bh);C.ka("ClickSelectingTool",Zj);Zj.prototype.canStart=function(){return!this.isEnabled||null===this.g||this.isBeyondDragSize()?!1:!0};
Zj.prototype.doMouseUp=function(){this.ya&&(this.standardMouseSelect(),!this.standardMouseClick()&&null!==this.g&&this.g.U.Jj&&this.g.lb.doToolTip());this.stopTool()};function ak(){0<arguments.length&&C.wd(ak);bh.call(this);this.name="Action";this.yo=null}C.Ta(ak,bh);C.ka("ActionTool",ak);
ak.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;if(null===a)return!1;var b=a.U,c=a.He(b.ha,function(a){for(;null!==a.Q&&!a.ru;)a=a.Q;return a});if(null!==c){if(!c.ru)return!1;this.yo=c;a.Mo=a.He(b.ha,null,null);return!0}return!1};ak.prototype.doMouseDown=function(){if(this.ya){var a=this.g.U,b=this.yo;null!==b&&(a.We=b,null!==b.qE&&b.qE(a,b))}else this.canStart()&&this.doActivate()};
ak.prototype.doMouseMove=function(){if(this.ya){var a=this.g.U,b=this.yo;null!==b&&(a.We=b,null!==b.rE&&b.rE(a,b))}};ak.prototype.doMouseUp=function(){if(this.ya){var a=this.g,b=a.U,c=this.yo;if(null===c)return;b.We=c;null!==c.sE&&c.sE(b,c);this.isBeyondDragSize()||Uh(c,b,a)}this.stopTool()};ak.prototype.doCancel=function(){var a=this.g;if(null!==a){var a=a.U,b=this.yo;if(null===b)return;a.We=b;null!==b.pE&&b.pE(a,b)}this.stopTool()};ak.prototype.doStop=function(){this.yo=null};
function wa(){0<arguments.length&&C.wd(wa);bh.call(this);this.name="ClickCreating";this.ol=null;this.dD=!0;this.SC=new O(0,0)}C.Ta(wa,bh);C.ka("ClickCreatingTool",wa);
wa.prototype.canStart=function(){if(!this.isEnabled||null===this.jA)return!1;var a=this.g;if(null===a||a.nb||a.Gf||!a.Vp||!a.U.left||this.isBeyondDragSize())return!1;if(this.dJ){if(1===a.U.Qe&&(this.SC=a.U.se.copy()),2!==a.U.Qe||this.isBeyondDragSize(this.SC))return!1}else if(1!==a.U.Qe)return!1;return a.hb!==this&&null!==a.fu(a.U.ha,!0)?!1:!0};wa.prototype.doMouseUp=function(){var a=this.g;this.ya&&null!==a&&this.insertPart(a.U.ha);this.stopTool()};
wa.prototype.insertPart=function(a){var b=this.g;if(null===b)return null;var c=this.jA;if(null===c)return null;this.ac(this.name);var d=null;c instanceof E?c.qe()&&(Nh(c),d=c.copy(),null!==d&&b.add(d)):null!==c&&(c=b.ia.copyNodeData(c),C.Xa(c)&&(b.ia.Tl(c),d=b.Mh(c)));null!==d&&(d.location=a,b.Cf&&b.select(d));b.Bc();this.Pf=this.name;b.Ka("PartCreated",d);this.al();return d};
C.defineProperty(wa,{jA:"archetypeNodeData"},function(){return this.ol},function(a){null!==a&&C.l(a,Object,wa,"archetypeNodeData");this.ol=a});C.defineProperty(wa,{dJ:"isDoubleClick"},function(){return this.dD},function(a){C.h(a,"boolean",wa,"isDoubleClick");this.dD=a});function bk(){this.lE=this.oD=this.zz=this.Vz=null}C.ka("HTMLInfo",bk);C.defineProperty(bk,{XA:"mainElement"},function(){return this.oD},function(a){null!==a&&C.l(a,Element,bk,"mainElement");this.oD=a});
C.defineProperty(bk,{show:"show"},function(){return this.Vz},function(a){this.Vz!==a&&(null!==a&&C.h(a,"function",bk,"show"),this.Vz=a)});C.defineProperty(bk,{Wn:"hide"},function(){return this.zz},function(a){this.zz!==a&&(null!==a&&C.h(a,"function",bk,"hide"),this.zz=a)});C.defineProperty(bk,{RB:"valueFunction"},function(){return this.lE},function(a){this.lE=a});function ck(a,b,c){this.text=a;this.GE=b;this.visible=c}
function dk(){0<arguments.length&&C.wd(dk);bh.call(this);this.name="ContextMenu";this.vC=this.bz=this.sC=null;this.uD=new O;this.dz=this.Lm=null;ek(this)}C.Ta(dk,bh);C.ka("ContextMenuTool",dk);C.OE=!1;C.Yt=null;C.Zt=null;
function ek(a){var b=new bk;b.show=function(a,b,c){c.showDefaultContextMenu()};b.Wn=function(a,b){b.hideDefaultContextMenu()};a.Lm=b;a.fE=function(){a.stopTool()};if(!1===C.OE){var b=C.createElement("div"),c=C.createElement("div");b.style.cssText="top: 0px;z-index:300;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px";c.style.cssText="z-index:299;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";
var d=C.createElement("style");window.document.getElementsByTagName("head")[0].appendChild(d);d.sheet.insertRule(".goCXul { list-style: none; }",0);d.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0);d.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0);b.addEventListener("contextmenu",fk,!1);b.addEventListener("selectstart",fk,!1);
c.addEventListener("contextmenu",fk,!1);window.document.body&&(window.document.body.appendChild(b),window.document.body.appendChild(c));C.Zt=b;C.Yt=c;C.OE=!0}}function fk(a){a.preventDefault();return!1}dk.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;return null===a||this.isBeyondDragSize()||!a.U.right?!1:null!==this.Lm&&a.U.Jj||null!==this.findObjectWithContextMenu()?!0:!1};dk.prototype.doStart=function(){var a=this.g;null!==a&&this.uD.set(a.Nc.ha)};
dk.prototype.doStop=function(){this.hideContextMenu();this.tx=null};dk.prototype.findObjectWithContextMenu=function(a){void 0===a&&(a=null);var b=this.g;if(null===b)return null;var c=b.U,d=null;a instanceof D||(d=a instanceof Q?a:b.He(c.ha,null,function(a){return!a.layer.Xc}));if(null!==d){for(a=d;null!==a;){if(null!==a.contextMenu)return a;a=a.Q}if(null!==this.Lm&&b.U.Jj)return d.ba}else if(null!==b.contextMenu)return b;return null};dk.prototype.doActivate=function(){};
dk.prototype.doMouseDown=function(){bh.prototype.doMouseDown.call(this);null!==this.g&&this.g.lb.mf.contains(this)&&gk(this)};dk.prototype.doMouseUp=function(){gk(this)};function gk(a){var b=a.g;if(null!==b)if(a.ya){var c=a.bm;if(null!==c){if(!(c instanceof bk)){var d=b.He(b.U.ha,null,null);null!==d&&d.rm(c)&&a.standardMouseClick(null,null)}a.stopTool();a.canStart()&&(b.hb=a,a.doMouseUp())}}else a.canStart()&&(Sh(a,!0),a.ya||a.stopTool())}
function Sh(a,b,c){void 0===c&&(c=null);b&&a.standardMouseSelect();if(!a.standardMouseClick())if(a.ya=!0,b=a.Lm,null===c&&(c=a.findObjectWithContextMenu()),null!==c){var d=c.contextMenu;null!==d?(a.tx=c instanceof Q?c:null,a.showContextMenu(d,a.tx)):null!==b&&a.showContextMenu(b,a.tx)}else null!==b&&a.showContextMenu(b,null)}dk.prototype.doMouseMove=function(){this.ya&&null!==this.g&&this.g.lb.doMouseMove()};
dk.prototype.showContextMenu=function(a,b){!u||a instanceof ea||a instanceof bk||C.k("showContextMenu:contextMenu must be an Adornment or HTMLInfo.");null!==b&&C.l(b,Q,dk,"showContextMenu:obj");var c=this.g;if(null!==c){a!==this.bm&&this.hideContextMenu();if(a instanceof ea){a.Kf="Tool";a.Zk=!1;a.scale=1/c.scale;a.rc=this.name;null!==a.placeholder&&(a.placeholder.scale=c.scale);c.add(a);if(null!==b){var c=null,d=b.jm();null!==d&&(c=d.data);a.Ab=b;a.data=c}else a.data=c.ia;a.jf();this.positionContextMenu(a,
b)}else a instanceof bk&&a.show(b,c,this);this.bm=a}};dk.prototype.positionContextMenu=function(a){if(null===a.placeholder){var b=this.g;if(null!==b){var c=b.U.ha.copy(),d=a.Ea,e=b.yb;b.U.Jj&&(c.x-=d.width);c.x+d.width>e.right&&(c.x-=d.width+5);c.x<e.x&&(c.x=e.x);c.y+d.height>e.bottom&&(c.y-=d.height+5);c.y<e.y&&(c.y=e.y);a.position=c}}};
dk.prototype.hideContextMenu=function(){var a=this.g;if(null!==a){var b=this.bm;null!==b&&(b instanceof ea?(a.remove(b),null!==this.bz&&this.bz.Rj(b.rc),b.data=null,b.Ab=null):b instanceof bk&&(null!==b.Wn?b.Wn(a,this):null!==b.XA&&(b.XA.style.display="none")),this.bm=null,this.standardMouseOver())}};
function hk(a){if(null===a.g)return null;a=new K(ck);a.add(new ck("Copy",function(a){a.xb.copySelection()},function(a){return a.xb.canCopySelection()}));a.add(new ck("Cut",function(a){a.xb.cutSelection()},function(a){return a.xb.canCutSelection()}));a.add(new ck("Delete",function(a){a.xb.deleteSelection()},function(a){return a.xb.canDeleteSelection()}));a.add(new ck("Paste",function(a){a.xb.pasteSelection(a.U.ha)},function(a){return a.xb.canPasteSelection()}));a.add(new ck("Select All",function(a){a.xb.selectAll()},
function(a){return a.xb.canSelectAll()}));a.add(new ck("Undo",function(a){a.xb.undo()},function(a){return a.xb.canUndo()}));a.add(new ck("Redo",function(a){a.xb.redo()},function(a){return a.xb.canRedo()}));a.add(new ck("Scroll To Part",function(a){a.xb.scrollToPart()},function(a){return a.xb.canScrollToPart()}));a.add(new ck("Zoom To Fit",function(a){a.xb.zoomToFit()},function(a){return a.xb.canZoomToFit()}));a.add(new ck("Reset Zoom",function(a){a.xb.resetZoom()},function(a){return a.xb.canResetZoom()}));
a.add(new ck("Group Selection",function(a){a.xb.groupSelection()},function(a){return a.xb.canGroupSelection()}));a.add(new ck("Ungroup Selection",function(a){a.xb.ungroupSelection()},function(a){return a.xb.canUngroupSelection()}));a.add(new ck("Edit Text",function(a){a.xb.editTextBlock()},function(a){return a.xb.canEditTextBlock()}));return a}
dk.prototype.showDefaultContextMenu=function(){var a=this.g;if(null!==a){null===this.dz&&(this.dz=hk(this));C.Zt.innerHTML="";C.Yt.addEventListener("click",this.fE,!1);var b=this,c=C.createElement("ul");c.className="goCXul";C.Zt.appendChild(c);c.innerHTML="";for(var d=this.dz.j;d.next();){var e=d.value,g=e.visible;if("function"===typeof e.GE&&("function"!==typeof g||g(a))){g=C.createElement("li");g.className="goCXli";var h=C.createElement("a");h.className="goCXa";h.href="#";h.jH=e.GE;h.addEventListener("click",
function(c){this.jH(a);b.stopTool();c.preventDefault();return!1},!1);h.textContent=e.text;g.appendChild(h);c.appendChild(g)}}C.Zt.style.display="block";C.Yt.style.display="block"}};dk.prototype.hideDefaultContextMenu=function(){null!==this.bm&&this.bm===this.Lm&&(C.Zt.style.display="none",C.Yt.style.display="none",C.Yt.removeEventListener("click",this.fE,!1),this.bm=null)};
C.defineProperty(dk,{bm:"currentContextMenu"},function(){return this.sC},function(a){!u||null===a||a instanceof ea||a instanceof bk||C.k("ContextMenuTool.currentContextMenu must be an Adornment or HTMLInfo.");this.sC=a;this.bz=a instanceof ea?a.Zf:null});C.defineProperty(dk,{vL:"defaultTouchContextMenu"},function(){return this.Lm},function(a){!u||null===a||a instanceof ea||a instanceof bk||C.k("ContextMenuTool.defaultTouchContextMenu must be an Adornment or HTMLInfo.");this.Lm=a});
C.defineProperty(dk,{tx:"currentObject"},function(){return this.vC},function(a){null!==a&&C.l(a,Q,dk,"currentObject");this.vC=a});C.w(dk,{$L:"mouseDownPoint"},function(){return this.uD});function ik(){0<arguments.length&&C.wd(ik);bh.call(this);this.name="DragSelecting";this.So=175;this.iD=!1;var a=new E;a.Kf="Tool";a.Zk=!1;var b=new w;b.name="SHAPE";b.Jb="Rectangle";b.fill=null;b.stroke="magenta";a.add(b);this.Hm=a}C.Ta(ik,bh);C.ka("DragSelectingTool",ik);
ik.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;if(null===a||!a.Cf)return!1;var b=a.U;return!b.left||a.hb!==this&&(!this.isBeyondDragSize()||b.timestamp-a.Nc.timestamp<this.PE||null!==a.fu(b.ha,!0))?!1:!0};ik.prototype.doActivate=function(){var a=this.g;null!==a&&(this.ya=!0,a.kf=!0,a.Eb=!0,a.add(this.Ih),this.doMouseMove())};ik.prototype.doDeactivate=function(){var a=this.g;null!==a&&(yi(a),a.remove(this.Ih),a.Eb=!1,this.ya=a.kf=!1)};
ik.prototype.doMouseMove=function(){var a=this.g;if(null!==a&&this.ya&&null!==this.Ih){var b=this.computeBoxBounds(),c=this.Ih.Fd("SHAPE");null===c&&(c=this.Ih.Vd());c.Da=b.size;this.Ih.position=b.position;(a.Ae||a.Be)&&a.wA(a.U.se)}};ik.prototype.doMouseUp=function(){if(this.ya){var a=this.g;a.remove(this.Ih);try{a.lc="wait",this.selectInRect(this.computeBoxBounds())}finally{a.lc=""}}this.stopTool()};
ik.prototype.computeBoxBounds=function(){var a=this.g;return null===a?new z(0,0,0,0):new z(a.Nc.ha,a.U.ha)};
ik.prototype.selectInRect=function(a){var b=this.g;if(null!==b){var c=b.U;b.Ka("ChangingSelection");a=b.Pk(a,null,function(a){return a instanceof E?a.canSelect():!1},this.iJ);if(C.Uk?c.Eu:c.control)if(c.shift)for(a=a.j;a.next();)c=a.value,c.jb&&(c.jb=!1);else for(a=a.j;a.next();)c=a.value,c.jb=!c.jb;else{if(!c.shift){for(var c=new K(E),d=b.selection.j;d.next();){var e=d.value;a.contains(e)||c.add(e)}for(c=c.j;c.next();)c.value.jb=!1}for(a=a.j;a.next();)c=a.value,c.jb||(c.jb=!0)}b.Ka("ChangedSelection")}};
C.defineProperty(ik,{PE:"delay"},function(){return this.So},function(a){C.h(a,"number",ik,"delay");this.So=a});C.defineProperty(ik,{iJ:"isPartialInclusion"},function(){return this.iD},function(a){C.h(a,"boolean",ik,"isPartialInclusion");this.iD=a});C.defineProperty(ik,{Ih:"box"},function(){return this.Hm},function(a){null!==a&&C.l(a,E,ik,"box");this.Hm=a});
function jk(){0<arguments.length&&C.wd(jk);bh.call(this);this.name="Panning";this.Oz=new O;this.Zj=!1;var a=this;this.VD=function(){window.document.removeEventListener("scroll",a.VD,!1);a.stopTool()}}C.Ta(jk,bh);C.ka("PanningTool",jk);jk.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;return null===a||!a.Ae&&!a.Be||!a.U.left||a.hb!==this&&!this.isBeyondDragSize()?!1:!0};
jk.prototype.doActivate=function(){var a=this.g;null!==a&&(this.Zj?(a.U.bubbles=!0,window.document.addEventListener("scroll",this.VD,!1)):(a.lc="move",a.kf=!0,this.Oz=a.position.copy()),this.ya=!0)};jk.prototype.doDeactivate=function(){var a=this.g;null!==a&&(a.lc="",this.ya=a.kf=!1)};jk.prototype.doCancel=function(){var a=this.g;null!==a&&(a.position=this.Oz,a.kf=!1);this.stopTool()};jk.prototype.doMouseMove=function(){this.move()};jk.prototype.doMouseUp=function(){this.move();this.stopTool()};
jk.prototype.move=function(){var a=this.g;if(this.ya&&a)if(this.Zj)a.U.bubbles=!0;else{var b=a.position,c=a.Nc.ha,d=a.U.ha,e=b.x+c.x-d.x,c=b.y+c.y-d.y;a.Ae||(e=b.x);a.Be||(c=b.y);a.position=new O(e,c)}};C.defineProperty(jk,{bubbles:"bubbles"},function(){return this.Zj},function(a){C.h(a,"boolean",jk,"bubbles");this.Zj=a});C.w(jk,{hM:"originalPosition"},function(){return this.Oz});
function kk(){0<arguments.length&&C.wd(kk);bh.call(this);this.name="TextEditing";this.$z=this.Ak=null;this.UD=lk;this.Ol=null;this.ab=mk;this.Ll=null;this.rD=1;this.OD=!0;var a=new bk;this.xC=null;this.FC=a;this.ez=null;nk(this,a)}C.ka("TextEditingTool",kk);C.Ta(kk,bh);var ok;kk.LostFocus=ok=C.s(kk,"LostFocus",0);var pk;kk.MouseDown=pk=C.s(kk,"MouseDown",1);var qk;kk.Tab=qk=C.s(kk,"Tab",2);var rk;kk.Enter=rk=C.s(kk,"Enter",3);kk.SingleClick=C.s(kk,"SingleClick",0);var lk;
kk.SingleClickSelected=lk=C.s(kk,"SingleClickSelected",1);var sk;kk.DoubleClick=sk=C.s(kk,"DoubleClick",2);var mk;kk.StateNone=mk=C.s(kk,"StateNone",0);var tk;kk.StateActive=tk=C.s(kk,"StateActive",1);var uk;kk.StateEditing=uk=C.s(kk,"StateEditing",2);var vk;kk.StateValidating=vk=C.s(kk,"StateValidating",3);var wk;kk.StateInvalid=wk=C.s(kk,"StateInvalid",4);var xk;kk.StateValidated=xk=C.s(kk,"StateValidated",5);
function nk(a,b){var c=C.createElement("textarea");a.ez=c;c.addEventListener("input",function(){if(null!==a.hh){var b=a.BJ(this.value),c=this.sK;this.style.width=20+b.Ea.width*c+"px";this.style.height=10+b.Ea.height*c+"px";this.rows=b.qJ}},!1);c.addEventListener("keydown",function(b){if(null!==a.hh){var c=b.which;13===c?(!1===a.hh.Tx&&b.preventDefault(),a.acceptText(rk)):9===c?(a.acceptText(qk),b.preventDefault()):27===c&&(a.doCancel(),null!==a.g&&a.g.doFocus())}},!1);c.addEventListener("focus",function(){yk(a)},
!1);c.addEventListener("blur",function(){zk(a)},!1);b.RB=function(){return c.value};b.XA=c;b.show=function(a,b,g){if(g.state===wk)c.style.border="3px solid red",c.focus();else{var h=a.fb(mc),k=b.position,l=b.scale,m=a.Ej()*l;m<g.XF&&(m=g.XF);var n=a.Ja.width*m+6,p=a.Ja.height*m+2,q=(h.x-k.x)*l,h=(h.y-k.y)*l;c.value=a.text;b.Cj.style.font=a.font;c.style.cssText="position: absolute;z-index: 100;font: inherit;fontSize: "+100*m+"%;lineHeight: normal;width: "+n+"px;height: "+p+"px;left: "+((q-n/2|0)-1)+
"px;top: "+((h-p/2|0)-1)+"px;textAlign: "+a.textAlign+";margin: 0;padding: 1px;border: 0;outline: none;white-space: pre-wrap;overflow: hidden;";c.sK=m;b.Cj.appendChild(c);c.focus();g.wy&&(c.select(),c.setSelectionRange(0,9999))}};b.Wn=function(a){a.Cj.removeChild(c)}}C.defineProperty(kk,{hh:"textBlock"},function(){return this.$z},function(a){null!==a&&C.l(a,pa,kk,"textBlock");this.$z=a});C.defineProperty(kk,{Nk:"currentTextEditor"},function(){return this.xC},function(a){this.xC=a});
C.defineProperty(kk,{nI:"defaultTextEditor"},function(){return this.FC},function(a){!u||a instanceof Element||a instanceof bk||C.k("TextEditingTool.defaultTextEditor must be an Element or HTMLInfo.");this.FC=a});C.defineProperty(kk,{LG:"starting"},function(){return this.UD},function(a){C.Ca(a,kk,kk,"starting");this.UD=a});
kk.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;if(null===a||a.nb||!a.U.left||this.isBeyondDragSize())return!1;var b=a.He(a.U.ha,null,function(a){return a instanceof pa});if(null===b||!b.zA||!b.ba.canEdit())return!1;b=b.ba;return null===b||this.LG===lk&&!b.jb||this.LG===sk&&2>a.U.Qe?!1:!0};kk.prototype.doStart=function(){this.ya||null===this.hh||this.doActivate()};
kk.prototype.doActivate=function(){if(!this.ya){var a=this.g;if(null!==a){var b=this.hh;null===b&&(b=a.He(a.U.ha,function(a){return a instanceof pa?a:null}));if(null!==b&&(this.hh=b,null!==b.ba)){this.ya=!0;this.ab=tk;var c=this.nI;null!==b.PG&&(c=b.PG);this.Ak=this.hh.copy();var d=new z(this.hh.fb(hc),this.hh.fb(qc));a.fK(d);if(c instanceof bk)c.show(b,a,this);else{c.style.position="absolute";c.style.zIndex="100";c.textEditingTool=this;if("function"===typeof c.onActivate)c.onActivate();"function"===
typeof c.focus&&c.focus();"function"===typeof c.select&&this.wy&&(c.select(),c.setSelectionRange(0,9999));a.Cj.appendChild(c)}this.Nk=c}}}};kk.prototype.doCancel=function(){null!==this.Ll&&(this.Nk.style.border=this.Ll,this.Ll=null);this.stopTool()};kk.prototype.doMouseUp=function(){!this.ya&&this.canStart()&&this.doActivate()};kk.prototype.doMouseDown=function(){this.ya&&this.acceptText(pk)};
kk.prototype.acceptText=function(a){switch(a){case pk:if(this.ab===xk)"function"===typeof this.Nk.focus&&this.Nk.focus();else if(this.ab===tk||this.ab===wk||this.ab===uk)this.ab=vk,Ak(this);break;case ok:case rk:case qk:if(rk===a&&!0===this.$z.Tx)break;if(this.ab===tk||this.ab===wk||this.ab===uk)this.ab=vk,Ak(this)}};
function Ak(a){var b=a.hh,c=a.g,d=a.Nk;if(null!==b&&null!==d){var e=b.text,g=d.value,h="";d instanceof bk?null!==d.RB&&(h=d.RB()):h="function"===typeof g?g():g;a.isValidText(b,e,h)?(a.ac(a.name),a.ab=xk,d instanceof bk?d.show(b,c,a):null!==a.Ll&&(d.style.border=a.Ll,a.Ll=null),a.Pf=a.name,b.text=h,null!==b.OG&&b.OG(b,e,h),null!==c&&c.Ka("TextEdited",b,e),a.al(),a.stopTool(),null!==c&&c.doFocus()):(a.ab=wk,null!==b.BA&&b.BA(a,e,h),d instanceof bk?d.show(b,c,a):(null===a.Ll&&(a.Ll=d.style.border,d.style.border=
"3px solid red"),"function"===typeof d.focus&&d.focus()))}}kk.prototype.doDeactivate=function(){var a=this.g;if(null!==a){this.ab=mk;this.hh=null;if(null!==this.Nk){var b=this.Nk;if(b instanceof bk)b.Wn(a,this);else{if("function"===typeof b.onDeactivate)b.onDeactivate();null!==b&&a.Cj.removeChild(b)}}this.ya=!1}};kk.prototype.doFocus=function(){u&&C.Nn("TextEditingTool.doFocus","2.0");yk(this)};kk.prototype.doBlur=function(){u&&C.Nn("TextEditingTool.doBlur","2.0");zk(this)};
function yk(a){if(null!==a.Nk){var b=a.ez;a.ab===tk&&(a.ab=uk);"function"===typeof b.select&&a.wy&&(b.select(),b.setSelectionRange(0,9999))}}function zk(a){if(null!==a.Nk){var b=a.ez;"function"===typeof b.focus&&b.focus();"function"===typeof b.select&&a.wy&&(b.select(),b.setSelectionRange(0,9999))}}kk.prototype.isValidText=function(a,b,c){C.l(a,pa,kk,"isValidText:textblock");var d=this.JB;if(null!==d&&!d(a,b,c))return!1;d=a.JB;return null===d||d(a,b,c)?!0:!1};
C.defineProperty(kk,{JB:"textValidation"},function(){return this.Ol},function(a){null!==a&&C.h(a,"function",kk,"textValidation");this.Ol=a});C.defineProperty(kk,{XF:"minimumEditorScale"},function(){return this.rD},function(a){null!==a&&C.h(a,"number",kk,"minimumEditorScale");this.rD=a});C.defineProperty(kk,{wy:"selectsTextOnActivate"},function(){return this.OD},function(a){null!==a&&C.h(a,"boolean",kk,"selectsTextOnActivate");this.OD=a});
C.defineProperty(kk,{state:"state"},function(){return this.ab},function(a){this.ab!==a&&(C.Ca(a,kk,kk,"starting"),this.ab=a)});kk.prototype.measureTemporaryTextBlock=kk.prototype.BJ=function(a){var b=this.Ak;b.text=a;Bk(b,this.hh.pp,Infinity);return b};function Kh(){bh.call(this);this.name="ToolManager";this.oH=new K(bh);this.pH=new K(bh);this.qH=new K(bh);this.WC=this.XC=850;this.KC=(new Fa(2,2)).Na();this.gE=5E3;this.vD=Wh;this.UC=Ck;this.Gv=this.yC=null;this.xn=-1}C.Ta(Kh,bh);
C.ka("ToolManager",Kh);var Wh;Kh.WheelScroll=Wh=C.s(Kh,"WheelScroll",0);var Vh;Kh.WheelZoom=Vh=C.s(Kh,"WheelZoom",1);Kh.WheelNone=C.s(Kh,"WheelNone",2);var Ck;Kh.GestureZoom=Ck=C.s(Kh,"GestureZoom",3);var Dk;Kh.GestureCancel=Dk=C.s(Kh,"GestureCancel",4);var Ek;Kh.GestureNone=Ek=C.s(Kh,"GestureNone",5);C.defineProperty(Kh,{Hu:"mouseWheelBehavior"},function(){return this.vD},function(a){C.Ca(a,Kh,Kh,"mouseWheelBehavior");this.vD=a});
C.defineProperty(Kh,{nq:"gestureBehavior"},function(){return this.UC},function(a){C.Ca(a,Kh,Kh,"gestureBehavior");this.UC=a});Kh.prototype.initializeStandardTools=function(){this.FH=new ak;this.gG=new $h;this.tJ=new pj;this.tG=new Qj;this.cK=new Xj;this.TF=new ua;this.Ee=new Ph;this.rI=new ik;this.OJ=new jk;this.pA=new dk;this.IB=new kk;this.WH=new wa;this.XH=new Zj};
Kh.prototype.updateAdornments=function(a){var b=this.cm;if(b instanceof ea&&this.Gv===a){var c=b.Ab;(null!==a?c.ba===a:null===c)?this.showToolTip(b,c):this.hideToolTip()}};
Kh.prototype.doMouseDown=function(){var a=this.g;if(null!==a){var b=a.U;b.Jj&&this.nq===Dk&&(b.bubbles=!1);if(b.wu){this.cancelWaitAfter();if(this.nq===Ek){b.bubbles=!0;return}if(this.nq===Dk)return;if(a.hb.canStartMultiTouch()){a.hb.standardPinchZoomStart();return}}var c=a.sa;c.lA&&0!==c.Vh&&C.trace("WARNING: In ToolManager.doMouseDown: UndoManager.transactionLevel is not zero");for(var c=this.mf.length,d=0;d<c;d++){var e=this.mf.fa(d);null===e.g&&e.ad(this.g);if(e.canStart()){a.doFocus();a.hb=e;
a.hb===e&&(e.ya||e.doActivate(),e.doMouseDown());return}}1===a.U.button&&(this.Hu===Wh?this.Hu=Vh:this.Hu===Vh&&(this.Hu=Wh));this.doActivate();this.standardWaitAfter(this.yF,b)}};
Kh.prototype.doMouseMove=function(){var a=this.g;if(null!==a){var b=a.U;if(b.wu){if(this.nq===Ek){b.bubbles=!0;return}if(this.nq===Dk)return;if(a.hb.canStartMultiTouch()){a.hb.standardPinchZoomMove();return}}if(this.ya)for(var c=this.ig.length,d=0;d<c;d++){var e=this.ig.fa(d);null===e.g&&e.ad(this.g);if(e.canStart()){a.doFocus();a.hb=e;a.hb===e&&(e.ya||e.doActivate(),e.doMouseMove());return}}Fk(this,a);null===b.event||"mousemove"!==b.event.type&&b.event.cancelable||(b.bubbles=!0)}};
function Fk(a,b){a.standardMouseOver();a.isBeyondDragSize()&&a.standardWaitAfter(a.ya?a.yF:a.WI,b.U)}Kh.prototype.doCurrentObjectChanged=function(a,b){var c=this.cm;null===c||null!==b&&c instanceof ea&&(b===c||b.rm(c))||this.hideToolTip()};Kh.prototype.doWaitAfter=function(a){var b=this.g;null!==b&&b.Nb&&(this.doMouseHover(),this.ya||this.doToolTip(),a.Jj&&!b.U.Oc&&(a=a.copy(),a.button=2,a.buttons=2,b.U=a,b.At=!0,b.doMouseUp()))};
Kh.prototype.doMouseHover=function(){var a=this.g;if(null!==a){var b=a.U;null===b.We&&(b.We=a.He(b.ha,null,null));var c=b.We;if(null!==c)for(b.Oc=!1;null!==c;){a=this.ya?c.cB:c.dB;if(null!==a&&(a(b,c),b.Oc))break;c=c.Q}else a=this.ya?a.cB:a.dB,null!==a&&a(b)}};
Kh.prototype.doToolTip=function(){var a=this.g;if(null!==a){var b=a.U;null===b.We&&(b.We=a.He(b.ha,null,null));b=b.We;if(null!==b){if(a=this.cm,!(a instanceof ea)||b!==a&&!b.rm(a)){for(;null!==b;){a=b.LB;if(null!==a){this.showToolTip(a,b);return}b=b.Q}this.hideToolTip()}}else a=a.LB,null!==a?this.showToolTip(a,null):this.hideToolTip()}};
Kh.prototype.showToolTip=function(a,b){!u||a instanceof ea||a instanceof bk||C.k("showToolTip:tooltip must be an Adornment or HTMLInfo.");null!==b&&C.l(b,Q,Kh,"showToolTip:obj");var c=this.g;if(null!==c){a!==this.cm&&this.hideToolTip();if(a instanceof ea){a.Kf="Tool";a.Zk=!1;a.scale=1/c.scale;a.rc="ToolTip";null!==a.placeholder&&(a.placeholder.scale=c.scale);c.add(a);if(null!==b){var c=null,d=b.jm();null!==d&&(c=d.data);a.Ab=b;a.data=c}else a.data=c.ia;a.jf();this.positionToolTip(a,b)}else a instanceof
bk&&a!==this.cm&&a.show(b,c,this);this.cm=a;-1!==this.xn&&(C.clearTimeout(this.xn),this.xn=-1);c=this.xK;if(0<c&&Infinity!==c){var e=this;this.xn=C.setTimeout(function(){e.hideToolTip()},c)}}};Kh.prototype.positionToolTip=function(a){if(null===a.placeholder){var b=this.g;if(null!==b){var c=b.U.ha.copy(),d=a.Ea,e=b.yb;b.U.Jj&&(c.x-=d.width);c.x+d.width>e.right&&(c.x-=d.width+5);c.x<e.x&&(c.x=e.x);c.y=c.y+20+d.height>e.bottom?c.y-(d.height+5):c.y+20;c.y<e.y&&(c.y=e.y);a.position=c}}};
Kh.prototype.hideToolTip=function(){-1!==this.xn&&(C.clearTimeout(this.xn),this.xn=-1);var a=this.g;if(null!==a){var b=this.cm;null!==b&&(b instanceof ea?(a.remove(b),null!==this.Gv&&this.Gv.Rj(b.rc),b.data=null,b.Ab=null):b instanceof bk&&null!==b.Wn&&b.Wn(a,this),this.cm=null)}};
C.defineProperty(Kh,{cm:"currentToolTip"},function(){return this.yC},function(a){!u||null===a||a instanceof ea||a instanceof bk||C.k("ToolManager.currentToolTip must be an Adornment or HTMLInfo.");this.yC=a;this.Gv=null!==a?a.Zf:null});
Kh.prototype.doMouseUp=function(){this.cancelWaitAfter();var a=this.g;if(null!==a){if(this.ya)for(var b=this.jg.length,c=0;c<b;c++){var d=this.jg.fa(c);null===d.g&&d.ad(this.g);if(d.canStart()){a.doFocus();a.hb=d;a.hb===d&&(d.ya||d.doActivate(),d.doMouseUp());return}}a.doFocus();this.doDeactivate()}};Kh.prototype.doMouseWheel=function(){this.standardMouseWheel()};Kh.prototype.doKeyDown=function(){var a=this.g;null!==a&&a.xb.doKeyDown()};Kh.prototype.doKeyUp=function(){var a=this.g;null!==a&&a.xb.doKeyUp()};
Kh.prototype.doCancel=function(){null!==Yh&&Yh.doCancel();bh.prototype.doCancel.call(this)};Kh.prototype.findTool=function(a){C.h(a,"string",Kh,"findTool:name");for(var b=this.mf.length,c=0;c<b;c++){var d=this.mf.fa(c);if(d.name===a)return d}b=this.ig.length;for(c=0;c<b;c++)if(d=this.ig.fa(c),d.name===a)return d;b=this.jg.length;for(c=0;c<b;c++)if(d=this.jg.fa(c),d.name===a)return d;return null};
Kh.prototype.replaceTool=function(a,b){C.h(a,"string",Kh,"replaceTool:name");null!==b&&(C.l(b,bh,Kh,"replaceTool:newtool"),b.g&&b.g!==this.g&&C.k("Cannot share tools between Diagrams: "+b.toString()),b.ad(this.g));for(var c=this.mf.length,d=0;d<c;d++){var e=this.mf.fa(d);if(e.name===a)return null!==b?this.mf.qg(d,b):this.mf.md(d),e}c=this.ig.length;for(d=0;d<c;d++)if(e=this.ig.fa(d),e.name===a)return null!==b?this.ig.qg(d,b):this.ig.md(d),e;c=this.jg.length;for(d=0;d<c;d++)if(e=this.jg.fa(d),e.name===
a)return null!==b?this.jg.qg(d,b):this.jg.md(d),e;return null};function Gk(a,b,c,d){C.h(b,"string",Kh,"replaceStandardTool:name");C.l(d,K,Kh,"replaceStandardTool:list");null!==c&&(C.l(c,bh,Kh,"replaceStandardTool:newtool"),c.g&&c.g!==a.g&&C.k("Cannot share tools between Diagrams: "+c.toString()),c.name=b,c.ad(a.g));a.findTool(b)?a.replaceTool(b,c):null!==c&&d.add(c)}C.w(Kh,{mf:"mouseDownTools"},function(){return this.oH});C.w(Kh,{ig:"mouseMoveTools"},function(){return this.pH});
C.w(Kh,{jg:"mouseUpTools"},function(){return this.qH});C.defineProperty(Kh,{WI:"hoverDelay"},function(){return this.XC},function(a){C.h(a,"number",Kh,"hoverDelay");this.XC=a});C.defineProperty(Kh,{yF:"holdDelay"},function(){return this.WC},function(a){C.h(a,"number",Kh,"holdDelay");this.WC=a});C.defineProperty(Kh,{sI:"dragSize"},function(){return this.KC},function(a){C.l(a,Fa,Kh,"dragSize");this.KC=a.V()});
C.defineProperty(Kh,{xK:"toolTipDuration"},function(){return this.gE},function(a){C.h(a,"number",Kh,"toolTipDuration");this.gE=a});C.defineProperty(Kh,{FH:"actionTool"},function(){return this.findTool("Action")},function(a){Gk(this,"Action",a,this.mf)});C.defineProperty(Kh,{gG:"relinkingTool"},function(){return this.findTool("Relinking")},function(a){Gk(this,"Relinking",a,this.mf)});
C.defineProperty(Kh,{tJ:"linkReshapingTool"},function(){return this.findTool("LinkReshaping")},function(a){Gk(this,"LinkReshaping",a,this.mf)});C.defineProperty(Kh,{tG:"resizingTool"},function(){return this.findTool("Resizing")},function(a){Gk(this,"Resizing",a,this.mf)});C.defineProperty(Kh,{cK:"rotatingTool"},function(){return this.findTool("Rotating")},function(a){Gk(this,"Rotating",a,this.mf)});
C.defineProperty(Kh,{TF:"linkingTool"},function(){return this.findTool("Linking")},function(a){Gk(this,"Linking",a,this.ig)});C.defineProperty(Kh,{Ee:"draggingTool"},function(){return this.findTool("Dragging")},function(a){Gk(this,"Dragging",a,this.ig)});C.defineProperty(Kh,{rI:"dragSelectingTool"},function(){return this.findTool("DragSelecting")},function(a){Gk(this,"DragSelecting",a,this.ig)});
C.defineProperty(Kh,{OJ:"panningTool"},function(){return this.findTool("Panning")},function(a){Gk(this,"Panning",a,this.ig)});C.defineProperty(Kh,{pA:"contextMenuTool"},function(){return this.findTool("ContextMenu")},function(a){Gk(this,"ContextMenu",a,this.jg)});C.defineProperty(Kh,{IB:"textEditingTool"},function(){return this.findTool("TextEditing")},function(a){Gk(this,"TextEditing",a,this.jg)});
C.defineProperty(Kh,{WH:"clickCreatingTool"},function(){return this.findTool("ClickCreating")},function(a){Gk(this,"ClickCreating",a,this.jg)});C.defineProperty(Kh,{XH:"clickSelectingTool"},function(){return this.findTool("ClickSelecting")},function(a){Gk(this,"ClickSelecting",a,this.jg)});
function nh(){this.zC=Hk;this.Gr=this.Hr=this.da=null;this.Bo=this.Ir=this.Jr=0;this.Co=this.yc=this.kp=this.lk=!1;this.mk=this.of=!0;this.Ev=this.Dv=this.uC=null;this.tC=0;this.Fv=null;this.sv=new L("string");this.mz=600;this.uH=new O(0,0);this.iC=this.hC=this.kE=!1;this.en=new oa(Q,Uk)}C.ka("AnimationManager",nh);nh.prototype.ad=function(a){this.da=a};function Hk(a,b,c,d){a/=d/2;return 1>a?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b}C.w(nh,{bL:"animationReasons"},function(){return this.sv});
nh.prototype.canStart=function(){return!0};nh.prototype.prepareAutomaticAnimation=nh.prototype.ko=function(a){this.of&&(this.mk||this.da.Zn)&&(this.sv.add(a),this.canStart(a)&&(this.lk&&this.Ii(),this.yc=!0))};function $k(a){if(a.of&&(a.sv.clear(),a.yc))if(!a.Co)a.yc=!1;else if(0===a.Bo){var b=+new Date;a.Bo=b;requestAnimationFrame(function(){if(!1!==a.yc&&!a.lk&&a.Bo===b){var c=a.da;c.Fj("temporaryPixelRatio")&&(c.zk=1);al(c);a.yc=!1;c.Ka("AnimationStarting");bl(a,b)}})}}
function cl(a,b,c,d,e,g){if(a.yc&&(u&&C.l(b,Q,nh,"addPropToAnimation:obj"),!("position"===c&&d.O(e)||b instanceof E&&!b.CF))){var h=a.en;if(h.contains(b)){var h=h.pa(b),k=h.start,l=h.end;void 0===k[c]&&(k[c]=dl(d));h.sx&&void 0!==l[c]?h.du[c]=dl(e):(g||(h.du[c]=dl(e)),l[c]=dl(e));g&&0===c.indexOf("position:")&&(h.du.location=dl(b.location))}else k=new na,l=new na,k[c]=dl(d),l[c]=dl(e),d=l,e=k.position,e instanceof O&&!e.F()&&a.sv.contains("Expand SubGraph")&&e.assign(d.position),k=new Uk(k,l,g),g&&
0===c.indexOf("position:")&&(k.du.location=dl(b.location)),h.add(b,k);a.Co=!0}}function dl(a){return a instanceof O?a.copy():a instanceof Fa?a.copy():a}
function bl(a,b){var c;function d(){if(!1!==g.lk&&g.Bo===b){var a=+new Date,c=a>s?m:a-r;el(g);fl(g,e,q,h,c,m);g.Dv&&g.Dv();Vi(e);gl(g);a>s?hl(g):requestAnimationFrame(d)}}void 0===c&&(c=new na);var e=a.da;if(null!==e){a.lk=!0;var g=a,h=c.DL||a.zC,k=c.cM||null,l=c.dM||null,m=c.duration||a.mz,n=a.uH;for(c=a.en.j;c.next();){var p=c.value.start.position;p instanceof O&&(p.F()||p.assign(n))}a.uC=h;a.Dv=k;a.Ev=l;a.tC=m;a.Fv=a.en;var q=a.Fv;for(c=q.j;c.next();)k=c.value.end,k["position:placeholder"]&&(l=
k["position:placeholder"],n=l.fb(hc),n.x+=l.padding.left,n.y+=l.padding.top,k["position:placeholder"]=n);el(a);fl(a,e,q,h,0,m);Vi(a.da);gl(a);var r=+new Date,s=r+m;g.Bo===b&&requestAnimationFrame(function(){d()})}}
var il={opacity:function(a,b,c,d,e,g){a.opacity=d(e,b,c-b,g)},position:function(a,b,c,d,e,g){e!==g?a.zy(d(e,b.x,c.x-b.x,g),d(e,b.y,c.y-b.y,g)):a.position=new O(d(e,b.x,c.x-b.x,g),d(e,b.y,c.y-b.y,g))},"position:node":function(a,b,c,d,e,g){var h=a.Z,k=c.Z;c=k.x+k.width/2-h.width/2;h=k.y+k.height/2-h.height/2;e!==g?a.zy(d(e,b.x,c-b.x,g),d(e,b.y,h-b.y,g)):a.position=new O(d(e,b.x,c-b.x,g),d(e,b.y,h-b.y,g))},"position:placeholder":function(a,b,c,d,e,g){e!==g?a.zy(d(e,b.x,c.x-b.x,g),d(e,b.y,c.y-b.y,g)):
a.position=new O(d(e,b.x,c.x-b.x,g),d(e,b.y,c.y-b.y,g))},scale:function(a,b,c,d,e,g){a.scale=d(e,b,c-b,g)},visible:function(a,b,c,d,e,g){a.visible=e!==g?b:c}};function el(a){if(!a.kp){var b=a.da;a.kE=b.Eb;a.hC=b.Ve;a.iC=b.$u;b.Eb=!0;b.Ve=!0;b.$u=!0;a.kp=!0}}function gl(a){var b=a.da;b.Eb=a.kE;b.Ve=a.hC;b.$u=a.iC;a.kp=!1}
function fl(a,b,c,d,e,g){for(c=c.j;c.next();){var h=c.key,k=c.value,l=k.start,k=k.end,m;for(m in k)if(("position"!==m||!k["position:placeholder"]&&!k["position:node"])&&void 0!==il[m])il[m](h,l[m],k[m],d,e,g)}d=b.RA;b.RA=!0;m=a.zC;0!==a.Jr&&0!==a.Ir&&(c=a.Jr,b.Rb=m(e,c,a.Ir-c,g));null!==a.Hr&&null!==a.Gr&&(c=a.Hr,a=a.Gr,b.ub=new O(m(e,c.x,a.x-c.x,g),m(e,c.y,a.y-c.y,g)));b.RA=d}
nh.prototype.stopAnimation=nh.prototype.Ii=function(){!0===this.yc&&(this.yc=!1,this.Co&&this.da.Te());this.lk&&this.of&&hl(this)};
function hl(a){a.lk=!1;a.Co=!1;el(a);for(var b=a.da,c=a.uC,d=a.tC,e=a.Fv.j;e.next();){var g=e.key,h=e.value,k=h.start,l=h.end,m=h.du,n;for(n in l)if(void 0!==il[n]){var p=n;!h.sx||"position:node"!==p&&"position:placeholder"!==p||(p="position");il[p](g,k[n],void 0!==m[n]?m[n]:h.sx?k[n]:l[n],c,d,d)}h.sx&&void 0!==m.location&&(g.location=m.location);h.ny&&g.Jd(!1)}for(c=a.da.links;c.next();)d=c.value,null!==d.Fp&&(d.points=d.Fp,d.Fp=null);b.$x.clear();b.zk=null;b.Bc();b.ra();b.gg();jl(b);gl(a);a.Ev&&
a.Ev();a.Bo=0;a.Fv=null;a.Ev=null;a.Dv=null;a.Hr=null;a.Gr=null;a.Jr=0;a.Ir=0;a.en=new oa(Q,Uk);b.Ka("AnimationFinished");b.Te()}function kl(a,b,c){var d=b.Z,e=c.Z,g=null;c instanceof H&&(g=c.placeholder);null!==g?(d=g.fb(hc),d.x+=g.padding.left,d.y+=g.padding.top,cl(a,b,"position",d,b.position,!1)):cl(a,b,"position",new O(e.x+e.width/2-d.width/2,e.y+e.height/2-d.height/2),b.position,!1);cl(a,b,"scale",.01,b.scale,!1);if(b instanceof H)for(b=b.Pc;b.next();)g=b.value,g instanceof F&&kl(a,g,c)}
function ll(a,b,c){if(b.isVisible()){var d=null;c instanceof H&&(d=c.placeholder);null!==d?cl(a,b,"position:placeholder",b.position,d,!0):cl(a,b,"position:node",b.position,c,!0);cl(a,b,"scale",b.scale,.01,!0);a.yc&&(d=a.en,d.contains(b)&&(d.pa(b).ny=!0));if(b instanceof H)for(b=b.Pc;b.next();)d=b.value,d instanceof F&&ll(a,d,c)}}function ml(a,b,c){a.yc&&(null===a.Hr&&b.F()&&null===a.Gr&&(a.Hr=b.copy()),a.Gr=c.copy(),a.Co=!0)}
function nl(a,b,c){a.yc&&a.da.Zn&&(0===a.Jr&&0===a.Ir&&(a.Jr=b),a.Ir=c,a.Co=!0)}C.defineProperty(nh,{isEnabled:"isEnabled"},function(){return this.of},function(a){C.h(a,"boolean",nh,"isEnabled");this.of=a});C.defineProperty(nh,{duration:"duration"},function(){return this.mz},function(a){C.h(a,"number",nh,"duration");1>a&&C.wa(a,">= 1",nh,"duration");this.mz=a});C.w(nh,{vf:"isAnimating"},function(){return this.lk});C.w(nh,{jJ:"isTicking"},function(){return this.kp});
C.defineProperty(nh,{KF:"isInitial"},function(){return this.mk},function(a){C.h(a,"boolean",nh,"isInitial");this.mk=a});function Uk(a,b,c){this.start=a;this.end=b;this.du=new na;this.sx=c;this.ny=!1}function ah(){0<arguments.length&&C.wd(ah);C.wc(this);this.da=null;this.qb=new K(E);this.Yb="";this.Ic=1;this.Ez=!1;this.Ml=this.dA=this.ll=this.kl=this.jl=this.il=this.gl=this.hl=this.fl=this.nl=this.el=this.ml=this.dl=this.cl=!0;this.Az=!1;this.vw=[]}C.ka("Layer",ah);
ah.prototype.ad=function(a){this.da=a};
ah.prototype.toString=function(a){void 0===a&&(a=0);var b='Layer "'+this.name+'"';if(0>=a)return b;for(var c=0,d=0,e=0,g=0,h=0,k=this.qb.j;k.next();){var l=k.value;l instanceof H?e++:l instanceof F?d++:l instanceof I?g++:l instanceof ea?h++:c++}k="";0<c&&(k+=c+" Parts ");0<d&&(k+=d+" Nodes ");0<e&&(k+=e+" Groups ");0<g&&(k+=g+" Links ");0<h&&(k+=h+" Adornments ");if(1<a)for(a=this.qb.j;a.next();)c=a.value,k+="\n    "+c.toString(),d=c.data,null!==d&&C.Gd(d)&&(k+=" #"+C.Gd(d)),c instanceof F?k+=" "+
ka(d):c instanceof I&&(k+=" "+ka(c.aa)+" "+ka(c.ea));return b+" "+this.qb.count+": "+k};
ah.prototype.findObjectAt=ah.prototype.He=function(a,b,c){void 0===b&&(b=null);void 0===c&&(c=null);if(!1===this.Ml)return null;u&&!a.F()&&C.k("findObjectAt: Point must have a real value, not: "+a.toString());var d=!1;null!==this.g&&this.g.yb.Oa(a)&&(d=!0);for(var e=C.P(),g=this.qb.o,h=g.length;h--;){var k=g[h];if((!0!==d||!1!==ol(k))&&k.isVisible()&&(e.assign(a),ub(e,k.Gh),k=k.He(e,b,c),null!==k&&(null!==b&&(k=b(k)),null!==k&&(null===c||c(k)))))return C.A(e),k}C.A(e);return null};
ah.prototype.findObjectsAt=ah.prototype.kq=function(a,b,c,d){void 0===b&&(b=null);void 0===c&&(c=null);d instanceof K||d instanceof L||(d=new L(Q));if(!1===this.Ml)return d;u&&!a.F()&&C.k("findObjectsAt: Point must have a real value, not: "+a.toString());var e=!1;null!==this.g&&this.g.yb.Oa(a)&&(e=!0);for(var g=C.P(),h=this.qb.o,k=h.length;k--;){var l=h[k];!0===e&&!1===ol(l)||!l.isVisible()||(g.assign(a),ub(g,l.Gh),l.kq(g,b,c,d)&&(null!==b&&(l=b(l)),null===l||null!==c&&!c(l)||d.add(l)))}C.A(g);return d};
ah.prototype.findObjectsIn=ah.prototype.Pk=function(a,b,c,d,e){void 0===b&&(b=null);void 0===c&&(c=null);void 0===d&&(d=!1);e instanceof K||e instanceof L||(e=new L(Q));if(!1===this.Ml)return e;u&&!a.F()&&C.k("findObjectsIn: Rect must have a real value, not: "+a.toString());var g=!1;null!==this.g&&this.g.yb.Lk(a)&&(g=!0);for(var h=this.qb.o,k=h.length;k--;){var l=h[k];(!0!==g||!1!==ol(l))&&l.isVisible()&&l.Pk(a,b,c,d,e)&&(null!==b&&(l=b(l)),null===l||null!==c&&!c(l)||e.add(l))}return e};
ah.prototype.CA=function(a,b,c,d,e,g,h){if(!1===this.Ml)return e;for(var k=this.qb.o,l=k.length;l--;){var m=k[l];(!0!==h||!1!==ol(m))&&g(m)&&m.isVisible()&&m.Pk(a,b,c,d,e)&&(null!==b&&(m=b(m)),null===m||null!==c&&!c(m)||e.add(m))}return e};
ah.prototype.findObjectsNear=ah.prototype.On=function(a,b,c,d,e,g){void 0===c&&(c=null);void 0===d&&(d=null);void 0===e&&(e=!0);if(!1!==e&&!0!==e){if(e instanceof K||e instanceof L)g=e;e=!0}g instanceof K||g instanceof L||(g=new L(Q));if(!1===this.Ml)return g;u&&!a.F()&&C.k("findObjectsNear: Point must have a real value, not: "+a.toString());var h=!1;null!==this.g&&this.g.yb.Oa(a)&&(h=!0);for(var k=C.P(),l=C.P(),m=this.qb.o,n=m.length;n--;){var p=m[n];!0===h&&!1===ol(p)||!p.isVisible()||(k.assign(a),
ub(k,p.Gh),l.m(a.x+b,a.y),ub(l,p.Gh),p.On(k,l,c,d,e,g)&&(null!==c&&(p=c(p)),null===p||null!==d&&!d(p)||g.add(p)))}C.A(k);C.A(l);return g};f=ah.prototype;
f.Lf=function(a,b){if(this.visible){var c;c=void 0===b?a.yb:b;for(var d=this.qb.o,e=d.length,g=0;g<e;g++){var h=d[g];h.nD=g;if(!(h instanceof I&&!1===h.kh)){if(h instanceof ea){var k=h;if(null!==k.Zf)continue}if(Qb(h.Z,c))for(h.Lf(!0),pl(h),h=h.ex;h.next();)k=h.value,Bk(k,Infinity,Infinity),k.qc(),k.Lf(!0);else h.Lf(!1),null!==h.ex&&0<h.ex.count&&pl(h)}}}};
f.Fe=function(a,b,c){if(this.visible&&0!==this.Ic&&(void 0===c&&(c=!0),c||!this.Xc)){c=this.qb.o;var d=c.length;if(0!==d){1!==this.Ic&&(a.globalAlpha=this.Ic);var e=this.vw;e.length=0;for(var g=b.scale,h=0;h<d;h++){var k=c[h];if(ol(k)){if(k instanceof I){var l=k;l.tc&&e.push(l);if(!1===l.kh)continue}l=k.Z;1<l.width*g||1<l.height*g?k.Fe(a,b):ql(k,a)}}a.globalAlpha=1}}};
function rl(a,b,c,d){if(a.visible&&0!==a.Ic){1!==a.Ic&&(b.globalAlpha=a.Ic);var e=a.vw;e.length=0;var g=c.scale;a=a.qb.o;for(var h=a.length,k=d.length,l=0;l<h;l++){var m=a[l];if(ol(m)){if(m instanceof I){var n=m;n.tc&&e.push(n);if(!1===n.kh)continue}var n=sl(m,m.Z),p;a:{p=n;for(var q=d,r=k,s=2/g,v=4/g,t=0;t<r;t++){var x=q[t];if(0!==x.width&&0!==x.height&&p.AF(x.x-s,x.y-s,x.width+v,x.height+v)){p=!0;break a}}p=!1}p&&(1<n.width*g||1<n.height*g?m.Fe(b,c):ql(m,b))}}b.globalAlpha=1}}
f.i=function(a,b,c,d,e){var g=this.g;null!==g&&g.ld(bg,a,this,b,c,d,e)};f.qq=function(a,b,c){var d=this.qb;b.fw=this;if(a>=d.count)a=d.count;else if(d.fa(a)===b)return-1;d.Xd(a,b);b.pu(c);d=this.g;null!==d&&(c?d.ra():d.qq(b));tl(this,a,b);return a};
f.uf=function(a,b,c){if(!c&&b.layer!==this&&null!==b.layer)return b.layer.uf(a,b,c);var d=this.qb;if(0>a||a>=d.length){if(a=d.indexOf(b),0>a)return-1}else if(d.fa(a)!==b&&(a=d.indexOf(b),0>a))return-1;b.qu(c);d.md(a);d=this.g;null!==d&&(c?d.ra():d.uf(b));b.fw=null;return a};
function tl(a,b,c){b=ul(a,b,c);if(c instanceof H&&null!==c&&isNaN(c.xo)){if(0!==c.Pc.count){for(var d=-1,e=a.qb.o,g=e.length,h=0;h<g;h++){var k=e[h];if(k===c&&(b=h,0<=d))break;if(0>d&&k.Qa===c&&(d=h,0<=b))break}!(0>d)&&d<b&&(e=a.qb,e.md(b),e.Xd(d,c))}c=c.Qa;null!==c&&tl(a,-1,c)}}
function ul(a,b,c){var d=c.xo;if(isNaN(d))return b;a=a.qb;var e=a.count;if(1>=e)return b;0>b&&(b=a.indexOf(c));if(0>b)return-1;for(var g=b-1,h=NaN;0<=g;){h=a.fa(g).xo;if(!isNaN(h))break;g--}for(var k=b+1,l=NaN;k<e;){l=a.fa(k).xo;if(!isNaN(l))break;k++}if(!isNaN(h)&&h>d)for(;;){if(-1===g||h<=d){g++;if(g===b)break;a.md(b);a.Xd(g,c);return g}for(h=NaN;0<=--g&&(h=a.fa(g).xo,isNaN(h)););}else if(!isNaN(l)&&l<d)for(;;){if(k===e||l>=d){k--;if(k===b)break;a.md(b);a.Xd(k,c);return k}for(l=NaN;++k<e&&(l=a.fa(k).xo,
isNaN(l)););}return b}f.clear=function(){for(var a=this.qb.nc(),b=a.length,c=0;c<b;c++)a[c].Lf(!1),this.uf(-1,a[c],!1)};C.w(ah,{Gi:"parts"},function(){return this.qb.j});C.w(ah,{mM:"partsBackwards"},function(){return this.qb.$n});C.w(ah,{g:"diagram"},function(){return this.da});
C.defineProperty(ah,{name:"name"},function(){return this.Yb},function(a){C.h(a,"string",ah,"name");var b=this.Yb;if(b!==a){var c=this.g;if(null!==c)for(""===b&&C.k("Cannot rename default Layer to: "+a),c=c.ao;c.next();)c.value.name===a&&C.k("Layer.name is already present in this diagram: "+a);this.Yb=a;this.i("name",b,a);for(a=this.qb.j;a.next();)a.value.Kf=this.Yb}});
C.defineProperty(ah,{opacity:"opacity"},function(){return this.Ic},function(a){var b=this.Ic;b!==a&&(C.h(a,"number",ah,"opacity"),(0>a||1<a)&&C.wa(a,"0 <= value <= 1",ah,"opacity"),this.Ic=a,this.i("opacity",b,a),a=this.g,null!==a&&a.ra())});C.defineProperty(ah,{Xc:"isTemporary"},function(){return this.Ez},function(a){var b=this.Ez;b!==a&&(C.h(a,"boolean",ah,"isTemporary"),this.Ez=a,this.i("isTemporary",b,a))});
C.defineProperty(ah,{visible:"visible"},function(){return this.dA},function(a){var b=this.dA;if(b!==a){C.h(a,"boolean",ah,"visible");this.dA=a;this.i("visible",b,a);for(b=this.qb.j;b.next();)b.value.Jd(a);a=this.g;null!==a&&a.ra()}});C.defineProperty(ah,{pg:"pickable"},function(){return this.Ml},function(a){var b=this.Ml;b!==a&&(C.h(a,"boolean",ah,"pickable"),this.Ml=a,this.i("pickable",b,a))});
C.defineProperty(ah,{DF:"isBoundsIncluded"},function(){return this.Az},function(a){this.Az!==a&&(this.Az=a,null!==this.g&&this.g.Bc())});C.defineProperty(ah,{Ik:"allowCopy"},function(){return this.cl},function(a){var b=this.cl;b!==a&&(C.h(a,"boolean",ah,"allowCopy"),this.cl=a,this.i("allowCopy",b,a))});C.defineProperty(ah,{Bn:"allowDelete"},function(){return this.dl},function(a){var b=this.dl;b!==a&&(C.h(a,"boolean",ah,"allowDelete"),this.dl=a,this.i("allowDelete",b,a))});
C.defineProperty(ah,{jx:"allowTextEdit"},function(){return this.ml},function(a){var b=this.ml;b!==a&&(C.h(a,"boolean",ah,"allowTextEdit"),this.ml=a,this.i("allowTextEdit",b,a))});C.defineProperty(ah,{gx:"allowGroup"},function(){return this.el},function(a){var b=this.el;b!==a&&(C.h(a,"boolean",ah,"allowGroup"),this.el=a,this.i("allowGroup",b,a))});
C.defineProperty(ah,{kx:"allowUngroup"},function(){return this.nl},function(a){var b=this.nl;b!==a&&(C.h(a,"boolean",ah,"allowUngroup"),this.nl=a,this.i("allowUngroup",b,a))});C.defineProperty(ah,{St:"allowLink"},function(){return this.fl},function(a){var b=this.fl;b!==a&&(C.h(a,"boolean",ah,"allowLink"),this.fl=a,this.i("allowLink",b,a))});
C.defineProperty(ah,{Cn:"allowRelink"},function(){return this.hl},function(a){var b=this.hl;b!==a&&(C.h(a,"boolean",ah,"allowRelink"),this.hl=a,this.i("allowRelink",b,a))});C.defineProperty(ah,{Wl:"allowMove"},function(){return this.gl},function(a){var b=this.gl;b!==a&&(C.h(a,"boolean",ah,"allowMove"),this.gl=a,this.i("allowMove",b,a))});
C.defineProperty(ah,{hx:"allowReshape"},function(){return this.il},function(a){var b=this.il;b!==a&&(C.h(a,"boolean",ah,"allowReshape"),this.il=a,this.i("allowReshape",b,a))});C.defineProperty(ah,{Tt:"allowResize"},function(){return this.jl},function(a){var b=this.jl;b!==a&&(C.h(a,"boolean",ah,"allowResize"),this.jl=a,this.i("allowResize",b,a))});
C.defineProperty(ah,{ix:"allowRotate"},function(){return this.kl},function(a){var b=this.kl;b!==a&&(C.h(a,"boolean",ah,"allowRotate"),this.kl=a,this.i("allowRotate",b,a))});C.defineProperty(ah,{Cf:"allowSelect"},function(){return this.ll},function(a){var b=this.ll;b!==a&&(C.h(a,"boolean",ah,"allowSelect"),this.ll=a,this.i("allowSelect",b,a))});
function D(a){function b(){window.document.removeEventListener("DOMContentLoaded",b,!1);vl(c)}1<arguments.length&&C.k("Diagram constructor can only take one optional argument, the DIV HTML element or its id.");C.wc(this);wl=[];this.cd=!0;this.eC=new nh;this.eC.ad(this);this.Sd=17;this.gs=!1;this.Qz="default";var c=this;null!==window.document.body?vl(this):window.document.addEventListener("DOMContentLoaded",b,!1);this.cc=new K(ah);this.Sb=this.Ob=0;this.wk=this.Tb=this.pd=this.Nb=null;this.nG();this.hp=
null;this.mG();this.ub=(new O(NaN,NaN)).freeze();this.Rb=1;this.Xv=(new O(NaN,NaN)).freeze();this.Yv=NaN;this.nw=1E-4;this.kw=100;this.Kc=new Ga;this.ax=(new O(NaN,NaN)).freeze();this.Pv=(new z(NaN,NaN,NaN,NaN)).freeze();this.Iw=(new Kb(0,0,0,0)).freeze();this.Jw=xl;this.Fw=this.Bw=null;this.Gm=Qh;this.Jo=Rc;this.yl=Qh;this.ep=Rc;this.Zv=this.Wv=hc;this.Ne=!0;this.cs=!1;this.Cg=new L(E);this.sl=new oa(I,z);this.Uo=!0;this.gC=250;this.Do=-1;this.vv=(new Kb(16,16,16,16)).freeze();this.Jv=this.Yf=!1;
this.Zo=!0;this.Zi=new Yf;this.ed=new Yf;this.Ub=new Yf;this.vh=this.Oi=null;this.At=!1;this.hz=this.iz=null;yl(this);this.yp=new L(F);this.Pl=new L(H);this.rp=new L(I);this.qb=new L(E);this.dw=!0;this.Ww=zl;this.$C=!1;this.Yw=Zi;this.cz=this.fz=this.aA=null;this.Cv="";this.Fr="auto";this.Si=this.uj=this.ij=this.qw=this.jj=this.kj=this.lj=this.Ri=this.Wi=this.Pi=null;this.Mz=!1;this.HD={};this.Aw=0;this.pj=[null,null];this.$y=null;this.cr=this.gz=this.Wz=this.PD=this.tj=!1;this.kD=!0;this.Cz=this.he=
!1;this.xe=null;var d=this;this.sD=function(a){if(a.ia===d.ia&&d.bb){d.bb=!1;try{var b=a.Lc;""===a.zf&&b===bg&&Al(d,a.object,a.propertyName)}finally{d.bb=!0}}};this.tD=function(a){Bl(d,a)};this.nE=!0;this.rh=-2;this.Ti=new oa(Object,E);this.ak=new oa(Object,I);this.Um=new oa(Object,Array);this.Ap=new oa("string",Array);this.Pz=new K(Cl);this.aj=!1;this.dl=this.cl=this.kv=this.of=!0;this.mv=this.lv=!1;this.rv=this.pv=this.ll=this.kl=this.jl=this.il=this.gl=this.hl=this.fl=this.ov=this.nl=this.el=this.ml=
!0;this.Sm=this.hD=!1;this.qv=this.nv=this.Uv=this.Tv=!0;this.Lw=this.Hw=16;this.Sz=this.Gw=!1;this.it=this.Kw=null;this.Tz=this.Uz=0;this.rf=(new Kb(5)).freeze();this.Ow=(new L(E)).freeze();this.lw=999999999;this.Vv=(new L(E)).freeze();this.zl=this.Qm=this.kk=!0;this.wl=this.jk=!1;this.ve=null;this.tv=!0;this.sh=!1;this.nH=new L(I);this.YC=new L(Dl);this.Rd=null;this.yD=1;this.SD=0;this.Eh={scale:1,position:new O,bounds:new z,isScroll:!1};this.mE=(new z(NaN,NaN,NaN,NaN)).freeze();this.Kv=(new z(NaN,
NaN,NaN,NaN)).freeze();this.ww=new L(El);Fl(this);this.hw=this.Rv=this.rw=this.CC=this.BC=this.DC=this.pk=this.ul=this.mj=null;Gl(this);this.Cd=null;this.Qv=!1;this.Mo=null;this.lb=new Kh;this.lb.initializeStandardTools();this.hb=this.au=this.lb;this.xb=new ta;this.ia=new Y;this.tj=!0;this.Wb=new ch;this.tj=!1;this.PC=this.kz=null;this.rd=1;this.zk=null;this.xl=new Hl;void 0!==a&&Il(this,a);var e=C.vfo.split(".");!0!==C.xx.licenseKey&&"1"===e[0]&&7>e[1]&&(C.trace("Warning: You have entered a license key for GoJS version 1.7 or later, but this library is version "+
C.vfo+". This license key will do nothing until you upgrade to GoJS 1.7 or later."),C.xx.licenseKey=!0);this.Dl=1;this.Wm=0;this.mD=new O;this.iE=500;this.uv=new O;this.rt=null;this.cd=this.Al=!1}C.ka("Diagram",D);
D.prototype.clear=D.prototype.clear=function(){var a=null;null!==this.Cd&&(a=this.Cd.ba);this.ia.clear();for(var b=this.cc.length,c=0;c<b;c++)this.cc.o[c].clear();this.Cg.clear();this.sl.clear();this.yp.clear();this.Pl.clear();this.rp.clear();this.qb.clear();this.Ti.clear();this.ak.clear();this.Um.clear();this.Ow.Za();this.Ow.clear();this.Ow.freeze();this.Vv.Za();this.Vv.clear();this.Vv.freeze();Ih=this.Mo=null;Jh="";this.Kv=(new z(NaN,NaN,NaN,NaN)).freeze();null!==a&&(this.add(a),this.qb.remove(a));
this.ra()};
D.prototype.reset=D.prototype.reset=function(){this.cd=!0;this.clear();this.cc=new K(ah);this.nG();this.mG();this.ub=(new O(NaN,NaN)).freeze();this.Rb=1;this.Xv=(new O(NaN,NaN)).freeze();this.Yv=NaN;this.nw=1E-4;this.kw=100;this.ax=(new O(NaN,NaN)).freeze();this.Pv=(new z(NaN,NaN,NaN,NaN)).freeze();this.Iw=(new Kb(0,0,0,0)).freeze();this.Jw=xl;this.Fw=this.Bw=null;this.Gm=Qh;this.Jo=Rc;this.yl=Qh;this.ep=Rc;this.Zv=this.Wv=hc;this.gC=250;this.vv=(new Kb(16,16,16,16)).freeze();this.dw=!0;this.Ww=zl;
this.Yw=Zi;this.Fr="auto";this.Si=this.uj=this.ij=this.qw=this.jj=this.kj=this.lj=this.Ri=this.Wi=this.Pi=null;this.aj=!1;this.dl=this.cl=this.kv=this.of=!0;this.mv=this.lv=!1;this.qv=this.nv=this.Uv=this.Tv=this.rv=this.pv=this.ll=this.kl=this.jl=this.il=this.gl=this.hl=this.fl=this.ov=this.nl=this.el=this.ml=!0;this.Lw=this.Hw=16;this.rf=(new Kb(5)).freeze();this.lw=999999999;this.ve=null;Gl(this);this.Cd=null;this.lb=new Kh;this.lb.initializeStandardTools();this.hb=this.au=this.lb;this.xb=new ta;
this.tj=!0;Fl(this);this.Wb=new ch;this.tj=!1;this.ia=new Y;this.sh=!1;this.Zo=!0;this.cd=this.Yf=!1;this.ra();this.vh=this.Oi=null;yl(this);this.Cv=""};
function Gl(a){a.mj=new oa("string",E);var b=new F,c=new pa;c.bind(new sh("text","",ka));b.add(c);a.DC=b;a.mj.add("",b);b=new F;c=new pa;c.stroke="brown";c.bind(new sh("text","",ka));b.add(c);a.mj.add("Comment",b);b=new F;b.Zk=!1;b.kA=!1;c=new w;c.Jb="Ellipse";c.fill="black";c.stroke=null;c.Da=(new Fa(3,3)).Na();b.add(c);a.mj.add("LinkLabel",b);a.ul=new oa("string",H);b=new H;b.vy="GROUPPANEL";b.type=Jl;c=new pa;c.font="bold 12pt sans-serif";c.bind(new sh("text","",ka));b.add(c);c=new J(Kl);c.name=
"GROUPPANEL";var d=new w;d.Jb="Rectangle";d.fill="rgba(128,128,128,0.2)";d.stroke="black";c.add(d);d=new Sj;d.padding=(new Kb(5,5,5,5)).Na();c.add(d);b.add(c);a.BC=b;a.ul.add("",b);a.pk=new oa("string",I);b=new I;c=new w;c.Hf=!0;b.add(c);c=new w;c.Xq="Standard";c.fill="black";c.stroke=null;c.ib=0;b.add(c);a.CC=b;a.pk.add("",b);b=new I;c=new w;c.Hf=!0;c.stroke="brown";b.add(c);a.pk.add("Comment",b);b=new ea;b.type=Kl;c=new w;c.fill=null;c.stroke="dodgerblue";c.ib=3;b.add(c);c=new Sj;c.margin=(new Kb(1.5,
1.5,1.5,1.5)).Na();b.add(c);a.rw=b;a.Rv=b;b=new ea;b.type=kj;c=new w;c.Hf=!0;c.fill=null;c.stroke="dodgerblue";c.ib=3;b.add(c);a.hw=b}
function vl(a){var b=C.createElement("p");b.style.width="100%";b.style.height="200px";b.style.boxSizing="content-box";var c=C.createElement("div");c.style.position="absolute";c.style.visibility="hidden";c.style.width="200px";c.style.height="150px";c.style.overflow="hidden";c.style.boxSizing="content-box";c.appendChild(b);window.document.body.appendChild(c);var d=b.offsetWidth;c.style.overflow="scroll";b=b.offsetWidth;d===b&&(b=c.clientWidth);window.document.body.removeChild(c);c=d-b;0!==c||C.IF||
(c=11);a.Sd=c;c=C.createElement("div");c.dir="rtl";c.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;";c.textContent="A";window.document.body.appendChild(c);d="reverse";0<c.scrollLeft?d="default":(c.scrollLeft=1,0===c.scrollLeft&&(d="negative"));window.document.body.removeChild(c);a.Qz=d}D.prototype.pc=function(a){a.Pe===D?this.Zl=a:C.Vj(this,a)};
D.prototype.toString=function(a){void 0===a&&(a=0);var b="";this.id&&(b=this.id);this.Cj&&this.Cj.id&&(b=this.Cj.id);b='Diagram "'+b+'"';if(0>=a)return b;for(var c=this.cc.j;c.next();)b+="\n  "+c.value.toString(a-1);return b};D.fromDiv=function(a){var b=a;"string"===typeof a&&(b=window.document.getElementById(a));return b instanceof HTMLDivElement&&b.da instanceof D?b.da:null};
C.defineProperty(D,{Cj:"div"},function(){return this.Tb},function(a){null!==a&&C.l(a,HTMLDivElement,D,"div");if(this.Tb!==a){wl=[];var b=this.Tb;null!==b?(b.da=void 0,b.innerHTML="",null!==this.Nb&&(this.Nb.removeEventListener("touchstart",this.WG,!1),this.Nb.removeEventListener("touchmove",this.VG,!1),this.Nb.removeEventListener("touchend",this.UG,!1)),b=this.lb,null!==b&&(b.mf.each(function(a){a.cancelWaitAfter()}),b.ig.each(function(a){a.cancelWaitAfter()}),b.jg.each(function(a){a.cancelWaitAfter()})),
b.cancelWaitAfter(),this.hb.doCancel(),this.pd=this.Nb=null,window.removeEventListener("resize",this.dH,!1),window.removeEventListener("mousemove",this.Bq,!0),window.removeEventListener("mousedown",this.Aq,!0),window.removeEventListener("mouseup",this.Dq,!0),window.removeEventListener("mousewheel",this.Qh,!0),window.removeEventListener("DOMMouseScroll",this.Qh,!0),window.removeEventListener("mouseout",this.Cq,!0)):this.sh=!1;this.Tb=null;if(null!==a){if(b=a.da)b.Cj=null;Il(this,a);this.Iq()}}});
function Ll(a){var b=a.Nb;b.addEventListener("touchstart",a.WG,!1);b.addEventListener("touchmove",a.VG,!1);b.addEventListener("touchend",a.UG,!1);b.addEventListener("mousemove",a.Bq,!1);b.addEventListener("mousedown",a.Aq,!1);b.addEventListener("mouseup",a.Dq,!1);b.addEventListener("mousewheel",a.Qh,!1);b.addEventListener("DOMMouseScroll",a.Qh,!1);b.addEventListener("mouseout",a.Cq,!1);b.addEventListener("keydown",a.mJ,!1);b.addEventListener("keyup",a.nJ,!1);b.addEventListener("selectstart",function(a){a.preventDefault();
return!1},!1);b.addEventListener("contextmenu",function(a){a.preventDefault();return!1},!1);b.addEventListener("gesturechange",function(b){a.lb.nq===Dk&&b.preventDefault()},!1);b.addEventListener("pointerdown",a.PJ,!1);b.addEventListener("pointermove",a.RJ,!1);b.addEventListener("pointerleave",a.QJ,!1);window.addEventListener("resize",a.dH,!1)}D.prototype.computePixelRatio=function(){return null!==this.zk?this.zk:this.rH};D.prototype.doMouseMove=function(){this.hb.doMouseMove()};
D.prototype.doMouseDown=function(){this.hb.doMouseDown()};D.prototype.doMouseUp=function(){this.hb.doMouseUp()};D.prototype.doMouseWheel=function(){this.hb.doMouseWheel()};D.prototype.doKeyDown=function(){this.hb.doKeyDown()};D.prototype.doKeyUp=function(){this.hb.doKeyUp()};D.prototype.doFocus=function(){this.focus()};D.prototype.focus=D.prototype.focus=function(){this.Nb&&this.Nb.focus()};
function al(a){if(null!==a.Nb){var b=a.Tb;if(0!==b.clientWidth&&0!==b.clientHeight){var c=a.wl?a.Sd:0,d=a.jk?a.Sd:0,e=a.rd;a.rd=a.computePixelRatio();a.rd!==e&&(a.cs=!0,a.Te());if(b.clientWidth!==a.Ob+c||b.clientHeight!==a.Sb+d)a.Qm=!0,a.Ne=!0,b=a.Wb,null!==b&&b.Vx&&a.Zl===Qh&&b.N(),a.he||a.Te()}}}
function Fl(a){var b=new ah;b.name="Background";a.Mt(b);b=new ah;b.name="";a.Mt(b);b=new ah;b.name="Foreground";a.Mt(b);b=new ah;b.name="Adornment";b.Xc=!0;a.Mt(b);b=new ah;b.name="Tool";b.Xc=!0;b.DF=!0;a.Mt(b);b=new ah;b.name="Grid";b.Cf=!1;b.pg=!1;b.Xc=!0;a.KH(b,a.hm("Background"))}
function Ml(a){a.Cd=new J(Nl);a.Cd.name="GRID";var b=new w;b.Jb="LineH";b.stroke="lightgray";b.ib=.5;b.interval=1;a.Cd.add(b);b=new w;b.Jb="LineH";b.stroke="gray";b.ib=.5;b.interval=5;a.Cd.add(b);b=new w;b.Jb="LineH";b.stroke="gray";b.ib=1;b.interval=10;a.Cd.add(b);b=new w;b.Jb="LineV";b.stroke="lightgray";b.ib=.5;b.interval=1;a.Cd.add(b);b=new w;b.Jb="LineV";b.stroke="gray";b.ib=.5;b.interval=5;a.Cd.add(b);b=new w;b.Jb="LineV";b.stroke="gray";b.ib=1;b.interval=10;a.Cd.add(b);b=new E;b.add(a.Cd);
b.Kf="Grid";b.xo=0;b.Qx=!1;b.CF=!1;b.pg=!1;b.ay="GRID";a.add(b);a.qb.remove(b);a.Cd.visible=!1}D.prototype.tH=function(){this.da.isEnabled?this.da.qI(this):Ol(this.da)};D.prototype.xD=function(a){this.da.isEnabled?(this.da.Sz=!0,this.da.Uz=a.target.scrollTop,this.da.Tz=a.target.scrollLeft):Ol(this.da)};
D.prototype.diagramScroll=D.prototype.qI=function(a){if(this.Sz&&null!==this.Nb){this.Gw=!0;var b=this.fd,c=this.yb,d=b.width,e=c.width,g=b.height,h=c.height,k=b.right,l=c.right,m=b.bottom,n=c.bottom,p=b.x,q=c.x,b=b.y,c=c.y,r=this.scale,s;s=a.scrollLeft;if(this.gs)switch(this.Qz){case "negative":s=s+a.scrollWidth-a.clientWidth;break;case "reverse":s=a.scrollWidth-s-a.clientWidth}var v=s;e<d||h<g?(s=C.Fb(this.position.x,this.position.y),this.Ae&&this.Tz!==v&&(s.x=v/r+p,this.Tz=v),this.Be&&this.Uz!==
a.scrollTop&&(s.y=a.scrollTop/r+b,this.Uz=a.scrollTop),this.position=s,C.A(s),this.Qm=this.Gw=!1):(s=C.P(),a.wH&&this.Ae&&(p<q&&(this.position=s.m(v+p,this.position.y)),k>l&&(this.position=s.m(-(this.Kw.scrollWidth-this.Ob)+v-this.Ob/r+k,this.position.y))),a.xH&&this.Be&&(b<c&&(this.position=s.m(this.position.x,a.scrollTop+b)),m>n&&(this.position=s.m(this.position.x,-(this.Kw.scrollHeight-this.Sb)+a.scrollTop-this.Sb/r+m))),C.A(s),Pl(this),this.Qm=this.Gw=!1,b=this.fd,c=this.yb,k=b.right,l=c.right,
m=b.bottom,n=c.bottom,p=b.x,q=c.x,b=b.y,c=c.y,e>=d&&p>=q&&k<=l&&(this.it.style.width="1px"),h>=g&&b>=c&&m<=n&&(this.it.style.height="1px"))}};D.prototype.computeBounds=D.prototype.Jh=function(){0<this.Cg.count&&Li(this);return Ql(this)};
function Ql(a){if(a.jF.F()){var b=a.jF.copy();b.bx(a.padding);return b}for(var c=!0,d=a.cc.o,e=d.length,g=0;g<e;g++){var h=d[g];if(h.visible&&(!h.Xc||h.DF))for(var h=h.qb.o,k=h.length,l=0;l<k;l++){var m=h[l];m.Qx&&m.isVisible()&&(m=m.Z,m.F()&&(c?(c=!1,b=m.copy()):b.Wh(m)))}}c&&(b=new z(0,0,0,0));b.bx(a.padding);return b}
D.prototype.computePartsBounds=function(a,b){void 0===b&&(b=!1);for(var c=null,d=a.j;d.next();){var e=d.value;!b&&e instanceof I||(e.jf(),null===c?c=e.Z.copy():c.Wh(e.Z))}return null===c?new z(NaN,NaN,0,0):c};
function Rl(a,b){if((b||a.sh)&&!a.cd&&null!==a.Nb&&!a.Ya.vf&&a.fd.F()){a.cd=!0;var c=a.Gm;b&&a.yl!==Qh&&(c=a.yl);var d=c!==Qh?Sl(a,c):a.scale,c=a.yb.copy(),e=a.Ob/d,g=a.Sb/d,h=null,k=a.Ya;k.yc&&(h=a.ub.copy());a.position.Za();var l=a.Jo;b&&!l.jd()&&a.ep.jd()&&(l=a.ep);Tl(a,a.ub,a.fd,e,g,l,b);a.position.freeze();null!==h&&ml(k,h,a.ub);e=a.scale;a.scale=d;a.cd=!1;d=a.yb;d.Wc(c)||a.Mu(c,d,e,a.scale,!1)}}
function Sl(a,b){var c=a.xb.vx;if(null===a.Nb)return c;a.kk&&Ul(a,a.Jh());var d=a.fd;if(!d.F())return c;var e=d.width,d=d.height,g=a.Ob,h=a.Sb,k=g/e,l=h/d;return b===Vl?(e=Math.min(l,k),e>c&&(e=c),e<a.Ph&&(e=a.Ph),e>a.Oh&&(e=a.Oh),e):b===Wl?(e=l>k?(h-a.Sd)/d:(g-a.Sd)/e,e>c&&(e=c),e<a.Ph&&(e=a.Ph),e>a.Oh&&(e=a.Oh),e):a.scale}D.prototype.zoomToFit=D.prototype.zoomToFit=function(){this.scale=Sl(this,Vl)};
D.prototype.zoomToRect=function(a,b){void 0===b&&(b=Vl);var c=a.width,d=a.height;if(!(0===c||0===d||isNaN(c)&&isNaN(d))){var e=1;if(b===Vl||b===Wl)if(isNaN(c))e=this.yb.height*this.scale/d;else if(isNaN(d))e=this.yb.width*this.scale/c;else var e=this.Ob,g=this.Sb,e=b===Wl?g/d>e/c?(g-(this.jk?this.Sd:0))/d:(e-(this.wl?this.Sd:0))/c:Math.min(g/d,e/c);this.scale=e;this.position=new O(a.x,a.y)}};C.defineProperty(D,{RA:null},function(){return this.cd},function(a){this.cd=a});
D.prototype.alignDocument=function(a,b){this.kk&&Ul(this,this.Jh());var c=this.fd,d=this.yb;this.position=new O(c.x+(a.x*c.width+a.offsetX)-(b.x*d.width-b.offsetX),c.y+(a.y*c.height+a.offsetY)-(b.y*d.height-b.offsetY))};
function Tl(a,b,c,d,e,g,h){var k=b.x,l=b.y;if(h||a.uB===xl)g.jd()&&(d>c.width&&(k=c.x+(g.x*c.width+g.offsetX)-(g.x*d-g.offsetX)),e>c.height&&(l=c.y+(g.y*c.height+g.offsetY)-(g.y*e-g.offsetY))),g=a.xG,h=d-c.width,d<c.width+g.left+g.right?(k=Math.min(k+d/2,c.right+Math.max(h,g.right)-d/2),k=Math.max(k,c.left-Math.max(h,g.left)+d/2),k-=d/2):k>c.left?k=c.left:k<c.right-d&&(k=c.right-d),d=e-c.height,e<c.height+g.top+g.bottom?(l=Math.min(l+e/2,c.bottom+Math.max(d,g.bottom)-e/2),l=Math.max(l,c.top-Math.max(d,
g.top)+e/2),l-=e/2):l>c.top?l=c.top:l<c.bottom-e&&(l=c.bottom-e);b.x=isFinite(k)?k:-a.padding.left;b.y=isFinite(l)?l:-a.padding.top;null!==a.fG&&(a=a.fG(a,b),b.x=a.x,b.y=a.y)}D.prototype.findPartAt=D.prototype.fu=function(a,b){var c=b?Pi(this,a,function(a){return a.ba},function(a){return a.canSelect()}):Pi(this,a,function(a){return a.ba});return c instanceof E?c:null};
D.prototype.findObjectAt=D.prototype.He=function(a,b,c){void 0===b&&(b=null);void 0===c&&(c=null);Li(this);for(var d=this.cc.$n;d.next();){var e=d.value;if(e.visible&&(e=e.He(a,b,c),null!==e))return e}return null};function Pi(a,b,c,d){void 0===c&&(c=null);void 0===d&&(d=null);Li(a);for(a=a.cc.$n;a.next();){var e=a.value;if(e.visible&&!e.Xc&&(e=e.He(b,c,d),null!==e))return e}return null}
D.prototype.findObjectsAt=D.prototype.kq=function(a,b,c,d){void 0===b&&(b=null);void 0===c&&(c=null);d instanceof K||d instanceof L||(d=new L(Q));Li(this);for(var e=this.cc.$n;e.next();){var g=e.value;g.visible&&g.kq(a,b,c,d)}return d};D.prototype.findObjectsIn=D.prototype.Pk=function(a,b,c,d,e){void 0===b&&(b=null);void 0===c&&(c=null);void 0===d&&(d=!1);e instanceof K||e instanceof L||(e=new L(Q));Li(this);for(var g=this.cc.$n;g.next();){var h=g.value;h.visible&&h.Pk(a,b,c,d,e)}return e};
D.prototype.CA=function(a,b,c,d,e,g){var h=new L(Q);Li(this);for(var k=this.cc.$n;k.next();){var l=k.value;l.visible&&l.CA(a,b,c,d,h,e,g)}return h};D.prototype.findObjectsNear=D.prototype.On=function(a,b,c,d,e,g){void 0===c&&(c=null);void 0===d&&(d=null);void 0===e&&(e=!0);if(!1!==e&&!0!==e){if(e instanceof K||e instanceof L)g=e;e=!0}g instanceof K||g instanceof L||(g=new L(Q));Li(this);for(var h=this.cc.$n;h.next();){var k=h.value;k.visible&&k.On(a,b,c,d,e,g)}return g};
D.prototype.acceptEvent=function(a){var b=this.ed;this.ed=this.Ub;this.Ub=b;Xl(this,this,a,b,a instanceof MouseEvent);return b};
function Xl(a,b,c,d,e){d.g=b;d.event=c;e?Yl(a,c,d):(d.se=b.Ub.se,d.ha=b.Ub.ha);a=0;c.ctrlKey&&(a+=1);c.altKey&&(a+=2);c.shiftKey&&(a+=4);c.metaKey&&(a+=8);d.Kd=a;d.button=c.button;c.buttons&&(d.buttons=c.buttons);C.Uk&&0===c.button&&c.ctrlKey&&(d.button=2);d.gm=!1;d.up=!1;d.Qe=1;d.fm=0;d.Oc=!1;d.bubbles=!1;d.timestamp=Date.now();d.wu=!1;d.eh=c.target.da?c.target.da:null;d.We=null}
function Zl(a,b,c,d,e){d.g=a;Yl(a,c,d);d.Kd=0;d.button=0;d.buttons=1;d.gm=!0;d.up=!1;d.Qe=1;d.fm=0;d.Oc=!1;d.bubbles=!0;d.event=b;d.timestamp=Date.now();d.wu=e;d.eh=b.target.da?b.target.da:null;d.We=null;a.Zi=d.copy();Yh=null}
function $l(a,b,c,d,e){var g=null;d.g=a;null!==c?((g=window.document.elementFromPoint(c.clientX,c.clientY))&&g.da?g=g.da:(c=b.changedTouches[0],g=a),d.eh=g,Yl(a,c,d)):null!==a.ed?(d.ha=a.ed.ha,d.se=a.ed.se,d.eh=a.ed.eh):null!==a.Zi&&(d.ha=a.Zi.ha,d.se=a.Zi.se,d.eh=a.Zi.eh);d.Kd=0;d.button=0;d.buttons=1;d.gm=!1;d.up=!1;d.Qe=1;d.fm=0;d.Oc=!1;d.bubbles=!1;d.event=b;d.timestamp=Date.now();d.wu=e;d.We=null}
function ia(a,b,c){if(b.bubbles)return u&&u.xF&&C.trace("NOT handled "+c.type+" "+b.toString()),!0;u&&u.xF&&C.trace("handled "+c.type+" "+a.hb.name+" "+b.toString());void 0!==c.stopPropagation&&c.stopPropagation();(void 0===c.touches||2>c.touches.length)&&c.preventDefault();c.cancelBubble=!0;return!1}
D.prototype.mJ=function(a){if(!this.da.isEnabled)return!1;var b=this.da.Ub;Xl(this.da,this.da,a,b,!1);b.key=String.fromCharCode(a.which);b.gm=!0;switch(a.which){case 8:b.key="Backspace";break;case 33:b.key="PageUp";break;case 34:b.key="PageDown";break;case 35:b.key="End";break;case 36:b.key="Home";break;case 37:b.key="Left";break;case 38:b.key="Up";break;case 39:b.key="Right";break;case 40:b.key="Down";break;case 45:b.key="Insert";break;case 46:b.key="Del";break;case 48:b.key="0";break;case 187:case 61:case 107:b.key=
"Add";break;case 189:case 173:case 109:b.key="Subtract";break;case 27:b.key="Esc"}this.da.doKeyDown();return 187!==a.which&&189!==a.which&&48!==a.which&&107!==a.which&&109!==a.which&&61!==a.which&&173!==a.which||!0!==a.ctrlKey?ia(this.da,b,a):(a.cancelBubble=!0,a.preventDefault(),a.stopPropagation(),!1)};
D.prototype.nJ=function(a){if(!this.da.isEnabled)return!1;var b=this.da.Ub;Xl(this.da,this.da,a,b,!1);b.key=String.fromCharCode(a.which);b.up=!0;switch(a.which){case 8:b.key="Backspace";break;case 33:b.key="PageUp";break;case 34:b.key="PageDown";break;case 35:b.key="End";break;case 36:b.key="Home";break;case 37:b.key="Left";break;case 38:b.key="Up";break;case 39:b.key="Right";break;case 40:b.key="Down";break;case 45:b.key="Insert";break;case 46:b.key="Del";break;case 93:a.preventDefault()}this.da.doKeyUp();
return ia(this.da,b,a)};D.prototype.ap=function(a){var b=this.Nb;if(null===b)return new O(0,0);var c=this.Ob,d=this.Sb,b=b.getBoundingClientRect(),c=a.clientX-c/b.width*b.left;a=a.clientY-d/b.height*b.top;return null!==this.Kc?(a=new O(c,a),ub(a,this.Kc),a):new O(c,a)};
function Yl(a,b,c){var d=a.Nb,e=a.Ob,g=a.Sb,h=0,k=0;null!==d&&(d=d.getBoundingClientRect(),h=b.clientX-e/d.width*d.left,k=b.clientY-g/d.height*d.top);c.se.m(h,k);null!==a.Kc?(b=C.Fb(h,k),a.Kc.Ci(b),c.ha.assign(b),C.A(b)):c.ha.m(h,k)}
function Zf(a,b,c,d){var e=null;if(void 0!==b.targetTouches){if(2>b.targetTouches.length)return;e=b.targetTouches[c]}else if(null!==a.pj[0])e=a.pj[c];else return;c=a.Nb;b=a.Ob;a=a.Sb;var g=0,h=0;null!==c&&null!==e&&(c=c.getBoundingClientRect(),g=e.clientX-b/c.width*c.left,h=e.clientY-a/c.height*c.top);d.m(g,h)}D.prototype.invalidateDocumentBounds=D.prototype.Bc=function(){this.kk||(this.kk=!0,this.Te(!0))};function jl(a){a.he||Li(a);a.kk&&Ul(a,a.Jh())}
D.prototype.redraw=D.prototype.Iq=function(){this.cd||this.he||(this.ra(),am(this),Pl(this),this.Bc(),this.gg())};D.prototype.isUpdateRequested=function(){return this.Yf};D.prototype.delayInitialization=function(a){void 0===a&&(a=null);var b=this.Ya,c=b.isEnabled;b.Ii();b.isEnabled=!1;Vi(this);this.sh=!1;b.isEnabled=c;null!==a&&C.setTimeout(a,1)};
D.prototype.requestUpdate=D.prototype.Te=function(a){void 0===a&&(a=!1);if(!0!==this.Yf&&!(this.cd||!1===a&&this.he)){this.Yf=!0;var b=this;requestAnimationFrame(function(){b.Yf&&b.gg()})}};D.prototype.maybeUpdate=D.prototype.gg=function(){if(!this.Zo||this.Yf)this.Zo&&(this.Zo=!1),Vi(this)};function bm(a,b){a.Ya.vf||a.cd||!a.Qm||Ol(a)||(b&&Li(a),Rl(a,!1))}
function Vi(a){if(!a.he&&(a.Yf=!1,null!==a.Tb)){a.he=!0;var b=a.Ya,c=a.Pz;if(!b.kp&&0!==c.length){for(var d=c.o,e=d.length,g=0;g<e;g++){var h=d[g];cm(h,!1);h.K()}c.clear()}c=a.YC;0<c.count&&(c.each(function(a){a.QB()}),c.clear());d=c=!1;b.vf&&(d=!0,c=a.Eb,a.Eb=!0);b.yc||al(a);bm(a,!1);null!==a.Cd&&(a.Cd.visible&&!a.Qv&&(dm(a),a.Qv=!0),!a.Cd.visible&&a.Qv&&(a.Qv=!1));Li(a);e=!1;if(!a.sh||a.tv)a.sh?em(a,!a.Jv):(a.ac("Initial Layout"),!1===b.isEnabled&&b.Ii(),em(a,!1)),e=!0;a.Jv=!1;Li(a);a.Wz||b.vf||
jl(a);bm(a,!0);e&&(a.sh||gm(a),a.Ka("LayoutCompleted"));Li(a);e&&!a.sh&&(a.sh=!0,a.Ud("Initial Layout"),a.Eb||a.sa.clear(),C.setTimeout(function(){a.Fi=!1},1));Am(a);$k(b);a.Fe(a.pd);d&&(a.Eb=c);a.he=!1}}C.w(D,{Zn:null},function(){return this.sh});
function gm(a){var b=a.cc.o;a.Lf(b,b.length,a);a.yl!==Qh?a.scale=Sl(a,a.yl):a.Gm!==Qh?a.scale=Sl(a,a.Gm):(b=a.$I,isFinite(b)&&0<b&&(a.scale=b));b=a.ZI;if(b.F())a.position=b;else{b=C.P();b.oo(a.fd,a.YI);var c=a.yb,c=C.fh(0,0,c.width,c.height),d=C.P();d.oo(c,a.aJ);d.m(b.x-d.x,b.y-d.y);a.position=d;C.Lb(c);C.A(d);C.A(b);am(a);bm(a,!0);Rl(a,!0)}a.Ka("InitialLayoutCompleted");dm(a)}
function Li(a){if((a.he||!a.Ya.vf)&&0!==a.Cg.count){for(var b=0;23>b;b++){var c=a.Cg.j;if(null===c||0===a.Cg.count)break;a.Cg=new L(Q);a.QB(c,a.Cg);u&&22===b&&C.trace("failure to validate parts")}a.ng.each(function(a){a instanceof H&&0!==(a.Ha&65536)!==!1&&(a.Ha^=65536)})}}
D.prototype.QB=function(a,b){for(a.reset();a.next();){var c=a.value;!c.qe()||c instanceof H||(c.sm()?(Bk(c,Infinity,Infinity),c.qc()):b.add(c))}for(a.reset();a.next();)c=a.value,c instanceof H&&c.isVisible()&&Bm(this,c);for(a.reset();a.next();)c=a.value,c instanceof I&&c.isVisible()&&(c.sm()?(Bk(c,Infinity,Infinity),c.qc()):b.add(c));for(a.reset();a.next();)c=a.value,c instanceof ea&&c.isVisible()&&(c.sm()?(Bk(c,Infinity,Infinity),c.qc()):b.add(c))};
function Bm(a,b){for(var c=C.tb(),d=C.tb(),e=b.Pc;e.next();){var g=e.value;g.isVisible()&&(g instanceof H?(Cm(g)||Dm(g)||Em(g))&&Bm(a,g):g instanceof I?g.aa===b||g.ea===b?d.push(g):c.push(g):(Bk(g,Infinity,Infinity),g.qc()))}for(var e=c.length,h=0;h<e;h++)g=c[h],Bk(g,Infinity,Infinity),g.qc();C.Ba(c);Bk(b,Infinity,Infinity);b.qc();e=d.length;for(h=0;h<e;h++)g=d[h],Bk(g,Infinity,Infinity),g.qc();C.Ba(d)}D.prototype.Lf=function(a,b,c,d){var e=this.Ya;if(this.zl||e.vf)for(e=0;e<b;e++)a[e].Lf(c,d)};
D.prototype.Fe=function(a,b){void 0===b&&(b=null);null===this.Tb&&C.k("No div specified");var c=this.Nb;null===c&&C.k("No canvas specified");var d=this.Ya;if(!d.yc&&(Fm(this),"0"!==this.Tb.style.opacity)){var e=a!==this.pd,g=this.cc.o,h=g.length,k=this;this.Lf(g,h,k);if(e)da(a,!0),Pl(this);else if(!this.Ne&&null===b&&!d.lk)return;var h=this.ub,l=this.Rb,m=Math.round(h.x*l)/l,n=Math.round(h.y*l)/l,d=this.Kc;d.reset();1!==l&&d.scale(l);0===h.x&&0===h.y||d.translate(-m,-n);l=this.rd;C.Xn?(c.width=c.width,
da(a,!0),a.scale(l,l)):(a.setTransform(1,0,0,1,0,0),a.scale(l,l),a.clearRect(0,0,this.Ob,this.Sb));a.setTransform(1,0,0,1,0,0);a.scale(l,l);a.transform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy);u&&u.zj&&u.YE(this,a);c=null!==b?function(c){var d=b;if(c.visible&&0!==c.Ic){var e=c.qb.o,g=e.length;if(0!==g){1!==c.Ic&&(a.globalAlpha=c.Ic);c=c.vw;c.length=0;for(var h=k.scale,l=0;l<g;l++){var m=e[l];if(ol(m)&&!d.contains(m)){if(m instanceof I){var n=m;n.tc&&c.push(n);if(!1===n.kh)continue}n=m.Z;1<n.width*h||1<
n.height*h?m.Fe(a,k):ql(m,a)}}a.globalAlpha=1}}}:function(b){b.Fe(a,k)};Gm(this,a);h=g.length;for(m=0;m<h;m++)a.setTransform(1,0,0,1,0,0),a.scale(l,l),a.transform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy),c(g[m]);this.xl?this.xl.Cm(this)&&this.lz():this.ap=function(){return new O(0,0)};u&&(u.yA||u.zj)&&u.xA(a,this,d);e?(da(this.pd,!0),Pl(this)):this.Ne=this.zl=!1}};
function Hm(a,b,c,d,e){null===a.Tb&&C.k("No div specified");var g=a.Nb;null===g&&C.k("No canvas specified");if(!a.Ya.yc){var h=a.pd;if(a.Ne){Fm(a);var k=a.rd;C.Xn?(g.width=g.width,da(h,!0)):(h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,a.Ob*k,a.Sb*k));h.ou=!1;h.drawImage(a.kz.me,0<d?0:Math.round(-d),0<e?0:Math.round(-e));e=a.ub;var g=a.Rb,l=Math.round(e.x*g)/g,m=Math.round(e.y*g)/g;d=a.Kc;d.reset();1!==g&&d.scale(g);0===e.x&&0===e.y||d.translate(-l,-m);h.save();h.beginPath();e=c.length;for(g=0;g<e;g++)l=
c[g],0!==l.width&&0!==l.height&&h.rect(Math.floor(l.x),Math.floor(l.y),Math.ceil(l.width),Math.ceil(l.height));h.clip();h.setTransform(1,0,0,1,0,0);h.scale(k,k);h.transform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy);u&&u.zj&&u.YE(a,h);c=a.cc.o;e=c.length;a.Lf(c,e,a);Gm(a,h);for(g=0;g<e;g++)rl(c[g],h,a,b);h.restore();da(h,!0);u&&(u.yA||u.zj)&&u.xA(h,a,d);a.xl?a.xl.Cm(a)&&a.lz():a.ap=function(){return new O(0,0)};a.zl=!1;a.Ne=!1;a.qB()}}}
function Im(a,b,c,d,e,g,h,k,l,m){null===a.Tb&&C.k("No div specified");null===a.Nb&&C.k("No canvas specified");void 0===h&&(h=null);void 0===k&&(k=null);void 0===l&&(l=!1);void 0===m&&(m=!1);Fm(a);da(a.pd,!0);Pl(a);a.Cz=!0;var n=new z(g.x,g.y,d.width/e,d.height/e),p=n.copy();p.bx(c);dm(a,p);Li(a);var p=a.cc.o,q=p.length;a.Lf(p,q,a,n);n=a.rd;b.setTransform(1,0,0,1,0,0);b.scale(n,n);b.clearRect(0,0,d.width,d.height);null!==k&&""!==k&&(b.fillStyle=k,b.fillRect(0,0,d.width,d.height));d=C.Of();d.reset();
d.translate(c.left,c.top);d.scale(e);0===g.x&&0===g.y||d.translate(-g.x,-g.y);b.setTransform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy);C.Ie(d);Gm(a,b);if(null!==h){var r=new L(Q);c=h.j;for(c.reset();c.next();)e=c.value,!1===m&&"Grid"===e.layer.name||null===e||r.add(e);m=function(c){var d=l;if(c.visible&&0!==c.Ic&&(void 0===d&&(d=!0),d||!c.Xc)){var d=c.qb.o,e=d.length;if(0!==e){1!==c.Ic&&(b.globalAlpha=c.Ic);c=c.vw;c.length=0;for(var g=a.scale,h=0;h<e;h++){var k=d[h];if(ol(k)&&r.contains(k)){if(k instanceof
I){var m=k;m.tc&&c.push(m);if(!1===m.kh)continue}m=k.Z;1<m.width*g||1<m.height*g?k.Fe(b,a):ql(k,b)}}b.globalAlpha=1}}}}else if(!l&&m){var s=a.Vn.ba,v=s.layer;m=function(c){c===v?s.Fe(b,a):c.Fe(b,a,l)}}else m=function(c){c.Fe(b,a,l)};for(c=0;c<q;c++)m(p[c]);a.Cz=!1;a.xl?a.xl.Cm(a)&&a.lz():a.ap=function(){return new O(0,0)};da(a.pd,!0);Pl(a);a.Lf(p,q,a);dm(a)}D.prototype.getRenderingHint=D.prototype.Fj=function(a){return this.wk[a]};
D.prototype.setRenderingHint=D.prototype.kK=function(a,b){this.wk[a]=b;this.Iq()};D.prototype.resetRenderingHints=D.prototype.nG=function(){this.wk=new na;this.wk.drawShadows=!0;this.wk.textGreeking=!0;this.wk.viewportOptimizations=C.IF?!1:!0;this.wk.temporaryPixelRatio=!0;this.wk.pictureRatioOptimization=!0};function Gm(a,b){var c=a.wk;if(null!==c){if(void 0!==c.imageSmoothingEnabled){var d=!!c.imageSmoothingEnabled;b.ou=d;b.aM=d}c=c.defaultFont;void 0!==c&&null!==c&&(b.font=c)}}
D.prototype.getInputOption=D.prototype.mu=function(a){return this.hp[a]};D.prototype.setInputOption=function(a,b){this.hp[a]=b};D.prototype.resetInputOptions=D.prototype.mG=function(){this.hp=new na;this.hp.extraTouchArea=10;this.hp.extraTouchThreshold=10;this.hp.hasGestureZoom=!0};D.prototype.setProperties=function(a){C.Wu(this,a)};function Am(a){if(0===a.sa.Vh&&0!==a.sl.count){for(;0<a.sl.count;){var b=a.sl;a.sl=new oa(I,z);for(b=b.j;b.next();){var c=b.key;oj(c,b.value);c.Se()}}a.ra()}}
D.prototype.ra=function(a){void 0===a&&(a=null);if(null===a)this.Ne=!0,this.Te();else{var b=this.yb;null!==a&&a.F()&&b.Wg(a)&&(this.Ne=!0,this.Te())}for(b=this.ww.j;b.next();)b.value.ra(a)};
D.prototype.BF=function(a,b){if(!0!==this.Ne){this.Ne=!0;var c=!0===this.Fj("temporaryPixelRatio");if(!0===this.Fj("viewportOptimizations")&&this.uB!==Jm&&this.xG.Ax(0,0,0,0)&&b.width===a.width&&b.height===a.height){var d=this.scale,e=C.Nf(),g=Math.max(a.x,b.x),h=Math.max(a.y,b.y),k=Math.min(a.x+a.width,b.x+b.width),l=Math.min(a.y+a.height,b.y+b.height);e.x=g;e.y=h;e.width=Math.max(0,k-g)*d;e.height=Math.max(0,l-h)*d;if(0<e.width&&0<e.height){if(!this.he&&(this.Yf=!1,null!==this.Tb)){this.he=!0;Am(this);
this.fd.F()||Ul(this,this.Jh());var m=this.Nb;if(null!==m){var n=this.rd,h=this.Ob*n,k=this.Sb*n,g=this.scale*n,d=Math.round(Math.round(b.x*g)-Math.round(a.x*g)),g=Math.round(Math.round(b.y*g)-Math.round(a.y*g)),l=this.kz,p=this.PC;l.width!==h&&(l.width=h);l.height!==k&&(l.height=k);p.clearRect(0,0,h,k);var l=190*this.rd,q=70*this.rd,r=Math.max(d,0),s=Math.max(g,0),v=Math.floor(h-r),t=Math.floor(k-s);p.ou=!1;p.drawImage(m.me,r,s,v,t,0,0,v,t);this.xl.Cm(this)&&p.clearRect(0,0,l,q);var m=C.tb(),p=C.tb(),
t=Math.abs(d),v=Math.abs(g),x=0===r?0:h-t,r=C.Fb(x,0),t=C.Fb(t+x,k);p.push(new z(Math.min(r.x,t.x),Math.min(r.y,t.y),Math.abs(r.x-t.x),Math.abs(r.y-t.y)));var y=this.Kc;y.reset();y.scale(n,n);1!==this.Rb&&y.scale(this.Rb);n=this.ub;(0!==n.x||0!==n.y)&&isFinite(n.x)&&isFinite(n.y)&&y.translate(-n.x,-n.y);ub(r,y);ub(t,y);m.push(new z(Math.min(r.x,t.x),Math.min(r.y,t.y),Math.abs(r.x-t.x),Math.abs(r.y-t.y)));x=0===s?0:k-v;r.m(0,x);t.m(h,v+x);p.push(new z(Math.min(r.x,t.x),Math.min(r.y,t.y),Math.abs(r.x-
t.x),Math.abs(r.y-t.y)));ub(r,y);ub(t,y);m.push(new z(Math.min(r.x,t.x),Math.min(r.y,t.y),Math.abs(r.x-t.x),Math.abs(r.y-t.y)));this.xl.Cm(this)&&(h=0<d?0:-d,k=0<g?0:-g,r.m(h,k),t.m(l+h,q+k),p.push(new z(Math.min(r.x,t.x),Math.min(r.y,t.y),Math.abs(r.x-t.x),Math.abs(r.y-t.y))),ub(r,y),ub(t,y),m.push(new z(Math.min(r.x,t.x),Math.min(r.y,t.y),Math.abs(r.x-t.x),Math.abs(r.y-t.y))));C.A(r);C.A(t);bm(this,!1);Hm(this,m,p,d,g);C.Ba(m);C.Ba(p);this.he=!1}}}else this.gg();C.Lb(e);c&&(this.zk=1,this.gg(),
this.zk=null,this.qB())}else c?(this.zk=1,this.gg(),this.zk=null,this.qB()):this.gg()}};function am(a){!1===a.Qm&&(a.Qm=!0)}function Pl(a){!1===a.zl&&(a.zl=!0)}function Fm(a){!1!==a.cs&&(a.cs=!1,Km(a,a.Ob,a.Sb))}function Km(a,b,c){var d=a.Nb,e=a.rd,g=b*e,e=c*e;if(d.width!==g||d.height!==e)d.width=g,d.height=e,d.style.width=b+"px",d.style.height=c+"px",a.Ne=!0,da(a.pd,!0)}
function Ol(a){var b=a.Nb;if(null===b)return!0;var c=a.Tb,d=a.Ob,e=a.Sb,g=a.mE.copy();if(!g.F())return!0;var h=!1,k=a.wl?a.Sd:0,l=a.jk?a.Sd:0,m=c.clientWidth||d+k,n=c.clientHeight||e+l;if(m!==d+k||n!==e+l)a.wl=!1,a.jk=!1,l=k=0,a.Ob=m,a.Sb=n,h=a.cs=!0;a.Qm=!1;var p=a.yb,c=a.fd,m=c.width,n=c.height,q=p.width,r=p.height,s=c.x,v=p.x,t=c.right,x=p.right+k,y=c.y,B=p.y,A=c.bottom,p=p.bottom+l,N="1px",G="1px",c=a.scale;a.uB===xl&&m<q+k&&n<r+l||(a.NA&&a.Ae&&(N=1,s+1<v&&(N=Math.max((v-s)*c+a.Ob,N)),t>x+1&&
(N=Math.max((t-x)*c+a.Ob,N)),q+k+1<m&&(N=Math.max((m-q+k)*c+a.Ob,N)),N+="px"),a.OA&&a.Be&&(G=1,y+1<B&&(G=Math.max((B-y)*c+a.Sb,G)),A>p+1&&(G=Math.max((A-p)*c+a.Sb,G)),r+l+1<n&&(G=Math.max((n-r+l)*c+a.Sb,G)),G+="px"));k="1px"!==N;l="1px"!==G;k&&l||!k&&!l||(l&&(x-=a.Sd),k&&(p-=a.Sd),a.NA&&a.Ae&&(N=1,s+1<v&&(N=Math.max((v-s)*c+a.Ob,N)),t>x+1&&(N=Math.max((t-x)*c+a.Ob,N)),q+1<m&&(N=Math.max((m-q)*c+a.Ob,N)),N+="px"),k="1px"!==N,l=k!==a.jk?a.Sb-a.Sd:a.Sb,a.OA&&a.Be&&(G=1,y+1<B&&(G=Math.max((B-y)*c+l,G)),
A>p+1&&(G=Math.max((A-p)*c+l,G)),r+1<n&&(G=Math.max((n-r)*c+l,G)),G+="px"),l="1px"!==G);if(a.Gw&&k===a.jk&&l===a.wl)return d===a.Ob&&e===a.Sb||a.gg(),!1;k!==a.jk&&(a.Sb="1px"===N?a.Sb+a.Sd:Math.max(a.Sb-a.Sd,1),h=!0);a.jk=k;a.it.style.width=N;l!==a.wl&&(a.Ob="1px"===G?a.Ob+a.Sd:Math.max(a.Ob-a.Sd,1),h=!0,a.gs&&(k=C.P(),l?(b.style.left=a.Sd+"px",a.position=k.m(a.ub.x+a.Sd/a.scale,a.ub.y)):(b.style.left="0px",a.position=k.m(a.ub.x-a.Sd/a.scale,a.ub.y)),C.A(k)));a.wl=l;a.it.style.height=G;b=a.Kw;k=b.scrollLeft;
a.NA&&a.Ae&&(q+1<m?k=(a.position.x-s)*c:s+1<v?k=b.scrollWidth-b.clientWidth:t>x+1&&(k=a.position.x*c));if(a.gs)switch(a.Qz){case "negative":k=-(b.scrollWidth-k-b.clientWidth);break;case "reverse":k=b.scrollWidth-k-b.clientWidth}b.scrollLeft=k;a.OA&&a.Be&&(r+1<n?b.scrollTop=(a.position.y-y)*c:y+1<B?b.scrollTop=b.scrollHeight-b.clientHeight:A>p+1&&(b.scrollTop=a.position.y*c));h&&(a.cs=!0);m=a.Ob;n=a.Sb;b.style.width=m+(a.wl?a.Sd:0)+"px";b.style.height=n+(a.jk?a.Sd:0)+"px";a.Sz=!1;return d!==m||e!==
n||a.Ya.yc?(p=a.yb,a.Mu(g,p,c,a.scale,h),!1):!0}
D.prototype.add=D.prototype.add=function(a){C.l(a,E,D,"add:part");var b=a.g;if(b!==this){null!==b&&C.k("Cannot add part "+a.toString()+" to "+this.toString()+". It is already a part of "+b.toString());this.cr&&(a.El="Tool");var c=a.Kf,b=this.hm(c);null===b&&(b=this.hm(""));null===b&&C.k('Cannot add a Part when unable find a Layer named "'+c+'" and there is no default Layer');a.layer!==b&&(c=b.qq(99999999,a,a.g===this),0<=c&&this.ld(sg,"parts",b,null,a,null,c),b.Xc||this.Bc(),a.N(Lm),c=a.Yx,null!==
c&&c(a,null,b))}};
D.prototype.qq=function(a){if(a instanceof F){if(this.yp.add(a),a instanceof H){var b=a.Qa;null===b?this.Pl.add(a):b.cn.add(a);b=a.Wb;null!==b&&(b.g=this)}}else a instanceof I?this.rp.add(a):a instanceof ea||this.qb.add(a);var c=this;Mm(a,function(a){Nm(c,a)});a.Qb&&a.K();b=a.data;null!==b&&(a instanceof ea||(a instanceof I?this.ak.add(b,a):this.Ti.add(b,a)),Mm(a,function(a){Om(c,a)}));!0!==Dm(a)&&!0!==Em(a)||this.Cg.add(a);Pm(a,!0,this);Qm(a)?(a.Z.F()&&this.ra(sl(a,a.Z)),this.Bc()):a.isVisible()&&
a.Z.F()&&this.ra(sl(a,a.Z));this.Te()};
D.prototype.uf=function(a){a.Wt();if(a instanceof F){if(this.yp.remove(a),a instanceof H){var b=a.Qa;null===b?this.Pl.remove(a):b.cn.remove(a);b=a.Wb;null!==b&&(b.g=null)}}else a instanceof I?this.rp.remove(a):a instanceof ea||this.qb.remove(a);var c=this;Mm(a,function(a){Rm(c,a)});b=a.data;null!==b&&(a instanceof ea||(a instanceof I?this.ak.remove(b):this.Ti.remove(b)),Mm(a,function(a){Sm(c,a)}));this.Cg.remove(a);Qm(a)?(a.Z.F()&&this.ra(sl(a,a.Z)),this.Bc()):a.isVisible()&&a.Z.F()&&this.ra(sl(a,
a.Z));this.Te()};D.prototype.remove=D.prototype.remove=function(a){C.l(a,E,D,"remove:part");Tm(this,a,!0)};function Tm(a,b,c){var d=b.layer;null!==d&&d.g===a&&(b.jb=!1,b.Xg=!1,b.N(Um),c&&b.Mn(),c=d.uf(-1,b,!1),0<=c&&a.ld(tg,"parts",d,b,null,c,null),a=b.Yx,null!==a&&a(b,d,null))}
D.prototype.removeParts=D.prototype.rB=function(a,b){if(C.isArray(a))for(var c=C.eb(a),d=0;d<c;d++){var e=C.Ma(a,d);b&&!e.canDelete()||this.remove(e)}else for(e=new L(E),e.Vc(a),c=e.j;c.next();)e=c.value,b&&!e.canDelete()||this.remove(e)};D.prototype.copyParts=D.prototype.cq=function(a,b,c){return this.xb.cq(a,b,c)};
D.prototype.moveParts=D.prototype.moveParts=function(a,b,c){C.l(b,O,D,"moveParts:offset");var d=this.lb;if(null!==d){d=d.Ee;null===d&&(d=new Ph,d.ad(this));var e=new oa(E,Object);if(null!==a)a=a.j;else{for(a=this.Gi;a.next();)ji(d,e,a.value,c);for(a=this.ng;a.next();)ji(d,e,a.value,c);a=this.links}for(;a.next();)ji(d,e,a.value,c);d.moveParts(e,b,c)}};
function Vm(a,b,c){C.l(b,ah,D,"addLayer:layer");null!==b.g&&b.g!==a&&C.k("Cannot share a Layer with another Diagram: "+b+" of "+b.g);null===c?null!==b.g&&C.k("Cannot add an existing Layer to this Diagram again: "+b):(C.l(c,ah,D,"addLayer:existingLayer"),c.g!==a&&C.k("Existing Layer must be in this Diagram: "+c+" not in "+c.g),b===c&&C.k("Cannot move a Layer before or after itself: "+b));if(b.g!==a){b=b.name;a=a.cc;c=a.count;for(var d=0;d<c;d++)a.fa(d).name===b&&C.k("Cannot add Layer with the name '"+
b+"'; a Layer with the same name is already present in this Diagram.")}}D.prototype.addLayer=D.prototype.Mt=function(a){Vm(this,a,null);a.ad(this);var b=this.cc,c=b.count-1;if(!a.Xc)for(;0<=c&&b.fa(c).Xc;)c--;b.Xd(c+1,a);null!==this.xe&&this.ld(sg,"layers",this,null,a,null,c+1);this.ra();this.Bc()};
D.prototype.addLayerBefore=D.prototype.KH=function(a,b){Vm(this,a,b);a.ad(this);var c=this.cc,d=c.indexOf(a);0<=d&&(c.remove(a),null!==this.xe&&this.ld(tg,"layers",this,a,null,d,null));for(var e=c.count,g=0;g<e;g++)if(c.fa(g)===b){c.Xd(g,a);break}null!==this.xe&&this.ld(sg,"layers",this,null,a,null,g);this.ra();0>d&&this.Bc()};
D.prototype.addLayerAfter=function(a,b){Vm(this,a,b);a.ad(this);var c=this.cc,d=c.indexOf(a);0<=d&&(c.remove(a),null!==this.xe&&this.ld(tg,"layers",this,a,null,d,null));for(var e=c.count,g=0;g<e;g++)if(c.fa(g)===b){c.Xd(g+1,a);break}null!==this.xe&&this.ld(sg,"layers",this,null,a,null,g+1);this.ra();0>d&&this.Bc()};
D.prototype.removeLayer=function(a){C.l(a,ah,D,"removeLayer:layer");a.g!==this&&C.k("Cannot remove a Layer from another Diagram: "+a+" of "+a.g);if(""!==a.name){var b=this.cc,c=b.indexOf(a);if(b.remove(a)){for(b=a.qb.copy().j;b.next();){var d=b.value,e=d.Kf;d.Kf=e!==a.name?e:""}null!==this.xe&&this.ld(tg,"layers",this,a,null,c,null);this.ra();this.Bc()}}};D.prototype.findLayer=D.prototype.hm=function(a){for(var b=this.ao;b.next();){var c=b.value;if(c.name===a)return c}return null};
D.prototype.addModelChangedListener=D.prototype.MH=function(a){C.h(a,"function",D,"addModelChangedListener:listener");null===this.vh&&(this.vh=new K("function"));this.vh.add(a);this.ia.An(a)};D.prototype.removeModelChangedListener=function(a){C.h(a,"function",D,"removeModelChangedListener:listener");null!==this.vh&&(this.vh.remove(a),0===this.vh.count&&(this.vh=null));this.ia.Pu(a)};
D.prototype.addChangedListener=D.prototype.An=function(a){C.h(a,"function",D,"addChangedListener:listener");null===this.Oi&&(this.Oi=new K("function"));this.Oi.add(a)};D.prototype.removeChangedListener=D.prototype.Pu=function(a){C.h(a,"function",D,"removeChangedListener:listener");null!==this.Oi&&(this.Oi.remove(a),0===this.Oi.count&&(this.Oi=null))};
D.prototype.mx=function(a){this.Eb||this.sa.wF(a);a.Lc!==rg&&(this.Fi=!0);if(null!==this.Oi){var b=this.Oi,c=b.length;if(1===c)b=b.fa(0),b(a);else if(0!==c)for(var d=b.nc(),e=0;e<c;e++)b=d[e],b(a)}};D.prototype.raiseChangedEvent=D.prototype.ld=function(a,b,c,d,e,g,h){void 0===g&&(g=null);void 0===h&&(h=null);var k=new ag;k.g=this;k.Lc=a;k.propertyName=b;k.object=c;k.oldValue=d;k.Qj=g;k.newValue=e;k.Oj=h;this.mx(k)};
D.prototype.raiseChanged=D.prototype.i=function(a,b,c,d,e){this.ld(bg,a,this,b,c,d,e)};C.w(D,{Ya:"animationManager"},function(){return this.eC});C.w(D,{sa:"undoManager"},function(){return this.xe.sa});C.defineProperty(D,{Eb:"skipsUndoManager"},function(){return this.tj},function(a){C.h(a,"boolean",D,"skipsUndoManager");this.tj=a;this.xe.tj=a});C.defineProperty(D,{uA:"delaysLayout"},function(){return this.gz},function(a){this.gz=a});
D.prototype.En=function(a,b){if(null!==a&&a.g===this){var c=this.Ve;try{this.Ve=!0;var d=a.Lc,e;if(d===bg){var g=a.object,h=a.propertyName,k=a.pa(b);C.Ua(g,h,k);if(g instanceof Q){var l,m=g.ba;null!==m&&m.pe()}this.Fi=!0}else if(d===sg){var n=a.object,p=a.Oj,g=a.newValue;if(n instanceof J)if("number"===typeof p&&g instanceof Q){l=g;var q=n;b?q.uf(p):q.Xd(p,l);m=n.ba;null!==m&&m.pe()}else{if("number"===typeof p&&g instanceof mh){var r=g,q=n;b?r.Je?q.lG(p):q.iG(p):(e=r.Je?q.oe(r.index):q.ne(r.index),
e.bq(r))}}else if(n instanceof ah){var s=!0===a.Qj;if("number"===typeof p&&g instanceof E){var m=g,v=n;b?(m.jb=!1,m.Xg=!1,m.pe(),v.uf(s?p:-1,m,s)):v.qq(p,m,s)}}else if(n instanceof D){if("number"===typeof p&&g instanceof ah){var t=g;b?this.cc.md(p):(d=t,d.ad(this),this.cc.Xd(p,d))}}else C.k("unknown ChangedEvent.Insert object: "+a.toString());this.Fi=!0}else d===tg?(n=a.object,p=a.Qj,g=a.oldValue,n instanceof J?"number"===typeof p&&g instanceof Q?(q=n,b?q.Xd(p,g):q.uf(p)):"number"===typeof p&&g instanceof
mh&&(r=g,q=n,b?(e=r.Je?q.oe(r.index):q.ne(r.index),e.bq(r)):r.Je?q.lG(p):q.iG(p)):n instanceof ah?(s=!0===a.Oj,"number"===typeof p&&g instanceof E&&(m=g,v=n,b?v.qq(p,m,s):(m.jb=!1,m.Xg=!1,m.pe(),v.uf(s?p:-1,m,s)))):n instanceof D?"number"===typeof p&&g instanceof ah&&(t=g,b?(d=t,d.ad(this),this.cc.Xd(p,d)):this.cc.md(p)):C.k("unknown ChangedEvent.Remove object: "+a.toString()),this.Fi=!0):d!==rg&&C.k("unknown ChangedEvent: "+a.toString())}finally{this.Ve=c}}};
D.prototype.startTransaction=D.prototype.ac=function(a){return this.sa.ac(a)};D.prototype.commitTransaction=D.prototype.Ud=function(a){return this.sa.Ud(a)};D.prototype.rollbackTransaction=D.prototype.Lq=function(){return this.sa.Lq()};D.prototype.updateAllTargetBindings=D.prototype.aH=function(a){void 0===a&&(a="");for(var b=this.Gi;b.next();)b.value.Mb(a);for(b=this.ng;b.next();)b.value.Mb(a);for(b=this.links;b.next();)b.value.Mb(a)};
D.prototype.updateAllRelationshipsFromData=D.prototype.BK=function(){for(var a=this.ia,b=new L,c=a.mg,d=0;d<c.length;d++){var e=c[d];b.add(e)}var g=[];this.ng.each(function(a){null===a.data||b.contains(a.data)||g.push(a.data)});this.Gi.each(function(a){null===a.data||b.contains(a.data)||g.push(a.data)});g.forEach(function(b){hh(a,b,!1)});for(d=0;d<c.length;d++){var e=c[d],h=this.Mh(e);null===h&&gh(a,e,!1)}if(a instanceof Y){for(var k=new L,c=a.Yg,d=0;d<c.length;d++)e=c[d],k.add(e);var l=[];this.links.each(function(a){null===
a.data||k.contains(a.data)||l.push(a.data)});l.forEach(function(b){rh(a,b,!1)});for(d=0;d<c.length;d++)e=c[d],h=this.bg(e),null===h&&qh(a,e,!1)}for(d=this.Gi;d.next();)h=d.value,h.updateRelationshipsFromData();for(d=this.ng;d.next();)d.value.updateRelationshipsFromData();for(d=this.links;d.next();)h=d.value,h.updateRelationshipsFromData()};
function Wm(a,b,c){if(a.cd||a.he)a.Rb=c,c=a.Ya,c.yc&&nl(c,b,a.Rb);else if(a.cd=!0,null===a.Nb)a.Rb=c;else{var d=a.yb.copy(),e=a.Ob,g=a.Sb;d.width=a.Ob/b;d.height=a.Sb/b;var h=a.Dm.x,k=a.Dm.y,l=a.JE;isNaN(h)&&(l.Ij()?l.Hj(sc)?h=0:l.Hj(xc)&&(h=e-1):h=l.jd()?l.x*(e-1):e/2);isNaN(k)&&(l.Ij()?l.Hj(rc)?k=0:l.Hj(yc)&&(k=g-1):k=l.jd()?l.y*(g-1):g/2);null!==a.wG&&(c=a.wG(a,c));c<a.Ph&&(c=a.Ph);c>a.Oh&&(c=a.Oh);e=C.Fb(a.ub.x+h/b-h/c,a.ub.y+k/b-k/c);a.position=e;C.A(e);a.Rb=c;a.Mu(d,a.yb,b,c,!1);a.cd=!1;Rl(a,
!1);c=a.Ya;c.yc&&nl(c,b,a.Rb);a.ra();am(a)}}D.prototype.Mu=function(a,b,c,d,e){a.O(b)||(void 0===e&&(e=!1),e||am(this),Pl(this),d=this.Wb,null===d||!d.Vx||this.Zl!==Qh||e||a.width===b.width&&a.height===b.height||d.N(),d=this.hb,!0===this.Sm&&d instanceof Kh&&(this.U.ha=this.NB(this.U.se),Fk(d,this)),this.cd||this.BF(a,b),dm(this),this.Eh.scale=c,this.Eh.position.x=a.x,this.Eh.position.y=a.y,this.Eh.bounds.set(a),this.Eh.isScroll=e,this.Ka("ViewportBoundsChanged",this.Eh,a))};
function dm(a,b){void 0===b&&(b=null);var c=a.Cd;if(null!==c&&c.visible){for(var d=C.Am(),e=1,g=1,h=c.va.o,k=h.length,l=0;l<k;l++){var m=h[l],n=m.interval;2>n||(Xm(m.Jb)?g=g*n/Te(g,n):e=e*n/Te(e,n))}h=c.Kx;d.m(g*h.width,e*h.height);h=g=l=k=0;if(null!==b)k=b.width,l=b.height,g=b.x,h=b.y;else{e=C.Nf();g=a.yb;e.m(g.x,g.y,g.width,g.height);for(h=a.ww.j;h.next();)g=h.value.yb,g.F()&&Rb(e,g.x,g.y,g.width,g.height);if(!e.F()){C.Lb(e);return}k=e.width;l=e.height;g=e.x;h=e.y;C.Lb(e)}c.width=k+2*d.width;c.height=
l+2*d.height;e=C.P();tb(g,h,0,0,d.width,d.height,e);e.offset(-d.width,-d.height);C.Qk(d);c.ba.location=e;C.A(e)}}D.prototype.clearSelection=D.prototype.ox=function(){var a=0<this.selection.count;a&&this.Ka("ChangingSelection");Oh(this);a&&this.Ka("ChangedSelection")};function Oh(a){a=a.selection;if(0<a.count){for(var b=a.nc(),c=b.length,d=0;d<c;d++)b[d].jb=!1;a.Za();a.clear();a.freeze()}}
D.prototype.select=D.prototype.select=function(a){null!==a&&(C.l(a,E,D,"select:part"),a.layer.g===this&&(!a.jb||1<this.selection.count)&&(this.Ka("ChangingSelection"),Oh(this),a.jb=!0,this.Ka("ChangedSelection")))};
D.prototype.selectCollection=D.prototype.AG=function(a){this.Ka("ChangingSelection");Oh(this);if(C.isArray(a))for(var b=C.eb(a),c=0;c<b;c++){var d=C.Ma(a,c);d instanceof E||C.k("Diagram.selectCollection given something that is not a Part: "+d);d.jb=!0}else for(a=a.j;a.next();)d=a.value,d instanceof E||C.k("Diagram.selectCollection given something that is not a Part: "+d),d.jb=!0;this.Ka("ChangedSelection")};
D.prototype.clearHighlighteds=D.prototype.VH=function(){var a=this.om;if(0<a.count){for(var b=a.nc(),c=b.length,d=0;d<c;d++)b[d].Xg=!1;a.Za();a.clear();a.freeze()}};D.prototype.highlight=function(a){null!==a&&a.layer.g===this&&(C.l(a,E,D,"highlight:part"),!a.Xg||1<this.om.count)&&(this.VH(),a.Xg=!0)};
D.prototype.highlightCollection=function(a){for(var b=(new L).Vc(a),c=this.om.copy().oy(b).j;c.next();)a=c.value,a.Xg=!1;for(b=b.j;b.next();)a=b.value,a instanceof E||C.k("Diagram.highlightCollection given something that is not a Part: "+a),a.Xg=!0};
D.prototype.scroll=D.prototype.scroll=function(a,b,c){void 0===c&&(c=1);var d="up"===b||"down"===b,e=0;if("pixel"===a)e=c;else if("line"===a)e=c*(d?this.Vu:this.Uu);else if("page"===a)a=d?this.yb.height:this.yb.width,a*=this.scale,0!==a&&(e=Math.max(a-(d?this.Vu:this.Uu),0),e*=c);else{if("document"===a){e=this.fd;d=this.yb;c=C.P();"up"===b?this.position=c.m(d.x,e.y):"left"===b?this.position=c.m(e.x,d.y):"down"===b?this.position=c.m(d.x,e.bottom-d.height):"right"===b&&(this.position=c.m(e.right-d.width,
d.y));C.A(c);return}C.k("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+a)}e/=this.scale;c=this.position.copy();"up"===b?c.y=this.position.y-e:"down"===b?c.y=this.position.y+e:"left"===b?c.x=this.position.x-e:"right"===b?c.x=this.position.x+e:C.k("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+b);this.position=c};D.prototype.scrollToRect=D.prototype.fK=function(a){var b=this.yb;b.Lk(a)||(a=a.$l,a.x-=b.width/2,a.y-=b.height/2,this.position=a)};
D.prototype.centerRect=D.prototype.UH=function(a){var b=this.yb;a=a.$l;a.x-=b.width/2;a.y-=b.height/2;this.position=a};D.prototype.transformDocToView=D.prototype.MB=function(a){var b=this.Kc;b.reset();1!==this.Rb&&b.scale(this.Rb);var c=this.ub;(0!==c.x||0!==c.y)&&isFinite(c.x)&&isFinite(c.y)&&b.translate(-c.x,-c.y);return a.copy().transform(this.Kc)};
D.prototype.transformViewToDoc=D.prototype.NB=function(a){var b=this.Kc;b.reset();1!==this.Rb&&b.scale(this.Rb);var c=this.ub;(0!==c.x||0!==c.y)&&isFinite(c.x)&&isFinite(c.y)&&b.translate(-c.x,-c.y);return ub(a.copy(),this.Kc)};var Qh;D.None=Qh=C.s(D,"None",0);var Vl;D.Uniform=Vl=C.s(D,"Uniform",1);var Wl;D.UniformToFill=Wl=C.s(D,"UniformToFill",2);var Zi;D.CycleAll=Zi=C.s(D,"CycleAll",10);var cj;D.CycleNotDirected=cj=C.s(D,"CycleNotDirected",11);var ej;
D.CycleNotDirectedFast=ej=C.s(D,"CycleNotDirectedFast",12);var fj;D.CycleNotUndirected=fj=C.s(D,"CycleNotUndirected",13);var $i;D.CycleDestinationTree=$i=C.s(D,"CycleDestinationTree",14);var bj;D.CycleSourceTree=bj=C.s(D,"CycleSourceTree",15);var xl;D.DocumentScroll=xl=C.s(D,"DocumentScroll",1);var Jm;D.InfiniteScroll=Jm=C.s(D,"InfiniteScroll",2);var zl;D.TreeParentCollapsed=zl=C.s(D,"TreeParentCollapsed",21);var Ym;D.AllParentsCollapsed=Ym=C.s(D,"AllParentsCollapsed",22);var Zm;
D.AnyParentsCollapsed=Zm=C.s(D,"AnyParentsCollapsed",23);C.defineProperty(D,{CK:"validCycle"},function(){return this.Yw},function(a){var b=this.Yw;b!==a&&(C.Ca(a,D,D,"validCycle"),this.Yw=a,this.i("validCycle",b,a))});C.w(D,{ao:"layers"},function(){return this.cc.j});C.defineProperty(D,{Gf:"isModelReadOnly"},function(){var a=this.xe;return null===a?!1:a.nb},function(a){var b=this.xe;null!==b&&(b.nb=a)});
C.defineProperty(D,{nb:"isReadOnly"},function(){return this.aj},function(a){var b=this.aj;b!==a&&(C.h(a,"boolean",D,"isReadOnly"),this.aj=a,this.i("isReadOnly",b,a))});C.defineProperty(D,{isEnabled:"isEnabled"},function(){return this.of},function(a){var b=this.of;b!==a&&(C.h(a,"boolean",D,"isEnabled"),this.of=a,this.i("isEnabled",b,a))});
C.defineProperty(D,{hA:"allowClipboard"},function(){return this.kv},function(a){var b=this.kv;b!==a&&(C.h(a,"boolean",D,"allowClipboard"),this.kv=a,this.i("allowClipboard",b,a))});C.defineProperty(D,{Ik:"allowCopy"},function(){return this.cl},function(a){var b=this.cl;b!==a&&(C.h(a,"boolean",D,"allowCopy"),this.cl=a,this.i("allowCopy",b,a))});
C.defineProperty(D,{Bn:"allowDelete"},function(){return this.dl},function(a){var b=this.dl;b!==a&&(C.h(a,"boolean",D,"allowDelete"),this.dl=a,this.i("allowDelete",b,a))});C.defineProperty(D,{Rt:"allowDragOut"},function(){return this.lv},function(a){var b=this.lv;b!==a&&(C.h(a,"boolean",D,"allowDragOut"),this.lv=a,this.i("allowDragOut",b,a))});
C.defineProperty(D,{wE:"allowDrop"},function(){return this.mv},function(a){var b=this.mv;b!==a&&(C.h(a,"boolean",D,"allowDrop"),this.mv=a,this.i("allowDrop",b,a))});C.defineProperty(D,{jx:"allowTextEdit"},function(){return this.ml},function(a){var b=this.ml;b!==a&&(C.h(a,"boolean",D,"allowTextEdit"),this.ml=a,this.i("allowTextEdit",b,a))});
C.defineProperty(D,{gx:"allowGroup"},function(){return this.el},function(a){var b=this.el;b!==a&&(C.h(a,"boolean",D,"allowGroup"),this.el=a,this.i("allowGroup",b,a))});C.defineProperty(D,{kx:"allowUngroup"},function(){return this.nl},function(a){var b=this.nl;b!==a&&(C.h(a,"boolean",D,"allowUngroup"),this.nl=a,this.i("allowUngroup",b,a))});
C.defineProperty(D,{Vp:"allowInsert"},function(){return this.ov},function(a){var b=this.ov;b!==a&&(C.h(a,"boolean",D,"allowInsert"),this.ov=a,this.i("allowInsert",b,a))});C.defineProperty(D,{St:"allowLink"},function(){return this.fl},function(a){var b=this.fl;b!==a&&(C.h(a,"boolean",D,"allowLink"),this.fl=a,this.i("allowLink",b,a))});
C.defineProperty(D,{Cn:"allowRelink"},function(){return this.hl},function(a){var b=this.hl;b!==a&&(C.h(a,"boolean",D,"allowRelink"),this.hl=a,this.i("allowRelink",b,a))});C.defineProperty(D,{Wl:"allowMove"},function(){return this.gl},function(a){var b=this.gl;b!==a&&(C.h(a,"boolean",D,"allowMove"),this.gl=a,this.i("allowMove",b,a))});
C.defineProperty(D,{hx:"allowReshape"},function(){return this.il},function(a){var b=this.il;b!==a&&(C.h(a,"boolean",D,"allowReshape"),this.il=a,this.i("allowReshape",b,a))});C.defineProperty(D,{Tt:"allowResize"},function(){return this.jl},function(a){var b=this.jl;b!==a&&(C.h(a,"boolean",D,"allowResize"),this.jl=a,this.i("allowResize",b,a))});
C.defineProperty(D,{ix:"allowRotate"},function(){return this.kl},function(a){var b=this.kl;b!==a&&(C.h(a,"boolean",D,"allowRotate"),this.kl=a,this.i("allowRotate",b,a))});C.defineProperty(D,{Cf:"allowSelect"},function(){return this.ll},function(a){var b=this.ll;b!==a&&(C.h(a,"boolean",D,"allowSelect"),this.ll=a,this.i("allowSelect",b,a))});
C.defineProperty(D,{xE:"allowUndo"},function(){return this.pv},function(a){var b=this.pv;b!==a&&(C.h(a,"boolean",D,"allowUndo"),this.pv=a,this.i("allowUndo",b,a))});C.defineProperty(D,{lx:"allowZoom"},function(){return this.rv},function(a){var b=this.rv;b!==a&&(C.h(a,"boolean",D,"allowZoom"),this.rv=a,this.i("allowZoom",b,a))});
C.defineProperty(D,{OA:"hasVerticalScrollbar"},function(){return this.Uv},function(a){var b=this.Uv;b!==a&&(C.h(a,"boolean",D,"hasVerticalScrollbar"),this.Uv=a,am(this),this.ra(),this.i("hasVerticalScrollbar",b,a),Rl(this,!1))});C.defineProperty(D,{NA:"hasHorizontalScrollbar"},function(){return this.Tv},function(a){var b=this.Tv;b!==a&&(C.h(a,"boolean",D,"hasHorizontalScrollbar"),this.Tv=a,am(this),this.ra(),this.i("hasHorizontalScrollbar",b,a),Rl(this,!1))});
C.defineProperty(D,{Ae:"allowHorizontalScroll"},function(){return this.nv},function(a){var b=this.nv;b!==a&&(C.h(a,"boolean",D,"allowHorizontalScroll"),this.nv=a,this.i("allowHorizontalScroll",b,a),Rl(this,!1))});C.defineProperty(D,{Be:"allowVerticalScroll"},function(){return this.qv},function(a){var b=this.qv;b!==a&&(C.h(a,"boolean",D,"allowVerticalScroll"),this.qv=a,this.i("allowVerticalScroll",b,a),Rl(this,!1))});
C.defineProperty(D,{Uu:"scrollHorizontalLineChange"},function(){return this.Hw},function(a){var b=this.Hw;b!==a&&(C.h(a,"number",D,"scrollHorizontalLineChange"),0>a&&C.wa(a,">= 0",D,"scrollHorizontalLineChange"),this.Hw=a,this.i("scrollHorizontalLineChange",b,a))});
C.defineProperty(D,{Vu:"scrollVerticalLineChange"},function(){return this.Lw},function(a){var b=this.Lw;b!==a&&(C.h(a,"number",D,"scrollVerticalLineChange"),0>a&&C.wa(a,">= 0",D,"scrollVerticalLineChange"),this.Lw=a,this.i("scrollVerticalLineChange",b,a))});C.defineProperty(D,{U:"lastInput"},function(){return this.Ub},function(a){u&&C.l(a,Yf,D,"lastInput");this.Ub=a});C.defineProperty(D,{Nc:"firstInput"},function(){return this.Zi},function(a){u&&C.l(a,Yf,D,"firstInput");this.Zi=a});
C.defineProperty(D,{lc:"currentCursor"},function(){return this.Cv},function(a){""===a&&(a=this.Fr);var b=this.Cv;if(b!==a){C.h(a,"string",D,"currentCursor");var c=this.Nb,d=this.Tb;null!==c&&(this.Cv=a,c.style.cursor=a,d.style.cursor=a,c.style.cursor===b&&(c.style.cursor="-webkit-"+a,d.style.cursor="-webkit-"+a,c.style.cursor===b&&(c.style.cursor="-moz-"+a,d.style.cursor="-moz-"+a,c.style.cursor===b&&(c.style.cursor=a,d.style.cursor=a))))}});
C.defineProperty(D,{mL:"defaultCursor"},function(){return this.Fr},function(a){""===a&&(a="auto");var b=this.Fr;b!==a&&(C.h(a,"string",D,"defaultCursor"),this.Fr=a,this.i("defaultCursor",b,a))});C.defineProperty(D,{click:"click"},function(){return this.Pi},function(a){var b=this.Pi;b!==a&&(null!==a&&C.h(a,"function",D,"click"),this.Pi=a,this.i("click",b,a))});
C.defineProperty(D,{bu:"doubleClick"},function(){return this.Wi},function(a){var b=this.Wi;b!==a&&(null!==a&&C.h(a,"function",D,"doubleClick"),this.Wi=a,this.i("doubleClick",b,a))});C.defineProperty(D,{oA:"contextClick"},function(){return this.Ri},function(a){var b=this.Ri;b!==a&&(null!==a&&C.h(a,"function",D,"contextClick"),this.Ri=a,this.i("contextClick",b,a))});
C.defineProperty(D,{eB:"mouseOver"},function(){return this.lj},function(a){var b=this.lj;b!==a&&(null!==a&&C.h(a,"function",D,"mouseOver"),this.lj=a,this.i("mouseOver",b,a))});C.defineProperty(D,{dB:"mouseHover"},function(){return this.kj},function(a){var b=this.kj;b!==a&&(null!==a&&C.h(a,"function",D,"mouseHover"),this.kj=a,this.i("mouseHover",b,a))});
C.defineProperty(D,{cB:"mouseHold"},function(){return this.jj},function(a){var b=this.jj;b!==a&&(null!==a&&C.h(a,"function",D,"mouseHold"),this.jj=a,this.i("mouseHold",b,a))});C.defineProperty(D,{JJ:"mouseDragOver"},function(){return this.qw},function(a){var b=this.qw;b!==a&&(null!==a&&C.h(a,"function",D,"mouseDragOver"),this.qw=a,this.i("mouseDragOver",b,a))});
C.defineProperty(D,{bB:"mouseDrop"},function(){return this.ij},function(a){var b=this.ij;b!==a&&(null!==a&&C.h(a,"function",D,"mouseDrop"),this.ij=a,this.i("mouseDrop",b,a))});C.defineProperty(D,{LB:"toolTip"},function(){return this.uj},function(a){var b=this.uj;b!==a&&(!u||null===a||a instanceof ea||a instanceof bk||C.k("Diagram.toolTip must be an Adornment or HTMLInfo."),this.uj=a,this.i("toolTip",b,a))});
C.defineProperty(D,{contextMenu:"contextMenu"},function(){return this.Si},function(a){var b=this.Si;b!==a&&(!u||a instanceof ea||a instanceof bk||C.k("Diagram.contextMenu must be an Adornment or HTMLInfo."),this.Si=a,this.i("contextMenu",b,a))});C.defineProperty(D,{xb:"commandHandler"},function(){return this.$y},function(a){var b=this.$y;b!==a&&(C.l(a,ta,D,"commandHandler"),null!==a.g&&C.k("Cannot share CommandHandlers between Diagrams: "+a.toString()),null!==b&&b.ad(null),this.$y=a,a.ad(this))});
C.defineProperty(D,{lb:"toolManager"},function(){return this.aA},function(a){var b=this.aA;b!==a&&(C.l(a,Kh,D,"toolManager"),null!==a.g&&C.k("Cannot share ToolManagers between Diagrams: "+a.toString()),null!==b&&b.ad(null),this.aA=a,a.ad(this))});C.defineProperty(D,{au:"defaultTool"},function(){return this.fz},function(a){var b=this.fz;b!==a&&(C.l(a,bh,D,"defaultTool"),this.fz=a,this.hb===b&&(this.hb=a))});
C.defineProperty(D,{hb:"currentTool"},function(){return this.cz},function(a){var b=this.cz;null!==b&&(b.ya&&b.doDeactivate(),b.cancelWaitAfter(),b.doStop());null===a&&(a=this.au);null!==a&&(C.l(a,bh,D,"currentTool"),this.cz=a,a.ad(this),a.doStart())});C.w(D,{selection:"selection"},function(){return this.Ow});
C.defineProperty(D,{AJ:"maxSelectionCount"},function(){return this.lw},function(a){var b=this.lw;if(b!==a)if(C.h(a,"number",D,"maxSelectionCount"),0<=a&&!isNaN(a)){if(this.lw=a,this.i("maxSelectionCount",b,a),!this.sa.ob&&(a=this.selection.count-a,0<a)){this.Ka("ChangingSelection");for(var b=this.selection.nc(),c=0;c<a;c++)b[c].jb=!1;this.Ka("ChangedSelection")}}else C.wa(a,">= 0",D,"maxSelectionCount")});
C.defineProperty(D,{LJ:"nodeSelectionAdornmentTemplate"},function(){return this.rw},function(a){var b=this.rw;b!==a&&(C.l(a,ea,D,"nodeSelectionAdornmentTemplate"),this.rw=a,this.i("nodeSelectionAdornmentTemplate",b,a))});C.defineProperty(D,{SI:"groupSelectionAdornmentTemplate"},function(){return this.Rv},function(a){var b=this.Rv;b!==a&&(C.l(a,ea,D,"groupSelectionAdornmentTemplate"),this.Rv=a,this.i("groupSelectionAdornmentTemplate",b,a))});
C.defineProperty(D,{uJ:"linkSelectionAdornmentTemplate"},function(){return this.hw},function(a){var b=this.hw;b!==a&&(C.l(a,ea,D,"linkSelectionAdornmentTemplate"),this.hw=a,this.i("linkSelectionAdornmentTemplate",b,a))});C.w(D,{om:"highlighteds"},function(){return this.Vv});
C.defineProperty(D,{Fi:"isModified"},function(){var a=this.sa;return a.isEnabled?null!==a.Bj?!0:this.Dz&&this.rh!==a.Gj:this.Dz},function(a){if(this.Dz!==a){C.h(a,"boolean",D,"isModified");this.Dz=a;var b=this.sa;!a&&b.isEnabled&&(this.rh=b.Gj);a||$m(this)}});function $m(a){var b=a.Fi;a.nE!==b&&(a.nE=b,a.Ka("Modified"))}
C.defineProperty(D,{ia:"model"},function(){return this.xe},function(a){var b=this.xe;if(b!==a){C.l(a,M,D,"model");this.hb.doCancel();null!==b&&b.sa!==a.sa&&b.sa.JF&&C.k("Do not replace a Diagram.model while a transaction is in progress.");this.Ya.Ii();this.ox();this.sh=!1;this.Zo=!0;this.rh=-2;this.Yf=!1;var c=this.he;this.he=!0;this.Ya.ko("Model");null!==b&&(null!==this.vh&&this.vh.each(function(a){b.Pu(a)}),b.Pu(this.tD),b instanceof Y&&an(this,b.Yg),an(this,b.mg));this.xe=a;a.An(this.sD);bn(this,
a.mg);a instanceof Y&&cn(this,a.Yg);a.Pu(this.sD);a.An(this.tD);null!==this.vh&&this.vh.each(function(b){a.An(b)});this.he=c;this.cd||this.ra();null!==b&&(a.sa.isEnabled=b.sa.isEnabled)}});C.defineProperty(D,{bb:null},function(){return this.kD},function(a){this.kD=a});C.w(D,{$x:null},function(){return this.nH});
function Bl(a,b){if(b.ia===a.ia){var c=b.Lc,d=b.propertyName;if(c===rg&&"S"===d[0])if("StartingFirstTransaction"===d)c=a.lb,c.mf.each(function(b){b.ad(a)}),c.ig.each(function(b){b.ad(a)}),c.jg.each(function(b){b.ad(a)}),a.he||a.sh||(a.Jv=!0,a.Zo&&(a.Yf=!0));else if("StartingUndo"===d||"StartingRedo"===d){var e=a.Ya;e.vf&&!a.Eb&&e.Ii();a.Ka("ChangingSelection")}else"StartedTransaction"===d&&(e=a.Ya,e.vf&&!a.Eb&&e.Ii());else if(a.bb){a.bb=!1;try{var g=b.zf;if(""!==g)if(c===bg){if("linkFromKey"===g){var h=
b.object,k=a.bg(h);if(null!==k){var l=b.newValue,m=a.Re(l);k.aa=m}}else if("linkToKey"===g)h=b.object,k=a.bg(h),null!==k&&(l=b.newValue,m=a.Re(l),k.ea=m);else if("linkFromPortId"===g){if(h=b.object,k=a.bg(h),null!==k){var n=b.newValue;"string"===typeof n&&(k.cg=n)}}else if("linkToPortId"===g)h=b.object,k=a.bg(h),null!==k&&(n=b.newValue,"string"===typeof n&&(k.ih=n));else if("nodeGroupKey"===g){var h=b.object,p=a.Mh(h);if(null!==p){var q=b.newValue;if(void 0!==q){var r=a.Re(q);p.Qa=r instanceof H?
r:null}else p.Qa=null}}else if("linkLabelKeys"===g){if(h=b.object,k=a.bg(h),null!==k){var s=b.oldValue,v=b.newValue;if(C.isArray(s))for(var t=C.eb(s),x=0;x<t;x++){var y=C.Ma(s,x),m=a.Re(y);null!==m&&(m.Cc=null)}if(C.isArray(v))for(t=C.eb(v),x=0;x<t;x++)y=C.Ma(v,x),m=a.Re(y),null!==m&&(m.Cc=k)}}else if("nodeParentKey"===g){var B=b.object,A=a.Re(b.newValue),N=a.Ex(B);if(null!==N){var G=N.Pn();null!==G?null===A?a.remove(G):a.$d?G.aa=A:G.ea=A:dn(a,A,N)}}else if("parentLinkCategory"===g){var B=b.object,
N=a.Ex(B),T=b.newValue;null!==N&&"string"===typeof T&&(G=N.Pn(),null!==G&&(G.rc=T))}else if("nodeCategory"===g){var h=b.object,fa=a.Mh(h),T=b.newValue;null!==fa&&"string"===typeof T&&(fa.rc=T)}else if("linkCategory"===g){var h=b.object,W=a.bg(h),T=b.newValue;null!==W&&"string"===typeof T&&(W.rc=T)}else if("nodeDataArray"===g){var P=b.oldValue;an(a,P);var aa=b.newValue;bn(a,aa)}else"linkDataArray"===g&&(P=b.oldValue,an(a,P),aa=b.newValue,cn(a,aa));a.Fi=!0}else c===sg?(aa=b.newValue,"nodeDataArray"===
g&&C.Xa(aa)?en(a,aa):"linkDataArray"===g&&C.Xa(aa)?fn(a,aa):"linkLabelKeys"===g&&fh(aa)&&(k=a.bg(b.object),m=a.Re(aa),null!==k&&null!==m&&(m.Cc=k)),a.Fi=!0):c===tg?(P=b.oldValue,"nodeDataArray"===g&&C.Xa(P)?gn(a,P):"linkDataArray"===g&&C.Xa(P)?gn(a,P):"linkLabelKeys"===g&&fh(P)&&(m=a.Re(P),null!==m&&(m.Cc=null)),a.Fi=!0):c===rg&&("SourceChanged"===g?null!==b.object?Al(a,b.object,b.propertyName):(a.BK(),a.aH()):"ModelDisplaced"===g&&a.vm());else if(c===bg){var Oa=b.propertyName,h=b.object;if(h===a.ia){if("nodeKeyProperty"===
Oa||"nodeCategoryProperty"===Oa||"linkFromKeyProperty"===Oa||"linkToKeyProperty"===Oa||"linkFromPortIdProperty"===Oa||"linkToPortIdProperty"===Oa||"linkLabelKeysProperty"===Oa||"nodeIsGroupProperty"===Oa||"nodeGroupKeyProperty"===Oa||"nodeParentKeyProperty"===Oa||"linkCategoryProperty"===Oa)a.sa.ob||a.vm()}else Al(a,h,Oa);a.Fi=!0}else if(c===sg||c===tg)hn(a,b),a.Fi=!0;else if(c===rg){if("FinishedUndo"===d||"FinishedRedo"===d)a.sa.bj=!0,a.Ka("ChangedSelection"),Li(a),a.sa.bj=!1;e=a.Ya;"RolledBackTransaction"===
d&&e.Ii();a.Jv=!0;a.gg();0===a.sa.Vh&&$k(e);"CommittedTransaction"===d&&a.sa.Fz&&(a.rh=Math.min(a.rh,a.sa.Gj-1));var sa=b.NF;sa&&($m(a),a.$x.clear());!a.Mz&&sa&&(a.Mz=!0,C.setTimeout(function(){a.hb.standardMouseOver();a.Mz=!1},10))}}finally{a.bb=!0}}}}
function Al(a,b,c){if("string"===typeof c){var d=a.Mh(b);if(null!==d)d.Mb(c),a.ia instanceof Cg&&(d=a.bg(b),null!==d&&d.Mb(c));else{for(var d=null,e=a.Um.j;e.next();){for(var g=e.value,h=0;h<g.length;h++){var k=g[h].CI(b);null!==k&&(null===d&&(d=C.tb()),d.push(k))}if(null!==d)break}if(null!==d){for(e=0;e<d.length;e++)d[e].Mb(c);C.Ba(d)}}b===a.ia.Xk&&a.aH(c)}}C.defineProperty(D,{Ve:"skipsModelSourceBindings"},function(){return this.PD},function(a){this.PD=a});
C.defineProperty(D,{$u:null},function(){return this.Wz},function(a){this.Wz=a});function hn(a,b){var c=b.Lc===sg,d=c?b.Oj:b.Qj,e=c?b.newValue:b.oldValue,g=a.Um.pa(b.object);if(Array.isArray(g))for(var h=0;h<g.length;h++){var k=g[h];if(c)jn(k,e,d);else{var l=d;if(!(0>l)){var m=l;kn(k)&&m++;k.uf(m);ln(k,m,l)}}}}function Om(a,b){var c=b.cj;if(C.isArray(c)){var d=a.Um.pa(c);if(null===d)d=[],d.push(b),a.Um.add(c,d);else{for(c=0;c<d.length;c++)if(d[c]===b)return;d.push(b)}}}
function Sm(a,b){var c=b.cj;if(C.isArray(c)){var d=a.Um.pa(c);if(null!==d)for(var e=0;e<d.length;e++)if(d[e]===b){d.splice(e,1);0===d.length&&a.Um.remove(c);break}}}function Nm(a,b){for(var c=b.va.o,d=c.length,e=0;e<d;e++){var g=c[e];g instanceof Cl&&mn(a,g)}}
function mn(a,b){var c=b.element;if(null!==c&&c instanceof HTMLImageElement){var d=b.Ze;null!==d&&(d.bp instanceof Event&&null!==b.$e&&b.$e(b,d.bp),!0===d.aw&&(null!==b.wi&&b.wi(b,d.Rz),null!==b.g&&b.g.Pz.add(b)));c=c.src;d=a.Ap.pa(c);if(null===d)d=[],d.push(b),a.Ap.add(c,d);else{for(c=0;c<d.length;c++)if(d[c]===b)return;d.push(b)}}}function Rm(a,b){for(var c=b.va.o,d=c.length,e=0;e<d;e++){var g=c[e];g instanceof Cl&&nn(a,g)}}
function nn(a,b){var c=b.element;if(null!==c&&c instanceof HTMLImageElement){var c=c.src,d=a.Ap.pa(c);if(null!==d)for(var e=0;e<d.length;e++)if(d[e]===b){d.splice(e,1);0===d.length&&a.Ap.remove(c);break}}}
D.prototype.rebuildParts=D.prototype.vm=function(){for(var a=this.iB.j;a.next();){var b=a.value,c=a.key;(!b.qe()||b instanceof H)&&C.k('Invalid node template in Diagram.nodeTemplateMap: template for "'+c+'" must be a Node or a simple Part, not a Group or Link: '+b)}for(a=this.MA.j;a.next();)b=a.value,c=a.key,b instanceof H||C.k('Invalid group template in Diagram.groupTemplateMap: template for "'+c+'" must be a Group, not a normal Node or Link: '+b);for(a=this.VA.j;a.next();)b=a.value,c=a.key,b instanceof
I||C.k('Invalid link template in Diagram.linkTemplateMap: template for "'+c+'" must be a Link, not a normal Node or simple Part: '+b);a=C.tb();for(b=this.selection.j;b.next();)(c=b.value.data)&&a.push(c);for(var b=C.tb(),d=this.om.j;d.next();)(c=d.value.data)&&b.push(c);c=C.tb();for(d=this.ng.j;d.next();){var e=d.value;null!==e.data&&(c.push(e.data),c.push(e.location))}for(d=this.links.j;d.next();)e=d.value,null!==e.data&&(c.push(e.data),c.push(e.location));for(d=this.Gi.j;d.next();)e=d.value,null!==
e.data&&(c.push(e.data),c.push(e.location));d=this.ia;d instanceof Y&&an(this,d.Yg);an(this,d.mg);bn(this,d.mg);d instanceof Y&&cn(this,d.Yg);for(d=0;d<a.length;d++)e=this.Mh(a[d]),null!==e&&(e.jb=!0);for(d=0;d<b.length;d++)e=this.Mh(b[d]),null!==e&&(e.Xg=!0);for(d=0;d<c.length;d+=2)e=this.Mh(c[d]),null!==e&&(e.location=c[d+1]);C.Ba(a);C.Ba(b);C.Ba(c)};
function bn(a,b){if(null!==b){for(var c=a.ia,d=c instanceof Y,e=C.eb(b),g=0;g<e;g++){var h=C.Ma(b,g);c.je(h)?en(a,h,!1):d&&fn(a,h)}if(d||c instanceof Cg){for(g=0;g<e;g++)h=C.Ma(b,g),c.je(h)&&on(a,h);if(d)for(c=a.links;c.next();)pn(c.value)}qn(a,!1)}}function en(a,b,c){if(void 0!==b&&null!==b&&!a.sa.ob&&!a.Ti.contains(b)){void 0===c&&(c=!0);var d=a.IA(b),e=rn(a,b,d);if(null!==e&&(Nh(e),e=e.copy(),null!==e)){var g=a.Ve;a.Ve=!0;e.Ni=d;e.fe=b;a.add(e);e.fe=null;e.data=b;c&&on(a,b);a.Ve=g}}}
D.prototype.IA=function(a){return this.ia.IA(a)};var sn=!1,tn=!1;function rn(a,b,c){var d=!1,e=a.ia;e instanceof Y&&(d=e.SA(b));d?(b=a.MA.pa(c),null===b&&(b=a.MA.pa(""),null===b&&(tn||(tn=!0,C.trace('No Group template found for category "'+c+'"'),C.trace("  Using default group template")),b=a.BC))):(b=a.iB.pa(c),null===b&&(b=a.iB.pa(""),null===b&&(sn||(sn=!0,C.trace('No Node template found for category "'+c+'"'),C.trace("  Using default node template")),b=a.DC)));return b}
function on(a,b){var c=a.ia;if(c instanceof Y||c instanceof Cg){var d=c.Cb(b);if(void 0!==d){var e=ih(c,d),g=a.Mh(b);if(null!==e&&null!==g){for(e=e.j;e.next();){var h=e.value;if(c instanceof Y){var k=c;if(k.je(h)){if(g instanceof H&&k.Sn(h)===d){var l=g,h=a.Mh(h);null!==h&&(h.Qa=l)}}else{var m=a.bg(h);if(null!==m&&g instanceof F&&(l=g,k.mm(h)===d&&(m.aa=l),k.nm(h)===d&&(m.ea=l),h=k.Rk(h),C.isArray(h)))for(k=0;k<C.eb(h);k++)if(C.Ma(h,k)===d){l.Cc=m;break}}}else c instanceof Cg&&(m=c,m.je(h)&&g instanceof
F&&(l=g,m.Un(h)===d&&(h=a.Ex(h),dn(a,l,h))))}kh(c,d)}c instanceof Y?(c=c.Sn(b),void 0!==c&&(c=a.Re(c),c instanceof H&&(g.Qa=c))):c instanceof Cg&&(c=c.Un(b),void 0!==c&&g instanceof F&&(l=g,g=a.Re(c),dn(a,g,l)))}}}
function dn(a,b,c){if(null!==b&&null!==c){var d=a.lb.TF,e=b,g=c;if(a.$d)for(b=g.Hd;b.next();){if(b.value.ea===g)return}else for(e=c,g=b,b=e.Hd;b.next();)if(b.value.aa===e)return;if(null===d||!aj(d,e,g,null,!0))if(d=a.Hx(c.data),b=un(a,d),null!==b&&(Nh(b),b=b.copy(),null!==b)){var h=a.Ve;a.Ve=!0;b.Ni=d;b.fe=c.data;b.aa=e;b.ea=g;a.add(b);b.fe=null;b.data=c.data;a.Ve=h}}}function cn(a,b){if(null!==b){for(var c=C.eb(b),d=0;d<c;d++){var e=C.Ma(b,d);fn(a,e)}qn(a,!1)}}
function fn(a,b){if(void 0!==b&&null!==b&&!a.sa.ob&&!a.ak.contains(b)){var c=a.Hx(b),d=un(a,c);if(null!==d&&(Nh(d),d=d.copy(),null!==d)){var e=a.Ve;a.Ve=!0;d.Ni=c;d.fe=b;var c=a.ia,g=c.JI(b);""!==g&&(d.cg=g);g=c.mm(b);void 0!==g&&(g=a.Re(g),g instanceof F&&(d.aa=g));g=c.NI(b);""!==g&&(d.ih=g);g=c.nm(b);void 0!==g&&(g=a.Re(g),g instanceof F&&(d.ea=g));c=c.Rk(b);if(C.isArray(c))for(var g=C.eb(c),h=0;h<g;h++){var k=C.Ma(c,h),k=a.Re(k);null!==k&&(k.Cc=d)}a.add(d);d.fe=null;d.data=b;a.Ve=e}}}
D.prototype.Hx=function(a){var b=this.ia,c="";b instanceof Y?c=b.Hx(a):b instanceof Cg&&(c=b.LI(a));return c};var vn=!1;function un(a,b){var c=a.VA.pa(b);null===c&&(c=a.VA.pa(""),null===c&&(vn||(vn=!0,C.trace('No Link template found for category "'+b+'"'),C.trace("  Using default link template")),c=a.CC));return c}function an(a,b){for(var c=C.eb(b),d=0;d<c;d++){var e=C.Ma(b,d);gn(a,e)}}
function gn(a,b){if(void 0!==b&&null!==b){var c=a.Mh(b);if(null!==c){Tm(a,c,!1);var d=a.ia;if(d instanceof Y&&c instanceof F){var e=d.Cb(c.data);if(void 0!==e){for(var g=c.Hd;g.next();)jh(d,e,g.value.data);c.wf&&(g=c.Cc,null!==g&&jh(d,e,g.data));if(c instanceof H)for(c=c.Pc;c.next();)g=c.value.data,d.je(g)&&jh(d,e,g)}}else if(d instanceof Cg&&c instanceof F){g=a.bg(c.data);if(null!==g){g.jb=!1;g.Xg=!1;var h=g.layer;if(null!==h){var k=h.uf(-1,g,!1);0<=k&&a.ld(tg,"parts",h,g,null,k,null);k=g.Yx;null!==
k&&k(g,h,null)}}g=a.$d;for(c=c.Hd;c.next();)h=c.value,h=(g?h.ea:h.aa).data,d.je(h)&&jh(d,e,h)}}}}D.prototype.findPartForKey=D.prototype.DI=function(a){if(null===a||void 0===a)return null;var b=this.ia.Ge(a);return null!==b?this.Ti.pa(b):this.ia instanceof Y&&(b=this.ia.jq(a),null!==b)?this.ak.pa(b):null};D.prototype.findNodeForKey=D.prototype.Re=function(a){if(null===a||void 0===a)return null;a=this.ia.Ge(a);if(null===a)return null;a=this.Ti.pa(a);return a instanceof F?a:null};
D.prototype.findPartForData=D.prototype.Mh=function(a){if(null===a)return null;var b=this.Ti.pa(a);return null!==b?b:b=this.ak.pa(a)};D.prototype.findNodeForData=D.prototype.Ex=function(a){if(null===a)return null;a=this.Ti.pa(a);return a instanceof F?a:null};D.prototype.findLinkForData=D.prototype.bg=function(a){return null===a?null:this.ak.pa(a)};
D.prototype.findNodesByExample=function(a){for(var b=new L,c=this.yp.j;c.next();){var d=c.value,e=d.data;if(null!==e)for(var g=0;g<arguments.length;g++){var h=arguments[g];if(C.Xa(h)&&wn(this,e,h)){b.add(d);break}}}return b.j};D.prototype.findLinksByExample=function(a){for(var b=new L,c=this.rp.j;c.next();){var d=c.value,e=d.data;if(null!==e)for(var g=0;g<arguments.length;g++){var h=arguments[g];if(C.Xa(h)&&wn(this,e,h)){b.add(d);break}}}return b.j};
function wn(a,b,c){for(var d in c){var e=b[d],g=c[d];if(C.isArray(g)){if(!C.isArray(e)||e.length<g.length)return!1;for(var h=0;h<e.length;h++){var k=e[h],l=g[h];if(void 0!==l&&!xn(a,k,l))return!1}}else if(!xn(a,e,g))return!1}return!0}function xn(a,b,c){if("function"===typeof c){if(!c(b))return!1}else if(c instanceof RegExp){if(!b||!c.test(b.toString()))return!1}else if(C.Xa(b)&&C.Xa(c)){if(!wn(a,b,c))return!1}else if(b!==c)return!1;return!0}
C.defineProperty(D,{bM:"nodeTemplate"},function(){return this.mj.pa("")},function(a){var b=this.mj.pa("");b!==a&&(C.l(a,E,D,"nodeTemplate"),this.mj.add("",a),this.i("nodeTemplate",b,a),this.sa.ob||this.vm())});C.defineProperty(D,{iB:"nodeTemplateMap"},function(){return this.mj},function(a){var b=this.mj;b!==a&&(C.l(a,oa,D,"nodeTemplateMap"),this.mj=a,this.i("nodeTemplateMap",b,a),this.sa.ob||this.vm())});
C.defineProperty(D,{EL:"groupTemplate"},function(){return this.ul.pa("")},function(a){var b=this.ul.pa("");b!==a&&(C.l(a,H,D,"groupTemplate"),this.ul.add("",a),this.i("groupTemplate",b,a),this.sa.ob||this.vm())});C.defineProperty(D,{MA:"groupTemplateMap"},function(){return this.ul},function(a){var b=this.ul;b!==a&&(C.l(a,oa,D,"groupTemplateMap"),this.ul=a,this.i("groupTemplateMap",b,a),this.sa.ob||this.vm())});
C.defineProperty(D,{QL:"linkTemplate"},function(){return this.pk.pa("")},function(a){var b=this.pk.pa("");b!==a&&(C.l(a,I,D,"linkTemplate"),this.pk.add("",a),this.i("linkTemplate",b,a),this.sa.ob||this.vm())});C.defineProperty(D,{VA:"linkTemplateMap"},function(){return this.pk},function(a){var b=this.pk;b!==a&&(C.l(a,oa,D,"linkTemplateMap"),this.pk=a,this.i("linkTemplateMap",b,a),this.sa.ob||this.vm())});C.defineProperty(D,{gJ:null},function(){return this.Sm},function(a){this.Sm=a});
C.defineProperty(D,{kf:"isMouseCaptured"},function(){return this.hD},function(a){var b=this.Nb;null!==b&&(a?(this.U.bubbles=!1,b.removeEventListener("mousemove",this.Bq,!1),b.removeEventListener("mousedown",this.Aq,!1),b.removeEventListener("mouseup",this.Dq,!1),b.removeEventListener("mousewheel",this.Qh,!1),b.removeEventListener("DOMMouseScroll",this.Qh,!1),b.removeEventListener("mouseout",this.Cq,!1),window.addEventListener("mousemove",this.Bq,!0),window.addEventListener("mousedown",this.Aq,!0),
window.addEventListener("mouseup",this.Dq,!0),window.addEventListener("mousewheel",this.Qh,!0),window.addEventListener("DOMMouseScroll",this.Qh,!0),window.addEventListener("mouseout",this.Cq,!0),window.addEventListener("selectstart",this.preventDefault,!1)):(window.removeEventListener("mousemove",this.Bq,!0),window.removeEventListener("mousedown",this.Aq,!0),window.removeEventListener("mouseup",this.Dq,!0),window.removeEventListener("mousewheel",this.Qh,!0),window.removeEventListener("DOMMouseScroll",
this.Qh,!0),window.removeEventListener("mouseout",this.Cq,!0),window.removeEventListener("selectstart",this.preventDefault,!1),b.addEventListener("mousemove",this.Bq,!1),b.addEventListener("mousedown",this.Aq,!1),b.addEventListener("mouseup",this.Dq,!1),b.addEventListener("mousewheel",this.Qh,!1),b.addEventListener("DOMMouseScroll",this.Qh,!1),b.addEventListener("mouseout",this.Cq,!1)),this.hD=a)});
C.defineProperty(D,{position:"position"},function(){return this.ub},function(a){var b=this.ub;if(!b.O(a)){C.l(a,O,D,"position");var c=this.yb.copy();a=a.copy();if(!this.cd&&null!==this.Nb){this.cd=!0;var d=this.scale;Tl(this,a,this.fd,this.Ob/d,this.Sb/d,this.Jo,!1);this.cd=!1}this.ub=a.V();a=this.Ya;a.yc&&ml(a,b,this.ub);this.cd||this.Mu(c,this.yb,this.Rb,this.Rb,!1)}});
C.defineProperty(D,{ZI:"initialPosition"},function(){return this.Xv},function(a){this.Xv.O(a)||(C.l(a,O,D,"initialPosition"),this.Xv=a.V())});C.defineProperty(D,{$I:"initialScale"},function(){return this.Yv},function(a){this.Yv!==a&&(C.h(a,"number",D,"initialScale"),this.Yv=a)});
C.defineProperty(D,{Vn:"grid"},function(){null===this.Cd&&Ml(this);return this.Cd},function(a){var b=this.Cd;if(b!==a){null===b&&(Ml(this),b=this.Cd);C.l(a,J,D,"grid");a.type!==Nl&&C.k("Diagram.grid must be a Panel of type Panel.Grid");var c=b.Q;null!==c&&c.remove(b);this.Cd=a;a.name="GRID";null!==c&&c.add(a);dm(this);this.ra();this.i("grid",b,a)}});
C.w(D,{yb:"viewportBounds"},function(){var a=this.mE;if(null===this.Nb)return a;var b=this.ub,c=this.Rb;a.m(b.x,b.y,Math.max(this.Ob,0)/c,Math.max(this.Sb,0)/c);return a});C.defineProperty(D,{jF:"fixedBounds"},function(){return this.Pv},function(a){var b=this.Pv;b.O(a)||(C.l(a,z,D,"fixedBounds"),(u&&Infinity===a.width||-Infinity===a.width||Infinity===a.height||-Infinity===a.height)&&C.k("fixedBounds width/height must not be Infinity"),this.Pv=a=a.V(),this.Bc(),this.i("fixedBounds",b,a))});
C.defineProperty(D,{xG:"scrollMargin"},function(){return this.Iw},function(a){"number"===typeof a?a=new Kb(a):C.l(a,Kb,D,"scrollMargin");var b=this.Iw;b.O(a)||(this.Iw=a=a.V(),this.Bc(),this.i("scrollMargin",b,a))});C.defineProperty(D,{uB:"scrollMode"},function(){return this.Jw},function(a){var b=this.Jw;b!==a&&(C.Ca(a,D,D,"scrollMode"),this.Jw=a,a===xl&&Rl(this,!1),this.i("scrollMode",b,a))});
C.defineProperty(D,{fG:"positionComputation"},function(){return this.Bw},function(a){var b=this.Bw;b!==a&&(null!==a&&C.h(a,"function",D,"positionComputation"),this.Bw=a,Rl(this,!1),this.i("positionComputation",b,a))});C.defineProperty(D,{wG:"scaleComputation"},function(){return this.Fw},function(a){var b=this.Fw;b!==a&&(null!==a&&C.h(a,"function",D,"scaleComputation"),this.Fw=a,Wm(this,this.scale,this.scale),this.i("scaleComputation",b,a))});C.w(D,{fd:"documentBounds"},function(){return this.Kv});
function Ul(a,b){a.kk=!1;var c=a.Kv;c.O(b)||(b=b.V(),a.Kv=b,Rl(a,!1),a.Ka("DocumentBoundsChanged",null,c.copy()),am(a))}C.defineProperty(D,{scale:"scale"},function(){return this.Rb},function(a){var b=this.Rb;C.p(a,D,"scale");b!==a&&Wm(this,b,a)});C.defineProperty(D,{Zl:"autoScale"},function(){return this.Gm},function(a){var b=this.Gm;b!==a&&(C.Ca(a,D,D,"autoScale"),this.Gm=a,this.i("autoScale",b,a),a!==Qh&&Rl(this,!1))});
C.defineProperty(D,{HL:"initialAutoScale"},function(){return this.yl},function(a){var b=this.yl;b!==a&&(C.Ca(a,D,D,"initialAutoScale"),this.yl=a,this.i("initialAutoScale",b,a))});C.defineProperty(D,{aJ:"initialViewportSpot"},function(){return this.Zv},function(a){var b=this.Zv;b!==a&&(C.l(a,S,D,"initialViewportSpot"),a.jd()||C.k("initialViewportSpot must be a specific Spot: "+a),this.Zv=a,this.i("initialViewportSpot",b,a))});
C.defineProperty(D,{YI:"initialDocumentSpot"},function(){return this.Wv},function(a){var b=this.Wv;b!==a&&(C.l(a,S,D,"initialDocumentSpot"),a.jd()||C.k("initialViewportSpot must be a specific Spot: "+a),this.Wv=a,this.i("initialDocumentSpot",b,a))});C.defineProperty(D,{Ph:"minScale"},function(){return this.nw},function(a){C.p(a,D,"minScale");var b=this.nw;b!==a&&(0<a?(this.nw=a,this.i("minScale",b,a),a>this.scale&&(this.scale=a)):C.wa(a,"> 0",D,"minScale"))});
C.defineProperty(D,{Oh:"maxScale"},function(){return this.kw},function(a){C.p(a,D,"maxScale");var b=this.kw;b!==a&&(0<a?(this.kw=a,this.i("maxScale",b,a),a<this.scale&&(this.scale=a)):C.wa(a,"> 0",D,"maxScale"))});C.defineProperty(D,{Dm:"zoomPoint"},function(){return this.ax},function(a){this.ax.O(a)||(C.l(a,O,D,"zoomPoint"),this.ax=a=a.V())});
C.defineProperty(D,{JE:"contentAlignment"},function(){return this.Jo},function(a){var b=this.Jo;b.O(a)||(C.l(a,S,D,"contentAlignment"),this.Jo=a=a.V(),this.i("contentAlignment",b,a),Rl(this,!1))});C.defineProperty(D,{IL:"initialContentAlignment"},function(){return this.ep},function(a){var b=this.ep;b.O(a)||(C.l(a,S,D,"initialContentAlignment"),this.ep=a=a.V(),this.i("initialContentAlignment",b,a))});
C.defineProperty(D,{padding:"padding"},function(){return this.rf},function(a){"number"===typeof a?a=new Kb(a):C.l(a,Kb,D,"padding");var b=this.rf;b.O(a)||(this.rf=a=a.V(),this.Bc(),this.i("padding",b,a))});C.w(D,{ng:"nodes"},function(){return this.yp.j});C.w(D,{links:"links"},function(){return this.rp.j});C.w(D,{Gi:"parts"},function(){return this.qb.j});
D.prototype.findTopLevelNodesAndLinks=function(){for(var a=new L(E),b=this.yp.j;b.next();){var c=b.value;c.vq&&a.add(c)}for(b=this.rp.j;b.next();)c=b.value,c.vq&&a.add(c);return a.j};D.prototype.findTopLevelGroups=function(){return this.Pl.j};C.defineProperty(D,{Wb:"layout"},function(){return this.ve},function(a){var b=this.ve;b!==a&&(C.l(a,ch,D,"layout"),null!==b&&(b.g=null,b.group=null),this.ve=a,a.g=this,a.group=null,this.tv=!0,this.i("layout",b,a),this.Te())});
D.prototype.layoutDiagram=function(a){Li(this);a&&qn(this,!0);em(this,!1)};function qn(a,b){for(var c=a.Pl.j;c.next();)yn(a,c.value,b);null!==a.Wb&&(b?a.Wb.If=!1:a.Wb.N())}function yn(a,b,c){if(null!==b){for(var d=b.cn.j;d.next();)yn(a,d.value,c);null!==b.Wb&&(c?b.Wb.If=!1:b.Wb.N())}}
function em(a,b){if(!a.gz){var c=a.Wb,d=a.bb;a.bb=!0;try{var e=a.sa.Vh;0===e&&a.ac("Layout");var g=a.Ya;1!==a.sa.Vh||g.vf||g.yc||b||g.ko("Layout");for(var h=a.Pl.j;h.next();)zn(a,h.value,b);c.If||b&&!c.MF&&0!==e||(c.doLayout(a),Li(a),c.If=!0)}finally{0===e&&a.Ud("Layout"),a.tv=!c.If,a.bb=d}}}function zn(a,b,c){if(null!==b){for(var d=b.cn.j;d.next();)zn(a,d.value,c);d=b.Wb;null===d||d.If||c&&!d.MF||(b.io=!b.location.F(),d.doLayout(b),b.N(An),d.If=!0,Bm(a,b))}}
C.defineProperty(D,{$d:"isTreePathToChildren"},function(){return this.dw},function(a){var b=this.dw;if(b!==a&&(C.h(a,"boolean",D,"isTreePathToChildren"),this.dw=a,this.i("isTreePathToChildren",b,a),!this.sa.ob))for(a=this.ng;a.next();)Bn(a.value)});D.prototype.findTreeRoots=function(){for(var a=new K(F),b=this.ng;b.next();){var c=b.value;c.vq&&null===c.Pn()&&a.add(c)}return a.j};
C.defineProperty(D,{OB:"treeCollapsePolicy"},function(){return this.Ww},function(a){var b=this.Ww;b!==a&&(a!==zl&&a!==Ym&&a!==Zm&&C.k("Unknown Diagram.treeCollapsePolicy: "+a),this.Ww=a,this.i("treeCollapsePolicy",b,a))});C.defineProperty(D,{Nh:null},function(){return this.$C},function(a){this.$C=a});
function yl(a){function b(a){var b=a.toLowerCase(),h=new K("function");c.add(a,h);c.add(b,h);d.add(a,a);d.add(b,a)}var c=new oa("string",K),d=new oa("string","string");b("AnimationStarting");b("AnimationFinished");b("BackgroundSingleClicked");b("BackgroundDoubleClicked");b("BackgroundContextClicked");b("ClipboardChanged");b("ClipboardPasted");b("DocumentBoundsChanged");b("ExternalObjectsDropped");b("InitialLayoutCompleted");b("LayoutCompleted");b("LinkDrawn");b("LinkRelinked");b("LinkReshaped");b("Modified");
b("ObjectSingleClicked");b("ObjectDoubleClicked");b("ObjectContextClicked");b("PartCreated");b("PartResized");b("PartRotated");b("SelectionMoved");b("SelectionCopied");b("SelectionDeleting");b("SelectionDeleted");b("SelectionGrouped");b("SelectionUngrouped");b("ChangingSelection");b("ChangedSelection");b("SubGraphCollapsed");b("SubGraphExpanded");b("TextEdited");b("TreeCollapsed");b("TreeExpanded");b("ViewportBoundsChanged");a.iz=c;a.hz=d}
function Ia(a,b){var c=a.hz.pa(b);return null!==c?c:a.hz.pa(b.toLowerCase())}function Cn(a,b){var c=a.iz.pa(b);if(null!==c)return c;c=a.iz.pa(b.toLowerCase());if(null!==c)return c;C.k("Unknown DiagramEvent name: "+b);return null}D.prototype.addDiagramListener=D.prototype.gA=function(a,b){C.h(a,"string",D,"addDiagramListener:name");C.h(b,"function",D,"addDiagramListener:listener");var c=Cn(this,a);null!==c&&c.add(b)};
D.prototype.removeDiagramListener=D.prototype.jG=function(a,b){C.h(a,"string",D,"removeDiagramListener:name");C.h(b,"function",D,"addDiagramListener:listener");var c=Cn(this,a);null!==c&&c.remove(b)};
D.prototype.raiseDiagramEvent=D.prototype.Ka=function(a,b,c){u&&C.h(a,"string",D,"raiseDiagramEvent:name");var d=Cn(this,a),e=new $f;e.g=this;a=Ia(this,a);null!==a&&(e.name=a);void 0!==b&&(e.HB=b);void 0!==c&&(e.lB=c);b=d.length;if(1===b)d=d.fa(0),d(e);else if(0!==b)for(c=d.nc(),a=0;a<b;a++)d=c[a],d(e);return e.cancel};
function Ui(a,b){var c=!1;a.yb.Lk(b)&&(c=!0);c=a.CA(b,function(a){return a.ba},function(a){return a instanceof I},!0,function(a){return a instanceof I},c);if(0!==c.count)for(c=c.j;c.next();){var d=c.value;d.Di&&d.hc()}}D.prototype.isUnoccupied=D.prototype.tm=function(a,b){void 0===b&&(b=null);return ja(this,!1,null,b).tm(a.x,a.y,a.width,a.height)};
function ja(a,b,c,d){null===a.Rd&&(a.Rd=new Dn);if(a.Rd.rq||a.Rd.group!==c||a.Rd.GB!==d){if(null===c){b=a.kk?Ql(a):a.fd.copy();b.eg(100,100);a.Rd.initialize(b);b=C.Nf();for(var e=a.ng;e.next();){var g=e.value,h=g.layer;null!==h&&h.visible&&!h.Xc&&En(a,g,d,b)}}else for(c.Z.F()||c.jf(),b=c.Z.copy(),b.eg(20,20),a.Rd.initialize(b),b=C.Nf(),e=c.Pc;e.next();)g=e.value,g instanceof F&&En(a,g,d,b);C.Lb(b);a.Rd.group=c;a.Rd.GB=d;a.Rd.rq=!1}else b&&Fn(a.Rd);return a.Rd}
function En(a,b,c,d){if(b!==c)if(b.isVisible()&&b.kA&&!b.wf){c=b.getAvoidableRect(d);d=a.Rd.Zp;b=a.Rd.Xp;for(var e=c.x+c.width,g=c.y+c.height,h=c.x;h<e;h+=d){for(var k=c.y;k<g;k+=b)Gn(a.Rd,h,k);Gn(a.Rd,h,g)}for(k=c.y;k<g;k+=b)Gn(a.Rd,e,k);Gn(a.Rd,e,g)}else if(b instanceof H)for(b=b.Pc;b.next();)e=b.value,e instanceof F&&En(a,e,c,d)}function Hn(a,b){null===a.Rd||a.Rd.rq||null!==b&&(!b.kA||b.wf)||(a.Rd.rq=!0)}
D.prototype.simulatedMouseMove=D.prototype.Ay=function(a,b,c){if(null!==Yh){var d=Yh.g;c instanceof D||(c=null);var e=Zh;c!==e&&(null!==e&&e!==d&&null!==e.lb.Ee&&(yi(e),Yh.Ox=!1,e.lb.Ee.doSimulatedDragLeave()),Zh=c,null!==c&&c!==d&&null!==c.lb.Ee&&(Ei(),e=c.lb.Ee,Ai.contains(e)||Ai.add(e),c.lb.Ee.doSimulatedDragEnter()));if(null===c||c===d||!c.wE||c.nb||!c.Vp)return!1;d=c.lb.Ee;null!==d&&(null!==a?b=c.ap(a):null===b&&(b=new O),c.Ub.ha=b,c.Ub.gm=!1,c.Ub.up=!1,d.doSimulatedDragOver());return!0}return!1};
D.prototype.simulatedMouseUp=D.prototype.HG=function(a,b,c,d){if(null!==Yh){null===d&&(d=b);b=Zh;var e=Yh.g;if(d!==b){if(null!==b&&b!==e&&null!==b.lb.Ee)return yi(b),Yh.Ox=!1,b.lb.Ee.doSimulatedDragLeave(),!1;Zh=d;null!==d&&null!==d.lb.Ee&&(Ei(),b=d.lb.Ee,Ai.contains(b)||Ai.add(b),d.lb.Ee.doSimulatedDragEnter())}if(null===d)return Yh.doCancel(),!0;if(d!==this)return null!==a&&(c=d.ap(a)),d.Ub.ha=c,d.Ub.gm=!1,d.Ub.up=!0,a=d.lb.Ee,null!==a&&a.doSimulatedDrop(),a=Yh,null!==a&&(d=a.mayCopy(),a.Pf=d?"Copy":
"Move",a.stopTool()),!0}return!1};C.defineProperty(D,{CE:"autoScrollRegion"},function(){return this.vv},function(a){"number"===typeof a?a=new Kb(a):C.l(a,Kb,D,"autoScrollRegion");var b=this.vv;b.O(a)||(this.vv=a=a.V(),this.Bc(),this.i("autoScrollRegion",b,a))});D.prototype.doAutoScroll=D.prototype.wA=function(a){this.uv.assign(a);In(this,this.uv).Wc(this.position)?yi(this):Jn(this)};
function Jn(a){-1===a.Do&&(a.Do=C.setTimeout(function(){if(-1!==a.Do){yi(a);var b=a.U.event;if(null!==b){var c=In(a,a.uv);c.Wc(a.position)||(a.position=c,a.U.ha=a.NB(a.uv),a.Ay(b,null,b.target.da)||a.doMouseMove(),a.kk=!0,Ul(a,a.Jh()),a.Ne=!0,a.gg(),Jn(a))}}},a.gC))}function yi(a){-1!==a.Do&&(C.clearTimeout(a.Do),a.Do=-1)}
function In(a,b){var c=a.position,d=a.CE;if(0>=d.top&&0>=d.left&&0>=d.right&&0>=d.bottom)return c;var e=a.yb,g=a.scale,e=C.fh(0,0,e.width*g,e.height*g),h=C.Fb(0,0);if(b.x>=e.x&&b.x<e.x+d.left){var k=Math.max(a.Uu,1),k=k|0;h.x-=k;b.x<e.x+d.left/2&&(h.x-=k);b.x<e.x+d.left/4&&(h.x-=4*k)}else b.x<=e.x+e.width&&b.x>e.x+e.width-d.right&&(k=Math.max(a.Uu,1),k|=0,h.x+=k,b.x>e.x+e.width-d.right/2&&(h.x+=k),b.x>e.x+e.width-d.right/4&&(h.x+=4*k));b.y>=e.y&&b.y<e.y+d.top?(k=Math.max(a.Vu,1),k|=0,h.y-=k,b.y<e.y+
d.top/2&&(h.y-=k),b.y<e.y+d.top/4&&(h.y-=4*k)):b.y<=e.y+e.height&&b.y>e.y+e.height-d.bottom&&(k=Math.max(a.Vu,1),k|=0,h.y+=k,b.y>e.y+e.height-d.bottom/2&&(h.y+=k),b.y>e.y+e.height-d.bottom/4&&(h.y+=4*k));h.Wc(Dd)||(c=new O(c.x+h.x/g,c.y+h.y/g));C.Lb(e);C.A(h);return c}D.prototype.makeSvg=D.prototype.makeSVG=function(a){void 0===a&&(a=new na);a.context="svg";a=Kn(this,a);return null!==a?a.ym:null};
D.prototype.makeImage=function(a){void 0===a&&(a=new na);var b=(a.document||document).createElement("img");b.src=this.vJ(a);return b};
D.prototype.makeImageData=D.prototype.vJ=function(a){void 0===a&&(a=new na);var b=Kn(this,a);if(null!==b){var c=a.returnType,c=void 0===c?"string":c.toLowerCase();switch(c){case "imagedata":return b.Mk.getImageData(0,0,b.width,b.height);case "blob":b=b.me;c=a.callback;if("function"!==typeof c){C.k('Error: Diagram.makeImageData called with "returnType: toBlob", but no "callback" function property defined.');break}if("function"===typeof b.toBlob)return b.toBlob(c,a.type,a.details),"toBlob";if("function"===
typeof b.msToBlob)return c(b.msToBlob(a.type,a.details)),"msToBlob";c(null);break;default:return b.toDataURL(a.type,a.details)}}return""};var Ln=!1;
function Kn(a,b){a.Ya.Ii();a.gg();if(null===a.Nb)return null;"object"!==typeof b&&C.k("properties argument must be an Object.");var c=!1,d=b.size||null,e=b.scale||null;void 0!==b.scale&&isNaN(b.scale)&&(e="NaN");var g=b.maxSize;void 0===b.maxSize&&(c=!0,g="svg"===b.context?new Fa(Infinity,Infinity):new Fa(2E3,2E3));var h=b.position||null,k=b.parts||null,l=void 0===b.padding?1:b.padding,m=b.background||null,n=b.omitTemporary;void 0===n&&(n=!0);var p=b.document||document,q=b.elementFinished||null,r=
b.showTemporary;void 0===r&&(r=!n);n=b.showGrid;void 0===n&&(n=r);null!==d&&isNaN(d.width)&&isNaN(d.height)&&(d=null);"number"===typeof l?l=new Kb(l):l instanceof Kb||(l=new Kb(0));l.left=Math.max(l.left,0);l.right=Math.max(l.right,0);l.top=Math.max(l.top,0);l.bottom=Math.max(l.bottom,0);a.Uo=!1;da(a.pd,!0);var s=new ma(null,p),v=s.Mk,t=s;if(!(d||e||k||h))return s.width=a.Ob+Math.ceil(l.left+l.right),s.height=a.Sb+Math.ceil(l.top+l.bottom),"svg"===b.context&&(v=t=new md(s.me,p,q),v instanceof md&&
(a.Uo=!0)),Im(a,v,l,new Fa(s.width,s.height),a.Rb,a.ub,k,m,r,n),a.Uo=!0,t;var x=a.xb.vx,y=new O(0,0),B=a.fd.copy();B.rK(a.padding);if(r)for(var A=!0,A=a.cc.o,N=A.length,G=0;G<N;G++){var T=A[G];if(T.visible&&T.Xc)for(var fa=T.qb.o,T=fa.length,W=0;W<T;W++){var P=fa[W];P.Qx&&P.isVisible()&&(P=P.Z,P.F()&&B.Wh(P))}}y.x=B.x;y.y=B.y;if(null!==k){var aa,A=!0,fa=k.j;for(fa.reset();fa.next();)N=fa.value,N instanceof E&&(P=N,T=P.layer,null!==T&&!T.visible||null!==T&&!r&&T.Xc||!P.isVisible()||(P=P.Z,P.F()&&(A?
(A=!1,aa=P.copy()):aa.Wh(P))));A&&(aa=new z(0,0,0,0));B.width=aa.width;B.height=aa.height;y.x=aa.x;y.y=aa.y}null!==h&&h.F()&&(y=h,e||(e=x));A=fa=0;null!==l&&(fa=l.left+l.right,A=l.top+l.bottom);G=N=0;null!==d&&(N=d.width,G=d.height,isFinite(N)&&(N=Math.max(0,N-fa)),isFinite(G)&&(G=Math.max(0,G-A)));aa=h=0;null!==d&&null!==e?("NaN"===e&&(e=x),d.F()?(h=N,aa=G):isNaN(G)?(h=N,aa=B.height*e):(h=B.width*e,aa=G)):null!==d?d.F()?(e=Math.min(N/B.width,G/B.height),h=N,aa=G):isNaN(G)?(e=N/B.width,h=N,aa=B.height*
e):(e=G/B.height,h=B.width*e,aa=G):null!==e?"NaN"===e&&g.F()?(e=Math.min((g.width-fa)/B.width,(g.height-A)/B.height),e>x?(e=x,h=B.width,aa=B.height):(h=g.width,aa=g.height)):(h=B.width*e,aa=B.height*e):(e=x,h=B.width,aa=B.height);null!==l?(h+=fa,aa+=A):l=new Kb(0);null!==g&&(d=g.width,g=g.height,"svg"!==b.context&&c&&!Ln&&(h>d||aa>g)&&(C.trace("Diagram.makeImage(data): Diagram width or height is larger than the default max size. ("+Math.ceil(h)+"x"+Math.ceil(aa)+" vs 2000x2000) Consider increasing the max size."),
Ln=!0),isNaN(d)&&(d=2E3),isNaN(g)&&(g=2E3),isFinite(d)&&(h=Math.min(h,d)),isFinite(g)&&(aa=Math.min(aa,g)));s.width=Math.ceil(h);s.height=Math.ceil(aa);"svg"===b.context&&(v=t=new md(s.me,p,q),v instanceof md&&(a.Uo=!0));Im(a,v,l,new Fa(Math.ceil(h),Math.ceil(aa)),e,y,k,m,r,n);a.Uo=!0;return t}D.inherit=function(a,b){C.h(a,"function",D,"inherit");C.h(b,"function",D,"inherit");b.yH&&C.k("Cannot inherit from "+C.tf(b));C.Ta(a,b)};
function Hl(){this.BH="63ad05bbe23a1786468a4c741b6d2";this.Xi=this.BH===this._tk?!0:null}
function Mn(a){var b="f",c=window[C.Tg("76a715b2f73f148a")][C.Tg("72ba13b5")],d=C.Tg;if(window[d("7da7")]&&window[d("7da7")][d("76a115b6ed251eaf4692")]){a.Xi=!0;var e=window[d("7da7")][d("76a115b6ed251eaf4692")],e=d(e).split(d("39e9"));if(6>e.length)return;var g=d(e[1]).split(".");if("7da71ca0"!==e[4])return;var h=d(C[d("6cae19")]).split(".");if(g[0]>h[0]||g[0]===h[0]&&g[1]>=h[1]){g=c[d("76ad18b4f73e")];for(h=c[d("73a612b6fb191d")](d("35e7"))+2;h<g;h++)b+=c[h];g=b[d("73a612b6fb191d")](d(e[2]));0>
g&&d(e[2])!==d("7da71ca0ad381e90")&&(g=b[d("73a612b6fb191d")](d("76a715b2ef3e149757")));0>g&&(g=b[d("73a612b6fb191d")](d("76a715b2ef3e149757")));a.Xi=!(0<=g&&g<b[d("73a612b6fb191d")](d("35")));if(!a.Xi)return}else return}g=c[d("76ad18b4f73e")];for(h=c[d("73a612b6fb191d")](d("35e7"))+2;h<g;h++)b+=c[h];g=b[d("73a612b6fb191d")](d(C.adym));0>g&&d(C.adym)!==d("7da71ca0ad381e90")&&(g=b[d("73a612b6fb191d")](d("76a715b2ef3e149757")));a.Xi=!(0<=g&&g<b[d("73a612b6fb191d")](d("35")));a.Xi&&(b=window.document[d("79ba13b2f7333e8846865a7d00")]("div"),
c=d("02cncncn"),"."===c[0]&&(c=c[d("69bd14a0f724128a44")](1)),b[d("79a417a0f0181a8946")]=c,window.document[d("78a712aa")]?(window.document[d("78a712aa")][d("7bb806b6ed32388c4a875b")](b),c=window[d("7dad0290ec3b0b91578e5b40007031bf")](b)[d("7dad0283f1390b81519f4645156528bf")](d("78a704b7e62456904c9b12701b6532a8")),window.document[d("78a712aa")][d("68ad1bbcf533388c4a875b")](b),c&&-1!==c.indexOf(d(C.ZH))&&-1!==c.indexOf(d(C.$H))&&(a.Xi=!1)):(a.Xi=null,a.Xi=!1))}
Hl.prototype.Cm=function(a){a.pd.setTransform(a.rd,0,0,a.rd,0,0);null===this.Xi&&Mn(this);return 0<this.Xi&&this!==this.zH?!0:!1};Hl.prototype.t=function(){this.zH=null};
function Il(a,b){void 0!==b&&null!==b||C.k("Diagram setup requires an argument DIV.");null!==a.Tb&&C.k("Diagram has already completed setup.");"string"===typeof b?a.Tb=window.document.getElementById(b):b instanceof HTMLDivElement?a.Tb=b:C.k("No DIV or DIV id supplied: "+b);null===a.Tb&&C.k("Invalid DIV id; could not get element with id: "+b);void 0!==a.Tb.da&&C.k("Invalid div id; div already has a Diagram associated with it.");"static"===window.getComputedStyle(a.Tb,null).position&&(a.Tb.style.position=
"relative");a.Tb.style["-webkit-tap-highlight-color"]="rgba(255, 255, 255, 0)";a.Tb.style["-ms-touch-action"]="none";a.Tb.innerHTML="";a.Tb.da=a;var c=new ma(a);c.me.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.";void 0!==c.style&&(c.style.position="absolute",c.style.top="0px",c.style.left="0px","rtl"===window.getComputedStyle(a.Tb,null).getPropertyValue("direction")&&(a.gs=!0),c.style.zIndex="2",c.style.EM="none",c.style.webkitUserSelect="none",c.style.MozUserSelect=
"none");a.Ob=a.Tb.clientWidth||1;a.Sb=a.Tb.clientHeight||1;a.Nb=c;a.pd=c.Mk;var d=a.pd;a.rH=(window.devicePixelRatio||1)/(d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1);a.rd=a.computePixelRatio();Km(a,a.Ob,a.Sb);a.lz=d[C.Tg("7eba17a4ca3b1a8346")][C.Tg("78a118b7")](d,C.Cm,4,4);a.Tb.insertBefore(c.me,a.Tb.firstChild);c=new ma(null);c.width=1;c.height=1;a.kz=c;a.PC=c.Mk;var c=C.createElement("div"),e=C.createElement("div");
c.style.position="absolute";c.style.overflow="auto";c.style.width=a.Ob+"px";c.style.height=a.Sb+"px";c.style.zIndex="1";e.style.position="absolute";e.style.width="1px";e.style.height="1px";a.Tb.appendChild(c);c.appendChild(e);c.onscroll=a.tH;c.onmousedown=a.xD;c.ontouchstart=a.xD;c.da=a;c.wH=!0;c.xH=!0;a.Kw=c;a.it=e;a.qB=C.NE(function(){a.zk=null;a.ra()},300,!1);a.dH=C.NE(function(){al(a)},250,!1);a.preventDefault=function(a){a.preventDefault();return!1};a.Bq=function(b){if(a.isEnabled){a.Sm=!0;var c=
a.ed;C.Xn&&c.Jj?(b.preventDefault(),b.simulated=!0,a.rt=b):(a.ed=a.Ub,a.Ub=c,Xl(a,a,b,c,!0),a.Ay(b,null,b.target.da)||(a.doMouseMove(),a.hb.isBeyondDragSize()&&(a.Dl=0),ia(a,c,b)))}};a.Aq=function(b){if(a.isEnabled){a.Sm=!0;var c=a.ed;if(C.Xn&&null!==a.rt)a.rt=b,b.preventDefault();else if(C.Xn&&400>b.timeStamp-a.Wm)b.preventDefault();else if(a.Al)b.preventDefault();else{a.ed=a.Ub;a.Ub=c;Xl(a,a,b,c,!0);c.gm=!0;c.Qe=b.detail;if(C.GF||C.HF)b.timeStamp-a.Wm<a.iE&&!a.hb.isBeyondDragSize()?a.Dl++:a.Dl=
1,a.Wm=b.timeStamp,c.Qe=a.Dl;a.Zi=c;!0===c.Rr.simulated?(b.preventDefault(),b.simulated=!0):(u&&u.$F&&(window.$F=a.kq(c.ha)),Yh=null,a.doMouseDown(),a.Zi=a.Zi.copy(),1===b.button?b.preventDefault():ia(a,c,b))}}};a.Dq=function(b){if(a.isEnabled)if(a.Al&&2===b.button)b.preventDefault();else if(a.Al&&0===b.button&&(a.Al=!1),a.At)b.preventDefault();else{a.Sm=!0;var c=a.ed;if(C.Xn){if(400>b.timeStamp-a.Wm){b.preventDefault();return}a.Wm=b.timeStamp}if(C.Xn&&null!==a.rt)a.rt=null,b.preventDefault();else{a.ed=
a.Ub;a.Ub=c;Xl(a,a,b,c,!0);c.up=!0;c.Qe=b.detail;if(C.GF||C.HF)c.Qe=a.Dl;c.bubbles=b.bubbles;b.target.da&&(c.eh=b.target.da);a.HG(b,null,new O,c.eh)||(a.doMouseUp(),yi(a),ia(a,c,b))}}};a.Qh=function(b){if(a.isEnabled){var c=a.ed;a.ed=a.Ub;a.Ub=c;Xl(a,a,b,c,!0);c.bubbles=!0;c.fm=void 0!==b.wheelDelta?b.wheelDelta:-40*b.detail;a.doMouseWheel();ia(a,c,b)}};a.Cq=function(){if(a.isEnabled){a.Sm=!1;var b=a.hb;b.cancelWaitAfter();b instanceof Kh&&b.hideToolTip()}};a.WG=function(b){if(a.isEnabled){a.At=!1;
a.Al=!0;var c=a.ed;a.ed=a.Ub;a.Ub=c;Zl(a,b,b.targetTouches[0],c,1<b.touches.length);a.doMouseDown();ia(a,c,b)}};a.VG=function(b){if(a.isEnabled){var c=a.ed;a.ed=a.Ub;a.Ub=c;var d=null;0<b.changedTouches.length?d=b.changedTouches[0]:0<b.targetTouches.length&&(d=b.targetTouches[0]);$l(a,b,d,c,1<b.touches.length);a.Ay(d?d:b,null,c.eh)||a.doMouseMove();ia(a,c,b)}};a.UG=function(b){if(a.isEnabled)if(a.At)b.preventDefault();else{var c=a.ed;a.ed=a.Ub;a.Ub=c;if(!(1<b.touches.length)){var d=null,e=null;0<
b.changedTouches.length?e=b.changedTouches[0]:0<b.targetTouches.length&&(e=b.targetTouches[0]);c.g=a;c.Qe=1;if(null!==e){d=window.document.elementFromPoint(e.clientX,e.clientY);null!==d&&d.da instanceof D&&d.da!==a&&Yl(d.da,e,c);Yl(a,b.changedTouches[0],c);var m=e.screenX,n=e.screenY,p=a.mD;b.timeStamp-a.Wm<a.iE&&!(25<Math.abs(p.x-m)||25<Math.abs(p.y-n))?a.Dl++:a.Dl=1;c.Qe=a.Dl;a.Wm=b.timeStamp;a.mD.m(m,n)}c.Kd=0;c.button=0;c.buttons=1;c.gm=!1;c.up=!0;c.fm=0;c.Oc=!1;c.bubbles=!1;c.event=b;c.timestamp=
Date.now();c.eh=null===d?b.target.da:d.da?d.da:null;c.We=null;a.HG(e?e:b,null,new O,c.eh)||a.doMouseUp();ia(a,c,b);a.Al=!1}}};a.PJ=function(b){if("touch"===b.pointerType){var c=a.HD;void 0===c[b.pointerId]&&(a.Aw++,c[b.pointerId]=b);a.pj[0]=null;a.pj[1]=null;for(var d in c)if(null===a.pj[0])a.pj[0]=c[d];else if(null===a.pj[1]){a.pj[1]=c[d];break}a.isEnabled&&(a.At=!1,a.Al=!0,c=a.ed,a.ed=a.Ub,a.Ub=c,Zl(a,b,b,c,1<a.Aw),a.doMouseDown(),ia(a,c,b))}};a.RJ=function(b){if("touch"===b.pointerType&&!(2>a.Aw)){var c=
a.pj;c[0].pointerId===b.pointerId&&(c[0]=b);c[1].pointerId===b.pointerId&&(c[1]=b);a.isEnabled&&(c=a.ed,a.ed=a.Ub,a.Ub=c,$l(a,b,b,c,!0),a.Ay(b,null,c.eh)||(a.doMouseMove(),ia(a,c,b)))}};a.QJ=function(b){if("touch"===b.pointerType){var c=a.HD;void 0!==c[b.pointerId]&&(a.Aw--,delete c[b.pointerId],c=a.pj,null!==c[0]&&c[0].pointerId===b.pointerId&&(c[0]=null),null!==c[1]&&c[1].pointerId===b.pointerId&&(c[1]=null))}};da(d,!0);Ll(a)}
function Nn(a){1<arguments.length&&C.k("Palette constructor can only take one optional argument, the DIV HTML element or its id.");D.call(this,a);this.Rt=!0;this.Wl=!1;this.nb=!0;this.JE=ic;this.Wb=new On}C.Ta(Nn,D);C.ka("Palette",Nn);
function El(a){1<arguments.length&&C.k("Overview constructor can only take one optional argument, the DIV HTML element or its id.");D.call(this,a);this.Ya.isEnabled=!1;this.cd=!0;this.vk=null;this.Mv=!0;this.kK("drawShadows",!1);var b=new E,c=new w;c.stroke="magenta";c.ib=2;c.fill="transparent";c.name="BOXSHAPE";b.Zk=!0;b.vy="BOXSHAPE";b.ay="BOXSHAPE";b.sG="BOXSHAPE";b.cursor="move";b.add(c);this.Hm=b;c=new ea;c.type=Rj;c.xf=mc;var d=new Sj;d.Hf=!0;c.add(d);d=new w;d.Fh=mc;d.Jb="Rectangle";d.Da=new Fa(64,
64);d.cursor="se-resize";d.alignment=qc;c.add(d);b.qG=c;this.Bn=this.Ik=!1;this.Cf=this.Tt=!0;this.CE=0;this.Yz=new ma(null);this.AH=this.Yz.Mk;this.lb.Ee=new Pn;this.lb.tG=new Qn;var e=this;this.click=function(){var a=e.vk;if(null!==a){var b=a.yb,c=e.U.ha;a.position=new O(c.x-b.width/2,c.y-b.height/2)}};this.bG=function(){Rn(e)};this.aG=function(){null!==e.vk&&(e.Bc(),e.ra())};this.Zl=Vl;this.cd=!1}C.Ta(El,D);C.ka("Overview",El);
function Sn(a){a.cd||a.he||!1!==a.Yf||(a.Yf=!0,requestAnimationFrame(function(){if(a.Yf&&!a.he&&(a.Yf=!1,null!==a.Tb)){a.he=!0;Li(a);a.fd.F()||Ul(a,a.Jh());null===a.Tb&&C.k("No div specified");null===a.Nb&&C.k("No canvas specified");if(a.Ne){var b=a.vk;if(null!==b&&!b.Ya.vf&&!b.Ya.yc){var b=a.pd,c=a.Yz;b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,a.Nb.width,a.Nb.height);b.drawImage(c.me,0,0);c=a.Kc;c.reset();1!==a.scale&&c.scale(a.scale);0===a.position.x&&0===a.position.y||c.translate(-a.position.x,
-a.position.y);b.scale(a.rd,a.rd);b.transform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy);for(var c=a.cc.o,d=c.length,e=0;e<d;e++)c[e].Fe(b,a);a.zl=!1;a.Ne=!1}}a.he=!1}}))}El.prototype.computePixelRatio=function(){return 1};
El.prototype.Fe=function(){null===this.Tb&&C.k("No div specified");null===this.Nb&&C.k("No canvas specified");if(this.Ne){var a=this.vk;if(null!==a&&!a.Ya.vf){Fm(this);var b=a.Vn;(null!==b&&b.visible&&isNaN(b.width)||isNaN(b.height))&&dm(a);var c=this.Nb,b=this.pd,d=this.Yz,e=this.AH;d.width=c.width;d.height=c.height;da(b,!0);b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,c.width,c.height);var g=this.Kc;g.reset();1!==this.scale&&g.scale(this.scale);0===this.position.x&&0===this.position.y||g.translate(-this.position.x,
-this.position.y);b.scale(this.rd,this.rd);b.transform(g.m11,g.m12,g.m21,g.m22,g.dx,g.dy);for(var h=this.Mv,k=this.yb,l=a.cc.o,m=l.length,a=0;a<m;a++){var n=l[a],p=b,q=k,r=h;if(n.visible&&0!==n.Ic&&(void 0===r&&(r=!0),r||!n.Xc)){1!==n.Ic&&(p.globalAlpha=n.Ic);for(var r=this.scale,n=n.qb.o,s=n.length,v=0;v<s;v++){var t=n[v],x=t.Z;x.Wg(q)&&(1<x.width*r||1<x.height*r?t.Fe(p,this):ql(t,p))}p.globalAlpha=1}}e.drawImage(c.me,0,0);u&&u.zj&&(e.fillStyle="red",e.fillRect(0,d.height/2,d.width,4));c=this.cc.o;
d=c.length;for(a=0;a<d;a++)c[a].Fe(b,this);u&&(u.yA||u.zj)&&u.xA(b,this,g);this.Ne=this.zl=!1}}};
C.defineProperty(El,{kB:"observed"},function(){return this.vk},function(a){var b=this.vk;null!==a&&C.l(a,D,El,"observed");a instanceof El&&C.k("Overview.observed Diagram may not be an Overview itself: "+a);b!==a&&(null!==b&&(this.remove(this.Ih),b.jG("ViewportBoundsChanged",this.bG),b.jG("DocumentBoundsChanged",this.aG),b.ww.remove(this)),this.vk=a,null!==a&&(a.gA("ViewportBoundsChanged",this.bG),a.gA("DocumentBoundsChanged",this.aG),a.ww.add(this),this.add(this.Ih),Rn(this)),this.Bc(),this.i("observed",
b,a))});C.defineProperty(El,{Ih:"box"},function(){return this.Hm},function(a){var b=this.Hm;b!==a&&(this.Hm=a,this.remove(b),this.add(this.Hm),Rn(this),this.i("box",b,a))});C.defineProperty(El,{BL:"drawsTemporaryLayers"},function(){return this.Mv},function(a){this.Mv!==a&&(this.Mv=a,this.Iq())});
function Rn(a){var b=a.Ih;if(null!==b){var c=a.vk;if(null!==c){a.Ne=!0;var c=c.yb,d=b.no,e=C.Am();e.m(c.width,c.height);d.Da=e;C.Qk(e);a=2/a.scale;d instanceof w&&(d.ib=a);b.location=new O(c.x-a/2,c.y-a/2)}}}El.prototype.Jh=function(){var a=this.vk;return null===a?Ed:a.fd};El.prototype.BF=function(){!0!==this.Ne&&(this.Ne=!0,Sn(this))};
El.prototype.Mu=function(a,b,c,d,e){this.cd||(Pl(this),this.ra(),am(this),this.Bc(),Rn(this),this.Eh.scale=c,this.Eh.position.x=a.x,this.Eh.position.y=a.y,this.Eh.bounds.set(a),this.Eh.isScroll=e,this.Ka("ViewportBoundsChanged",this.Eh,a))};function Pn(){Ph.call(this);this.Kl=null}C.Ta(Pn,Ph);
Pn.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.g;if(null===a||!a.Wl||!a.Cf)return!1;var b=a.kB;if(null===b)return!1;if(null===this.findDraggablePart()){var c=b.yb;this.Kl=new O(c.width/2,c.height/2);a=a.Nc.ha;b.position=new O(a.x-this.Kl.x,a.y-this.Kl.y)}return!0};Pn.prototype.doActivate=function(){this.Kl=null;Ph.prototype.doActivate.call(this)};
Pn.prototype.moveParts=function(){var a=this.g,b=a.kB;if(null!==b){var c=a.Ih;if(null!==c){if(null===this.Kl){var d=a.Nc.ha,c=c.location;this.Kl=new O(d.x-c.x,d.y-c.y)}a=a.U.ha;b.position=new O(a.x-this.Kl.x,a.y-this.Kl.y)}}};function Qn(){Qj.call(this)}C.Ta(Qn,Qj);Qn.prototype.resize=function(a){var b=this.g.kB;if(null!==b){var c=b.yb.copy();b.position=a.position;(c.width!==a.width||c.height!==a.height)&&0<a.width&&0<a.height&&(b.scale=Math.min(c.width/a.width,c.height/a.height))}};
function Ea(a){1<arguments.length&&C.k("Brush constructor can take at most one optional argument, the Brush type.");C.wc(this);this.J=!1;void 0===a?(this.ca=Zg,this.Ho="black"):"string"===typeof a?(this.ca=Zg,u&&!Da(a)&&C.k('Color "'+a+'" is not a valid color string for Brush constructor'),this.Ho=a):(u&&C.Ca(a,Ea,Ea,"constructor:type"),this.ca=a,this.Ho="black");var b=this.ca;b===$g?(this.Kp=ic,this.Wo=pc):this.Wo=b===Bd?this.Kp=mc:this.Kp=gc;this.Rw=0;this.Nv=NaN;this.qh=this.zw=this.ph=null;this.az=
this.Io=0}C.ka("Brush",Ea);var Zg;Ea.Solid=Zg=C.s(Ea,"Solid",0);var $g;Ea.Linear=$g=C.s(Ea,"Linear",1);var Bd;Ea.Radial=Bd=C.s(Ea,"Radial",2);var Tn;Ea.Pattern=Tn=C.s(Ea,"Pattern",4);var Un;Ea.Lab=Un=C.s(Ea,"Lab",5);var Vn;Ea.HSL=Vn=C.s(Ea,"HSL",6);Ea.prototype.copy=function(){var a=new Ea;a.ca=this.ca;a.Ho=this.Ho;a.Kp=this.Kp.V();a.Wo=this.Wo.V();a.Rw=this.Rw;a.Nv=this.Nv;null!==this.ph&&(a.ph=this.ph.copy());a.zw=this.zw;return a};f=Ea.prototype;
f.Na=function(){this.freeze();Object.freeze(this);return this};f.freeze=function(){this.J=!0;null!==this.ph&&this.ph.freeze();return this};f.Za=function(){Object.isFrozen(this)&&C.k("cannot thaw constant: "+this);this.J=!1;null!==this.ph&&this.ph.Za();return this};f.pc=function(a){a.Pe===Ea?this.type=a:C.Vj(this,a)};
f.toString=function(){var a="Brush(";if(this.type===Zg)a+=this.color;else if(a=this.type===$g?a+"Linear ":this.type===Bd?a+"Radial ":this.type===Tn?a+"Pattern ":a+"(unknown) ",a+=this.start+" "+this.end,null!==this.Jk)for(var b=this.Jk.j;b.next();)a+=" "+b.key+":"+b.value;return a+")"};
Ea.prototype.addColorStop=Ea.prototype.addColorStop=function(a,b){this.J&&C.qa(this);("number"!==typeof a||!isFinite(a)||1<a||0>a)&&C.wa(a,"0 <= loc <= 1",Ea,"addColorStop:loc");C.h(b,"string",Ea,"addColorStop:color");u&&!Da(b)&&C.k('Color "'+b+'" is not a valid color string for Brush.addColorStop');null===this.ph&&(this.ph=new oa("number","string"));this.ph.add(a,b);this.ca===Zg&&(this.type=$g);this.qh=null};
C.defineProperty(Ea,{type:"type"},function(){return this.ca},function(a){this.J&&C.qa(this,a);C.Ca(a,Ea,Ea,"type");this.ca=a;this.start.Zd()&&(a===$g?this.start=ic:a===Bd&&(this.start=mc));this.end.Zd()&&(a===$g?this.end=pc:a===Bd&&(this.end=mc));this.qh=null});C.defineProperty(Ea,{color:"color"},function(){return this.Ho},function(a){this.J&&C.qa(this,a);u&&!Da(a)&&C.k('Color "'+a+'" is not a valid color string for Brush.color');this.Ho=a;this.qh=null});
C.defineProperty(Ea,{start:"start"},function(){return this.Kp},function(a){this.J&&C.qa(this,a);C.l(a,S,Ea,"start");this.Kp=a.V();this.qh=null});C.defineProperty(Ea,{end:"end"},function(){return this.Wo},function(a){this.J&&C.qa(this,a);C.l(a,S,Ea,"end");this.Wo=a.V();this.qh=null});C.defineProperty(Ea,{av:"startRadius"},function(){return this.Rw},function(a){this.J&&C.qa(this,a);C.p(a,Ea,"startRadius");0>a&&C.wa(a,">= zero",Ea,"startRadius");this.Rw=a;this.qh=null});
C.defineProperty(Ea,{cu:"endRadius"},function(){return this.Nv},function(a){this.J&&C.qa(this,a);C.p(a,Ea,"endRadius");0>a&&C.wa(a,">= zero",Ea,"endRadius");this.Nv=a;this.qh=null});C.defineProperty(Ea,{Jk:"colorStops"},function(){return this.ph},function(a){this.J&&C.qa(this,a);u&&C.l(a,oa,Ea,"colorStops");this.ph=a;this.qh=null});C.defineProperty(Ea,{pattern:"pattern"},function(){return this.zw},function(a){this.J&&C.qa(this,a);this.zw=a;this.qh=null});
Ea.randomColor=function(a,b){void 0===a&&(a=128);u&&(C.p(a,Ea,"randomColor:min"),(0>a||255<a)&&C.wa(a,"0 <= min <= 255",Ea,"randomColor:min"));void 0===b&&(b=Math.max(a,255));u&&(C.p(b,Ea,"randomColor:max"),(b<a||255<b)&&C.wa(b,"min <= max <= 255",Ea,"randomColor:max"));var c=Math.abs(b-a),d=Math.floor(a+Math.random()*c).toString(16),e=Math.floor(a+Math.random()*c).toString(16),c=Math.floor(a+Math.random()*c).toString(16);2>d.length&&(d="0"+d);2>e.length&&(e="0"+e);2>c.length&&(c="0"+c);return"#"+
d+e+c};var Wn=(new ma(null)).Mk,Da;Ea.isValidColor=Da=function(a){if("black"===a)return!0;if(""===a)return!1;u&&C.h(a,"string",Ea,"isValidColor");Wn.fillStyle="#000000";var b=Wn.fillStyle;Wn.fillStyle=a;if(Wn.fillStyle!==b)return!0;Wn.fillStyle="#FFFFFF";b=Wn.fillStyle;Wn.fillStyle=a;return Wn.fillStyle!==b};var Yn=new Xn,Zn=new Xn,$n=new Xn,ao=new Xn;Ea.lighten=function(a){return bo(a)};
Ea.prototype.lightenBy=function(a,b){this.J&&C.qa(this);var c=void 0===a||"number"!==typeof a?.2:a,d=void 0===b?Un:b;if(this.type===Zg)co(this.color),this.color=eo(c,d);else if((this.type===$g||this.type===Bd)&&null!==this.Jk)for(var e=this.Jk.j;e.next();)co(e.value),this.addColorStop(e.key,eo(c,d));return this};var bo;Ea.lightenBy=bo=function(a,b,c){b=void 0===b||"number"!==typeof b?.2:b;c=void 0===c?Un:c;co(a);return eo(b,c)};Ea.darken=function(a){return fo(a)};
Ea.prototype.darkenBy=function(a,b){this.J&&C.qa(this);var c=void 0===a||"number"!==typeof a?.2:a,d=void 0===b?Un:b;if(this.type===Zg)co(this.color),this.color=eo(-c,d);else if((this.type===$g||this.type===Bd)&&null!==this.Jk)for(var e=this.Jk.j;e.next();)co(e.value),this.addColorStop(e.key,eo(-c,d));return this};var fo;Ea.darkenBy=fo=function(a,b,c){b=void 0===b||"number"!==typeof b?.2:b;c=void 0===c?Un:c;co(a);return eo(-b,c)};
function eo(a,b){switch(b){case Un:var c=100*ho(Yn.Qc),d=100*ho(Yn.Ld),e=100*ho(Yn.kd);$n.Qc=.4124564*c+.3575761*d+.1804375*e;$n.Ld=.2126729*c+.7151522*d+.072175*e;$n.kd=.0193339*c+.119192*d+.9503041*e;$n.lg=Yn.lg;c=io($n.Qc/jo[0]);d=io($n.Ld/jo[1]);e=io($n.kd/jo[2]);ao.Qc=116*d-16;ao.Ld=500*(c-d);ao.kd=200*(d-e);ao.lg=$n.lg;ao.Qc=Math.min(100,Math.max(0,ao.Qc+100*a));c=(ao.Qc+16)/116;d=c-ao.kd/200;$n.Qc=jo[0]*ko(ao.Ld/500+c);$n.Ld=jo[1]*(ao.Qc>lo*mo?Math.pow(c,3):ao.Qc/lo);$n.kd=jo[2]*ko(d);$n.lg=
ao.lg;c=-.969266*$n.Qc+1.8760108*$n.Ld+.041556*$n.kd;d=.0556434*$n.Qc+-.2040259*$n.Ld+1.0572252*$n.kd;Yn.Qc=255*no((3.2404542*$n.Qc+-1.5371385*$n.Ld+-.4985314*$n.kd)/100);Yn.Ld=255*no(c/100);Yn.kd=255*no(d/100);Yn.lg=$n.lg;Yn.Qc=Math.round(Yn.Qc);255<Yn.Qc?Yn.Qc=255:0>Yn.Qc&&(Yn.Qc=0);Yn.Ld=Math.round(Yn.Ld);255<Yn.Ld?Yn.Ld=255:0>Yn.Ld&&(Yn.Ld=0);Yn.kd=Math.round(Yn.kd);255<Yn.kd?Yn.kd=255:0>Yn.kd&&(Yn.kd=0);return"rgba("+Yn.Qc+", "+Yn.Ld+", "+Yn.kd+", "+Yn.lg+")";case Vn:var e=Yn.Qc/255,g=Yn.Ld/
255,h=Yn.kd/255,k=Math.max(e,g,h),d=Math.min(e,g,h),l=k-d,d=(k+d)/2;if(0===l)c=e=0;else{switch(k){case e:c=(g-h)/l%6;break;case g:c=(h-e)/l+2;break;case h:c=(e-g)/l+4}c*=60;0>c&&(c+=360);e=l/(1-Math.abs(2*d-1))}Zn.Qc=Math.round(c);Zn.Ld=Math.round(100*e);Zn.kd=Math.round(100*d);Zn.lg=Yn.lg;Zn.kd=Math.min(100,Math.max(0,Zn.kd+100*a));return"hsla("+Zn.Qc+", "+Zn.Ld+"%, "+Zn.kd+"%, "+Zn.lg+")";default:return C.k("Unknown color space: "+b),"rgba(0, 0, 0, 1)"}}
function co(a){Wn.clearRect(0,0,1,1);Wn.fillStyle="#000000";var b=Wn.fillStyle;Wn.fillStyle=a;Wn.fillStyle!==b?(Wn.fillRect(0,0,1,1),a=Wn.getImageData(0,0,1,1).data,Yn.Qc=a[0],Yn.Ld=a[1],Yn.kd=a[2],Yn.lg=a[3]/255):(Wn.fillStyle="#FFFFFF",b=Wn.fillStyle,Wn.fillStyle=a,Wn.fillStyle===b&&u&&C.k('Color "'+a+'" is not a valid color string for RGBA color conversion'),Yn.Qc=0,Yn.Ld=0,Yn.kd=0,Yn.lg=1)}function ho(a){a/=255;return.04045>=a?a/12.92:Math.pow((a+.055)/1.055,2.4)}
function no(a){return.0031308>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055}var mo=216/24389,lo=24389/27,jo=[95.047,100,108.883];function io(a){return a>mo?Math.pow(a,1/3):(lo*a+16)/116}function ko(a){var b=a*a*a;return b>mo?b:(116*a-16)/lo}function Xn(){this.lg=this.kd=this.Ld=this.Qc=0}
function Q(){C.wc(this);this.T=4225027;this.Ic=1;this.Ah=null;this.Yb="";this.jc=this.Kb=null;this.ub=(new O(NaN,NaN)).freeze();this.Ye=ie;this.li=Sd;this.ki=ge;this.Kc=new Ga;this.Li=new Ga;this.gj=new Ga;this.Rb=this.To=1;this.rg=0;this.Mg=oo;this.an=Nd;this.Dd=(new z(NaN,NaN,NaN,NaN)).freeze();this.bc=(new z(NaN,NaN,NaN,NaN)).freeze();this.Uc=(new z(0,0,NaN,NaN)).freeze();this.Y=this.Vs=this.Ws=null;this.Fm=this.te=Rc;this.ft=0;this.rj=1;this.pr=0;this.Qi=1;this.vt=null;this.jt=-Infinity;this.on=
0;this.pn=Dd;this.qn=nj;this.yr="";this.Ec=this.ma=null;this.Eo=-1;this.hn=this.un=this.ug=this.rl=this.Jp=null}C.Ai(Q);C.ka("GraphObject",Q);
Q.prototype.cloneProtected=function(a){a.T=this.T|6144;a.Ic=this.Ic;a.Yb=this.Yb;a.Kb=this.Kb;a.jc=this.jc;a.ub.assign(this.ub);a.Ye=this.Ye.V();a.li=this.li.V();a.ki=this.ki.V();a.gj=this.gj.copy();a.Rb=this.Rb;a.rg=this.rg;a.Mg=this.Mg;a.an=this.an.V();a.Dd.assign(this.Dd);a.bc.assign(this.bc);a.Uc.assign(this.Uc);a.Vs=this.Vs;null!==this.Y&&(a.Y=this.Y.copy());a.te=this.te.V();a.Fm=this.Fm.V();a.ft=this.ft;a.rj=this.rj;a.pr=this.pr;a.Qi=this.Qi;a.vt=this.vt;a.jt=this.jt;a.on=this.on;a.pn=this.pn.V();
a.qn=this.qn;a.yr=this.yr;null!==this.ma&&(a.ma=this.ma.copy());a.Ec=this.Ec;a.Eo=this.Eo;null!==this.rl&&(a.rl=C.am(this.rl));null!==this.ug&&(a.ug=this.ug.copy());a.un=this.un};Q.prototype.addCopyProperty=Q.prototype.JH=function(a){var b=this.rl;if(C.isArray(b))for(var c=0;c<b.length;c++){if(b[c]===a)return}else this.rl=b=[];b.push(a)};Q.prototype.Bi=function(a){a.Ws=null;a.hn=null;a.K()};
Q.prototype.clone=function(){var a=new this.constructor;this.cloneProtected(a);if(null!==this.rl)for(var b=0;b<this.rl.length;b++){var c=this.rl[b];a[c]=this[c]}return a};Q.prototype.copy=function(){return this.clone()};Q.prototype.pc=function(a){a.Pe===I?0===a.name.indexOf("Orient")?this.Pq=a:C.k("Unknown Link enum value for GraphObject.segmentOrientation property: "+a):a.Pe===Q?this.stretch=a:C.Vj(this,a)};Q.prototype.toString=function(){return C.tf(Object.getPrototypeOf(this))+"#"+C.Gd(this)};
var Tj;Q.None=Tj=C.s(Q,"None",0);var oo;Q.Default=oo=C.s(Q,"Default",0);var po;Q.Vertical=po=C.s(Q,"Vertical",4);var qo;Q.Horizontal=qo=C.s(Q,"Horizontal",5);var gf;Q.Fill=gf=C.s(Q,"Fill",3);var Vj;Q.Uniform=Vj=C.s(Q,"Uniform",1);var Wj;Q.UniformToFill=Wj=C.s(Q,"UniformToFill",2);var ro;Q.FlipVertical=ro=C.s(Q,"FlipVertical",1);var so;Q.FlipHorizontal=so=C.s(Q,"FlipHorizontal",2);var to;Q.FlipBoth=to=C.s(Q,"FlipBoth",3);function uo(a){null===a.ma&&(a.ma=new vo)}
Q.prototype.Wd=function(){if(null===this.Y){var a=new wo;a.hk=gc;a.Ek=gc;a.fk=10;a.Ck=10;a.ek=xo;a.Bk=xo;a.gk=0;a.Dk=0;this.Y=a}};function yo(a,b,c,d,e,g,h){var k=.001,l=g.length;a.moveTo(b,c);d-=b;k=e-c;0===d&&(d=.001);e=k/d;for(var m=Math.sqrt(d*d+k*k),n=0,p=!0,q=0===h?!1:!0;.1<=m;){if(q){k=g[n++%l];for(k-=h;0>k;)k+=g[n++%l],p=!p;q=!1}else k=g[n++%l];k>m&&(k=m);var r=Math.sqrt(k*k/(1+e*e));0>d&&(r=-r);b+=r;c+=e*r;p?a.lineTo(b,c):a.moveTo(b,c);m-=k;p=!p}}
Q.prototype.raiseChangedEvent=Q.prototype.ld=function(a,b,c,d,e,g,h){var k=this.ba;if(null!==k&&(k.lo(a,b,c,d,e,g,h),zo(this)&&c===this&&a===bg&&Ao(this,k,b),c===k&&0!==(k.T&16777216)&&null!==k.data))for(a=this.va.o,c=a.length,d=0;d<c;d++)e=a[d],e instanceof J&&Mm(e,function(a){null!==a.data&&0!==(a.T&16777216)&&a.Mb(b)})};
function Ao(a,b,c){var d=a.jm();if(null!==d)for(var e=a.Ec.j;e.next();){var g=e.value,h=null;if(null!==g.Wq){h=vh(g,d,a);if(null===h)continue;g.Cy(a,h,c,null)}else if(g.Ux){var k=b.g;null===k||k.Ve||g.Cy(a,k.ia.Xk,c,d)}else{var l=d.data;if(null===l)continue;k=b.g;null===k||k.Ve||g.Cy(a,l,c,d)}h===a&&(k=d.Cx(g.zm),null!==k&&g.bH(k,h,c))}}Q.prototype.Cx=function(a){return this.Eo===a?this:null};Q.prototype.raiseChanged=Q.prototype.i=function(a,b,c){this.ld(bg,a,this,b,c)};
function Bo(a,b,c,d,e){var g=a.Dd,h=a.gj;h.reset();Co(a,h,b,c,d,e);a.gj=h;g.x=b;g.y=c;g.width=d;g.height=e;h.vu()||h.ZG(g)}function Do(a,b,c,d){if(!1===a.pg)return!1;d.multiply(a.transform);return c?a.Wg(b,d):a.Hn(b,d)}
Q.prototype.hF=function(a,b,c){if(!1===this.pg)return!1;var d=this.Ja;b=a.Df(b);var e=!1;c&&(e=xb(a.x,a.y,0,0,0,d.height)<b||xb(a.x,a.y,0,d.height,d.width,d.height)<b||xb(a.x,a.y,d.width,d.height,d.width,0)<b||xb(a.x,a.y,d.width,0,0,0)<b);c||(e=xb(a.x,a.y,0,0,0,d.height)<b&&xb(a.x,a.y,0,d.height,d.width,d.height)<b&&xb(a.x,a.y,d.width,d.height,d.width,0)<b&&xb(a.x,a.y,d.width,0,0,0)<b);return e};Q.prototype.jh=function(){return!0};
Q.prototype.containsPoint=Q.prototype.Oa=function(a){u&&C.l(a,O,Q,"containsPoint:p");var b=C.P();b.assign(a);this.transform.wb(b);var c=this.Z;if(!c.F())return C.A(b),!1;var d=this.g;if(null!==d&&d.Al){var e=d.mu("extraTouchThreshold"),g=d.mu("extraTouchArea"),h=g/2,k=this.Ja,d=this.Ej()*d.scale,l=1/d;if(k.width*d<e&&k.height*d<e)return a=Sb(c.x-h*l,c.y-h*l,c.width+g*l,c.height+g*l,b.x,b.y),C.A(b),a}if(this instanceof ea||this instanceof w?Sb(c.x-5,c.y-5,c.width+10,c.height+10,b.x,b.y):c.Oa(b))return e=
!1,e=this.ug&&!this.ug.Oa(b)?!1:null!==this.jc&&c.Oa(b)?!0:null!==this.Kb&&this.Uc.Oa(a)?!0:this.Kk(a),C.A(b),e;C.A(b);return!1};Q.prototype.Kk=function(a){var b=this.Ja;return Sb(0,0,b.width,b.height,a.x,a.y)};
Q.prototype.containsRect=Q.prototype.Lk=function(a){u&&C.l(a,z,Q,"containsRect:r");if(0===this.angle)return this.Z.Lk(a);var b=this.Ja,b=C.fh(0,0,b.width,b.height),c=this.transform,d=!1,e=C.Fb(a.x,a.y);b.Oa(c.Ci(e))&&(e.m(a.x,a.bottom),b.Oa(c.Ci(e))&&(e.m(a.right,a.bottom),b.Oa(c.Ci(e))&&(e.m(a.right,a.y),b.Oa(c.Ci(e))&&(d=!0))));C.A(e);C.Lb(b);return d};
Q.prototype.containedInRect=Q.prototype.Hn=function(a,b){u&&C.l(a,z,Q,"containedInRect:r");if(void 0===b)return a.Lk(this.Z);var c=this.Ja,d=!1,e=C.Fb(0,0);a.Oa(b.wb(e))&&(e.m(0,c.height),a.Oa(b.wb(e))&&(e.m(c.width,c.height),a.Oa(b.wb(e))&&(e.m(c.width,0),a.Oa(b.wb(e))&&(d=!0))));C.A(e);return d};
Q.prototype.intersectsRect=Q.prototype.Wg=function(a,b){u&&C.l(a,z,Q,"intersectsRect:r");if(void 0===b&&(b=this.transform,0===this.angle))return a.Wg(this.Z);var c=this.Ja,d=b,e=C.Fb(0,0),g=C.Fb(0,c.height),h=C.Fb(c.width,c.height),k=C.Fb(c.width,0),l=!1;if(a.Oa(d.wb(e))||a.Oa(d.wb(g))||a.Oa(d.wb(h))||a.Oa(d.wb(k)))l=!0;else{var c=C.fh(0,0,c.width,c.height),m=C.Fb(a.x,a.y);c.Oa(d.Ci(m))?l=!0:(m.m(a.x,a.bottom),c.Oa(d.Ci(m))?l=!0:(m.m(a.right,a.bottom),c.Oa(d.Ci(m))?l=!0:(m.m(a.right,a.y),c.Oa(d.Ci(m))&&
(l=!0))));C.A(m);C.Lb(c);!l&&(Oe(a,e,g)||Oe(a,g,h)||Oe(a,h,k)||Oe(a,k,e))&&(l=!0)}C.A(e);C.A(g);C.A(h);C.A(k);return l};Q.prototype.getDocumentPoint=Q.prototype.fb=function(a,b){void 0===b&&(b=new O);if(a instanceof S){a.Zd()&&C.k("getDocumentPoint:s Spot must be specific: "+a.toString());var c=this.Ja;b.m(a.x*c.width+a.offsetX,a.y*c.height+a.offsetY)}else b.set(a);this.Gh.wb(b);return b};
Q.prototype.getDocumentAngle=Q.prototype.Rn=function(){var a;a=this.Gh;1===a.m11&&0===a.m12?a=0:(a=180*Math.atan2(a.m12,a.m11)/Math.PI,0>a&&(a+=360));return a};Q.prototype.getDocumentScale=Q.prototype.Ej=function(){if(0!==(this.T&4096)===!1)return this.To;var a=this.Rb;return null!==this.Q?a*this.Q.Ej():a};Q.prototype.getLocalPoint=Q.prototype.mF=function(a,b){void 0===b&&(b=new O);b.assign(a);this.Gh.Ci(b);return b};
Q.prototype.getNearestIntersectionPoint=Q.prototype.nF=function(a,b,c){return this.Tn(a.x,a.y,b.x,b.y,c)};f=Q.prototype;f.Tn=function(a,b,c,d,e){var g=this.transform,h=1/(g.m11*g.m22-g.m12*g.m21),k=g.m22*h,l=-g.m12*h,m=-g.m21*h,n=g.m11*h,p=h*(g.m21*g.dy-g.m22*g.dx),q=h*(g.m12*g.dx-g.m11*g.dy);if(null!==this.Xl)return g=this.Z,Ge(g.left,g.top,g.right,g.bottom,a,b,c,d,e);h=a*k+b*m+p;a=a*l+b*n+q;b=c*k+d*m+p;c=c*l+d*n+q;e.m(0,0);d=this.Ja;c=Ge(0,0,d.width,d.height,h,a,b,c,e);e.transform(g);return c};
function Bk(a,b,c,d,e){if(!1!==Cm(a)){var g=a.margin,h=g.right+g.left,g=g.top+g.bottom;b=Math.max(b-h,0);c=Math.max(c-g,0);e=e||0;d=Math.max((d||0)-h,0);e=Math.max(e-g,0);var h=a.angle,g=0,g=a.Da,k=0;a.ib&&(k=a.ib);90===h||270===h?(b=isFinite(g.height)?g.height+k:b,c=isFinite(g.width)?g.width+k:c):(b=isFinite(g.width)?g.width+k:b,c=isFinite(g.height)?g.height+k:c);var g=d||0,k=e||0,l=a instanceof J;switch(Eo(a,!0)){case Tj:k=g=0;l&&(c=b=Infinity);break;case gf:isFinite(b)&&b>d&&(g=b);isFinite(c)&&
c>e&&(k=c);break;case qo:isFinite(b)&&b>d&&(g=b);k=0;l&&(c=Infinity);break;case po:isFinite(c)&&c>e&&(k=c),g=0,l&&(b=Infinity)}var l=a.lf,m=a.hg;g>l.width&&m.width<l.width&&(g=l.width);k>l.height&&m.height<l.height&&(k=l.height);d=Math.max(g/a.scale,m.width);e=Math.max(k/a.scale,m.height);l.width<d&&(d=Math.min(m.width,d));l.height<e&&(e=Math.min(m.height,e));b=Math.min(l.width,b);c=Math.min(l.height,c);b=Math.max(d,b);c=Math.max(e,c);if(90===h||270===h)g=b,b=c,c=g,g=d,d=e,e=g;a.Dd.Za();a.zq(b,c,
d,e);a.Dd.freeze();a.Dd.F()||C.k("Non-real measuredBounds has been set. Object "+a+", measuredBounds: "+a.Dd.toString());cm(a,!1)}}
f.qc=function(a,b,c,d,e){this.$i();var g=C.Nf();g.assign(this.bc);this.bc.Za();if(!1===Dm(this)){var h=this.bc;h.x=a;h.y=b;h.width=c;h.height=d}else this.yj(a,b,c,d);this.bc.freeze();this.ug=void 0===e?null:e;c=!1;void 0!==e?c=!0:null!==this.Q&&(e=this.Q.Uc,d=this.Ea,null!==this.Xl&&(d=this.bc),c=b+d.height,d=a+d.width,c=!(0<=a+.05&&d<=e.width+.05&&0<=b+.05&&c<=e.height+.05),this instanceof pa&&(a=this.Uc,this.jw>a.height||this.gi.qf>a.width))&&(c=!0);this.T=c?this.T|256:this.T&-257;this.bc.F()||
C.k("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.bc.toString());this.gy(g,this.bc);Fo(this,!1);C.Lb(g)};f.yj=function(){};
function Go(a,b,c,d,e){var g=a.Z;g.x=b;g.y=c;g.width=d;g.height=e;if(!a.Da.F()){g=a.Dd;c=a.margin;b=c.right+c.left;var h=c.top+c.bottom;c=g.width+b;g=g.height+h;d+=b;e+=h;b=Eo(a,!0);c===d&&g===e&&(b=Tj);switch(b){case Tj:if(c>d||g>e)cm(a,!0),Bk(a,c>d?d:c,g>e?e:g);break;case gf:cm(a,!0);Bk(a,d,e,0,0);break;case qo:cm(a,!0);Bk(a,d,g,0,0);break;case po:cm(a,!0),Bk(a,c,e,0,0)}}}
f.gy=function(a,b){var c=this.ba;null!==c&&null!==c.g&&(c.no!==this&&c.rG!==this&&c.vG!==this||Ho(c,!0),this.ra(),Bb(a,b)||(c.pm(),this.sw(c)))};f.sw=function(a){null!==this.vd&&(Ho(a,!0),a instanceof F&&Io(a,this))};C.defineProperty(Q,{Tq:"shadowVisible"},function(){return this.un},function(a){var b=this.un;b!==a&&(u&&null!==a&&C.h(a,"boolean",Q,"shadowVisible"),this.un=a,this.ra(),this.i("shadowVisible",b,a))});
Q.prototype.Fe=function(a,b){if(this.visible){var c=this.bc;if(0!==c.width&&0!==c.height&&!isNaN(c.x)&&!isNaN(c.y)){var d=this.opacity,e=1;if(1!==d){if(0===d)return;e=a.globalAlpha;a.globalAlpha=e*d}if(a instanceof md)a:{if(this.visible){var g=null,h=a.Wx;if(this instanceof J&&(this.type===Jo||this.type===Ko))Lo(this,a,b);else{var k=this.bc;if(0!==k.width&&0!==k.height&&!isNaN(k.x)&&!isNaN(k.y)){var l=this.transform,m=this.Q;0!==(this.T&4096)===!0&&Mo(this);var c=0!==(this.T&256),n=!1;this instanceof
pa&&(a.font=this.font);if(c){n=m.jh()?m.Ja:m.Z;if(null!==this.ug)var p=this.ug,q=p.x,r=p.y,s=p.width,p=p.height;else q=Math.max(k.x,n.x),r=Math.max(k.y,n.y),s=Math.min(k.right,n.right)-q,p=Math.min(k.bottom,n.bottom)-r;if(q>k.width+k.x||k.x>n.width+n.x||r>k.height+k.y||k.y>n.height+n.y)break a;n=!0;od(a,1,0,0,1,0,0);a.save();a.beginPath();a.rect(q,r,s,p);a.clip()}q=!1;if(this instanceof E){var v=this,q=!0;if(!v.isVisible())break a}a.Lh.Zb=[1,0,0,1,0,0];r=!1;q&&this.Vk&&b.Fj("drawShadows")&&(s=this.tn,
a.FB(s.x*b.scale*b.rd,s.y*b.scale*b.rd,v.Lg),a.qo(),a.shadowColor=v.sn);v=!1;this.ba&&b.Fj("drawShadows")&&(v=this.ba.Vk);!0===this.Tq?(a.qo(),!1===r&&v&&(od(a,1,0,0,1,0,0),a.kb(),r=!0)):!1===this.Tq&&a.po();null!==this.jc&&(No(this,a,this.jc,!0,!0),!1===r&&v&&(od(a,1,0,0,1,0,0),a.kb(),r=!0),this.jc instanceof Ea&&this.jc.type===Bd?(a.beginPath(),a.rect(k.x,k.y,k.width,k.height),a.Ug(this.jc)):a.fillRect(k.x,k.y,k.width,k.height));this instanceof J?od(a,l.m11,l.m12,l.m21,l.m22,l.dx,l.dy):a.Lh.Zb=
[l.m11,l.m12,l.m21,l.m22,l.dx,l.dy];if(null!==this.Kb){!1===r&&v&&(od(a,1,0,0,1,0,0),a.kb(),r=!0);var p=this.Ja,l=k=0,s=p.width,p=p.height,t=0;this instanceof w&&(p=this.pb.sb,k=p.x,l=p.y,s=p.width,p=p.height,t=this.Ng);No(this,a,this.Kb,!0,!1);this.Kb instanceof Ea&&this.Kb.type===Bd?(a.beginPath(),a.rect(k-t/2,l-t/2,s+t,p+t),a.Ug(this.Kb)):a.fillRect(k-t/2,l-t/2,s+t,p+t)}v&&(null!==this.Kb||null!==this.jc||null!==m&&0!==(m.T&512)||null!==m&&(m.type===Kl||m.type===Rj)&&m.Vd()!==this)?(Oo(this,!0),
null===this.Tq&&a.po()):Oo(this,!1);this.Ok(a,b);v&&0!==(this.T&512)===!0&&a.qo();q&&v&&a.po();c&&(a.restore(),n&&a.Ff.pop());this instanceof J&&(g=a.Ff.pop());!0===r&&a.Ff.pop();null!==a.$E&&(null===g&&(h===a.Wx?(od(a,1,0,0,1,0,0),g=a.Ff.pop()):g=a.Wx),a.$E(this,g))}}}}else{if(this instanceof J&&(this.type===Jo||this.type===Ko)){Lo(this,a,b);1!==d&&(a.globalAlpha=e);return}this instanceof I&&this.fo(!1);u&&u.zj&&u.vI(a,this);g=this.transform;h=this.Q;0!==(this.T&4096)===!0&&Mo(this);m=0!==(this.T&
256);a.Xt&&(m=!1);this instanceof pa&&(a.font=this.font);if(m){u&&u.ZE&&C.trace("clip"+this.toString());n=h.jh()?h.Ja:h.Z;null!==this.ug?(v=this.ug,k=v.x,l=v.y,q=v.width,v=v.height):(k=Math.max(c.x,n.x),l=Math.max(c.y,n.y),q=Math.min(c.right,n.right)-k,v=Math.min(c.bottom,n.bottom)-l);if(k>c.width+c.x||c.x>n.width+n.x||l>c.height+c.y||c.y>n.height+n.y){1!==d&&(a.globalAlpha=e);return}u&&u.ZE&&u.xI(a,k,l,q,v);a.save();a.beginPath();a.rect(k,l,q,v);a.clip()}n=!1;if(this instanceof E){n=!0;if(!this.isVisible()){1!==
d&&(a.globalAlpha=e);return}this.Vk&&b.Fj("drawShadows")&&(k=this.tn,a.FB(k.x*b.scale*b.rd,k.y*b.scale*b.rd,this.Lg),a.qo(),a.shadowColor=this.sn)}k=!1;this.ba&&b.Fj("drawShadows")&&(k=this.ba.Vk);!0===this.Tq?a.qo():!1===this.Tq&&a.po();null!==this.jc&&(No(this,a,this.jc,!0,!0),this.jc instanceof Ea&&this.jc.type===Bd?(a.beginPath(),a.rect(c.x,c.y,c.width,c.height),a.Ug(this.jc)):a.fillRect(c.x,c.y,c.width,c.height));g.vu()||a.transform(g.m11,g.m12,g.m21,g.m22,g.dx,g.dy);null!==this.Kb&&(v=this.Ja,
l=c=0,q=v.width,v=v.height,r=0,this instanceof w&&(v=this.pb.sb,c=v.x,l=v.y,q=v.width,v=v.height,r=this.Ng),No(this,a,this.Kb,!0,!1),this.Kb instanceof Ea&&this.Kb.type===Bd?(a.beginPath(),a.rect(c-r/2,l-r/2,q+r,v+r),a.Ug(this.Kb)):a.fillRect(c-r/2,l-r/2,q+r,v+r));u&&u.zj&&u.wI(a,this);k&&(null!==this.Kb||null!==this.jc||null!==h&&0!==(h.T&512)||null!==h&&(h.type===Kl||h.type===Rj)&&h.Vd()!==this)?(Oo(this,!0),null===this.Tq&&a.po()):Oo(this,!1);this.Ok(a,b);k&&0!==(this.T&512)===!0&&a.qo();n&&k&&
a.po();m?(a.restore(),this instanceof J?da(a,!0):da(a,!1)):g.vu()||(h=1/(g.m11*g.m22-g.m12*g.m21),a.transform(g.m22*h,-g.m12*h,-g.m21*h,g.m11*h,h*(g.m21*g.dy-g.m22*g.dx),h*(g.m12*g.dx-g.m11*g.dy)))}1!==d&&(a.globalAlpha=e)}}};
function Lo(a,b,c){var d=a.bc;0===d.width||0===d.height||isNaN(d.x)||isNaN(d.y)||(null!==a.jc&&(No(a,b,a.jc,!0,!0),a.jc instanceof Ea&&a.jc.type===Bd?(b.beginPath(),b.rect(d.x,d.y,d.width,d.height),b.Ug(a.jc)):b.fillRect(d.x,d.y,d.width,d.height)),null!==a.Kb&&(No(a,b,a.Kb,!0,!1),a.Kb instanceof Ea&&a.Kb.type===Bd?(b.beginPath(),b.rect(d.x,d.y,d.width,d.height),b.Ug(a.Kb)):b.fillRect(d.x,d.y,d.width,d.height)),a.Ok(b,c))}Q.prototype.Ok=function(){};
function No(a,b,c,d,e){if(null!==c){var g=1,h=1;if("string"===typeof c)d?b.fillStyle=c:b.strokeStyle=c;else if(c.type===Zg)d?b.fillStyle=c.color:b.strokeStyle=c.color;else{var k,h=a.Ja,g=h.width,h=h.height;if(e)var l=a.Z,g=l.width,h=l.height;var m=b instanceof Ad;if(m&&c.qh&&(c.type===Tn||c.Io===g&&c.az===h))k=c.qh;else{var n=l=0,p=0,q=0,r=0,s=0,s=r=0;e&&(l=a.Z,g=l.width,h=l.height,r=l.x,s=l.y);l=c.start.x*g+c.start.offsetX;n=c.start.y*h+c.start.offsetY;p=c.end.x*g+c.end.offsetX;q=c.end.y*h+c.end.offsetY;
l+=r;p+=r;n+=s;q+=s;if(c.type===$g)k=b.createLinearGradient(l,n,p,q);else if(c.type===Bd)s=isNaN(c.cu)?Math.max(g,h)/2:c.cu,isNaN(c.av)?(r=0,s=Math.max(g,h)/2):r=c.av,k=b.createRadialGradient(l,n,r,p,q,s);else if(c.type===Tn)try{k=b.createPattern(c.pattern,"repeat")}catch(v){k=null}else C.ic(c.type,"Brush type");if(c.type!==Tn&&(e=c.Jk,null!==e))for(e=e.j;e.next();)k.addColorStop(e.key,e.value);if(m&&(c.qh=k,null!==k&&(c.Io=g,c.az=h),null===k&&c.type===Tn&&-1!==c.Io)){c.Io=-1;var t=a.g;null!==t&&
-1===c.Io&&C.setTimeout(function(){t.Iq()},600)}}d?b.fillStyle=k:b.strokeStyle=k}}}Q.prototype.isContainedBy=Q.prototype.rm=function(a){if(a instanceof J)a:{if(this!==a&&null!==a)for(var b=this.Q;null!==b;){if(b===a){a=!0;break a}b=b.Q}a=!1}else a=!1;return a};Q.prototype.isVisibleObject=Q.prototype.Lj=function(){if(!this.visible)return!1;var a=this.Q;return null!==a?a.Lj():!0};
Q.prototype.isEnabledObject=Q.prototype.tu=function(){for(var a=this instanceof J?this:this.Q;null!==a&&a.isEnabled;)a=a.Q;return null===a};C.defineProperty(Q,{aF:"enabledChanged"},function(){return null!==this.ma?this.ma.Pr:null},function(a){uo(this);var b=this.ma.Pr;b!==a&&(null!==a&&C.h(a,"function",Q,"enabledChanged"),this.ma.Pr=a,this.i("enabledChanged",b,a))});
function Mo(a){if(0!==(a.T&2048)===!0){var b=a.Kc;b.reset();if(!a.bc.F()||!a.Dd.F()){Po(a,!1);return}b.translate(a.bc.x,a.bc.y);b.translate(-a.Ea.x,-a.Ea.y);var c=a.Ja;Co(a,b,c.x,c.y,c.width,c.height);Po(a,!1);Qo(a,!0)}0!==(a.T&4096)===!0&&(b=a.Q,null===b?(a.Li.set(a.Kc),a.To=a.scale,Qo(a,!1)):null!==b.Gh&&(c=a.Li,c.reset(),b.jh()?c.multiply(b.Li):null!==b.Q&&c.multiply(b.Q.Li),c.multiply(a.Kc),a.To=a.scale*b.To,Qo(a,!1)))}
function Co(a,b,c,d,e,g){1!==a.scale&&b.scale(a.scale);if(0!==a.angle){var h=mc;a.xf&&a.xf.jd()&&(h=a.xf);var k=C.P();if(a instanceof E&&a.dc!==a)for(c=a.dc,d=c.Ja,k.Yu(d.x,d.y,d.width,d.height,h),c.gj.wb(k),k.offset(-c.Ea.x,-c.Ea.y),h=c.Q;null!==h&&h!==a;)h.gj.wb(k),k.offset(-h.Ea.x,-h.Ea.y),h=h.Q;else k.Yu(c,d,e,g,h);b.rotate(a.angle,k.x,k.y);C.A(k)}}f=Q.prototype;f.K=function(a){void 0===a&&(a=!1);if(!0!==Cm(this)){cm(this,!0);Fo(this,!0);var b=this.Q;null===b||a||b.K()}};
f.tq=function(){!0!==Cm(this)&&(cm(this,!0),Fo(this,!0))};function Ro(a){if(!1===Dm(a)){var b=a.Q;null!==b?b.K():a instanceof E&&(b=a.g,null!==b&&(b.Cg.add(a),a instanceof F&&a.fg(),b.Te()));Fo(a,!0)}}f.$i=function(){0!==(this.T&2048)===!1&&(Po(this,!0),Qo(this,!0))};f.QA=function(){Qo(this,!0)};f.ra=function(){var a=this.ba;null!==a&&a.ra()};
function Eo(a,b){var c=a.stretch,d=a.Q;if(null!==d&&d.ca===ha)return So(a,d.oe(a.$b),d.ne(a.column),b);if(null!==d&&d.ca===Kl&&d.Vd()===a)return To(a,gf,b);if(c===oo){if(null!==d){if(d.ca===Rj&&d.Vd()===a)return To(a,gf,b);c=d.ke;return c===oo?To(a,Tj,b):To(a,c,b)}return To(a,Tj,b)}return To(a,c,b)}
function So(a,b,c,d){var e=a.stretch;if(e!==oo)return To(a,e,d);var g=e=null;switch(b.stretch){case po:g=!0;break;case gf:g=!0}switch(c.stretch){case qo:e=!0;break;case gf:e=!0}b=a.Q.ke;null===e&&(e=b===qo||b===gf);null===g&&(g=b===po||b===gf);return!0===e&&!0===g?To(a,gf,d):!0===e?To(a,qo,d):!0===g?To(a,po,d):To(a,Tj,d)}
function To(a,b,c){if(c)return b;if(b===Tj)return Tj;c=a.Da;if(c.F())return Tj;a=a.angle;if(!isNaN(c.width))if(90!==a&&270!==a){if(b===qo)return Tj;if(b===gf)return po}else{if(b===po)return Tj;if(b===gf)return qo}if(!isNaN(c.height))if(90!==a&&270!==a){if(b===po)return Tj;if(b===gf)return qo}else{if(b===qo)return Tj;if(b===gf)return po}return b}
C.defineProperty(Q,{Pq:"segmentOrientation"},function(){return this.qn},function(a){var b=this.qn;b!==a&&(u&&C.Ca(a,I,Q,"segmentOrientation"),this.qn=a,this.K(),this.i("segmentOrientation",b,a),a===nj&&(this.angle=0))});C.defineProperty(Q,{Ue:"segmentIndex"},function(){return this.jt},function(a){u&&C.h(a,"number",Q,"segmentIndex");a=Math.round(a);var b=this.jt;b!==a&&(this.jt=a,this.K(),this.i("segmentIndex",b,a))});
C.defineProperty(Q,{vB:"segmentFraction"},function(){return this.on},function(a){u&&C.h(a,"number",Q,"segmentFraction");isNaN(a)?a=0:0>a?a=0:1<a&&(a=1);var b=this.on;b!==a&&(this.on=a,this.K(),this.i("segmentFraction",b,a))});C.defineProperty(Q,{wB:"segmentOffset"},function(){return this.pn},function(a){var b=this.pn;b.O(a)||(u&&C.l(a,O,Q,"segmentOffset"),this.pn=a=a.V(),this.K(),this.i("segmentOffset",b,a))});
C.defineProperty(Q,{stretch:"stretch"},function(){return this.Mg},function(a){var b=this.Mg;b!==a&&(u&&C.Ca(a,Q,Q,"stretch"),this.Mg=a,this.K(),this.i("stretch",b,a))});C.defineProperty(Q,{name:"name"},function(){return this.Yb},function(a){var b=this.Yb;b!==a&&(u&&C.h(a,"string",Q,"name"),this.Yb=a,null!==this.ba&&(this.ba.Jl=null),this.i("name",b,a))});
C.defineProperty(Q,{opacity:"opacity"},function(){return this.Ic},function(a){var b=this.Ic;b!==a&&(C.h(a,"number",Q,"opacity"),(0>a||1<a)&&C.wa(a,"0 <= value <= 1",Q,"opacity"),this.Ic=a,this.i("opacity",b,a),a=this.g,b=this.ba,null!==a&&null!==b&&a.ra(sl(b,b.Z)))});
C.defineProperty(Q,{visible:"visible"},function(){return 0!==(this.T&1)},function(a){var b=0!==(this.T&1);b!==a&&(u&&C.h(a,"boolean",Q,"visible"),this.T^=1,this.i("visible",b,a),b=this.Q,null!==b?b.K():this instanceof E&&this.Jd(a),this.ra(),Uo(this))});C.defineProperty(Q,{pg:"pickable"},function(){return 0!==(this.T&2)},function(a){var b=0!==(this.T&2);b!==a&&(u&&C.h(a,"boolean",Q,"pickable"),this.T^=2,this.i("pickable",b,a))});
C.defineProperty(Q,{FI:"fromLinkableDuplicates"},function(){return 0!==(this.T&4)},function(a){var b=0!==(this.T&4);b!==a&&(u&&C.h(a,"boolean",Q,"fromLinkableDuplicates"),this.T^=4,this.i("fromLinkableDuplicates",b,a))});C.defineProperty(Q,{GI:"fromLinkableSelfNode"},function(){return 0!==(this.T&8)},function(a){var b=0!==(this.T&8);b!==a&&(u&&C.h(a,"boolean",Q,"fromLinkableSelfNode"),this.T^=8,this.i("fromLinkableSelfNode",b,a))});
C.defineProperty(Q,{uK:"toLinkableDuplicates"},function(){return 0!==(this.T&16)},function(a){var b=0!==(this.T&16);b!==a&&(u&&C.h(a,"boolean",Q,"toLinkableDuplicates"),this.T^=16,this.i("toLinkableDuplicates",b,a))});C.defineProperty(Q,{vK:"toLinkableSelfNode"},function(){return 0!==(this.T&32)},function(a){var b=0!==(this.T&32);b!==a&&(u&&C.h(a,"boolean",Q,"toLinkableSelfNode"),this.T^=32,this.i("toLinkableSelfNode",b,a))});
C.defineProperty(Q,{Hf:"isPanelMain"},function(){return 0!==(this.T&64)},function(a){var b=0!==(this.T&64);b!==a&&(u&&C.h(a,"boolean",Q,"isPanelMain"),this.T^=64,this.K(),this.i("isPanelMain",b,a))});C.defineProperty(Q,{ru:"isActionable"},function(){return 0!==(this.T&128)},function(a){var b=0!==(this.T&128);b!==a&&(u&&C.h(a,"boolean",Q,"isActionable"),this.T^=128,this.i("isActionable",b,a))});
C.defineProperty(Q,{Xl:"areaBackground"},function(){return this.jc},function(a){var b=this.jc;b!==a&&(u&&null!==a&&C.Vt(a,"GraphObject.areaBackground"),a instanceof Ea&&a.freeze(),this.jc=a,this.ra(),this.i("areaBackground",b,a))});C.defineProperty(Q,{background:"background"},function(){return this.Kb},function(a){var b=this.Kb;b!==a&&(u&&null!==a&&C.Vt(a,"GraphObject.background"),a instanceof Ea&&a.freeze(),this.Kb=a,this.ra(),this.i("background",b,a))});function Oo(a,b){a.T=b?a.T|512:a.T&-513}
function zo(a){return 0!==(a.T&1024)}function Vo(a,b){a.T=b?a.T|1024:a.T&-1025}function Po(a,b){a.T=b?a.T|2048:a.T&-2049}function Qo(a,b){a.T=b?a.T|4096:a.T&-4097}function Cm(a){return 0!==(a.T&8192)}function cm(a,b){a.T=b?a.T|8192:a.T&-8193}function Dm(a){return 0!==(a.T&16384)}function Fo(a,b){a.T=b?a.T|16384:a.T&-16385}C.w(Q,{ba:"part"},function(){if(this instanceof E)return this;if(null!==this.hn)return this.hn;var a;for(a=this.Q;a;){if(a instanceof E)return this.hn=a;a=a.Q}return null});
C.w(Q,{Q:"panel"},function(){return this.Ah});Q.prototype.wm=function(a){this.Ah=a};C.w(Q,{layer:"layer"},function(){var a=this.ba;return null!==a?a.layer:null},{configurable:!0});C.w(Q,{g:"diagram"},function(){var a=this.ba;return null!==a?a.g:null},{configurable:!0});
C.defineProperty(Q,{position:"position"},function(){return this.ub},function(a){u&&C.l(a,O,Q,"position");var b=a.x,c=a.y,d=this.ub,e=d.x,g=d.y;(e===b||isNaN(e)&&isNaN(b))&&(g===c||isNaN(g)&&isNaN(c))?this.CB():(a=a.V(),this.BB(a,d)&&this.i("position",d,a))});Q.prototype.CB=function(){};Q.prototype.BB=function(a){this.ub=a;Ro(this);this.$i();return!0};Q.prototype.zy=function(a,b){this.ub.m(a,b);Wo(this);this.$i()};C.w(Q,{Z:"actualBounds"},function(){return this.bc});
C.defineProperty(Q,{scale:"scale"},function(){return this.Rb},function(a){var b=this.Rb;b!==a&&(u&&C.p(a,Q,"scale"),0>=a&&C.k("GraphObject.scale for "+this+" must be greater than zero, not: "+a),this.Rb=a,this.$i(),this.K(),this.i("scale",b,a))});C.defineProperty(Q,{angle:"angle"},function(){return this.rg},function(a){var b=this.rg;b!==a&&(u&&C.p(a,Q,"angle"),a%=360,0>a&&(a+=360),b!==a&&(this.rg=a,this.K(),this.$i(),this.i("angle",b,a)))});
C.defineProperty(Q,{Da:"desiredSize"},function(){return this.Ye},function(a){u&&C.l(a,Fa,Q,"desiredSize");var b=a.width,c=a.height,d=this.Ye,e=d.width,g=d.height;(e===b||isNaN(e)&&isNaN(b))&&(g===c||isNaN(g)&&isNaN(c))||(this.Ye=a=a.V(),this.K(),this instanceof w&&this.Se(),this.i("desiredSize",d,a),zo(this)&&(a=this.ba,null!==a&&(Ao(this,a,"width"),Ao(this,a,"height"))))});
C.defineProperty(Q,{width:"width"},function(){return this.Ye.width},function(a){var b=this.Ye.width;b===a||isNaN(b)&&isNaN(a)||(u&&C.h(a,"number",Q,"width"),b=this.Ye,this.Ye=a=(new Fa(a,this.Ye.height)).freeze(),this.K(),this instanceof w&&this.Se(),this.i("desiredSize",b,a),zo(this)&&(a=this.ba,null!==a&&Ao(this,a,"width")))});
C.defineProperty(Q,{height:"height"},function(){return this.Ye.height},function(a){var b=this.Ye.height;b===a||isNaN(b)&&isNaN(a)||(u&&C.h(a,"number",Q,"height"),b=this.Ye,this.Ye=a=(new Fa(this.Ye.width,a)).freeze(),this.K(),this instanceof w&&this.Se(),this.i("desiredSize",b,a),zo(this)&&(a=this.ba,null!==a&&Ao(this,a,"height")))});
C.defineProperty(Q,{hg:"minSize"},function(){return this.li},function(a){var b=this.li;b.O(a)||(u&&C.l(a,Fa,Q,"minSize"),a=a.copy(),isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),a.freeze(),this.li=a,this.K(),this.i("minSize",b,a))});C.defineProperty(Q,{lf:"maxSize"},function(){return this.ki},function(a){var b=this.ki;b.O(a)||(u&&C.l(a,Fa,Q,"maxSize"),a=a.copy(),isNaN(a.width)&&(a.width=Infinity),isNaN(a.height)&&(a.height=Infinity),a.freeze(),this.ki=a,this.K(),this.i("maxSize",b,a))});
C.w(Q,{Ea:"measuredBounds"},function(){return this.Dd});C.w(Q,{Ja:"naturalBounds"},function(){return this.Uc},{configurable:!0});C.defineProperty(Q,{margin:"margin"},function(){return this.an},function(a){"number"===typeof a?a=new Kb(a):u&&C.l(a,Kb,Q,"margin");var b=this.an;b.O(a)||(this.an=a=a.V(),this.K(),this.i("margin",b,a))});C.w(Q,{transform:null},function(){0!==(this.T&2048)===!0&&Mo(this);return this.Kc});C.w(Q,{Gh:null},function(){0!==(this.T&4096)===!0&&Mo(this);return this.Li});
C.defineProperty(Q,{alignment:"alignment"},function(){return this.te},function(a){var b=this.te;b.O(a)||(u&&C.l(a,S,Q,"alignment"),a.Zd()&&!a.hd()&&C.k("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+a),this.te=a=a.V(),Ro(this),this.i("alignment",b,a))});C.defineProperty(Q,{column:"column"},function(){return this.pr},function(a){u&&C.p(a,Q,"column");a=Math.round(a);var b=this.pr;b!==a&&(0>a&&C.wa(a,">= 0",Q,"column"),this.pr=a,this.K(),this.i("column",b,a))});
C.defineProperty(Q,{bI:"columnSpan"},function(){return this.Qi},function(a){u&&C.h(a,"number",Q,"columnSpan");a=Math.round(a);var b=this.Qi;b!==a&&(1>a&&C.wa(a,">= 1",Q,"columnSpan"),this.Qi=a,this.K(),this.i("columnSpan",b,a))});C.defineProperty(Q,{$b:"row"},function(){return this.ft},function(a){u&&C.p(a,Q,"row");a=Math.round(a);var b=this.ft;b!==a&&(0>a&&C.wa(a,">= 0",Q,"row"),this.ft=a,this.K(),this.i("row",b,a))});
C.defineProperty(Q,{rowSpan:"rowSpan"},function(){return this.rj},function(a){u&&C.h(a,"number",Q,"rowSpan");a=Math.round(a);var b=this.rj;b!==a&&(1>a&&C.wa(a,">= 1",Q,"rowSpan"),this.rj=a,this.K(),this.i("rowSpan",b,a))});C.defineProperty(Q,{By:"spanAllocation"},function(){return this.vt},function(a){var b=this.vt;b!==a&&(null!==a&&C.h(a,"function",Q,"spanAllocation"),this.vt=a,this.K(),this.i("spanAllocation",b,a))});
C.defineProperty(Q,{Fh:"alignmentFocus"},function(){return this.Fm},function(a){var b=this.Fm;b.O(a)||(u&&C.l(a,S,Q,"alignmentFocus"),!a.Zd()||a.hd()||a.O(gc)&&this instanceof F||C.k("GraphObject.alignmentFocus must be a real Spot or Spot.Default, not: "+a),this.Fm=a=a.V(),this.K(),this.i("alignmentFocus",b,a))});
C.defineProperty(Q,{vd:"portId"},function(){return this.Vs},function(a){var b=this.Vs;if(b!==a){u&&null!==a&&C.h(a,"string",Q,"portId");var c=this.ba;null===c||c instanceof F||(C.k("Cannot set portID on a Link: "+a),c=null);null!==b&&null!==c&&Xo(c,this);this.Vs=a;if(null!==a&&c){c.Tk=!0;null===c.ze&&Yo(c);var d=this.vd;null!==d&&c.ze.add(d,this)}this.i("portId",b,a)}});function Zo(a){var b=a.ba;if(b instanceof F&&(null!==a.vd||a===b.port)){var c=b.g;null===c||c.sa.ob||Io(b,a)}}
function Uo(a){var b=a.g;null===b||b.sa.ob||(a instanceof J?a instanceof F?a.fg():$o(a,a,function(a){Zo(a)}):Zo(a))}C.defineProperty(Q,{Hb:"toSpot"},function(){return null!==this.Y?this.Y.Ek:gc},function(a){this.Wd();var b=this.Y.Ek;b.O(a)||(u&&C.l(a,S,Q,"toSpot"),a=a.V(),this.Y.Ek=a,this.i("toSpot",b,a),Zo(this))});
C.defineProperty(Q,{Bm:"toEndSegmentLength"},function(){return null!==this.Y?this.Y.Ck:10},function(a){this.Wd();var b=this.Y.Ck;b!==a&&(u&&C.h(a,"number",Q,"toEndSegmentLength"),0>a&&C.wa(a,">= 0",Q,"toEndSegmentLength"),this.Y.Ck=a,this.i("toEndSegmentLength",b,a),Zo(this))});
C.defineProperty(Q,{cv:"toEndSegmentDirection"},function(){return null!==this.Y?this.Y.Bk:xo},function(a){this.Wd();var b=this.Y.Bk;b!==a&&(C.Nn("GraphObject.toEndSegmentDirection","2.0"),u&&C.Ca(a,F,Q,"toEndSegmentDirection"),this.Y.Bk=a,this.i("toEndSegmentDirection",b,a),Zo(this))});C.defineProperty(Q,{dv:"toShortLength"},function(){return null!==this.Y?this.Y.Dk:0},function(a){this.Wd();var b=this.Y.Dk;b!==a&&(u&&C.h(a,"number",Q,"toShortLength"),this.Y.Dk=a,this.i("toShortLength",b,a),Zo(this))});
C.defineProperty(Q,{QG:"toLinkable"},function(){return null!==this.Y?this.Y.Et:null},function(a){this.Wd();var b=this.Y.Et;b!==a&&(u&&null!==a&&C.h(a,"boolean",Q,"toLinkable"),this.Y.Et=a,this.i("toLinkable",b,a))});C.defineProperty(Q,{wK:"toMaxLinks"},function(){return null!==this.Y?this.Y.Ft:Infinity},function(a){this.Wd();var b=this.Y.Ft;b!==a&&(u&&C.h(a,"number",Q,"toMaxLinks"),0>a&&C.wa(a,">= 0",Q,"toMaxLinks"),this.Y.Ft=a,this.i("toMaxLinks",b,a))});
C.defineProperty(Q,{Gb:"fromSpot"},function(){return null!==this.Y?this.Y.hk:gc},function(a){this.Wd();var b=this.Y.hk;b.O(a)||(u&&C.l(a,S,Q,"fromSpot"),a=a.V(),this.Y.hk=a,this.i("fromSpot",b,a),Zo(this))});C.defineProperty(Q,{lm:"fromEndSegmentLength"},function(){return null!==this.Y?this.Y.fk:10},function(a){this.Wd();var b=this.Y.fk;b!==a&&(u&&C.h(a,"number",Q,"fromEndSegmentLength"),0>a&&C.wa(a,">= 0",Q,"fromEndSegmentLength"),this.Y.fk=a,this.i("fromEndSegmentLength",b,a),Zo(this))});
C.defineProperty(Q,{ku:"fromEndSegmentDirection"},function(){return null!==this.Y?this.Y.ek:xo},function(a){this.Wd();var b=this.Y.ek;b!==a&&(C.Nn("GraphObject.fromEndSegmentDirection","2.0"),u&&C.Ca(a,F,Q,"fromEndSegmentDirection"),this.Y.ek=a,this.i("fromEndSegmentDirection",b,a),Zo(this))});
C.defineProperty(Q,{lu:"fromShortLength"},function(){return null!==this.Y?this.Y.gk:0},function(a){this.Wd();var b=this.Y.gk;b!==a&&(u&&C.h(a,"number",Q,"fromShortLength"),this.Y.gk=a,this.i("fromShortLength",b,a),Zo(this))});C.defineProperty(Q,{kF:"fromLinkable"},function(){return null!==this.Y?this.Y.Sr:null},function(a){this.Wd();var b=this.Y.Sr;b!==a&&(u&&null!==a&&C.h(a,"boolean",Q,"fromLinkable"),this.Y.Sr=a,this.i("fromLinkable",b,a))});
C.defineProperty(Q,{GA:"fromMaxLinks"},function(){return null!==this.Y?this.Y.Tr:Infinity},function(a){this.Wd();var b=this.Y.Tr;b!==a&&(u&&C.h(a,"number",Q,"fromMaxLinks"),0>a&&C.wa(a,">= 0",Q,"fromMaxLinks"),this.Y.Tr=a,this.i("fromMaxLinks",b,a))});C.defineProperty(Q,{cursor:"cursor"},function(){return this.yr},function(a){var b=this.yr;b!==a&&(C.h(a,"string",Q,"cursor"),this.yr=a,this.i("cursor",b,a))});
C.defineProperty(Q,{click:"click"},function(){return null!==this.ma?this.ma.Pi:null},function(a){uo(this);var b=this.ma.Pi;b!==a&&(null!==a&&C.h(a,"function",Q,"click"),this.ma.Pi=a,this.i("click",b,a))});C.defineProperty(Q,{bu:"doubleClick"},function(){return null!==this.ma?this.ma.Wi:null},function(a){uo(this);var b=this.ma.Wi;b!==a&&(null!==a&&C.h(a,"function",Q,"doubleClick"),this.ma.Wi=a,this.i("doubleClick",b,a))});
C.defineProperty(Q,{oA:"contextClick"},function(){return null!==this.ma?this.ma.Ri:null},function(a){uo(this);var b=this.ma.Ri;b!==a&&(null!==a&&C.h(a,"function",Q,"contextClick"),this.ma.Ri=a,this.i("contextClick",b,a))});C.defineProperty(Q,{Fu:"mouseEnter"},function(){return null!==this.ma?this.ma.Gs:null},function(a){uo(this);var b=this.ma.Gs;b!==a&&(null!==a&&C.h(a,"function",Q,"mouseEnter"),this.ma.Gs=a,this.i("mouseEnter",b,a))});
C.defineProperty(Q,{Gu:"mouseLeave"},function(){return null!==this.ma?this.ma.Hs:null},function(a){uo(this);var b=this.ma.Hs;b!==a&&(null!==a&&C.h(a,"function",Q,"mouseLeave"),this.ma.Hs=a,this.i("mouseLeave",b,a))});C.defineProperty(Q,{eB:"mouseOver"},function(){return null!==this.ma?this.ma.lj:null},function(a){uo(this);var b=this.ma.lj;b!==a&&(null!==a&&C.h(a,"function",Q,"mouseOver"),this.ma.lj=a,this.i("mouseOver",b,a))});
C.defineProperty(Q,{dB:"mouseHover"},function(){return null!==this.ma?this.ma.kj:null},function(a){uo(this);var b=this.ma.kj;b!==a&&(null!==a&&C.h(a,"function",Q,"mouseHover"),this.ma.kj=a,this.i("mouseHover",b,a))});C.defineProperty(Q,{cB:"mouseHold"},function(){return null!==this.ma?this.ma.jj:null},function(a){uo(this);var b=this.ma.jj;b!==a&&(null!==a&&C.h(a,"function",Q,"mouseHold"),this.ma.jj=a,this.i("mouseHold",b,a))});
C.defineProperty(Q,{HJ:"mouseDragEnter"},function(){return null!==this.ma?this.ma.Es:null},function(a){uo(this);var b=this.ma.Es;b!==a&&(null!==a&&C.h(a,"function",Q,"mouseDragEnter"),this.ma.Es=a,this.i("mouseDragEnter",b,a))});C.defineProperty(Q,{IJ:"mouseDragLeave"},function(){return null!==this.ma?this.ma.Fs:null},function(a){uo(this);var b=this.ma.Fs;b!==a&&(null!==a&&C.h(a,"function",Q,"mouseDragLeave"),this.ma.Fs=a,this.i("mouseDragLeave",b,a))});
C.defineProperty(Q,{bB:"mouseDrop"},function(){return null!==this.ma?this.ma.ij:null},function(a){uo(this);var b=this.ma.ij;b!==a&&(null!==a&&C.h(a,"function",Q,"mouseDrop"),this.ma.ij=a,this.i("mouseDrop",b,a))});C.defineProperty(Q,{qE:"actionDown"},function(){return null!==this.ma?this.ma.$q:null},function(a){uo(this);var b=this.ma.$q;b!==a&&(null!==a&&C.h(a,"function",Q,"actionDown"),this.ma.$q=a,this.i("actionDown",b,a))});
C.defineProperty(Q,{rE:"actionMove"},function(){return null!==this.ma?this.ma.ar:null},function(a){uo(this);var b=this.ma.ar;b!==a&&(null!==a&&C.h(a,"function",Q,"actionMove"),this.ma.ar=a,this.i("actionMove",b,a))});C.defineProperty(Q,{sE:"actionUp"},function(){return null!==this.ma?this.ma.br:null},function(a){uo(this);var b=this.ma.br;b!==a&&(null!==a&&C.h(a,"function",Q,"actionUp"),this.ma.br=a,this.i("actionUp",b,a))});
C.defineProperty(Q,{pE:"actionCancel"},function(){return null!==this.ma?this.ma.Zq:null},function(a){uo(this);var b=this.ma.Zq;b!==a&&(null!==a&&C.h(a,"function",Q,"actionCancel"),this.ma.Zq=a,this.i("actionCancel",b,a))});C.defineProperty(Q,{LB:"toolTip"},function(){return null!==this.ma?this.ma.uj:null},function(a){uo(this);var b=this.ma.uj;b!==a&&(!u||null===a||a instanceof ea||a instanceof bk||C.k("GraphObject.toolTip must be an Adornment or HTMLInfo."),this.ma.uj=a,this.i("toolTip",b,a))});
C.defineProperty(Q,{contextMenu:"contextMenu"},function(){return null!==this.ma?this.ma.Si:null},function(a){uo(this);var b=this.ma.Si;b!==a&&(!u||a instanceof ea||a instanceof bk||C.k("GraphObject.contextMenu must be an Adornment or HTMLInfo."),this.ma.Si=a,this.i("contextMenu",b,a))});Q.prototype.bind=Q.prototype.bind=function(a){a.Og=this;var b=this.jm();null!==b&&ap(b)&&C.k("Cannot add a Binding to a template that has already been copied: "+a);null===this.Ec&&(this.Ec=new K(sh));this.Ec.add(a)};
Q.prototype.findTemplateBinder=Q.prototype.jm=function(){for(var a=this instanceof J?this:this.Q;null!==a;){if(null!==a.pl)return a;a=a.Q}return null};Q.prototype.setProperties=function(a){C.Wu(this,a)};var bp;
Q.make=bp=function(a,b){var c=arguments,d=null,e=null;if("function"===typeof a)e=a;else if("string"===typeof a){var g=cp.pa(a);"function"===typeof g?(c=C.am(arguments),d=g(c)):e=ca[a]}null===d&&(void 0===e&&(d=window.$,void 0!==d&&void 0!==d.noop&&C.k("GraphObject.make failed to complete. Is it conflicting with another $ var? (such as jQuery)"),C.k("GraphObject.make failed to complete, it may be conflicting with another var.")),null!==e&&e.constructor||C.k("GraphObject.make requires a class function or class name, not: "+
a),d=new e);g=1;if(d instanceof D&&1<c.length){var h=d,e=c[1];if("string"===typeof e||e instanceof HTMLDivElement)Il(h,e),g++}for(;g<c.length;g++)e=c[g],void 0===e?C.k("Undefined value at argument "+g+" for object being constructed by GraphObject.make: "+d):dp(d,e);return d};
function dp(a,b){if("string"===typeof b)if(a instanceof pa)a.text=b;else if(a instanceof w)a.Jb=b;else if(a instanceof Cl)a.source=b;else if(a instanceof J){var c=Ja(J,b);null!==c?a.type=c:C.k("Unknown Panel type as an argument to GraphObject.make: "+b)}else a instanceof Ea?(c=Ja(Ea,b),null!==c?a.type=c:C.k("Unknown Brush type as an argument to GraphObject.make: "+b)):a instanceof Ve?(c=Ja(Ve,b),null!==c?a.type=c:C.k("Unknown Geometry type as an argument to GraphObject.make: "+b)):a instanceof Wf?
(c=Ja(Wf,b),null!==c?a.type=c:C.k("Unknown PathSegment type as an argument to GraphObject.make: "+b)):C.k("Unable to use a string as an argument to GraphObject.make: "+b);else if(b instanceof Q)c=b,a instanceof J||C.k("A GraphObject can only be added to a Panel, not to: "+a),a.add(c);else if(b instanceof mh){var d=b,c=a,e;d.Je&&c.getRowDefinition?e=c.getRowDefinition(d.index):!d.Je&&c.getColumnDefinition?e=c.getColumnDefinition(d.index):C.k("A RowColumnDefinition can only be added to a Panel, not to: "+
a);e.bq(d)}else if(b instanceof Ca)"function"===typeof a.pc?a.pc(b):C.Vj(a,b);else if(b instanceof sh)a instanceof Q?a.bind(b):a instanceof mh?a.bind(b):C.k("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+a);else if(b instanceof Xe)a instanceof Ve?a.mc.add(b):C.k("A PathFigure can only be added to a Geometry, not to: "+a);else if(b instanceof Wf)a instanceof Xe?a.Db.add(b):C.k("A PathSegment can only be added to a PathFigure, not to: "+a);else if(b instanceof ch)a instanceof
D?a.Wb=b:a instanceof H?a.Wb=b:C.k("A Layout can only be assigned to a Diagram or a Group, not to: "+a);else if(Array.isArray(b))for(c=0;c<b.length;c++)dp(a,b[c]);else if("object"===typeof b&&null!==b)if(a instanceof Ea){e=new na;for(c in b)d=parseFloat(c),isNaN(d)?e[c]=b[c]:a.addColorStop(d,b[c]);C.Wu(a,e)}else if(a instanceof mh){void 0!==b.row?(e=b.row,(void 0===e||null===e||Infinity===e||isNaN(e)||0>e)&&C.k("Must specify non-negative integer row for RowColumnDefinition "+b+", not: "+e),a.Je=!0,
a.index=e):void 0!==b.column&&(e=b.column,(void 0===e||null===e||Infinity===e||isNaN(e)||0>e)&&C.k("Must specify non-negative integer column for RowColumnDefinition "+b+", not: "+e),a.Je=!1,a.index=e);e=new na;for(c in b)"row"!==c&&"column"!==c&&(e[c]=b[c]);C.Wu(a,e)}else C.Wu(a,b);else C.k('Unknown initializer "'+b+'" for object being constructed by GraphObject.make: '+a)}var cp=new oa("string","function");
Q.getBuilders=function(){var a=new oa("string","function"),b;for(b in cp)if(b!==b.toLowerCase()){var c=cp[b];"function"===typeof c&&a.add(b,c)}a.freeze();return a};var ep;Q.defineBuilder=ep=function(a,b){C.h(a,"string",Q,"defineBuilder:name");C.h(b,"function",Q,"defineBuilder:func");var c=a.toLowerCase();""!==a&&"none"!==c&&a!==c||C.k("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+a);cp.add(a,b)};var fp;
Q.takeBuilderArgument=fp=function(a,b,c){void 0===c&&(c=null);var d=a[1];if("function"===typeof c?c(d):"string"===typeof d)return a.splice(1,1),d;if(void 0===b)throw Error("no "+("function"===typeof c?"satisfactory":"string")+" argument for GraphObject builder "+a[0]);return b};
ep("Button",function(){var a=new Ea($g);a.addColorStop(0,"white");a.addColorStop(1,"lightgray");var b=new Ea($g);b.addColorStop(0,"white");b.addColorStop(1,"dodgerblue");a=bp(J,Kl,{ru:!0,aF:function(a,b){var e=a.Fd("ButtonBorder");null!==e&&(e.fill=b?a._buttonFillNormal:a._buttonFillDisabled)},_buttonFillNormal:a,_buttonStrokeNormal:"gray",_buttonFillOver:b,_buttonStrokeOver:"blue",_buttonFillDisabled:"darkgray"},bp(w,{name:"ButtonBorder",Jb:"Rectangle",C:new S(0,0,2.761423749153968,2.761423749153968),
D:new S(1,1,-2.761423749153968,-2.761423749153968),fill:a,stroke:"gray"}));a.Fu=function(a,b){if(b.tu()){var e=b.Fd("ButtonBorder");if(e instanceof w){var g=b._buttonFillOver;b._buttonFillNormal=e.fill;e.fill=g;g=b._buttonStrokeOver;b._buttonStrokeNormal=e.stroke;e.stroke=g}}};a.Gu=function(a,b){if(b.tu()){var e=b.Fd("ButtonBorder");e instanceof w&&(e.fill=b._buttonFillNormal,e.stroke=b._buttonStrokeNormal)}};return a});
ep("TreeExpanderButton",function(){var a=bp("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},bp(w,{name:"ButtonIcon",Jb:"MinusLine",Da:Ud},(new sh("figure","isTreeExpanded",function(a,c){var d=c.Q;return a?d._treeExpandedFigure:d._treeCollapsedFigure})).ey()),{visible:!1},(new sh("visible","isTreeLeaf",function(a){return!a})).ey());a.click=function(a,c){var d=c.ba;d instanceof ea&&(d=d.Zf);if(d instanceof F){var e=d.g;if(null!==e){e=e.xb;if(d.ud){if(!e.canCollapseTree(d))return}else if(!e.canExpandTree(d))return;
a.Oc=!0;d.ud?e.collapseTree(d):e.expandTree(d)}}};return a});
ep("SubGraphExpanderButton",function(){var a=bp("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},bp(w,{name:"ButtonIcon",Jb:"MinusLine",Da:Ud},(new sh("figure","isSubGraphExpanded",function(a,c){var d=c.Q;return a?d._subGraphExpandedFigure:d._subGraphCollapsedFigure})).ey()));a.click=function(a,c){var d=c.ba;d instanceof ea&&(d=d.Zf);if(d instanceof H){var e=d.g;if(null!==e){e=e.xb;if(d.Ke){if(!e.canCollapseSubGraph(d))return}else if(!e.canExpandSubGraph(d))return;a.Oc=
!0;d.Ke?e.collapseSubGraph(d):e.expandSubGraph(d)}}};return a});ep("ContextMenuButton",function(){var a=bp("Button");a.stretch=qo;var b=a.Fd("ButtonBorder");b instanceof w&&(b.Jb="Rectangle",b.C=new S(0,0,2,3),b.D=new S(1,1,-2,-2));return a});
ep("PanelExpanderButton",function(a){var b=fp(a,"COLLAPSIBLE"),c=bp("Button",{_buttonExpandedFigure:"TriangleUp",_buttonCollapsedFigure:"TriangleDown"},bp(w,"TriangleUp",{name:"ButtonIcon",Da:new Fa(6,4)},(new sh("figure","visible",function(a){return a?c._buttonExpandedFigure:c._buttonCollapsedFigure})).ey(b)));a=c.Fd("ButtonBorder");a instanceof w&&(a.stroke=null,a.fill="transparent");c.click=function(a,c){var g=c.g;if(null!==g&&!g.nb){var h=c.jm();null===h&&(h=c.ba);null!==h&&(h=h.Fd(b),null!==
h&&(g.ac("Collapse/Expand Panel"),h.visible=!h.visible,g.Ud("Collapse/Expand Panel")))}};return c});
ep("CheckBoxButton",function(a){var b=fp(a);a=bp("Button",{"ButtonBorder.fill":"white","ButtonBorder.stroke":"gray",width:14,height:14},bp(w,{name:"ButtonIcon",HI:"M0 4 L3 9 9 0",ib:2,stretch:gf,HA:Vj,visible:!1},""!==b?(new sh("visible",b)).wJ():[]));a.click=function(a,d){var e=a.g;if(!(null===e||e.nb||""!==b&&e.ia.nb)){a.Oc=!0;var g=d.Fd("ButtonIcon");e.ac("checkbox");g.visible=!g.visible;"function"===typeof d._doClick&&d._doClick(a,d);e.Ud("checkbox")}};return a});
ep("CheckBox",function(a){a=fp(a);a=bp("CheckBoxButton",a,{name:"Button",margin:new Kb(0,1,0,0)});var b=bp(J,"Horizontal",a,{ru:!0,margin:1,_buttonFillNormal:a._buttonFillNormal,_buttonStrokeNormal:a._buttonStrokeNormal,_buttonFillOver:a._buttonFillOver,_buttonStrokeOver:a._buttonStrokeOver,_buttonFillDisabled:a._buttonFillDisabled,Fu:a.Fu,Gu:a.Gu,click:a.click,_buttonClick:a.click});a.Fu=null;a.Gu=null;a.click=null;return b});
function vo(){this.Pr=this.Si=this.uj=this.Zq=this.br=this.ar=this.$q=this.ij=this.Fs=this.Es=this.jj=this.kj=this.lj=this.Hs=this.Gs=this.Ri=this.Wi=this.Pi=null}vo.prototype.copy=function(){var a=new vo;a.Pi=this.Pi;a.Wi=this.Wi;a.Ri=this.Ri;a.Gs=this.Gs;a.Hs=this.Hs;a.lj=this.lj;a.kj=this.kj;a.jj=this.jj;a.Es=this.Es;a.Fs=this.Fs;a.ij=this.ij;a.$q=this.$q;a.ar=this.ar;a.br=this.br;a.Zq=this.Zq;a.uj=this.uj;a.Si=this.Si;a.Pr=this.Pr;return a};
function J(a){Q.call(this);void 0===a?this.ca=Yj:(C.Ca(a,J,J,"type"),this.ca=a);this.va=new K(Q);this.rf=Nd;this.ca===Nl&&(this.Yn=!0);this.Cr=Rc;this.Vi=oo;this.ca===ha&&gp(this);this.Tp=Vj;this.$r=Wd;this.as=Dd;this.Xr=0;this.Wr=100;this.Zr=10;this.Yr=0;this.pl=this.fe=this.ik=this.Nm=this.Pm=null;this.ms=NaN;this.Eg=this.cj=null;this.mp="category";this.Dg=null;this.wj=new z(NaN,NaN,NaN,NaN);this.Ak=this.gt=this.wn=null;this.Yj=""}C.Ta(J,Q);C.Ai(J);C.ka("Panel",J);
function gp(a){a.bk=Nd;a.bi=1;a.Ui=null;a.Km=null;a.ai=1;a.$h=null;a.Jm=null;a.ie=[];a.de=[];a.nn=hp;a.Im=hp;a.vj=0;a.fj=0}
J.prototype.cloneProtected=function(a){Q.prototype.cloneProtected.call(this,a);a.ca=this.ca;a.rf=this.rf.V();a.Cr=this.Cr.V();a.Vi=this.Vi;if(a.ca===ha){a.bk=this.bk.V();a.bi=this.bi;a.Ui=this.Ui;a.Km=this.Km;a.ai=this.ai;a.$h=this.$h;a.Jm=this.Jm;var b=[];if(0<this.ie.length)for(var c=this.ie,d=c.length,e=0;e<d;e++)if(void 0!==c[e]){var g=c[e].copy();g.wm(a);b[e]=g}a.ie=b;b=[];if(0<this.de.length)for(c=this.de,d=c.length,e=0;e<d;e++)void 0!==c[e]&&(g=c[e].copy(),g.wm(a),b[e]=g);a.de=b;a.nn=this.nn;
a.Im=this.Im;a.vj=this.vj;a.fj=this.fj}a.Tp=this.Tp;a.$r=this.$r.V();a.as=this.as.V();a.Xr=this.Xr;a.Wr=this.Wr;a.Zr=this.Zr;a.Yr=this.Yr;a.Pm=this.Pm;a.ik=this.ik;a.fe=this.fe;a.pl=this.pl;a.ms=this.ms;a.cj=this.cj;a.Eg=this.Eg;a.mp=this.mp;a.wj.assign(this.wj);a.Yj=this.Yj;null!==this.gt&&(a.gt=this.gt)};J.prototype.Bi=function(a){Q.prototype.Bi.call(this,a);a.va=this.va;for(var b=a.va.o,c=b.length,d=0;d<c;d++)b[d].Ah=a;a.wn=null};
J.prototype.copy=function(){var a=Q.prototype.copy.call(this);if(null!==a){for(var b=this.va.o,c=b.length,d=0;d<c;d++){var e=b[d].copy(),g=a;e.wm(g);e.hn=null;var h=g.va,k=h.count;h.Xd(k,e);h=g.ba;if(null!==h){h.Jl=null;null!==e.vd&&h instanceof F&&(h.Tk=!0);var l=g.g;null!==l&&l.sa.ob||h.ld(sg,"elements",g,null,e,null,k)}}return a}return null};J.prototype.pc=function(a){a.Pe===J?this.type=a:Q.prototype.pc.call(this,a)};J.prototype.toString=function(){return"Panel("+this.type+")#"+C.Gd(this)};var Yj;
J.Position=Yj=C.s(J,"Position",0);J.Horizontal=C.s(J,"Horizontal",1);var Jl;J.Vertical=Jl=C.s(J,"Vertical",2);var Rj;J.Spot=Rj=C.s(J,"Spot",3);var Kl;J.Auto=Kl=C.s(J,"Auto",4);var ha;J.Table=ha=C.s(J,"Table",5);J.Viewbox=C.s(J,"Viewbox",6);var Jo;J.TableRow=Jo=C.s(J,"TableRow",7);var Ko;J.TableColumn=Ko=C.s(J,"TableColumn",8);var kj;J.Link=kj=C.s(J,"Link",9);var Nl;J.Grid=Nl=C.s(J,"Grid",10);var Fp;J.Graduated=Fp=C.s(J,"Graduated",11);
C.defineProperty(J,{type:"type"},function(){return this.ca},function(a){var b=this.ca;b!==a&&(u&&C.Ca(a,J,J,"type"),b!==Jo&&b!==Ko||C.k("Cannot change Panel.type when it is already a TableRow or a TableColumn: "+a),this.ca=a,this.ca===Nl?this.Yn=!0:this.ca===ha&&gp(this),this.K(),this.i("type",b,a))});C.w(J,{elements:"elements"},function(){return this.va.j});C.w(J,{Ja:"naturalBounds"},function(){return this.Uc});
C.defineProperty(J,{padding:"padding"},function(){return this.rf},function(a){"number"===typeof a?(0>a&&C.wa(a,">= 0",J,"padding"),a=new Kb(a)):(C.l(a,Kb,J,"padding"),0>a.left&&C.wa(a.left,">= 0",J,"padding:value.left"),0>a.right&&C.wa(a.right,">= 0",J,"padding:value.right"),0>a.top&&C.wa(a.top,">= 0",J,"padding:value.top"),0>a.bottom&&C.wa(a.bottom,">= 0",J,"padding:value.bottom"));var b=this.rf;b.O(a)||(this.rf=a=a.V(),this.K(),this.i("padding",b,a))});
C.defineProperty(J,{em:"defaultAlignment"},function(){return this.Cr},function(a){var b=this.Cr;b.O(a)||(u&&C.l(a,S,J,"defaultAlignment"),this.Cr=a=a.V(),this.K(),this.i("defaultAlignment",b,a))});C.defineProperty(J,{ke:"defaultStretch"},function(){return this.Vi},function(a){var b=this.Vi;b!==a&&(C.Ca(a,Q,J,"defaultStretch"),this.Vi=a,this.K(),this.i("defaultStretch",b,a))});
C.defineProperty(J,{sL:"defaultSeparatorPadding"},function(){return void 0===this.bk?Nd:this.bk},function(a){if(void 0!==this.bk){"number"===typeof a?a=new Kb(a):u&&C.l(a,Kb,J,"defaultSeparatorPadding");var b=this.bk;b.O(a)||(this.bk=a=a.V(),this.K(),this.i("defaultSeparatorPadding",b,a))}});
C.defineProperty(J,{qL:"defaultRowSeparatorStroke"},function(){return void 0===this.Ui?null:this.Ui},function(a){var b=this.Ui;b!==a&&(null===a||"string"===typeof a||a instanceof Ea)&&(a instanceof Ea&&a.freeze(),this.Ui=a,this.ra(),this.i("defaultRowSeparatorStroke",b,a))});
C.defineProperty(J,{rL:"defaultRowSeparatorStrokeWidth"},function(){return void 0===this.bi?1:this.bi},function(a){if(void 0!==this.bi){var b=this.bi;b!==a&&isFinite(a)&&0<=a&&(this.bi=a,this.K(),this.i("defaultRowSeparatorStrokeWidth",b,a))}});
C.defineProperty(J,{pL:"defaultRowSeparatorDashArray"},function(){return void 0===this.Km?null:this.Km},function(a){if(void 0!==this.Km){var b=this.Km;if(b!==a){null===a||Array.isArray(a)||C.ic(a,"Array",J,"defaultRowSeparatorDashArray:value");if(null!==a){for(var c=a.length,d=0,e=0;e<c;e++){var g=a[e];"number"===typeof g&&0<=g&&isFinite(g)||C.k("defaultRowSeparatorDashArray value "+g+" at index "+e+" must be a positive number or zero.");d+=g}if(0===d){if(null===b)return;a=null}}this.Km=a;this.ra();
this.i("defaultRowSeparatorDashArray",b,a)}}});C.defineProperty(J,{kL:"defaultColumnSeparatorStroke"},function(){return void 0===this.$h?null:this.$h},function(a){if(void 0!==this.$h){var b=this.$h;b!==a&&(null===a||"string"===typeof a||a instanceof Ea)&&(a instanceof Ea&&a.freeze(),this.$h=a,this.ra(),this.i("defaultColumnSeparatorStroke",b,a))}});
C.defineProperty(J,{lL:"defaultColumnSeparatorStrokeWidth"},function(){return void 0===this.ai?1:this.ai},function(a){if(void 0!==this.ai){var b=this.ai;b!==a&&isFinite(a)&&0<=a&&(this.ai=a,this.K(),this.i("defaultColumnSeparatorStrokeWidth",b,a))}});
C.defineProperty(J,{jL:"defaultColumnSeparatorDashArray"},function(){return void 0===this.Jm?null:this.Jm},function(a){if(void 0!==this.Jm){var b=this.Jm;if(b!==a){null===a||Array.isArray(a)||C.ic(a,"Array",J,"defaultColumnSeparatorDashArray:value");if(null!==a){for(var c=a.length,d=0,e=0;e<c;e++){var g=a[e];"number"===typeof g&&0<=g&&isFinite(g)||C.k("defaultColumnSeparatorDashArray value "+g+" at index "+e+" must be a positive number or zero.");d+=g}if(0===d){if(null===b)return;a=null}}this.Jm=
a;this.ra();this.i("defaultColumnSeparatorDashArray",b,a)}}});C.defineProperty(J,{HM:"viewboxStretch"},function(){return this.Tp},function(a){var b=this.Tp;b!==a&&(C.Ca(a,Q,J,"viewboxStretch"),this.Tp=a,this.K(),this.i("viewboxStretch",b,a))});
C.defineProperty(J,{Kx:"gridCellSize"},function(){return this.$r},function(a){var b=this.$r;if(!b.O(a)){C.l(a,Fa,J,"gridCellSize");a.F()&&0!==a.width&&0!==a.height||C.k("Invalid Panel.gridCellSize: "+a);this.$r=a.V();var c=this.g;null!==c&&this===c.Vn&&dm(c);this.ra();this.i("gridCellSize",b,a)}});
C.defineProperty(J,{tF:"gridOrigin"},function(){return this.as},function(a){var b=this.as;if(!b.O(a)){C.l(a,O,J,"gridOrigin");a.F()||C.k("Invalid Panel.gridOrigin: "+a);this.as=a.V();var c=this.g;null!==c&&this===c.Vn&&dm(c);this.ra();this.i("gridOrigin",b,a)}});C.defineProperty(J,{Sk:"graduatedMin"},function(){return this.Xr},function(a){C.p(a,J,"graduatedMin");var b=this.Xr;b!==a&&(this.Xr=a,this.K(),this.i("graduatedMin",b,a),zo(this)&&(a=this.ba,null!==a&&Ao(this,a,"graduatedRange")))});
C.defineProperty(J,{KA:"graduatedMax"},function(){return this.Wr},function(a){C.p(a,J,"graduatedMax");var b=this.Wr;b!==a&&(this.Wr=a,this.K(),this.i("graduatedMax",b,a),zo(this)&&(a=this.ba,null!==a&&Ao(this,a,"graduatedRange")))});C.w(J,{Jx:"graduatedRange"},function(){return this.KA-this.Sk});C.defineProperty(J,{LA:"graduatedTickUnit"},function(){return this.Zr},function(a){C.p(a,J,"graduatedTickUnit");var b=this.Zr;b!==a&&0<a&&(this.Zr=a,this.K(),this.i("graduatedTickUnit",b,a))});
C.defineProperty(J,{sF:"graduatedTickBase"},function(){return this.Yr},function(a){C.p(a,J,"graduatedTickBase");var b=this.Yr;b!==a&&(this.Yr=a,this.K(),this.i("graduatedTickBase",b,a))});f=J.prototype;f.sw=function(a){Q.prototype.sw.call(this,a);for(var b=this.va.o,c=b.length,d=0;d<c;d++)b[d].sw(a)};
f.Ok=function(a,b){if(this.ca===Nl){var c=this.Ej()*b.scale;0>=c&&(c=1);var d=this.Kx,e=d.width,d=d.height,g=this.Ja,h=g.width,g=g.height,k=Math.ceil(h/e),l=Math.ceil(g/d),m=this.tF;a.save();a.beginPath();a.rect(0,0,h,g);a.clip();for(var n=[],p=this.va.o,q=p.length,r=0;r<q;r++){var s=p[r],v=[];n.push(v);if(s.visible)for(var s=Xm(s.Jb),t=r+1;t<q;t++){var x=p[t];x.visible&&Xm(x.Jb)===s&&(x=x.interval,2<=x&&v.push(x))}}p=this.va.o;q=p.length;for(r=0;r<q;r++){var y=p[r];if(y.visible&&(v=y.interval,!(2>
e*v*c))){var s=n[r],t=!1,B=!0,A=y.MG;null!==A&&(t=!0,B=a.AA(A,y.Oe));if("LineV"===y.Jb){a.lineWidth=y.ib;No(this,a,y.stroke,!1,!1);a.beginPath();for(var N=x=Math.floor(-m.x/e);N<=x+k;N++){var G=N*e+m.x;0<=G&&G<h&&Gp(N,v,s)&&(t&&!B?yo(a,G,0,G,g,A,y.Oe):(a.moveTo(G,0),a.lineTo(G,g)))}a.stroke()}else if("LineH"===y.Jb){a.lineWidth=y.ib;No(this,a,y.stroke,!1,!1);a.beginPath();for(N=x=Math.floor(-m.y/d);N<=x+l;N++)G=N*d+m.y,0<=G&&G<=g&&Gp(N,v,s)&&(t&&!B?yo(a,0,G,h,G,A,y.Oe):(a.moveTo(0,G),a.lineTo(h,G)));
a.stroke()}else if("BarV"===y.Jb)for(No(this,a,y.fill,!0,!1),y=y.width,isNaN(y)&&(y=e),N=x=Math.floor(-m.x/e);N<=x+k;N++)G=N*e+m.x,0<=G&&G<h&&Gp(N,v,s)&&a.fillRect(G,0,y,g);else if("BarH"===y.Jb)for(No(this,a,y.fill,!0,!1),y=y.height,isNaN(y)&&(y=d),N=x=Math.floor(-m.y/d);N<=x+l;N++)G=N*d+m.y,0<=G&&G<=g&&Gp(N,v,s)&&a.fillRect(0,G,h,y);t&&a.vA()}}a.restore();da(a,!1)}else if(this.ca===Fp){e=this.Ja;c=e.width;e=e.height;a.save();a.beginPath();a.rect(-1,-1,c+1,e+1);a.clip();c=this.Vd();c.Fe(a,b);e=this.Ej()*
b.scale;0>=e&&(e=1);d=c.Z;h=this.va.o;g=this.Pm;k=h.length;for(l=0;l<k;l++)if(q=h[l],m=g[l],n=m.length,q.visible&&q!==c&&0!==m.length)if(q instanceof w){if(!(2>this.LA*q.interval*e))for(r=q.Ea,v=q.ib*q.scale,s=q.Fh,s.Zd()&&(s=ic),p=0;p<n;p++){var t=q,x=m[p][0],N=d,y=m[p][1],B=r,A=v,G=s,T=t.Kc;T.reset();T.translate(x.x+N.x,x.y+N.y);T.rotate(y+t.angle,0,0);T.translate(-B.width*G.x+G.offsetX+A/2,-B.height*G.y+G.offsetY+A/2);T.scale(t.scale,t.scale);Po(t,!1);t.Li.set(t.Kc);t.To=t.scale;Qo(t,!1);q.Fe(a,
b);q.Kc.reset()}}else if(q instanceof pa)for(null===this.Ak&&(this.Ak=new pa),r=this.Ak,Hp(q,r),p=0;p<n;p++)x=m[p],3<x.length&&(s=x[6],r.Td=x[2],r.rg=x[3],r.we=x[4],r.gi=x[5],r.Uc=x[8],r.qc(s.x,s.y,s.width,s.height),q=r,v=d,t=x[7],x=x[8],N=q.Kc,N.reset(),N.translate(s.x+v.x,s.y+v.y),N.translate(-t.x,-t.y),Co(q,N,x.x,x.y,x.width,x.height),Po(q,!1),q.Li.set(q.Kc),q.To=q.scale,Qo(q,!1),r.Fe(a,b));a.restore();da(a,!0)}else{this.ca===ha&&(a.lineCap="butt",Ip(this,a,!0,this.ie,!0),Ip(this,a,!1,this.de,
!0),Jp(this,a,!0,this.ie),Jp(this,a,!1,this.de),Ip(this,a,!0,this.ie,!1),Ip(this,a,!1,this.de,!1));if(c=this.uq)a.save(),u&&this.type!==Rj&&C.trace("Warning: Panel.isClipping set on non-Spot Panel: "+this.toString());e=this.Vd();d=this.va.o;h=d.length;for(g=0;g<h;g++)k=d[g],c&&k===e&&(a.Xt=!0),k.Fe(a,b),c&&k===e&&(a.Xt=!1);c&&(a.restore(),da(a,!0));u&&u.zI&&this instanceof I&&u.yI(a,b,this)}};
function Hp(a,b){b.T=a.T|6144;b.Ic=a.Ic;b.Kb=a.Kb;b.jc=a.jc;b.Ye=a.Ye.V();b.li=a.li.V();b.ki=a.ki.V();b.gj=a.gj.copy();b.Rb=a.Rb;b.rg=a.rg;b.Mg=a.Mg;b.an=a.an.V();b.te=a.te.V();b.Fm=a.Fm.V();b.on=a.on;b.pn=a.pn.V();b.qn=a.qn;null!==a.ug&&(b.ug=a.ug.copy());b.un=a.un;b.Td=a.Td;b.Ac=a.Ac;b.xg=a.xg;b.Nl=a.Nl;b.wg=a.wg;b.Rl=a.Rl;b.Tm=a.Tm;b.ok=a.ok;b.nk=a.nk;b.nj=a.nj;b.Gk=a.Gk;b.Mm=null;b.si=a.si;b.ti=a.ti;b.uh=a.uh;b.pp=a.pp;b.Bg=a.Bg;b.Ag=a.Ag;b.zg=a.zg;b.Om=a.Om}
function Jp(a,b,c,d){for(var e=d.length,g=a.Z,h=c?a.oe(0):a.ne(0),k=0;k<e;k++){var l=d[k];if(void 0!==l&&l!==h&&0!==l.Ra){if(c){if(l.position>g.height)continue}else if(l.position>g.width)continue;var m=l.Rq;isNaN(m)&&(m=c?a.bi:a.ai);var n=l.Qq;null===n&&(n=c?a.Ui:a.$h);if(0!==m&&null!==n){No(a,b,n,!1,!1);var n=!1,p=!0,q=l.iK;null!==q&&(n=!0,void 0!==b.setLineDash?(b.setLineDash(q),b.lineDashOffset=a.Oe):void 0!==b.webkitLineDash?(b.webkitLineDash=q,b.webkitLineDashOffset=a.Oe):void 0!==b.mozDash?
(b.mozDash=q,b.mozDashOffset=a.Oe):p=!1);b.beginPath();var r=l.position+m;c?r>g.height&&(m-=r-g.height):r>g.width&&(m-=r-g.width);l=l.position+m/2;b.lineWidth=m;r=a.padding;c?(l+=r.top,m=r.left,r=g.width-r.right,n&&!p?yo(b,m,l,r,l,q,0):(b.moveTo(m,l),b.lineTo(r,l))):(l+=r.left,m=r.top,r=g.height-r.bottom,n&&!p?yo(b,l,m,l,r,q,0):(b.moveTo(l,m),b.lineTo(l,r)));b.stroke();n&&(void 0!==b.setLineDash?(b.setLineDash(C.bl),b.lineDashOffset=0):void 0!==b.webkitLineDash?(b.webkitLineDash=C.bl,b.webkitLineDashOffset=
0):void 0!==b.mozDash&&(b.mozDash=null,b.mozDashOffset=0))}}}}
function Ip(a,b,c,d,e){for(var g=d.length,h=a.Z,k=0;k<g;k++){var l=d[k];if(void 0!==l&&null!==l.background&&l.tA!==e&&0!==l.Ra){var m=c?h.height:h.width;if(!(l.position>m)){var n=l.ff(),p=l.Rq;isNaN(p)&&(p=c?a.bi:a.ai);var q=l.Qq;null===q&&(q=c?a.Ui:a.$h);null===q&&(p=0);n-=p;p=l.position+p;n+=l.Ra;p+n>m&&(n=m-p);0>=n||(m=a.padding,No(a,b,l.background,!0,!1),c?b.fillRect(m.left,p+m.top,h.width-(m.left+m.right),n):b.fillRect(p+m.left,m.top,n,h.height-(m.top+m.bottom)))}}}}
function Gp(a,b,c){if(0!==a%b)return!1;b=c.length;for(var d=0;d<b;d++)if(0===a%c[d])return!1;return!0}function Xm(a){return"LineV"===a||"BarV"===a}
f.Tn=function(a,b,c,d,e){var g=this.jh(),h=this.transform,k=1/(h.m11*h.m22-h.m12*h.m21),l=h.m22*k,m=-h.m12*k,n=-h.m21*k,p=h.m11*k,q=k*(h.m21*h.dy-h.m22*h.dx),r=k*(h.m12*h.dx-h.m11*h.dy);if(null!==this.Xl)return h=this.Z,Ge(h.left,h.top,h.right,h.bottom,a,b,c,d,e);if(null!==this.background)g=a*l+b*n+q,k=a*m+b*p+r,a=c*l+d*n+q,l=c*m+d*p+r,e.m(0,0),c=this.Ja,c=Ge(0,0,c.width,c.height,g,k,a,l,e),e.transform(h);else{g||(l=1,n=m=0,p=1,r=q=0);k=a*l+b*n+q;a=a*m+b*p+r;l=c*l+d*n+q;d=c*m+d*p+r;e.m(l,d);m=(l-
k)*(l-k)+(d-a)*(d-a);c=!1;p=this.va.o;r=p.length;n=C.P();q=null;b=Infinity;var s=null;this.uq&&(s=C.P(),q=this.Vd(),(c=q.Tn(k,a,l,d,s))&&(b=(k-s.x)*(k-s.x)+(a-s.y)*(a-s.y)));for(var v=0;v<r;v++){var t=p[v];t.visible&&t!==q&&t.Tn(k,a,l,d,n)&&(c=!0,t=(k-n.x)*(k-n.x)+(a-n.y)*(a-n.y),t<m&&(m=t,e.set(n)))}this.uq&&(b>m&&e.set(s),C.A(s));C.A(n);g&&e.transform(h)}return c};
f.K=function(a){Q.prototype.K.call(this,a);if(this.ca===Kl||this.ca===kj)a=this.Vd(),null!==a&&a.K(!0);a=this.va.o;for(var b=a.length,c=0;c<b;c++){var d=a[c];if(!d.Da.F()){var e=Eo(d,!1);(d instanceof Sj||d instanceof J||d instanceof pa||e!==Tj)&&d.K(!0)}}};f.tq=function(){if(!1===Cm(this)){cm(this,!0);Fo(this,!0);for(var a=this.va.o,b=a.length,c=0;c<b;c++)a[c].tq()}};f.$i=function(){if(0!==(this.T&2048)===!1){Po(this,!0);Qo(this,!0);for(var a=this.va.o,b=a.length,c=0;c<b;c++)a[c].QA()}};
f.QA=function(){Qo(this,!0);for(var a=this.va.o,b=a.length,c=0;c<b;c++)a[c].QA()};
f.zq=function(a,b,c,d){var e=this.wj;e.width=0;e.height=0;var g=this.Da,h=this.hg;void 0===c&&(c=h.width,d=h.height);c=Math.max(c,h.width);d=Math.max(d,h.height);var k=this.lf;isNaN(g.width)||(a=Math.min(g.width,k.width));isNaN(g.height)||(b=Math.min(g.height,k.height));a=Math.max(c,a);b=Math.max(d,b);var l=this.padding;a=Math.max(a-l.left-l.right,0);b=Math.max(b-l.top-l.bottom,0);var m=this.va.o;if(0!==m.length){var n=this.ca.Yb;switch(n){case "Position":var p=a,q=b,r=c,s=d,v=m.length;e.x=0;e.y=
0;e.width=0;for(var t=e.height=0;t<v;t++){var x=m[t];if(x.visible||x===this.dc){var y=x.margin,B=y.right+y.left,A=y.top+y.bottom;Bk(x,p,q,r,s);var N=x.Ea,G=Math.max(N.width+B,0),T=Math.max(N.height+A,0),fa=x.position.x,W=x.position.y;isFinite(fa)||(fa=0);isFinite(W)||(W=0);if(x instanceof w){var P=x;if(P.FF)var aa=P.ib/2,fa=fa-aa,W=W-aa}Rb(e,fa,W,G,T)}}break;case "Vertical":for(var Oa=a,sa=c,Ma=m.length,va=C.tb(),Pa=0;Pa<Ma;Pa++){var xa=m[Pa];if(xa.visible||xa===this.dc){var Ic=Eo(xa,!1);if(Ic!==
Tj&&Ic!==po)va.push(xa);else{var tc=xa.margin,Fd=tc.right+tc.left,uf=tc.top+tc.bottom;Bk(xa,Oa,Infinity,sa,0);var ac=xa.Ea,Gg=Math.max(ac.width+Fd,0),Hg=Math.max(ac.height+uf,0);e.width=Math.max(e.width,Gg);e.height+=Hg}}}var db=va.length;if(0!==db){this.Da.width?Oa=Math.min(this.Da.width,this.lf.width):0!==e.width&&(Oa=Math.min(e.width,this.lf.width));for(Pa=0;Pa<db;Pa++)if(xa=va[Pa],xa.visible||xa===this.dc)tc=xa.margin,Fd=tc.right+tc.left,uf=tc.top+tc.bottom,Bk(xa,Oa,Infinity,sa,0),ac=xa.Ea,Gg=
Math.max(ac.width+Fd,0),Hg=Math.max(ac.height+uf,0),e.width=Math.max(e.width,Gg),e.height+=Hg;C.Ba(va)}break;case "Horizontal":for(var vb=b,qa=d,ra=m.length,kb=C.tb(),bb=0;bb<ra;bb++){var Ya=m[bb];if(Ya.visible||Ya===this.dc){var re=Eo(Ya,!1);if(re!==Tj&&re!==qo)kb.push(Ya);else{var fd=Ya.margin,Jc=fd.right+fd.left,se=fd.top+fd.bottom;Bk(Ya,Infinity,vb,0,qa);var te=Ya.Ea,cg=Math.max(te.width+Jc,0),vf=Math.max(te.height+se,0);e.width+=cg;e.height=Math.max(e.height,vf)}}}var rj=kb.length;if(0!==rj){this.Da.height?
vb=Math.min(this.Da.height,this.lf.height):0!==e.height&&(vb=Math.min(e.height,this.lf.height));for(bb=0;bb<rj;bb++)if(Ya=kb[bb],Ya.visible||Ya===this.dc)fd=Ya.margin,Jc=fd.right+fd.left,se=fd.top+fd.bottom,Bk(Ya,Infinity,vb,0,qa),te=Ya.Ea,cg=Math.max(te.width+Jc,0),vf=Math.max(te.height+se,0),e.width+=cg,e.height=Math.max(e.height,vf);C.Ba(kb)}break;case "Spot":a:{var pb=a,bc=b,gd=c,ai=d,Mb=m.length,qb=this.Vd(),eb=qb.margin,wf=0,xf=0,Ig=eb.right+eb.left,hd=eb.top+eb.bottom;Bk(qb,pb,bc,gd,ai);for(var Tb=
qb.Ea,id=Tb.width,Ye=Tb.height,Cb=Math.max(id+Ig,0),fb=Math.max(Ye+hd,0),Gd=this.uq,rb=C.fh(-eb.left,-eb.top,Cb,fb),Hd=!0,He=0;He<Mb;He++){var ab=m[He];if(ab!==qb&&(ab.visible||ab===this.dc)){eb=ab.margin;wf=eb.right+eb.left;xf=eb.top+eb.bottom;Bk(ab,pb,bc,0,0);var Tb=ab.Ea,Cb=Math.max(Tb.width+wf,0),fb=Math.max(Tb.height+xf,0),Ta=ab.alignment;Ta.hd()&&(Ta=this.em);Ta.jd()||(Ta=mc);var Ra=ab.Fh;Ra.hd()&&(Ra=mc);var cc=null;ab instanceof J&&""!==ab.Yj&&(ab.qc(0,0,Tb.width,Tb.height),cc=ab.Fd(ab.Yj),
cc===ab&&(cc=null));var dg,eg;if(null!==cc){for(var fg=cc.Ja,bi=cc.margin,Gb=C.Fb(Ra.x*fg.width+Ra.offsetX-bi.left,Ra.y*fg.height+Ra.offsetY-bi.top);cc!==ab;)cc.transform.wb(Gb),cc=cc.Q;dg=Ta.x*id+Ta.offsetX-Gb.x;eg=Ta.y*Ye+Ta.offsetY-Gb.y;C.A(Gb)}else dg=Ta.x*id+Ta.offsetX-(Ra.x*Tb.width-Ra.offsetX)-eb.left,eg=Ta.y*Ye+Ta.offsetY-(Ra.y*Tb.height-Ra.offsetY)-eb.top;Hd?(Hd=!1,e.x=dg,e.y=eg,e.width=Cb,e.height=fb):Rb(e,dg,eg,Cb,fb)}}Hd?e.assign(rb):Gd?e.zF(rb.x,rb.y,rb.width,rb.height):Rb(e,rb.x,rb.y,
rb.width,rb.height);C.Lb(rb);var Ub=qb.stretch;Ub===oo&&(Ub=Eo(qb,!1));switch(Ub){case Tj:break a;case gf:if(!isFinite(pb)&&!isFinite(bc))break a;break;case qo:if(!isFinite(pb))break a;break;case po:if(!isFinite(bc))break a}Tb=qb.Ea;id=Tb.width;Ye=Tb.height;Cb=Math.max(id+Ig,0);fb=Math.max(Ye+hd,0);eb=qb.margin;rb=C.fh(-eb.left,-eb.top,Cb,fb);for(He=0;He<Mb;He++)ab=m[He],ab===qb||!ab.visible&&ab!==this.dc||(eb=ab.margin,wf=eb.right+eb.left,xf=eb.top+eb.bottom,Tb=ab.Ea,Cb=Math.max(Tb.width+wf,0),fb=
Math.max(Tb.height+xf,0),Ta=ab.alignment,Ta.hd()&&(Ta=this.em),Ta.jd()||(Ta=mc),Ra=ab.Fh,Ra.hd()&&(Ra=mc),Hd?(Hd=!1,e.x=Ta.x*id+Ta.offsetX-(Ra.x*Tb.width-Ra.offsetX)-eb.left,e.y=Ta.y*Ye+Ta.offsetY-(Ra.y*Tb.height-Ra.offsetY)-eb.top,e.width=Cb,e.height=fb):Rb(e,Ta.x*id+Ta.offsetX-(Ra.x*Tb.width-Ra.offsetX)-eb.left,Ta.y*Ye+Ta.offsetY-(Ra.y*Tb.height-Ra.offsetY)-eb.top,Cb,fb));Hd?e.assign(rb):Gd?e.zF(rb.x,rb.y,rb.width,rb.height):Rb(e,rb.x,rb.y,rb.width,rb.height);C.Lb(rb)}break;case "Auto":var Wb=a,
Ze=b,Nb=c,Ob=d,Id=m.length,Hb=this.Vd(),uc=Hb.margin,ci=Wb,di=Ze,rd=uc.right+uc.left,$e=uc.top+uc.bottom;Bk(Hb,Wb,Ze,Nb,Ob);var gg=Hb.Ea,jd=0,Ib=null;Hb instanceof w&&(Ib=Hb,jd=Ib.ib*Ib.scale);var sd=Math.max(gg.width+rd,0),dc=Math.max(gg.height+$e,0),Xb=Kp(Hb),yf=Xb.x*sd+Xb.offsetX,Wc=Xb.y*dc+Xb.offsetY,Ua=Lp(Hb),Ie=Ua.x*sd+Ua.offsetX,ei=Ua.y*dc+Ua.offsetY;isFinite(Wb)&&(ci=Math.max(Math.abs(yf-Ie)-jd,0));isFinite(Ze)&&(di=Math.max(Math.abs(Wc-ei)-jd,0));var Xc=C.Am();Xc.m(0,0);for(var xh=0;xh<Id;xh++){var Kc=
m[xh];if(Kc!==Hb&&(Kc.visible||Kc===this.dc)){var uc=Kc.margin,yh=uc.right+uc.left,Jg=uc.top+uc.bottom;Bk(Kc,ci,di,0,0);gg=Kc.Ea;sd=Math.max(gg.width+yh,0);dc=Math.max(gg.height+Jg,0);Xc.m(Math.max(sd,Xc.width),Math.max(dc,Xc.height))}}if(1===Id)e.width=sd,e.height=dc,C.Qk(Xc);else{var Xb=Kp(Hb),Ua=Lp(Hb),Xd=0,zf=0;Ua.x!==Xb.x&&Ua.y!==Xb.y&&(Xd=Xc.width/Math.abs(Ua.x-Xb.x),zf=Xc.height/Math.abs(Ua.y-Xb.y));C.Qk(Xc);jd=0;null!==Ib&&(jd=Ib.ib*Ib.scale,Uj(Ib)===Vj&&(Xd=zf=Math.max(Xd,zf)));var Xd=Xd+
(Math.abs(Xb.offsetX)+Math.abs(Ua.offsetX)+jd),zf=zf+(Math.abs(Xb.offsetY)+Math.abs(Ua.offsetY)+jd),Ik=Hb.stretch;Ik===oo&&(Ik=Eo(Hb,!1));switch(Ik){case Tj:Ob=Nb=0;break;case gf:isFinite(Wb)&&(Xd=Wb);isFinite(Ze)&&(zf=Ze);break;case qo:isFinite(Wb)&&(Xd=Wb);Ob=0;break;case po:Nb=0,isFinite(Ze)&&(zf=Ze)}Hb.tq();Bk(Hb,Xd,zf,Nb,Ob);e.width=Hb.Ea.width+rd;e.height=Hb.Ea.height+$e}break;case "Table":for(var Kg=a,wb=b,zh=c,Af=d,lb=m.length,fi=C.tb(),sj=C.tb(),la=0;la<lb;la++){var ga=m[la],kd=ga instanceof
J?ga:null;if(null===kd||kd.type!==Jo&&kd.type!==Ko||!ga.visible)fi.push(ga);else{u&&(kd.Da.F()&&C.k(kd.toString()+" TableRow/TableColumn Panels cannot set a desiredSize: "+kd.Da.toString()),kd.hg.O(Sd)||C.k(kd.toString()+" TableRow/TableColumn Panels cannot set a minSize: "+kd.hg.toString()),kd.lf.O(ge)||C.k(kd.toString()+" TableRow/TableColumn Panels cannot set a maxSize: "+kd.lf.toString()));sj.push(ga);for(var Jk=kd.va.o,Kk=Jk.length,zc=0;zc<Kk;zc++){var Jd=Jk[zc];kd.type===Jo?Jd.$b=ga.$b:kd.type===
Ko&&(Jd.column=ga.column);fi.push(Jd)}}}lb=fi.length;0===lb&&(this.oe(0),this.ne(0));for(var Pb=[],la=0;la<lb;la++)ga=fi[la],cm(ga,!0),Fo(ga,!0),Pb[ga.$b]||(Pb[ga.$b]=[]),Pb[ga.$b][ga.column]||(Pb[ga.$b][ga.column]=[]),Pb[ga.$b][ga.column].push(ga);C.Ba(fi);for(var Bf=C.tb(),hg=C.tb(),Cf=C.tb(),Yd={count:0},Zd={count:0},kc=Kg,vc=wb,af=this.ie,lb=af.length,la=0;la<lb;la++){var ba=af[la];void 0!==ba&&(ba.Ra=0)}af=this.de;lb=af.length;for(la=0;la<lb;la++)ba=af[la],void 0!==ba&&(ba.Ra=0);for(var gi=Pb.length,
ig=0,la=0;la<gi;la++)Pb[la]&&(ig=Math.max(ig,Pb[la].length));for(var tj=Math.min(this.vj,gi-1),uj=Math.min(this.fj,ig-1),Kd=0,gi=Pb.length,la=0;la<gi;la++)if(Pb[la])for(var ig=Pb[la].length,ib=this.oe(la),zc=ib.Ra=0;zc<ig;zc++)if(Pb[la][zc]){var sb=this.ne(zc);void 0===Bf[zc]&&(sb.Ra=0,Bf[zc]=!0);for(var hi=Pb[la][zc],vj=hi.length,Lk=0;Lk<vj;Lk++)if(ga=hi[Lk],ga.visible||ga===this.dc){var Mk=1<ga.rj||1<ga.Qi;Mk&&(la<tj||zc<uj||hg.push(ga));var Ac=ga.margin,ld=Ac.right+Ac.left,Lg=Ac.top+Ac.bottom,
Lc=So(ga,ib,sb,!1),ii=ga.Da,Nk=!isNaN(ii.height),fm=!isNaN(ii.width)&&Nk;Mk||Lc===Tj||fm||la<tj||zc<uj||(void 0!==Yd[zc]||Lc!==gf&&Lc!==qo||(Yd[zc]=-1,Yd.count++),void 0!==Zd[la]||Lc!==gf&&Lc!==po||(Zd[la]=-1,Zd.count++),Cf.push(ga));Bk(ga,Infinity,Infinity,0,0);if(!(la<tj||zc<uj)){var $d=ga.Ea,Yc=Math.max($d.width+ld,0),Je=Math.max($d.height+Lg,0);if(1===ga.rj&&(Lc===Tj||Lc===qo)){var ba=this.oe(la),jg=ba.ff(),Kd=Math.max(Je-ba.Ra,0);Kd+jg>vc&&(Kd=Math.max(vc-jg,0));var wj=0===ba.Ra;ba.Ra+=Kd;vc=
Math.max(vc-(Kd+(wj?jg:0)),0)}1!==ga.Qi||Lc!==Tj&&Lc!==po||(ba=this.ne(zc),jg=ba.ff(),Kd=Math.max(Yc-ba.Ra,0),Kd+jg>kc&&(Kd=Math.max(kc-jg,0)),wj=0===ba.Ra,ba.Ra+=Kd,kc=Math.max(kc-(Kd+(wj?jg:0)),0));Mk&&ga.tq()}}}C.Ba(Bf);for(var ae=0,be=0,lb=this.aq,la=0;la<lb;la++){var Mc=this.de[la];void 0!==Mc&&(ae+=Mc.$a,0!==Mc.$a&&(ae+=Mc.ff()))}lb=this.Oq;for(la=0;la<lb;la++){var Df=this.ie[la];void 0!==Df&&(be+=Df.$a,0!==Df.$a&&(be+=Df.ff()))}for(var kc=Math.max(Kg-ae,0),kg=vc=Math.max(wb-be,0),Zc=kc,lb=
Cf.length,la=0;la<lb;la++){var ga=Cf[la],ib=this.oe(ga.$b),sb=this.ne(ga.column),Ok=ga.Ea,Ac=ga.margin,ld=Ac.right+Ac.left,Lg=Ac.top+Ac.bottom;Yd[ga.column]=0===sb.Ra&&void 0!==Yd[ga.column]?Math.max(Ok.width+ld,Yd[ga.column]):null;Zd[ga.$b]=0===ib.Ra&&void 0!==Zd[ga.$b]?Math.max(Ok.height+Lg,Zd[ga.$b]):null}var Mg=0,Ng=0;for(la in Zd)"count"!==la&&(Mg+=Zd[la]);for(la in Yd)"count"!==la&&(Ng+=Yd[la]);for(var Eb=C.Am(),la=0;la<lb;la++)if(ga=Cf[la],ga.visible||ga===this.dc){var ib=this.oe(ga.$b),sb=
this.ne(ga.column),ce=0;isFinite(sb.width)?ce=sb.width:(ce=isFinite(kc)&&null!==Yd[ga.column]?0===Ng?sb.Ra+kc:Yd[ga.column]/Ng*Zc:null!==Yd[ga.column]?kc:sb.Ra||kc,ce=Math.max(0,ce-sb.ff()));var de=0;isFinite(ib.height)?de=ib.height:(de=isFinite(vc)&&null!==Zd[ga.$b]?0===Mg?ib.Ra+vc:Zd[ga.$b]/Mg*kg:null!==Zd[ga.$b]?vc:ib.Ra||vc,de=Math.max(0,de-ib.ff()));Eb.m(Math.max(sb.Nj,Math.min(ce,sb.yf)),Math.max(ib.Nj,Math.min(de,ib.yf)));Lc=So(ga,ib,sb,!1);switch(Lc){case qo:Eb.height=Math.max(Eb.height,ib.Ra+
vc);break;case po:Eb.width=Math.max(Eb.width,sb.Ra+kc)}Ac=ga.margin;ld=Ac.right+Ac.left;Lg=Ac.top+Ac.bottom;ga.tq();Bk(ga,Eb.width,Eb.height,sb.Nj,ib.Nj);$d=ga.Ea;Yc=Math.max($d.width+ld,0);Je=Math.max($d.height+Lg,0);isFinite(kc)&&(Yc=Math.min(Yc,Eb.width));isFinite(vc)&&(Je=Math.min(Je,Eb.height));var Og=0,Og=ib.Ra;ib.Ra=Math.max(ib.Ra,Je);Kd=ib.Ra-Og;vc=Math.max(vc-Kd,0);Og=sb.Ra;sb.Ra=Math.max(sb.Ra,Yc);Kd=sb.Ra-Og;kc=Math.max(kc-Kd,0)}C.Ba(Cf);for(var Ef=C.Am(),lb=hg.length,la=0;la<lb;la++)if(ga=
hg[la],ga.visible||ga===this.dc){ib=this.oe(ga.$b);sb=this.ne(ga.column);Eb.m(Math.max(sb.Nj,Math.min(Kg,sb.yf)),Math.max(ib.Nj,Math.min(wb,ib.yf)));Lc=So(ga,ib,sb,!1);switch(Lc){case gf:0!==sb.Ra&&(Eb.width=Math.min(Eb.width,sb.Ra));0!==ib.Ra&&(Eb.height=Math.min(Eb.height,ib.Ra));break;case qo:0!==sb.Ra&&(Eb.width=Math.min(Eb.width,sb.Ra));break;case po:0!==ib.Ra&&(Eb.height=Math.min(Eb.height,ib.Ra))}isFinite(sb.width)&&(Eb.width=sb.width);isFinite(ib.height)&&(Eb.height=ib.height);Ef.m(0,0);for(var mb=
1;mb<ga.rj&&!(ga.$b+mb>=this.Oq);mb++)ba=this.oe(ga.$b+mb),Ef.height+=Math.max(ba.Nj,isNaN(ba.sf)?ba.yf:Math.min(ba.sf,ba.yf));for(mb=1;mb<ga.Qi&&!(ga.column+mb>=this.aq);mb++)ba=this.ne(ga.column+mb),Ef.width+=Math.max(ba.Nj,isNaN(ba.sf)?ba.yf:Math.min(ba.sf,ba.yf));Eb.width+=Ef.width;Eb.height+=Ef.height;Ac=ga.margin;ld=Ac.right+Ac.left;Lg=Ac.top+Ac.bottom;Bk(ga,Eb.width,Eb.height,zh,Af);for(var $d=ga.Ea,Yc=Math.max($d.width+ld,0),Je=Math.max($d.height+Lg,0),wc=0,mb=0;mb<ga.rj&&!(ga.$b+mb>=this.Oq);mb++)ba=
this.oe(ga.$b+mb),wc+=ba.total||0;if(wc<Je){var Jb=Je-wc,Ff=Je-wc;if(null!==ga.By)for(var Gf=ga.By,mb=0;mb<ga.rj&&!(0>=Jb)&&!(ga.$b+mb>=this.Oq);mb++){var ba=this.oe(ga.$b+mb),Yb=ba.$a||0,lg=Gf(ga,ba,Ff);u&&"number"!==typeof lg&&C.k(ga+" spanAllocation does not return a number: "+lg);ba.Ra=Math.min(ba.yf,Yb+lg);ba.$a!==Yb&&(Jb-=ba.$a-Yb)}for(;0<Jb;){Yb=ba.$a||0;isNaN(ba.height)&&ba.yf>Yb&&(ba.Ra=Math.min(ba.yf,Yb+Jb),ba.$a!==Yb&&(Jb-=ba.$a-Yb));if(0===ba.index)break;ba=this.oe(ba.index-1)}}for(var Ah=
0,mb=0;mb<ga.Qi&&!(ga.column+mb>=this.aq);mb++)ba=this.ne(ga.column+mb),Ah+=ba.total||0;if(Ah<Yc){Jb=Yc-Ah;Ff=Yc-Ah;if(null!==ga.By)for(Gf=ga.By,mb=0;mb<ga.Qi&&!(0>=Jb)&&!(ga.column+mb>=this.aq);mb++)ba=this.ne(ga.column+mb),Yb=ba.$a||0,lg=Gf(ga,ba,Ff),u&&"number"!==typeof lg&&C.k(ga+" spanAllocation does not return a number: "+lg),ba.Ra=Math.min(ba.yf,Yb+lg),ba.$a!==Yb&&(Jb-=ba.$a-Yb);for(;0<Jb;){Yb=ba.$a||0;isNaN(ba.width)&&ba.yf>Yb&&(ba.Ra=Math.min(ba.yf,Yb+Jb),ba.$a!==Yb&&(Jb-=ba.$a-Yb));if(0===
ba.index)break;ba=this.ne(ba.index-1)}}}C.Ba(hg);C.Qk(Ef);C.Qk(Eb);for(var Ke=0,Pg=0,Lc=Eo(this,!0),mg=this.Da,Hf=this.lf,Le=be=ae=0,Me=0,lb=this.aq,la=0;la<lb;la++)void 0!==this.de[la]&&(ba=this.ne(la),isFinite(ba.width)?(Le+=ba.width,Le+=ba.ff()):Mp(ba)===Np?(Le+=ba.$a,Le+=ba.ff()):0!==ba.$a&&(ae+=ba.$a,ae+=ba.ff()));var Ke=isFinite(mg.width)?Math.min(mg.width,Hf.width):Lc!==Tj&&isFinite(Kg)?Kg:ae,Ke=Math.max(Ke,this.hg.width),Ke=Math.max(Ke-Le,0),If=Math.max(Ke/ae,1);isFinite(If)||(If=1);for(la=
0;la<lb;la++)void 0!==this.de[la]&&(ba=this.ne(la),isFinite(ba.width)||Mp(ba)===Np||(ba.Ra=ba.$a*If),ba.position=e.width,0!==ba.$a&&(e.width+=ba.$a,e.width+=ba.ff()));lb=this.Oq;for(la=0;la<lb;la++)void 0!==this.ie[la]&&(ba=this.oe(la),isFinite(ba.height)?(Me+=ba.height,Me+=ba.ff()):Mp(ba)===Np?(Me+=ba.$a,Me+=ba.ff()):0!==ba.$a&&(be+=ba.$a,0!==ba.$a&&(be+=ba.ff())));var Pg=isFinite(mg.height)?Math.min(mg.height,Hf.height):Lc!==Tj&&isFinite(wb)?wb:be,Pg=Math.max(Pg,this.hg.height),Pg=Math.max(Pg-Me,
0),xj=Math.max(Pg/be,1);isFinite(xj)||(xj=1);for(la=0;la<lb;la++)void 0!==this.ie[la]&&(ba=this.oe(la),isFinite(ba.height)||Mp(ba)===Np||(ba.Ra=ba.$a*xj),ba.position=e.height,0!==ba.$a&&(e.height+=ba.$a,0!==ba.$a&&(e.height+=ba.ff())));lb=sj.length;for(la=0;la<lb;la++){var td=sj[la];td.type===Jo?(ce=e.width,ba=this.oe(td.$b),de=ba.Ra):(ba=this.ne(td.column),ce=ba.Ra,de=e.height);td.Dd.m(0,0,ce,de);cm(td,!1);Pb[td.$b]||(Pb[td.$b]=[]);Pb[td.$b][td.column]||(Pb[td.$b][td.column]=[]);Pb[td.$b][td.column].push(td)}C.Ba(sj);
this.gt=Pb;break;case "Viewbox":var yj=a,ki=b,li=c,bf=d;1<m.length&&C.k("Viewbox Panel cannot contain more than one GraphObject.");var ue=m[0];ue.Rb=1;ue.tq();Bk(ue,Infinity,Infinity,li,bf);var ng=ue.Ea,Bh=ue.margin,hm=Bh.right+Bh.left,it=Bh.top+Bh.bottom;if(isFinite(yj)||isFinite(ki)){var $v=ue.scale,im=ng.width,jm=ng.height,jt=Math.max(yj-hm,0),kt=Math.max(ki-it,0),Pk=1;this.Tp===Vj?0!==im&&0!==jm&&(Pk=Math.min(jt/im,kt/jm)):0!==im&&0!==jm&&(Pk=Math.max(jt/im,kt/jm));0===Pk&&(Pk=1E-4);ue.Rb*=Pk;
$v!==ue.scale&&(cm(ue,!0),Bk(ue,Infinity,Infinity,li,bf))}ng=ue.Ea;e.width=isFinite(yj)?yj:Math.max(ng.width+hm,0);e.height=isFinite(ki)?ki:Math.max(ng.height+it,0);break;case "Link":var lt=m.length,ip=this instanceof ea,Qg=ip?this.Zf:this;if(Qg instanceof I)if(0===lt){var km=this.Uc;Ab(km,0,0);var ve=this.Ea;ve.m(0,0,0,0)}else{var lm=ip?null:Qg.path,Rg=Qg.mo,cf=this.wj;cf.assign(Rg);cf.x=0;var Ch=cf.y=0,Sg=Qg.points,Ch=void 0!==this.ua?this.ua:Sg.count;ip?this.fo(!1):Qg.fo(!1);var mt=Rg.width,nt=
Rg.height;this.hj.m(Rg.x,Rg.y);null===this.oh&&(this.oh=new K(z));this.oh.clear();null!==lm&&(Op(lm,mt,nt,this),ve=lm.Ea,cf.Wh(ve),this.oh.add(ve));for(var Tg=C.Of(),Qk=C.P(),Ug=C.P(),jp=0;jp<lt;jp++){var ec=m[jp];if(ec!==lm)if(ec.Hf&&ec instanceof w)Op(ec,mt,nt,this),ve=ec.Ea,cf.Wh(ve),this.oh.add(ve);else if(2>Ch)Bk(ec,Infinity,Infinity),ve=ec.Ea,cf.Wh(ve),this.oh.add(ve);else{var ud=ec.Ue,pt=ec.vB,kp=ec.Fh;kp.Zd()&&(kp=mc);var og=ec.Pq,aw=ec.wB,Rk=0,Sk=0,mm=0;if(ud<-Ch||ud>=Ch){var qt=Qg.WF,Jf=
Qg.VF;og!==nj&&(mm=Qg.computeAngle(ec,og,Jf),ec.rg=mm);Rk=qt.x-Rg.x;Sk=qt.y-Rg.y}else{var Ld,df;if(0<=ud)Ld=Sg.fa(ud),df=ud<Ch-1?Sg.fa(ud+1):Ld;else{var mi=Ch+ud;Ld=Sg.fa(mi);df=0<mi?Sg.fa(mi-1):Ld}if(Ld.Wc(df)){var ni,oi;0<=ud?(ni=0<ud?Sg.fa(ud-1):Ld,oi=ud<Ch-2?Sg.fa(ud+2):df):(ni=mi<Ch-1?Sg.fa(mi+1):Ld,oi=1<mi?Sg.fa(mi-2):df);var rt=ni.Df(Ld),st=df.Df(oi),Jf=rt>st+10?0<=ud?ni.Mc(Ld):Ld.Mc(ni):st>rt+10?0<=ud?df.Mc(oi):oi.Mc(df):0<=ud?ni.Mc(oi):oi.Mc(ni)}else Jf=0<=ud?Ld.Mc(df):df.Mc(Ld);og!==nj&&
(mm=Qg.computeAngle(ec,og,Jf),ec.rg=mm);Rk=Ld.x+(df.x-Ld.x)*pt-Rg.x;Sk=Ld.y+(df.y-Ld.y)*pt-Rg.y}Bk(ec,Infinity,Infinity);var ve=ec.Ea,km=ec.Ja,Tk=0;ec instanceof w&&(Tk=ec.ib);var pi=km.width+Tk,zj=km.height+Tk;Tg.reset();Tg.translate(-ve.x,-ve.y);Tg.scale(ec.scale,ec.scale);Tg.rotate(og===nj?ec.angle:Jf,pi/2,zj/2);og!==Pp&&og!==Qp||Tg.rotate(90,pi/2,zj/2);og!==Rp&&og!==Sp||Tg.rotate(-90,pi/2,zj/2);og===Tp&&(45<Jf&&135>Jf||225<Jf&&315>Jf)&&Tg.rotate(-Jf,pi/2,zj/2);var Ej=new z(0,0,pi,zj);Qk.oo(Ej,
kp);Tg.wb(Qk);var bw=-Qk.x+Tk/2,cw=-Qk.y+Tk/2;Ug.assign(aw);isNaN(Ug.x)&&(Ug.x=0<=ud?pi/2+3:-(pi/2+3));isNaN(Ug.y)&&(Ug.y=-(zj/2+3));Ug.rotate(Jf);Rk+=Ug.x;Sk+=Ug.y;Ej.set(ve);Ej.x=Rk+bw;Ej.y=Sk+cw;this.oh.add(Ej);cf.Wh(Ej)}}if(this.af)for(var tt=this.Jf;tt.next();)Bk(tt.value,Infinity,Infinity);this.wj=cf;var lp=this.hj;lp.m(lp.x+cf.x,lp.y+cf.y);Ab(e,cf.width||0,cf.height||0);C.Ie(Tg);C.A(Qk);C.A(Ug)}break;case "Grid":break;case "Graduated":var dw=a,ew=b,fw=c,gw=d,Vg=this.Vd();this.Nm=[];var Fj=
Vg.margin,hw=Fj.right+Fj.left,iw=Fj.top+Fj.bottom;Bk(Vg,dw,ew,fw,gw);var ut=Vg.Ea,jw=ut.height,kw=Math.max(ut.width+hw,0),lw=Math.max(jw+iw,0),vt=new z(-Fj.left,-Fj.top,kw,lw);this.Nm.push(vt);e.assign(vt);for(var Vk=Vg.Ef,wt=Vg.ib,mp=Vk.DA,Gj=Vk.Gx,qi=Vk.EA,mw=mp.length,np=0,op=0,Hj=C.tb(),pp=0;pp<mw;pp++){for(var qp=mp[pp],xt=[],op=np=0,nw=qp.length,Ij=0;Ij<nw;Ij+=2){var yt=qp[Ij],zt=qp[Ij+1];if(0!==Ij){var vd=180*Math.atan2(zt-op,yt-np)/Math.PI;0>vd&&(vd+=360);xt.push(vd)}np=yt;op=zt}Hj.push(xt)}var At;
if(null===this.ik){for(var Bt=[],rp=this.va.o,Ct=rp.length,sp=0;sp<Ct;sp++){var Wk=rp[sp],Dt=[];Bt.push(Dt);if(Wk.visible)for(var ow=Wk.interval,tp=0;tp<Ct;tp++){var Xk=rp[tp];if(Xk.visible&&Wk!==Xk&&!(Wk instanceof w&&!(Xk instanceof w)||Wk instanceof pa&&!(Xk instanceof pa))){var Et=Xk.interval;Et>ow&&Dt.push(Et)}}}this.ik=Bt}At=this.ik;var Ft=this.va.o,pw=Ft.length,Dh=0,Gt=0,Ht=qi;this.Pm=[];for(var nm=[],om=0;om<pw;om++){var Eh=Ft[om],nm=[];if(Eh.visible&&Eh!==Vg){var It=Eh.interval,Jt=this.LA;
if(!(2>Jt*It*qi/this.Jx)){var ee=this.sF,Kt=At[om],ri=Gj[0][0],Kf=0,wd=0,Gt=qi*Eh.rF-1E-4,Ht=qi*Eh.pF+1E-4,Jj=Jt*It;if(ee<this.Sk)var si=(this.Sk-ee)/Jj,si=0===si%1?si:Math.floor(si+1),ee=ee+si*Jj;else ee>this.Sk+Jj&&(si=Math.floor((ee-this.Sk)/Jj),ee-=si*Jj);for(;ee<=this.KA;){var up;a:{for(var qw=Kt.length,vp=0;vp<qw;vp++)if(Db((ee-this.sF)%(Kt[vp]*this.LA),0)){up=!1;break a}up=!0}if(up&&(Dh=(ee-this.Sk)*qi/this.Jx,Dh>qi&&(Dh=qi),Gt<=Dh&&Dh<=Ht)){for(var vd=Hj[Kf][wd],Kj=Gj[Kf][wd];Kf<Gj.length;){for(;Dh>
ri&&wd<Gj[Kf].length-1;)wd++,vd=Hj[Kf][wd],Kj=Gj[Kf][wd],ri+=Kj;if(Dh<=ri)break;Kf++;wd=0;vd=Hj[Kf][wd];Kj=Gj[Kf][wd];ri+=Kj}var Md=mp[Kf],Lt=Md[2*wd],Mt=Md[2*wd+1],pm=(Dh-(ri-Kj))/Kj,wp=new O(Lt+(Md[2*wd+2]-Lt)*pm+wt/2-Vk.sb.x,Mt+(Md[2*wd+3]-Mt)*pm+wt/2-Vk.sb.y);wp.scale(Vg.scale,Vg.scale);var pg=vd,Lj=Hj[Kf];1E-4>pm?0<wd?pg=Lj[wd-1]:Db(Md[0],Md[Md.length-2])&&Db(Md[1],Md[Md.length-1])&&(pg=Lj[Lj.length-1]):.9999<pm&&(wd+1<Lj.length?pg=Lj[wd+1]:Db(Md[0],Md[Md.length-2])&&Db(Md[1],Md[Md.length-1])&&
(pg=Lj[0]));vd!==pg&&(180<Math.abs(vd-pg)&&(vd<pg?vd+=360:pg+=360),vd=(vd+pg)/2%360);if(Eh instanceof pa){var qm="",qm=null!==Eh.qF?Eh.qF(ee):(+ee.toFixed(2)).toString();u&&C.h(qm,"string");""!==qm&&nm.push([wp,vd,qm])}else nm.push([wp,vd])}ee+=Jj}}}this.Pm.push(nm)}C.Ba(Hj);for(var rw=this.Pm,sw=m.length,rm=0;rm<sw;rm++){var ti=m[rm],xp=rw[rm];if(ti.visible&&ti!==Vg&&0!==xp.length){if(ti instanceof w){var Fh=ti,Nt=xp,tw=e,yp=Fh.Fh;yp.Zd()&&(yp=ic);var uw=Fh.angle;Fh.rg=0;Bk(Fh,Infinity,Infinity);
Fh.rg=uw;var Ot=Fh.Ea,zp=Ot.width,Ap=Ot.height,Pt=C.fh(0,0,zp,Ap),fe=C.P();fe.oo(Pt,yp);C.Lb(Pt);for(var sm=-fe.x,tm=-fe.y,ui=new z,vw=Nt.length,um=0;um<vw;um++)for(var Bp=Nt[um],Qt=Bp[0].x,Rt=Bp[0].y,St=Bp[1],vm=0;4>vm;vm++){switch(vm){case 0:fe.m(sm,tm);break;case 1:fe.m(sm+zp,tm);break;case 2:fe.m(sm,tm+Ap);break;case 3:fe.m(sm+zp,tm+Ap)}fe.rotate(St+Fh.angle);fe.offset(Qt,Rt);0===um&&0===vm?ui.m(fe.x,fe.y,0,0):ui.Ki(fe);fe.offset(-Qt,-Rt);fe.rotate(-St-Fh.angle)}C.A(fe);this.Nm.push(ui);Rb(tw,
ui.x,ui.y,ui.width,ui.height)}else if(ti instanceof pa){var Yk=ti,Tt=xp,ww=e;null===this.Ak&&(this.Ak=new pa);var Lf=this.Ak;Hp(Yk,Lf);var Cp=Yk.Fh;Cp.Zd()&&(Cp=ic);for(var Gh=Yk.Pq,xw=Yk.wB,vi=null,wm=0,xm=0,Wg=0,Dp=0,yw=Tt.length,ym=0;ym<yw;ym++){var qg=Tt[ym],wm=qg[0].x,xm=qg[0].y,Wg=qg[1];Gh!==nj&&(Dp=Yk.computeAngle(Gh,Wg),Lf.rg=Dp);Lf.text=qg[2];Bk(Lf,Infinity,Infinity);var Hh=Lf.Ea,Mj=Lf.Ja,Nj=Mj.width,Oj=Mj.height,Xg=C.Of();Xg.reset();Xg.translate(-Hh.x,-Hh.y);Xg.scale(Lf.scale,Lf.scale);
Xg.rotate(Gh===nj?Lf.angle:Wg,Nj/2,Oj/2);Gh!==Pp&&Gh!==Qp||Xg.rotate(90,Nj/2,Oj/2);Gh!==Rp&&Gh!==Sp||Xg.rotate(-90,Nj/2,Oj/2);Gh===Tp&&(45<Wg&&135>Wg||225<Wg&&315>Wg)&&Xg.rotate(-Wg,Nj/2,Oj/2);var Ut=C.fh(0,0,Nj,Oj),Zk=C.P();Zk.oo(Ut,Cp);Xg.wb(Zk);var zw=-Zk.x,Aw=-Zk.y,Yg=C.P();Yg.assign(xw);isNaN(Yg.x)&&(Yg.x=Nj/2+3);isNaN(Yg.y)&&(Yg.y=-(Oj/2+3));Yg.rotate(Wg);var wm=wm+(Yg.x+zw),xm=xm+(Yg.y+Aw),Ep=new z(wm,xm,Hh.width,Hh.height),Bw=new z(Hh.x,Hh.y,Hh.width,Hh.height),Cw=new z(Mj.x,Mj.y,Mj.width,
Mj.height),Vt=new Up;Vt.bq(Lf.gi);qg.push(Dp);qg.push(Lf.we);qg.push(Vt);qg.push(Ep);qg.push(Bw);qg.push(Cw);0===ym?vi=Ep.copy():vi.Wh(Ep);C.A(Yg);C.A(Zk);C.Lb(Ut);C.Ie(Xg)}this.Nm.push(vi);Rb(ww,vi.x,vi.y,vi.width,vi.height)}cm(ti,!1)}}break;case "TableRow":case "TableColumn":C.k(this.toString()+" is not an element of a Table Panel. TableRow and TableColumn Panels can only be elements of a Table Panel.");break;default:C.k("Unknown panel type: "+n)}}var ef=e.width,ff=e.height,zm=this.padding,Dw=zm.top+
zm.bottom,ef=ef+(zm.left+zm.right),ff=ff+Dw;isFinite(g.width)&&(ef=g.width);isFinite(g.height)&&(ff=g.height);ef=Math.min(k.width,ef);ff=Math.min(k.height,ff);ef=Math.max(h.width,ef);ff=Math.max(h.height,ff);ef=Math.max(c,ef);ff=Math.max(d,ff);e.width=ef;e.height=ff;Ab(this.Uc,ef,ff);Bo(this,0,0,ef,ff)};J.prototype.findMainElement=J.prototype.Vd=function(){if(null===this.wn){var a=this.va.o,b=a.length;if(0===b)return null;for(var c=0;c<b;c++){var d=a[c];if(!0===d.Hf)return this.wn=d}this.wn=a[0]}return this.wn};
J.prototype.yj=function(a,b,c,d){var e=this.wj,g=this.va.o,h=C.fh(0,0,0,0);if(0===g.length){var k=this.Z;k.x=a;k.y=b;k.width=c;k.height=d}else{if(!this.Da.F()){var l=Eo(this,!0),m=this.Dd,n=m.width,p=m.height,q=this.margin,r=q.left+q.right,s=q.top+q.bottom;n===c&&p===d&&(l=Tj);switch(l){case Tj:if(n>c||p>d)this.K(),Bk(this,n>c?c:n,p>d?d:p);break;case gf:this.K(!0);Bk(this,c+r,d+s,0,0);break;case qo:this.K(!0);Bk(this,c+r,p+s,0,0);break;case po:this.K(!0),Bk(this,n+r,d+s,0,0)}}k=this.Z;k.x=a;k.y=b;
k.width=c;k.height=d;var v=this.ca.Yb;switch(v){case "Position":for(var t=g.length,x=e.x-this.padding.left,y=e.y-this.padding.top,B=0;B<t;B++){var A=g[B],N=A.Ea,G=A.margin,T=A.position.x,fa=A.position.y;h.x=isNaN(T)?-x:T-x;h.y=isNaN(fa)?-y:fa-y;if(A instanceof w){var W=A;if(W.FF){var P=W.ib/2;h.x-=P;h.y-=P}}h.x+=G.left;h.y+=G.top;h.width=N.width;h.height=N.height;A.visible&&A.qc(h.x,h.y,h.width,h.height)}break;case "Vertical":for(var aa=g.length,Oa=this.padding.left,sa=this.LF,Ma=sa?e.height:this.padding.top,
va=0;va<aa;va++){var Pa=Oa,xa=g[va];if(xa.visible){var Ic=xa.Ea,tc=xa.margin,Fd=tc.left+tc.right,uf=Oa+this.padding.right,ac=Ic.width,Gg=Eo(xa,!1);if(isNaN(xa.Da.width)&&Gg===gf||Gg===qo)ac=Math.max(e.width-Fd-uf,0);var Hg=ac+Fd+uf,db=xa.alignment;db.hd()&&(db=this.em);db.jd()||(db=mc);sa&&(Ma-=Ic.height+tc.bottom+tc.top);xa.qc(Pa+db.offsetX+tc.left+(e.width*db.x-Hg*db.x),Ma+db.offsetY+tc.top,ac,Ic.height);sa||(Ma+=Ic.height+tc.bottom+tc.top)}}break;case "Horizontal":for(var vb=g.length,qa=this.padding.top,
ra=this.LF,kb=ra?e.width:this.padding.left,bb=0;bb<vb;bb++){var Ya=qa,re=g[bb];if(re.visible){var fd=re.Ea,Jc=re.margin,se=Jc.top+Jc.bottom,te=qa+this.padding.bottom,cg=fd.height,vf=Eo(re,!1);if(isNaN(re.Da.height)&&vf===gf||vf===po)cg=Math.max(e.height-se-te,0);var rj=cg+se+te,pb=re.alignment;pb.hd()&&(pb=this.em);pb.jd()||(pb=mc);ra&&(kb-=fd.width+Jc.left+Jc.right);re.qc(kb+pb.offsetX+Jc.left,Ya+pb.offsetY+Jc.top+(e.height*pb.y-rj*pb.y),fd.width,cg);ra||(kb+=fd.width+Jc.left+Jc.right)}}break;case "Spot":var bc=
g.length,gd=this.Vd(),ai=gd.Ea,Mb=ai.width,qb=ai.height,eb=this.padding,wf=eb.left,xf=eb.top;h.x=wf-e.x;h.y=xf-e.y;gd.qc(h.x,h.y,Mb,qb);for(var Ig=0;Ig<bc;Ig++){var hd=g[Ig];if(hd!==gd){var Tb=hd.Ea,id=Tb.width,Ye=Tb.height,Cb=hd.alignment;Cb.hd()&&(Cb=this.em);Cb.jd()||(Cb=mc);var fb=hd.Fh;fb.hd()&&(fb=mc);var Gd=null;hd instanceof J&&""!==hd.Yj&&(Gd=hd.Fd(hd.Yj),Gd===hd&&(Gd=null));if(null!==Gd){for(var rb=Gd.Ja,Hd=C.Fb(fb.x*rb.width+fb.offsetX,fb.y*rb.height+fb.offsetY);Gd!==hd;)Gd.transform.wb(Hd),
Gd=Gd.Q;h.x=Cb.x*Mb+Cb.offsetX-Hd.x;h.y=Cb.y*qb+Cb.offsetY-Hd.y;C.A(Hd)}else h.x=Cb.x*Mb+Cb.offsetX-(fb.x*id-fb.offsetX),h.y=Cb.y*qb+Cb.offsetY-(fb.y*Ye-fb.offsetY);h.x-=e.x;h.y-=e.y;hd.visible&&hd.qc(wf+h.x,xf+h.y,id,Ye)}}break;case "Auto":var He=g.length,ab=this.Vd(),Ta=ab.Ea,Ra=C.Nf();Ra.m(0,0,1,1);var cc=ab.margin,dg=cc.left,eg=cc.top,fg=this.padding,bi=fg.left,Gb=fg.top;h.x=dg;h.y=eg;h.width=Ta.width;h.height=Ta.height;ab.qc(bi+h.x,Gb+h.y,h.width,h.height);var Ub=Kp(ab),Wb=Lp(ab),Ze=0+Ub.y*Ta.height+
Ub.offsetY,Nb=0+Wb.x*Ta.width+Wb.offsetX,Ob=0+Wb.y*Ta.height+Wb.offsetY;Ra.x=0+Ub.x*Ta.width+Ub.offsetX;Ra.y=Ze;Rb(Ra,Nb,Ob,0,0);Ra.x+=dg+bi;Ra.y+=eg+Gb;for(var Id=0;Id<He;Id++){var Hb=g[Id];if(Hb!==ab){var uc=Hb.Ea,cc=Hb.margin,ci=Math.max(uc.width+cc.right+cc.left,0),di=Math.max(uc.height+cc.top+cc.bottom,0),rd=Hb.alignment;rd.hd()&&(rd=this.em);rd.jd()||(rd=mc);h.x=Ra.width*rd.x+rd.offsetX-ci*rd.x+cc.left+Ra.x;h.y=Ra.height*rd.y+rd.offsetY-di*rd.y+cc.top+Ra.y;h.width=Ra.width;h.height=Ra.height;
Hb.visible&&(Sb(Ra.x,Ra.y,Ra.width,Ra.height,h.x,h.y,uc.width,uc.height)?Hb.qc(h.x,h.y,uc.width,uc.height):Hb.qc(h.x,h.y,uc.width,uc.height,new z(Ra.x,Ra.y,Ra.width,Ra.height)))}}C.Lb(Ra);break;case "Table":for(var $e=g.length,gg=this.padding,jd=gg.left,Ib=gg.top,sd=this.gt,dc=0,Xb=0,yf=sd.length,Wc=0,Ua=0;Ua<yf;Ua++)sd[Ua]&&(Wc=Math.max(Wc,sd[Ua].length));for(var Ie=Math.min(this.vj,yf-1);Ie!==yf&&(void 0===this.ie[Ie]||0===this.ie[Ie].$a);)Ie++;for(var Ie=Math.min(Ie,yf-1),ei=-this.ie[Ie].ub,Xc=
Math.min(this.fj,Wc-1);Xc!==Wc&&(void 0===this.de[Xc]||0===this.de[Xc].$a);)Xc++;for(var Xc=Math.min(Xc,Wc-1),xh=-this.de[Xc].ub,Kc=C.Am(),Ua=0;Ua<yf;Ua++)if(sd[Ua]){var Wc=sd[Ua].length,yh=this.oe(Ua),Xb=yh.ub+ei+Ib;0!==yh.$a&&(Xb+=yh.HE());for(var Jg=0;Jg<Wc;Jg++)if(sd[Ua][Jg]){var Xd=this.ne(Jg),dc=Xd.ub+xh+jd;0!==Xd.$a&&(dc+=Xd.HE());for(var zf=sd[Ua][Jg],Ik=zf.length,Kg=0;Kg<Ik;Kg++){var wb=zf[Kg],zh=wb.Ea,Af=wb instanceof J?wb:null;if(null===Af||Af.type!==Jo&&Af.type!==Ko){Kc.m(0,0);for(var lb=
1;lb<wb.rowSpan&&!(Ua+lb>=this.Oq);lb++){var fi=this.oe(Ua+lb);Kc.height+=fi.total}for(lb=1;lb<wb.bI&&!(Jg+lb>=this.aq);lb++){var sj=this.ne(Jg+lb);Kc.width+=sj.total}var la=Xd.$a+Kc.width,ga=yh.$a+Kc.height;h.x=dc;h.y=Xb;h.width=la;h.height=ga;var kd=dc,Jk=Xb,Kk=la,zc=ga;dc+la>e.width&&(Kk=Math.max(e.width-dc,0));Xb+ga>e.height&&(zc=Math.max(e.height-Xb,0));var Jd=wb.alignment,Pb=0,Bf=0,hg=0,Cf=0;if(Jd.hd()){Jd=this.em;Jd.jd()||(Jd=mc);var Pb=Jd.x,Bf=Jd.y,hg=Jd.offsetX,Cf=Jd.offsetY,Yd=Xd.alignment,
Zd=yh.alignment;Yd.jd()&&(Pb=Yd.x,hg=Yd.offsetX);Zd.jd()&&(Bf=Zd.y,Cf=Zd.offsetY)}else Pb=Jd.x,Bf=Jd.y,hg=Jd.offsetX,Cf=Jd.offsetY;if(isNaN(Pb)||isNaN(Bf))Bf=Pb=.5,Cf=hg=0;var kc=zh.width,vc=zh.height,af=wb.margin,ba=af.left+af.right,gi=af.top+af.bottom,ig=So(wb,yh,Xd,!1);!isNaN(wb.Da.width)||ig!==gf&&ig!==qo||(kc=Math.max(la-ba,0));!isNaN(wb.Da.height)||ig!==gf&&ig!==po||(vc=Math.max(ga-gi,0));var tj=wb.lf,uj=wb.hg,kc=Math.min(tj.width,kc),vc=Math.min(tj.height,vc),kc=Math.max(uj.width,kc),vc=Math.max(uj.height,
vc),Kd=vc+gi;h.x+=h.width*Pb-(kc+ba)*Pb+hg+af.left;h.y+=h.height*Bf-Kd*Bf+Cf+af.top;wb.visible&&(Sb(kd,Jk,Kk,zc,h.x,h.y,zh.width,zh.height)?wb.qc(h.x,h.y,kc,vc):wb.qc(h.x,h.y,kc,vc,new z(kd,Jk,Kk,zc)))}else{wb.$i();wb.bc.Za();var ib=wb.bc;ib.x=Af.type===Jo?jd:dc;ib.y=Af.type===Ko?Ib:Xb;ib.width=zh.width;ib.height=zh.height;wb.bc.freeze();Fo(wb,!1)}}}}C.Qk(Kc);for(Ua=0;Ua<$e;Ua++)wb=g[Ua],Af=wb instanceof J?wb:null,null===Af||Af.type!==Jo&&Af.type!==Ko||(ib=wb.bc,wb.Uc.Za(),wb.Uc.m(0,0,ib.width,ib.height),
wb.Uc.freeze());break;case "Viewbox":var sb=g[0],hi=sb.Ea,vj=sb.margin,Lk=vj.top+vj.bottom,Mk=Math.max(hi.width+(vj.right+vj.left),0),Ac=Math.max(hi.height+Lk,0),ld=sb.alignment;ld.hd()&&(ld=this.em);ld.jd()||(ld=mc);h.x=e.width*ld.x-Mk*ld.x+ld.offsetX;h.y=e.height*ld.y-Ac*ld.y+ld.offsetY;h.width=hi.width;h.height=hi.height;sb.qc(h.x,h.y,h.width,h.height);break;case "Link":var Lg=g.length,Lc=this instanceof ea,ii=Lc?this.Zf:this;if(ii instanceof I){var Nk=Lc?null:ii.path;if(null!==this.oh){var fm=
this.oh.o,$d=0;if(null!==Nk&&$d<this.oh.count){var Yc=fm[$d];$d++;Nk.qc(Yc.x-this.wj.x,Yc.y-this.wj.y,Yc.width,Yc.height)}for(var Je=0;Je<Lg;Je++){var jg=g[Je];jg!==Nk&&$d<this.oh.count&&(Yc=fm[$d],$d++,jg.qc(Yc.x-this.wj.x,Yc.y-this.wj.y,Yc.width,Yc.height))}}var wj=ii.points,ae=wj.count;if(2<=ae&&this.af)for(var be=this.Jf;be.next();){var Mc=be.value,Df=ae,kg=wj,Zc=Mc.Ue,Ok=Mc.vB,Mg=Mc.Fh,Ng=Mc.Pq,Eb=Mc.wB,ce=0,de=0,Og=0;if(Zc<-Df||Zc>=Df){var Ef=this.WF,mb=this.VF;Ng!==nj&&(Og=this.computeAngle(Mc,
Ng,mb),Mc.angle=Og);ce=Ef.x;de=Ef.y}else{var wc=void 0,Jb=void 0;if(0<=Zc)wc=kg.o[Zc],Jb=Zc<Df-1?kg.o[Zc+1]:wc;else var Ff=Df+Zc,wc=kg.o[Ff],Jb=0<Ff?kg.o[Ff-1]:wc;if(wc.Wc(Jb)){var Gf=void 0,Yb=void 0;0<=Zc?(Gf=0<Zc?kg.o[Zc-1]:wc,Yb=Zc<Df-2?kg.o[Zc+2]:Jb):(Gf=Ff<Df-1?kg.o[Ff+1]:wc,Yb=1<Ff?kg.o[Ff-2]:Jb);var lg=Gf.Df(wc),Ah=Jb.Df(Yb),mb=lg>Ah+10?0<=Zc?Gf.Mc(wc):wc.Mc(Gf):Ah>lg+10?0<=Zc?Jb.Mc(Yb):Yb.Mc(Jb):0<=Zc?Gf.Mc(Yb):Yb.Mc(Gf)}else mb=0<=Zc?wc.Mc(Jb):Jb.Mc(wc);Ng!==nj&&(Og=this.computeAngle(Mc,
Ng,mb),Mc.angle=Og);ce=wc.x+(Jb.x-wc.x)*Ok;de=wc.y+(Jb.y-wc.y)*Ok}if(Mg.O(gc))Mc.location=new O(ce,de);else{Mg.Zd()&&(Mg=mc);var Ke=C.Of();Ke.reset();Ke.scale(Mc.scale,Mc.scale);Ke.rotate(Mc.angle,0,0);var Pg=Mc.Ja,mg=C.fh(0,0,Pg.width,Pg.height),Hf=C.P();Hf.oo(mg,Mg);Ke.wb(Hf);var Le=-Hf.x,Me=-Hf.y,If=Eb.copy();isNaN(If.x)&&(If.x=0<=Zc?Hf.x+3:-(Hf.x+3));isNaN(If.y)&&(If.y=-(Hf.y+3));If.rotate(mb);ce+=If.x;de+=If.y;Ke.ZG(mg);var Le=Le+mg.x,Me=Me+mg.y,xj=C.Fb(ce+Le,de+Me);Mc.move(xj);C.A(xj);C.A(Hf);
C.Lb(mg);C.Ie(Ke)}}Lc?this.fo(!1):ii.fo(!1)}break;case "Grid":break;case "Graduated":if(null!==this.Nm){var td=this.Vd(),yj=this.Pm,ki=this.Nm,li=0,bf=ki[li];li++;td.qc(bf.x-e.x,bf.y-e.y,bf.width,bf.height);for(var ue=g.length,ng=0;ng<ue;ng++){var Bh=g[ng],hm=yj[ng];Bh.visible&&Bh!==td&&0!==hm.length&&(bf=ki[li],li++,Bh.qc(bf.x-e.x,bf.y-e.y,bf.width,bf.height))}this.Nm=null}break;case "TableRow":case "TableColumn":C.k(this.toString()+" is not an element of a Table Panel.TableRow and TableColumn panels can only be elements of a Table Panel.");
break;default:C.k("Unknown panel type: "+v)}C.Lb(h)}};J.prototype.Kk=function(a){var b=this.Ja;if(Sb(0,0,b.width,b.height,a.x,a.y)){for(var b=this.va.o,c=b.length,d=C.Fb(0,0);c--;){var e=b[c];if(e.visible||e===this.dc)if(ub(d.set(a),e.transform),e.Oa(d))return C.A(d),!0}C.A(d);return null===this.Kb&&null===this.jc?!1:!0}return!1};J.prototype.Cx=function(a){if(this.Eo===a)return this;for(var b=this.va.o,c=b.length,d=0;d<c;d++){var e=b[d].Cx(a);if(null!==e)return e}return null};
function $o(a,b,c){c(a,b);if(b instanceof J){b=b.va.o;for(var d=b.length,e=0;e<d;e++)$o(a,b[e],c)}}function Mm(a,b){Vp(a,a,b)}function Vp(a,b,c){c(b);b=b.va.o;for(var d=b.length,e=0;e<d;e++){var g=b[e];g instanceof J&&Vp(a,g,c)}}J.prototype.walkVisualTree=J.prototype.DK=function(a){Wp(this,this,a)};function Wp(a,b,c){c(b);if(b instanceof J){b=b.va.o;for(var d=b.length,e=0;e<d;e++)Wp(a,b[e],c)}}J.prototype.findInVisualTree=J.prototype.eu=function(a){return Xp(this,this,a)};
function Xp(a,b,c){if(c(b))return b;if(b instanceof J){b=b.va.o;for(var d=b.length,e=0;e<d;e++){var g=Xp(a,b[e],c);if(null!==g)return g}}return null}J.prototype.findObject=J.prototype.Fd=function(a){if(this.name===a)return this;for(var b=this.va.o,c=b.length,d=0;d<c;d++){var e=b[d];if(e.name===a)return e;if(e instanceof J)if(null===e.cj&&null===e.Eg){if(e=e.Fd(a),null!==e)return e}else if(kn(e)&&(e=e.va.first(),null!==e&&(e=e.Fd(a),null!==e)))return e}return null};
function Yp(a){a=a.va.o;for(var b=a.length,c=0,d=0;d<b;d++){var e=a[d];if(e instanceof J)c=Math.max(c,Yp(e));else if(e instanceof w){a:{if(null!==!e.Xf)switch(e.Xo){case "None":case "Square":case "Ellipse":case "Circle":case "LineH":case "LineV":case "FramedRectangle":case "RoundedRectangle":case "Line1":case "Line2":case "Border":case "Cube1":case "Cube2":case "Junction":case "Cylinder1":case "Cylinder2":case "Cylinder3":case "Cylinder4":case "PlusLine":case "XLine":case "ThinCross":case "ThickCross":e=
0;break a}e=e.Ng/2*e.vn*e.Ej()}c=Math.max(c,e)}}return c}f=J.prototype;f.jh=function(){return!(this.type===Jo||this.type===Ko)};
f.He=function(a,b,c){if(!1===this.pg)return null;void 0===b&&(b=null);void 0===c&&(c=null);if(Dm(this))return null;var d=this.Ja,e=1/this.Ej(),g=this.jh(),h=g?a:ub(C.Fb(a.x,a.y),this.transform),k=this.g,l=10,m=5;null!==k&&(l=k.mu("extraTouchArea"),m=l/2);if(Sb(-(m*e),-(m*e),d.width+l*e,d.height+l*e,h.x,h.y)){if(!this.Yn){var e=this.va.o,n=e.length,k=C.P(),m=(l=this.uq)?this.Vd():null;if(l&&(m.jh()?ub(k.set(a),m.transform):k.set(a),!m.Oa(k)))return C.A(k),g||C.A(h),null;for(;n--;){var p=e[n];if(p.visible||
p===this.dc)if(p.jh()?ub(k.set(a),p.transform):k.set(a),!l||p!==m){var q=null;p instanceof J?q=p.He(k,b,c):!0===p.pg&&p.Oa(k)&&(q=p);if(null!==q&&(null!==b&&(q=b(q)),null!==q&&(null===c||c(q))))return C.A(k),g||C.A(h),q}}C.A(k)}if(null===this.background&&null===this.Xl)return g||C.A(h),null;a=Sb(0,0,d.width,d.height,h.x,h.y)?this:null;g||C.A(h);return a}g||C.A(h);return null};
f.kq=function(a,b,c,d){if(!1===this.pg)return!1;void 0===b&&(b=null);void 0===c&&(c=null);d instanceof K||d instanceof L||(d=new K(Q));var e=this.Ja,g=this.jh(),h=g?a:ub(C.Fb(a.x,a.y),this.transform);if(Sb(0,0,e.width,e.height,h.x,h.y)){if(!this.Yn){for(var e=this.va.o,k=e.length,l=C.P();k--;){var m=e[k];if(m.visible||m===this.dc){m.jh()?ub(l.set(a),m.transform):l.set(a);var n=m,m=m instanceof J?m:null;(null!==m?m.kq(l,b,c,d):n.Oa(l))&&!1!==n.pg&&(null!==b&&(n=b(n)),null===n||null!==c&&!c(n)||d.add(n))}}C.A(l)}g||
C.A(h);return null!==this.background||null!==this.Xl}g||C.A(h);return!1};
f.Pk=function(a,b,c,d,e,g){if(!1===this.pg)return!1;void 0===b&&(b=null);void 0===c&&(c=null);var h=g;void 0===g&&(h=C.Of(),h.reset());h.multiply(this.transform);if(this.Hn(a,h))return Zp(this,b,c,e),void 0===g&&C.Ie(h),!0;if(this.Wg(a,h)){if(!this.Yn)for(var k=this.va.o,l=k.length;l--;){var m=k[l];if(m.visible||m===this.dc){var n=m.Z,p=this.Ja;if(!(n.x>p.width||n.y>p.height||0>n.x+n.width||0>n.y+n.height)){n=m;m=m instanceof J?m:null;p=C.Of();p.set(h);if(null!==m?m.Pk(a,b,c,d,e,p):Do(n,a,d,p))null!==
b&&(n=b(n)),null===n||null!==c&&!c(n)||e.add(n);C.Ie(p)}}}void 0===g&&C.Ie(h);return d}void 0===g&&C.Ie(h);return!1};function Zp(a,b,c,d){for(var e=a.va.o,g=e.length;g--;){var h=e[g];if(h.visible){var k=h.Z,l=a.Ja;k.x>l.width||k.y>l.height||0>k.x+k.width||0>k.y+k.height||(h instanceof J&&Zp(h,b,c,d),null!==b&&(h=b(h)),null===h||null!==c&&!c(h)||d.add(h))}}}
f.On=function(a,b,c,d,e,g){if(!1===this.pg)return!1;void 0===c&&(c=null);void 0===d&&(d=null);var h=this.Ja,k=this.jh(),l=k?a:ub(C.Fb(a.x,a.y),this.transform),m=k?b:ub(C.Fb(b.x,b.y),this.transform),n=l.Df(m),p=0<l.x&&l.x<h.width&&0<l.y&&l.y<h.height||xb(l.x,l.y,0,0,0,h.height)<n||xb(l.x,l.y,0,h.height,h.width,h.height)<n||xb(l.x,l.y,h.width,h.height,h.width,0)<n||xb(l.x,l.y,h.width,0,0,0)<n,h=0<l.x&&l.x<h.width&&0<l.y&&l.y<h.height&&xb(l.x,l.y,0,0,0,h.height)<n&&xb(l.x,l.y,0,h.height,h.width,h.height)<
n&&xb(l.x,l.y,h.width,h.height,h.width,0)<n&&xb(l.x,l.y,h.width,0,0,0)<n;k||(C.A(l),C.A(m));if(p){if(!this.Yn){k=C.P();l=C.P();m=this.va.o;for(n=m.length;n--;){var q=m[n];if(q.visible||q===this.dc){var r=q.Z,s=this.Ja;r.x>s.width||r.y>s.height||0>r.x+r.width||0>r.y+r.height||(q.jh()?(r=q.transform,ub(k.set(a),r),ub(l.set(b),r)):(k.set(a),l.set(b)),r=q,q=q instanceof J?q:null,null!==q?!q.On(k,l,c,d,e,g):!r.hF(k,l,e))||(null!==c&&(r=c(r)),null===r||null!==d&&!d(r)||g.add(r))}}C.A(k);C.A(l)}return e?
p:h}return!1};function Kp(a){var b=a.C;if(void 0===b||b===Rc)b=null;null===b&&a instanceof w&&(a=a.Ef,null!==a&&(b=a.C));null===b&&(b=hc);return b}function Lp(a){var b=a.D;if(void 0===b||b===Rc)b=null;null===b&&a instanceof w&&(a=a.Ef,null!==a&&(b=a.D));null===b&&(b=qc);return b}J.prototype.add=J.prototype.add=function(a){C.l(a,Q,J,"add:element");this.Xd(this.va.count,a)};J.prototype.elt=J.prototype.fa=function(a){return this.va.fa(a)};
J.prototype.insertAt=J.prototype.Xd=function(a,b){b instanceof E&&C.k("Cannot add a Part to a Panel: "+b);if(this===b||this.rm(b))this===b&&C.k("Cannot make a Panel contain itself: "+this.toString()),C.k("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+b.toString());var c=b.Q;null!==c&&c!==this&&C.k("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+b.toString()+", already contained by "+c.toString()+", cannot be shared by this Panel: "+
this.toString());this.ca!==Nl||b instanceof w||C.k("Can only add Shapes to a Grid Panel, not: "+b);this.ca!==Fp||b instanceof w||b instanceof pa||C.k("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+b);b.wm(this);b.hn=null;if(null!==this.Wk){var d=b.data;null!==d&&"object"===typeof d&&(null===this.Dg&&(this.Dg=new oa(Object,J)),this.Dg.add(d,b))}var e=this.va,d=-1;if(c===this){for(var g=-1,h=this.va.o,k=h.length,l=0;l<k;l++)if(h[l]===b){g=l;break}if(-1!==g){if(g===a||g+1>=e.count&&
a>=e.count)return;e.md(g);d=g}else C.k("element "+b.toString()+" has panel "+c.toString()+" but is not contained by it.")}if(0>a||a>e.count)a=e.count;e.Xd(a,b);this.K();b.K();null!==b.vd?this.Tk=!0:b instanceof J&&!0===b.Tk&&(this.Tk=!0);this.ik=null;c=this.ba;null!==c&&(c.Jl=null,c.rk=NaN,this.Tk&&c instanceof F&&(c.Tk=!0),c.Tk&&(c.ze=null),e=this.g,null!==e&&e.sa.ob||(-1!==d&&c.ld(tg,"elements",this,b,null,d,null),c.ld(sg,"elements",this,null,b,null,a),this.tu()||$p(this,b,!1)))};
C.defineProperty(J,{Tk:null},function(){return 0!==(this.T&8388608)},function(a){0!==(this.T&8388608)!==a&&(this.T^=8388608)});function aq(a,b){a.T=b?a.T|16777216:a.T&-16777217}J.prototype.remove=J.prototype.remove=function(a){C.l(a,Q,J,"remove:element");for(var b=this.va.o,c=b.length,d=-1,e=0;e<c;e++)if(b[e]===a){d=e;break}-1!==d&&this.uf(d)};J.prototype.removeAt=J.prototype.md=function(a){u&&C.p(a,J,"removeAt:idx");0<=a&&this.uf(a)};
J.prototype.uf=function(a){var b=this.va,c=b.fa(a);c.hn=null;c.wm(null);if(null!==this.Dg){var d=c.data;"object"===typeof d&&this.Dg.remove(d)}b.md(a);cm(this,!1);this.K();this.wn===c&&(this.wn=null);this.ik=null;b=this.ba;null!==b&&(b.Jl=null,b.rk=NaN,b.pe(),d=this.g,null!==d&&d.sa.ob||b.ld(tg,"elements",this,c,null,a,null))};C.w(J,{Oq:"rowCount"},function(){return void 0===this.ie?0:this.ie.length});
J.prototype.getRowDefinition=J.prototype.oe=function(a){u&&C.p(a,J,"getRowDefinition:idx");0>a&&C.wa(a,">= 0",J,"getRowDefinition:idx");a=Math.round(a);var b=this.ie;if(void 0===b[a]){var c=new mh;c.wm(this);c.Je=!0;c.index=a;b[a]=c}return b[a]};J.prototype.removeRowDefinition=J.prototype.lG=function(a){u&&C.p(a,J,"removeRowDefinition:idx");0>a&&C.wa(a,">= 0",J,"removeRowDefinition:idx");a=Math.round(a);var b=this.ie;this.ld(tg,"coldefs",this,b[a],null,a,null);b[a]&&delete b[a];this.K()};
C.w(J,{aq:"columnCount"},function(){return void 0===this.de?0:this.de.length});J.prototype.getColumnDefinition=J.prototype.ne=function(a){u&&C.p(a,J,"getColumnDefinition:idx");0>a&&C.wa(a,">= 0",J,"getColumnDefinition:idx");a=Math.round(a);var b=this.de;if(void 0===b[a]){var c=new mh;c.wm(this);c.Je=!1;c.index=a;b[a]=c}return b[a]};
J.prototype.removeColumnDefinition=J.prototype.iG=function(a){u&&C.p(a,J,"removeColumnDefinition:idx");0>a&&C.wa(a,">= 0",J,"removeColumnDefinition:idx");a=Math.round(a);var b=this.de;this.ld(tg,"coldefs",this,b[a],null,a,null);b[a]&&delete b[a];this.K()};
C.defineProperty(J,{eK:"rowSizing"},function(){return void 0===this.nn?hp:this.nn},function(a){if(void 0!==this.nn){var b=this.nn;b!==a&&(a!==hp&&a!==Np&&C.k("Panel.rowSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: "+a),this.nn=a,this.K(),this.i("rowSizing",b,a))}});
C.defineProperty(J,{aI:"columnSizing"},function(){return void 0===this.Im?hp:this.Im},function(a){if(void 0!==this.Im){var b=this.Im;b!==a&&(a!==hp&&a!==Np&&C.k("Panel.columnSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None, not: "+a),this.Im=a,this.K(),this.i("columnSizing",b,a))}});
C.defineProperty(J,{TG:"topIndex"},function(){return void 0===this.vj?0:this.vj},function(a){if(void 0!==this.vj){var b=this.vj;b!==a&&((!isFinite(a)||0>a)&&C.k("Panel.topIndex must be greater than zero and a real number, not: "+a),this.vj=a,this.K(),this.i("topIndex",b,a))}});
C.defineProperty(J,{RF:"leftIndex"},function(){return void 0===this.fj?0:this.fj},function(a){if(void 0!==this.fj){var b=this.fj;b!==a&&((!isFinite(a)||0>a)&&C.k("Panel.leftIndex must be greater than zero and a real number, not: "+a),this.fj=a,this.K(),this.i("leftIndex",b,a))}});J.prototype.findRowForLocalY=function(a){if(0>a)return-1;if(this.type!==ha)return NaN;for(var b=0,c=this.ie,d=c.length,e=this.vj;e<d;e++){var g=c[e];if(void 0!==g&&(b+=g.total,a<b))return e}return-1};
J.prototype.findColumnForLocalX=function(a){if(0>a)return-1;if(this.type!==ha)return NaN;for(var b=0,c=this.de,d=c.length,e=this.fj;e<d;e++){var g=c[e];if(void 0!==g&&(b+=g.total,a<b))return e}return-1};J.prototype.graduatedPointForValue=function(a,b){void 0===b&&(b=new O(NaN,NaN));if(this.type!==Fp)return b.m(NaN,NaN),b;a=Math.min(Math.max(a,this.Sk),this.KA);var c=(a-this.Sk)/this.Jx,d=this.Vd();d.Ef.MI(c,b);c=C.Of();c.set(d.transform);b.transform(c);C.Ie(c);return b};
J.prototype.graduatedValueForPoint=function(a){if(this.type!==Fp)return NaN;var b=this.Vd(),c=b.Ef,d=C.Of();d.set(b.transform);d.Mx();a.transform(d);C.Ie(d);return c.II(a)*this.Jx+this.Sk};
C.defineProperty(J,{data:"data"},function(){return this.fe},function(a){var b=this.fe;if(b!==a){var c=this instanceof E&&!(this instanceof ea);c&&C.h(a,"object",J,"data");Nh(this);this.fe=a;var d=this.g;null!==d&&(c?this instanceof I?(null!==b&&d.ak.remove(b),null!==a&&d.ak.add(a,this)):this instanceof E&&(null!==b&&d.Ti.remove(b),null!==a&&d.Ti.add(a,this)):(c=this.Q,null!==c&&null!==c.Dg&&(null!==b&&c.Dg.remove(b),null!==a&&c.Dg.add(a,this))));this.i("data",b,a);null!==d&&d.sa.ob||null!==a&&this.Mb()}});
C.defineProperty(J,{yu:"itemIndex"},function(){return this.ms},function(a){var b=this.ms;b!==a&&(this.ms=a,this.i("itemIndex",b,a))});function ap(a){a=a.pl;return null!==a&&a.J}
function Nh(a){var b=a.pl;if(null===b)null!==a.data&&C.k("Template cannot have .data be non-null: "+a),a.pl=b=new K(sh);else if(b.J)return;var c=new K(Q);aq(a,!1);$o(a,a,function(a,d){var e=d.Ec;if(null!==e)for(Vo(d,!1),e=e.j;e.next();){var g=e.value;g.mode===uh&&Vo(d,!0);var h=g.Wq;null!==h&&("/"===h&&aq(a,!0),h=vh(g,a,d),null!==h&&(c.add(h),null===h.Jp&&(h.Jp=new K(sh)),h.Jp.add(g)));b.add(g)}if(d instanceof J&&d.type===ha){if(0<d.ie.length)for(e=d.ie,g=e.length,h=0;h<g;h++){var k=e[h];if(void 0!==
k&&null!==k.Ec)for(var l=k.Ec.j;l.next();){var t=l.value;t.Og=k;t.Bt=2;t.Qp=k.index;b.add(t)}}if(0<d.de.length)for(e=d.de,g=e.length,h=0;h<g;h++)if(k=e[h],void 0!==k&&null!==k.Ec)for(l=k.Ec.j;l.next();)t=l.value,t.Og=k,t.Bt=1,t.Qp=k.index,b.add(t)}});for(var d=c.j;d.next();){var e=d.value;if(null!==e.Jp){Vo(e,!0);for(var g=e.Jp.j;g.next();){var h=g.value;null===e.Ec&&(e.Ec=new K(sh));e.Ec.add(h)}}e.Jp=null}for(d=b.j;d.next();)if(e=d.value,g=e.Og,null!==g){e.Og=null;var k=e.bv,l=k.indexOf(".");0<l&&
g instanceof J&&(h=k.substring(0,l),k=k.substr(l+1),l=g.Fd(h),null!==l?(g=l,e.bv=k):C.trace('Warning: unable to find GraphObject named "'+h+'" for Binding: '+e.toString()));g instanceof mh?(e.zm=C.Gd(g.Q),g.Q.Eo=e.zm):(e.zm=C.Gd(g),g.Eo=e.zm)}b.freeze();a instanceof E&&(a.qe()&&a.jf(),u&&!bq&&$o(a,a,function(a,c){if(c instanceof J&&(c.type===Kl||c.type===Rj||c.type===Fp)&&1>=c.elements.count&&!(c instanceof E)){if(1===c.elements.count){var d=null!==c.Wk;if(!d)for(var e=b.j;e.next();)if("itemArray"===
e.value.bv){d=!0;break}}d||(C.trace("Auto, Spot, or Graduated Panel should not have zero or one elements: "+c.toString()+" in "+a.toString()),bq=!0)}}))}var bq=!1;J.prototype.copyTemplate=function(){var a=this.copy();a.DK(function(a){a instanceof J&&(a.pl=null,a.fe=null);var c=a.Ec;null!==c&&(a.Ec=null,c.each(function(c){a.bind(c.copy())}))});return a};
J.prototype.updateTargetBindings=J.prototype.Mb=function(a){var b=this.pl;if(null!==b)for(void 0===a&&(a=""),b=b.j;b.next();){var c=b.value,d=c.JG;if(""===a||""===d||d===a)if(d=c.bv,null!==c.fI||""!==d){var d=this.data,e=c.Wq;if(null!==e)d=""===e?this:"/"===e?this:"."===e?this:".."===e?this:this.Fd(e);else{var g=this.g;null!==g&&c.Ux&&(d=g.ia.Xk)}if(null===d)u&&C.trace("Binding error: missing GraphObject named "+e+" in "+this.toString());else{var g=this,h=c.zm;if(-1!==h){if(g=this.Cx(h),null===g)continue}else null!==
c.Og&&(g=c.Og);"/"===e?d=g.ba:"."===e?d=g:".."===e&&(d=g.Q);e=c.Bt;if(0!==e){if(!(g instanceof J))continue;h=g;1===e?g=h.ne(c.Qp):2===e&&(g=h.oe(c.Qp))}void 0!==g&&c.bH(g,d)}}}};
C.defineProperty(J,{Wk:"itemArray"},function(){return this.cj},function(a){var b=this.cj;if(b!==a){u&&null!==a&&!C.isArray(a)&&C.k("Panel.itemArray must be an Array-like object or null, not: "+a);var c=this.g;null!==c&&null!==b&&Sm(c,this);this.cj=a;null!==c&&null!==a&&Om(c,this);this.i("itemArray",b,a);null!==c&&c.sa.ob||this.pB()}});function kn(a){return a.type===Rj||a.type===Kl||a.type===kj||a.type===ha&&0<a.va.length&&(a=a.va.fa(0),a.Hf&&a instanceof J&&(a.type===Jo||a.type===Ko))?!0:!1}
J.prototype.rebuildItemElements=J.prototype.pB=function(){var a=0;for(kn(this)&&(a=1);this.va.length>a;)this.uf(this.va.length-1);a=this.Wk;if(null!==a)for(var b=C.eb(a),c=0;c<b;c++)jn(this,C.Ma(a,c),c)};J.prototype.findItemPanelForData=J.prototype.CI=function(a){if(void 0===a||null===a||null===this.Dg)return null;C.h(a,"object",J,"findItemPanelForData");return this.Dg.pa(a)};
function jn(a,b,c){if(!(void 0===b||null===b||0>c)){var d;d=cq(a,b);var e=a.lJ,g=null;null!==e&&(g=e.pa(d));null===g&&(dq||(dq=!0,C.trace('No item template Panel found for category "'+d+'" on '+a),C.trace("  Using default item template."),d=new J,e=new pa,e.bind(new sh("text","",ka)),d.add(e),eq=d),g=eq);d=g;null!==d&&(Nh(d),d=d.copy(),0!==(d.T&16777216)&&(e=a.jm(),null!==e&&aq(e,!0)),"object"===typeof b&&(null===a.Dg&&(a.Dg=new oa(Object,J)),a.Dg.add(b,d)),e=c,kn(a)&&e++,a.Xd(e,d),d.fe=b,ln(a,e,
c),d.fe=null,d.data=b)}}function ln(a,b,c){for(a=a.va;b<a.length;){var d=a.fa(b);if(d instanceof J){var e=b,g=c;d.type===Jo?d.$b=e:d.type===Ko&&(d.column=e);d.yu=g}b++;c++}}
C.defineProperty(J,{OL:"itemTemplate"},function(){return null===this.Eg?null:this.Eg.pa("")},function(a){if(null===this.Eg){if(null===a)return;this.Eg=new oa("string",J)}var b=this.Eg.pa("");b!==a&&(C.l(a,J,J,"itemTemplate"),(a instanceof E||a.Hf)&&C.k("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+a),this.Eg.add("",a),this.i("itemTemplate",b,a),a=this.g,null!==a&&a.sa.ob||this.pB())});
C.defineProperty(J,{lJ:"itemTemplateMap"},function(){return this.Eg},function(a){var b=this.Eg;if(b!==a){C.l(a,oa,J,"itemTemplateMap");for(var c=a.j;c.next();){var d=c.value;(d instanceof E||d.Hf)&&C.k("Template in Panel.itemTemplateMap must not be a Part or be Panel.isPanelMain: "+d)}this.Eg=a;this.i("itemTemplateMap",b,a);a=this.g;null!==a&&a.sa.ob||this.pB()}});
C.defineProperty(J,{NL:"itemCategoryProperty"},function(){return this.mp},function(a){var b=this.mp;b!==a&&("string"!==typeof a&&"function"!==typeof a&&C.ic(a,"string or function",J,"itemCategoryProperty"),this.mp=a,this.i("itemCategoryProperty",b,a))});
function cq(a,b){if(null===b)return"";var c=a.mp,d="";if("function"===typeof c)d=c(b);else if("string"===typeof c&&"object"===typeof b){if(""===c)return"";d=C.vb(b,c)}else return"";if(void 0===d)return"";if("string"===typeof d)return d;C.k("Panel.getCategoryForItemData found a non-string category for "+b+": "+d);return""}var dq=!1,eq=null;
C.defineProperty(J,{Yn:"isAtomic"},function(){return 0!==(this.T&1048576)},function(a){var b=0!==(this.T&1048576);b!==a&&(C.h(a,"boolean",J,"isAtomic"),this.T^=1048576,this.i("isAtomic",b,a))});C.defineProperty(J,{uq:"isClipping"},function(){return 0!==(this.T&2097152)},function(a){var b=0!==(this.T&2097152);b!==a&&(C.h(a,"boolean",J,"isClipping"),this.T^=2097152,this.K(),this.i("isClipping",b,a))});
C.defineProperty(J,{LF:"isOpposite"},function(){return 0!==(this.T&33554432)},function(a){var b=0!==(this.T&33554432);b!==a&&(C.h(a,"boolean",J,"isOpposite"),this.T^=33554432,this.K(),this.i("isOpposite",b,a))});C.defineProperty(J,{isEnabled:"isEnabled"},function(){return 0!==(this.T&4194304)},function(a){var b=0!==(this.T&4194304);if(b!==a){C.h(a,"boolean",J,"isEnabled");var c=null===this.Q||this.Q.tu();this.T^=4194304;this.i("isEnabled",b,a);b=this.g;null!==b&&b.sa.ob||c&&$p(this,this,a)}});
function $p(a,b,c){var d=b.aF;null!==d&&d(b,c);if(b instanceof J){b=b.va.o;for(var d=b.length,e=0;e<d;e++){var g=b[e];c&&g instanceof J&&!g.isEnabled||$p(a,g,c)}}}C.defineProperty(J,{HK:"alignmentFocusName"},function(){return this.Yj},function(a){var b=this.Yj;b!==a&&(u&&C.h(a,"string",J,"alignmentFocusName"),this.Yj=a,this.K(),this.i("alignmentFocusName",b,a))});
function mh(){C.wc(this);this.Ah=null;this.cw=!0;this.Fc=0;this.sf=NaN;this.tk=0;this.sk=Infinity;this.te=Rc;this.ub=this.$a=0;this.Ec=null;this.st=fq;this.Mg=oo;this.nt=this.xk=null;this.ot=NaN;this.Kb=this.ni=null;this.xr=!1}C.ka("RowColumnDefinition",mh);
mh.prototype.copy=function(){var a=new mh;a.cw=this.cw;a.Fc=this.Fc;a.sf=this.sf;a.tk=this.tk;a.sk=this.sk;a.te=this.te;a.$a=this.$a;a.ub=this.ub;a.Mg=this.Mg;a.st=this.st;a.xk=null===this.xk?null:this.xk.V();a.nt=this.nt;a.ot=this.ot;a.ni=null;null!==this.ni&&(a.ni=C.am(this.ni));a.Kb=this.Kb;a.xr=this.xr;a.Ec=this.Ec;return a};
mh.prototype.bq=function(a){C.l(a,mh,mh,"copyFrom:pd");a.Je?this.height=a.height:this.width=a.width;this.Nj=a.Nj;this.yf=a.yf;this.alignment=a.alignment;this.stretch=a.stretch;this.Zu=a.Zu;this.xk=null===a.xk?null:a.xk.V();this.Qq=a.Qq;this.Rq=a.Rq;this.ni=null;a.ni&&(this.ni=C.am(a.ni));this.background=a.background;this.tA=a.tA;this.Ec=a.Ec};mh.prototype.pc=function(a){a.Pe===mh?this.Zu=a:C.Vj(this,a)};
mh.prototype.toString=function(){return"RowColumnDefinition "+(this.Je?"(Row ":"(Column ")+this.index+") #"+C.Gd(this)};var fq;mh.Default=fq=C.s(mh,"Default",0);var Np;mh.None=Np=C.s(mh,"None",1);var hp;mh.ProportionalExtra=hp=C.s(mh,"ProportionalExtra",2);mh.prototype.wm=function(a){this.Ah=a};
mh.prototype.computeEffectiveSpacingTop=mh.prototype.HE=function(){var a=0;if(0!==this.index){var b=this.Ah,c=this.Qq;null===c&&null!==b&&(c=this.Je?b.Ui:b.$h);null!==c&&(a=this.Rq,isNaN(a)&&(a=null!==b?this.Je?b.bi:b.ai:0))}b=this.CG;if(null===b)if(b=this.Ah,null!==b)b=b.bk;else return a;return a+(this.Je?b.top:b.left)};
mh.prototype.computeEffectiveSpacing=mh.prototype.ff=function(){var a=0;if(0!==this.index){var b=this.Ah,c=this.Qq;null===c&&null!==b&&(c=this.Je?b.Ui:b.$h);null!==c&&(a=this.Rq,isNaN(a)&&(a=null!==b?this.Je?b.bi:b.ai:0))}b=this.CG;if(null===b)if(b=this.Ah,null!==b)b=b.bk;else return a;return a+(this.Je?b.top+b.bottom:b.left+b.right)};
mh.prototype.sd=function(a,b,c,d,e){var g=this.Ah;if(null!==g&&(g.ld(bg,a,this,b,c,d,e),null!==this.Ec&&(b=g.g,null!==b&&!b.Ve&&(g=g.jm(),null!==g&&(b=g.data,null!==b)))))for(c=this.Ec.j;c.next();)c.value.Cy(this,b,a,g)};C.w(mh,{Q:"panel"},function(){return this.Ah});C.defineProperty(mh,{Je:"isRow"},function(){return this.cw},function(a){this.cw=a});C.defineProperty(mh,{index:"index"},function(){return this.Fc},function(a){this.Fc=a});
C.defineProperty(mh,{height:"height"},function(){return this.sf},function(a){var b=this.sf;b!==a&&(u&&C.h(a,"number",mh,"height"),0>a&&C.wa(a,">= 0",mh,"height"),this.sf=a,this.Ra=this.$a,null!==this.Q&&this.Q.K(),this.sd("height",b,a))});C.defineProperty(mh,{width:"width"},function(){return this.sf},function(a){var b=this.sf;b!==a&&(u&&C.h(a,"number",mh,"width"),0>a&&C.wa(a,">= 0",mh,"width"),this.sf=a,this.Ra=this.$a,null!==this.Q&&this.Q.K(),this.sd("width",b,a))});
C.defineProperty(mh,{Nj:"minimum"},function(){return this.tk},function(a){var b=this.tk;b!==a&&(u&&C.h(a,"number",mh,"minimum"),(0>a||!isFinite(a))&&C.wa(a,">= 0",mh,"minimum"),this.tk=a,this.Ra=this.$a,null!==this.Q&&this.Q.K(),this.sd("minimum",b,a))});C.defineProperty(mh,{yf:"maximum"},function(){return this.sk},function(a){var b=this.sk;b!==a&&(u&&C.h(a,"number",mh,"maximum"),0>a&&C.wa(a,">= 0",mh,"maximum"),this.sk=a,this.Ra=this.$a,null!==this.Q&&this.Q.K(),this.sd("maximum",b,a))});
C.defineProperty(mh,{alignment:"alignment"},function(){return this.te},function(a){var b=this.te;b.O(a)||(u&&C.l(a,S,mh,"alignment"),this.te=a.V(),null!==this.Q&&this.Q.K(),this.sd("alignment",b,a))});C.defineProperty(mh,{stretch:"stretch"},function(){return this.Mg},function(a){var b=this.Mg;b!==a&&(u&&C.Ca(a,Q,mh,"stretch"),this.Mg=a,null!==this.Q&&this.Q.K(),this.sd("stretch",b,a))});
C.defineProperty(mh,{CG:"separatorPadding"},function(){return this.xk},function(a){"number"===typeof a?a=new Kb(a):null!==a&&u&&C.l(a,Kb,mh,"separatorPadding");var b=this.xk;null!==a&&null!==b&&b.O(a)||(null!==a&&(a=a.V()),this.xk=a,null!==this.Q&&this.Q.K(),this.sd("separatorPadding",b,a))});
C.defineProperty(mh,{Qq:"separatorStroke"},function(){return this.nt},function(a){var b=this.nt;b!==a&&(null===a||"string"===typeof a||a instanceof Ea)&&(a instanceof Ea&&a.freeze(),this.nt=a,null!==this.Q&&this.Q.K(),this.sd("separatorStroke",b,a))});C.defineProperty(mh,{Rq:"separatorStrokeWidth"},function(){return this.ot},function(a){var b=this.ot;b!==a&&(this.ot=a,null!==this.Q&&this.Q.K(),this.sd("separatorStrokeWidth",b,a))});
C.defineProperty(mh,{iK:"separatorDashArray"},function(){return this.ni},function(a){var b=this.ni;if(b!==a){null===a||Array.isArray(a)||C.ic(a,"Array",mh,"separatorDashArray:value");if(null!==a){for(var c=a.length,d=0,e=0;e<c;e++){var g=a[e];"number"===typeof g&&0<=g&&isFinite(g)||C.k("separatorDashArray value "+g+" at index "+e+" must be a positive number or zero.");d+=g}if(0===d){if(null===b)return;a=null}}this.ni=a;null!==this.Q&&this.Q.ra();this.sd("separatorDashArray",b,a)}});
C.defineProperty(mh,{background:"background"},function(){return this.Kb},function(a){var b=this.Kb;b!==a&&(null===a||"string"===typeof a||a instanceof Ea)&&(a instanceof Ea&&a.freeze(),this.Kb=a,null!==this.Q&&this.Q.ra(),this.sd("background",b,a))});C.defineProperty(mh,{tA:"coversSeparators"},function(){return this.xr},function(a){var b=this.xr;b!==a&&(C.h(a,"boolean",mh,"coversSeparators"),this.xr=a,null!==this.Q&&this.Q.ra(),this.sd("coversSeparators",b,a))});
C.defineProperty(mh,{Zu:"sizing"},function(){return this.st},function(a){var b=this.st;b!==a&&(u&&C.Ca(a,mh,mh,"sizing"),this.st=a,null!==this.Q&&this.Q.K(),this.sd("sizing",b,a))});function Mp(a){if(a.Zu===fq){var b=a.Ah;return a.Je?b.eK:b.aI}return a.Zu}C.defineProperty(mh,{Ra:"actual"},function(){return this.$a},function(a){this.$a=isNaN(this.sf)?Math.max(Math.min(this.sk,a),this.tk):Math.max(Math.min(this.sk,this.sf),this.tk)});
C.defineProperty(mh,{total:"total"},function(){return this.$a+this.ff()},function(a){this.$a=isNaN(this.sf)?Math.max(Math.min(this.sk,a),this.tk):Math.max(Math.min(this.sk,this.sf),this.tk);this.$a=Math.max(0,this.$a-this.ff())});C.defineProperty(mh,{position:"position"},function(){return this.ub},function(a){this.ub=a});
mh.prototype.bind=mh.prototype.bind=function(a){a.Og=this;var b=this.Q;if(null!==b){var c=b.jm();null!==c&&ap(c)&&C.k("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+a+" on "+b)}null===this.Ec&&(this.Ec=new K(sh));this.Ec.add(a)};
function w(){Q.call(this);this.Xf=this.pb=null;this.Xo="None";this.Vr=oo;this.Ac=this.Od="black";this.Ng=1;this.Mp="butt";this.Op="miter";this.vn=10;this.Np=null;this.Oe=0;this.vi=this.ui=Rc;this.Ss=this.Rs=NaN;this.ds=!1;this.Us=null;this.$o=this.Sp="None";this.Bg=1;this.Ag=0;this.zg=1}C.Ta(w,Q);C.ka("Shape",w);
w.prototype.cloneProtected=function(a){Q.prototype.cloneProtected.call(this,a);a.pb=this.pb;a.Xo=this.Xo;a.Vr=this.Vr;a.Xf=this.Xf;a.Od=this.Od;a.Ac=this.Ac;a.Ng=this.Ng;a.Mp=this.Mp;a.Op=this.Op;a.vn=this.vn;null!==this.Np&&(a.Np=C.am(this.Np));a.Oe=this.Oe;a.ui=this.ui.V();a.vi=this.vi.V();a.Rs=this.Rs;a.Ss=this.Ss;a.ds=this.ds;a.Us=this.Us;a.Sp=this.Sp;a.$o=this.$o;a.Bg=this.Bg;a.Ag=this.Ag;a.zg=this.zg};
w.prototype.pc=function(a){a===Tj||a===Vj||a===Wj||a===oo?this.HA=a:Q.prototype.pc.call(this,a)};w.prototype.toString=function(){return"Shape("+("None"!==this.Jb?this.Jb:"None"!==this.Xq?this.Xq:this.FA)+")#"+C.Gd(this)};
function gq(a,b,c,d){var e=c.length;if(!(4>e)){for(var g=d.Ea,h=Math.max(1,g.width),g=g.height,k=c[0],l=c[1],m=0,n=0,p=0,q=0,r=0,s=0,v=q=0,t=C.tb(),x=2;x<e;x+=2)m=c[x],n=c[x+1],p=m-k,q=n-l,0===p&&(p=.001),r=q/p,s=Math.atan2(q,p),q=Math.sqrt(p*p+q*q),t.push([p,s,r,q]),v+=q,k=m,l=n;k=c[0];l=c[1];p=d.Ea.width;d instanceof w&&(p-=d.ib);1>p&&(p=1);for(var e=c=p,m=h/2,n=0===m?!1:!0,x=0,q=t[x],p=q[0],s=q[1],r=q[2],q=q[3],y=0;.1<=v;){0===y&&(n?(e=c,e-=m,v-=m,n=!1):e=c,0===e&&(e=1));if(e>v){C.Ba(t);return}e>
q?(y=e-q,e=q):y=0;var B=Math.sqrt(e*e/(1+r*r));0>p&&(B=-B);k+=B;l+=r*B;a.translate(k,l);a.rotate(s);a.translate(-(h/2),-(g/2));0===y&&d.Ok(a,b);a.translate(h/2,g/2);a.rotate(-s);a.translate(-k,-l);v-=e;q-=e;if(0!==y){x++;if(x===t.length){C.Ba(t);return}q=t[x];p=q[0];s=q[1];r=q[2];q=q[3];e=y}}C.Ba(t)}}
w.prototype.Ok=function(a,b){if(null!==this.Ac||null!==this.Od){null!==this.Od&&No(this,a,this.Od,!0,!1);null!==this.Ac&&No(this,a,this.Ac,!1,!1);var c=this.Ng;if(0===c){var d=this.ba;d instanceof ea&&d.type===kj&&"Selection"===d.rc&&d.Ab instanceof w&&d.Zf.Vd()===d.Ab&&(c=d.Ab.ib)}a.lineWidth=c;a.lineJoin=this.Op;a.lineCap=this.Mp;a.miterLimit=this.vn;var e=!1;this.ba&&b.Fj("drawShadows")&&(e=this.ba.Vk);var g=!0;null!==this.Ac&&null===this.Od&&(g=!1);var d=!1,h=!0,k=this.MG;null!==k&&(d=!0,h=a.AA(k,
this.Oe));var l=this.pb;if(null!==l){if(l.ca===hf)a.beginPath(),d&&!h?yo(a,l.zc,l.Jc,l.Bb,l.Ib,k,this.Oe):(a.moveTo(l.zc,l.Jc),a.lineTo(l.Bb,l.Ib)),null!==this.Od&&a.Ug(this.Od),0!==c&&null!==this.Ac&&a.Tj();else if(l.ca===jf){var m=l.zc,n=l.Jc,p=l.Bb,q=l.Ib,l=Math.min(m,p),r=Math.min(n,q),m=Math.abs(p-m),n=Math.abs(q-n);null!==this.Od&&(a.beginPath(),a.rect(l,r,m,n),a.Ug(this.Od));if(null!==this.Ac){var s=p=0,v=0;g&&e&&(p=a.shadowOffsetX,s=a.shadowOffsetY,v=a.shadowBlur,a.shadowOffsetX=0,a.shadowOffsetY=
0,a.shadowBlur=0);d&&!h?(h=C.tb(),h.push(l),h.push(r),h.push(l+m),h.push(r),h.push(l+m),h.push(r+n),h.push(l),h.push(r+n),h.push(l),h.push(r),a.beginPath(),hq(a,h,k,this.Oe),a.Tj(),C.Ba(h)):0!==c&&(a.beginPath(),a.rect(l,r,m,n),a.Tj());g&&e&&(a.shadowOffsetX=p,a.shadowOffsetY=s,a.shadowBlur=v)}}else if(l.ca===kf)m=l.zc,n=l.Jc,p=l.Bb,q=l.Ib,l=Math.abs(p-m)/2,r=Math.abs(q-n)/2,m=Math.min(m,p)+l,n=Math.min(n,q)+r,a.beginPath(),a.moveTo(m,n-r),a.bezierCurveTo(m+Cd*l,n-r,m+l,n-Cd*r,m+l,n),a.bezierCurveTo(m+
l,n+Cd*r,m+Cd*l,n+r,m,n+r),a.bezierCurveTo(m-Cd*l,n+r,m-l,n+Cd*r,m-l,n),a.bezierCurveTo(m-l,n-Cd*r,m-Cd*l,n-r,m,n-r),a.closePath(),null!==this.Od&&a.Ug(this.Od),d&&!h&&(h=C.tb(),ye(m,n-r,m+Cd*l,n-r,m+l,n-Cd*r,m+l,n,.5,h),ye(m+l,n,m+l,n+Cd*r,m+Cd*l,n+r,m,n+r,.5,h),ye(m,n+r,m-Cd*l,n+r,m-l,n+Cd*r,m-l,n,.5,h),ye(m-l,n,m-l,n-Cd*r,m-Cd*l,n-r,m,n-r,.5,h),a.beginPath(),hq(a,h,k,this.Oe),C.Ba(h)),0!==c&&null!==this.Ac&&(g&&e?(p=a.shadowOffsetX,s=a.shadowOffsetY,v=a.shadowBlur,a.shadowOffsetX=0,a.shadowOffsetY=
0,a.shadowBlur=0,a.Tj(),a.shadowOffsetX=p,a.shadowOffsetY=s,a.shadowBlur=v):a.Tj());else if(l.ca===We){r=l.dk;n=r.length;for(q=0;q<n;q++){m=r.o[q];a.beginPath();a.moveTo(m.na,m.la);for(var p=m.Db.o,s=p.length,t=null,v=0;v<s;v++){var x=p[v];switch(x.ca){case Mf:a.moveTo(x.H,x.I);break;case mf:a.lineTo(x.H,x.I);break;case Nf:a.bezierCurveTo(x.Qd,x.df,x.Bh,x.Kg,x.Bb,x.Ib);break;case Of:a.quadraticCurveTo(x.Qd,x.df,x.Bb,x.Ib);break;case Pf:if(x.radiusX===x.radiusY)t=Math.PI/180,a.arc(x.Qd,x.df,x.radiusX,
x.Me*t,(x.Me+x.Af)*t,0>x.Af);else{var t=Rf(x,m),y=t.length;if(0===y){a.lineTo(x.oa,x.xa);break}for(var B=0;B<y;B++){var A=t[B];0===B&&a.lineTo(A[0],A[1]);a.bezierCurveTo(A[2],A[3],A[4],A[5],A[6],A[7])}}break;case Qf:B=y=0;if(null!==t&&t.type===Pf){t=Rf(t,m);A=t.length;if(0===A){a.lineTo(x.oa,x.xa);break}t=t[A-1]||null;null!==t&&(y=t[6],B=t[7])}else y=null!==t?t.H:m.na,B=null!==t?t.I:m.la;t=Sf(x,m,y,B);y=t.length;if(0===y){a.lineTo(x.oa,x.xa);break}for(B=0;B<y;B++)A=t[B],a.bezierCurveTo(A[2],A[3],
A[4],A[5],A[6],A[7]);break;default:C.k("Segment not of valid type: "+x.ca)}x.ei&&a.closePath();t=x}e?(v=s=p=0,m.jp?(!0===m.Rm&&null!==this.Od?(a.Ug(this.Od),g=!0):g=!1,0!==c&&null!==this.Ac&&(g&&(p=a.shadowOffsetX,s=a.shadowOffsetY,v=a.shadowBlur,a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),d&&!h||a.Tj(),g&&(a.shadowOffsetX=p,a.shadowOffsetY=s,a.shadowBlur=v))):(g&&(p=a.shadowOffsetX,s=a.shadowOffsetY,v=a.shadowBlur,a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),!0===m.Rm&&null!==this.Od&&
a.Ug(this.Od),0!==c&&null!==this.Ac&&(d&&!h||a.Tj()),g&&(a.shadowOffsetX=p,a.shadowOffsetY=s,a.shadowBlur=v))):(!0===m.Rm&&null!==this.Od&&a.Ug(this.Od),0===c||null===this.Ac||d&&!h||a.Tj())}if(d&&!h)for(c=g,g=l.dk,h=g.length,l=0;l<h;l++){r=g.o[l];a.beginPath();n=C.tb();n.push(r.na);n.push(r.la);q=r.na;m=r.la;p=q;s=m;v=r.Db.o;x=v.length;for(t=0;t<x;t++){y=v[t];switch(y.ca){case Mf:hq(a,n,k,this.Oe);n.length=0;n.push(y.H);n.push(y.I);q=y.H;m=y.I;p=q;s=m;break;case mf:n.push(y.H);n.push(y.I);q=y.H;
m=y.I;break;case Nf:ye(q,m,y.Qd,y.df,y.Bh,y.Kg,y.Bb,y.Ib,.5,n);q=y.H;m=y.I;break;case Of:Ce(q,m,y.Qd,y.df,y.Bb,y.Ib,.5,n);q=y.H;m=y.I;break;case Pf:B=Rf(y,r);A=B.length;if(0===A){n.push(y.oa);n.push(y.xa);q=y.oa;m=y.xa;break}for(var N=0;N<A;N++){var G=B[N];ye(q,m,G[2],G[3],G[4],G[5],G[6],G[7],.5,n);q=G[6];m=G[7]}break;case Qf:B=Sf(y,r,q,m);A=B.length;if(0===A){n.push(y.oa);n.push(y.xa);q=y.oa;m=y.xa;break}for(N=0;N<A;N++)G=B[N],ye(q,m,G[2],G[3],G[4],G[5],G[6],G[7],.5,n),q=G[6],m=G[7];break;default:C.k("Segment not of valid type: "+
y.ca)}y.ei&&(n.push(p),n.push(s),hq(a,n,k,this.Oe))}hq(a,n,k,this.Oe);C.Ba(n);null!==this.Ac&&(q=n=r=0,c&&e&&(r=a.shadowOffsetX,n=a.shadowOffsetY,q=a.shadowBlur,a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),a.Tj(),c&&e&&(a.shadowOffsetX=r,a.shadowOffsetY=n,a.shadowBlur=q))}}d&&a.vA();if(null!==this.iy){d=this.iy;Bk(d,Infinity,Infinity);k=d.Ea;d.qc(0,0,k.width,k.height);c=this.Ef;a.save();a.beginPath();k=C.tb();if(c.type===hf)k.push(c.na),k.push(c.la),k.push(c.H),k.push(c.I),gq(a,b,k,d);else if(c.type===
We)for(h=c.mc.j;h.next();){l=h.value;k.length=0;k.push(l.na);k.push(l.la);g=l.na;r=l.la;n=g;q=r;m=l.Db.o;p=m.length;for(s=0;s<p;s++){v=m[s];switch(v.ca){case Mf:gq(a,b,k,d);k.length=0;k.push(v.H);k.push(v.I);g=v.H;r=v.I;n=g;q=r;break;case mf:k.push(v.H);k.push(v.I);g=v.H;r=v.I;break;case Nf:ye(g,r,v.Qd,v.df,v.Bh,v.Kg,v.Bb,v.Ib,.5,k);g=v.H;r=v.I;break;case Of:Ce(g,r,v.Qd,v.df,v.Bb,v.Ib,.5,k);g=v.H;r=v.I;break;case Pf:c=Rf(v,l);e=c.length;if(0===e){k.push(v.oa);k.push(v.xa);g=v.oa;r=v.xa;break}for(x=
0;x<e;x++)t=c[x],ye(g,r,t[2],t[3],t[4],t[5],t[6],t[7],.5,k),g=t[6],r=t[7];break;case Qf:c=Sf(v,l,g,r);e=c.length;if(0===e){k.push(v.oa);k.push(v.xa);g=v.oa;r=v.xa;break}for(x=0;x<e;x++)t=c[x],ye(g,r,t[2],t[3],t[4],t[5],t[6],t[7],.5,k),g=t[6],r=t[7];break;default:C.k("Segment not of valid type: "+v.ca)}v.ei&&(k.push(n),k.push(q),gq(a,b,k,d))}gq(a,b,k,d)}else if(c.type===jf)k.push(c.na),k.push(c.la),k.push(c.H),k.push(c.la),k.push(c.H),k.push(c.I),k.push(c.na),k.push(c.I),k.push(c.na),k.push(c.la),
gq(a,b,k,d);else if(c.type===kf){h=new Xe;h.na=c.H;h.la=(c.la+c.I)/2;g=new Wf(Pf);g.Me=0;g.Af=360;g.oa=(c.na+c.H)/2;g.xa=(c.la+c.I)/2;g.radiusX=Math.abs(c.na-c.H)/2;g.radiusY=Math.abs(c.la-c.I)/2;h.add(g);c=Rf(g,h);e=c.length;if(0===e)k.push(g.oa),k.push(g.xa);else for(g=h.na,r=h.la,x=0;x<e;x++)t=c[x],ye(g,r,t[2],t[3],t[4],t[5],t[6],t[7],.5,k),g=t[6],r=t[7];gq(a,b,k,d)}C.Ba(k);a.restore();da(a,!1)}}}};
function hq(a,b,c,d){var e=b.length;if(!(4>e)){var g=.001,h=c.length,k=b[0],l=b[1];if(4===e)yo(a,k,l,b[2],b[3],c,d);else{a.moveTo(k,l);for(var m=g=0,n=0,p=0,q=0,r=p=0,s=C.tb(),v=2;v<e;v+=2)g=b[v],m=b[v+1],n=g-k,p=m-l,0===n&&(n=.001),q=p/n,p=Math.sqrt(n*n+p*p),s.push([n,q,p]),r+=p,k=g,l=m;k=b[0];l=b[1];b=0;for(var e=!0,g=c[b%h],m=0!==d,v=0,p=s[v],n=p[0],q=p[1],p=p[2],t=0;.1<=r;){0===t&&(g=c[b%h],b++,m&&(d%=g,g-=d,m=!1));g>r&&(g=r);g>p?(t=g-p,g=p):t=0;var x=Math.sqrt(g*g/(1+q*q));0>n&&(x=-x);k+=x;l+=
q*x;e?a.lineTo(k,l):a.moveTo(k,l);r-=g;p-=g;if(0!==t){v++;if(v===s.length){C.Ba(s);return}p=s[v];n=p[0];q=p[1];p=p[2];g=t}else e=!e}C.Ba(s)}}}w.prototype.getDocumentPoint=w.prototype.fb=function(a,b){void 0===b&&(b=new O);if(a instanceof S){a.Zd()&&C.k("getDocumentPoint Spot must be a real, specific Spot, not: "+a.toString());var c=this.Ja,d=this.ib;b.m(a.x*(c.width+d)-d/2+c.x+a.offsetX,a.y*(c.height+d)-d/2+c.y+a.offsetY)}else b.set(a);this.Gh.wb(b);return b};
w.prototype.Kk=function(a,b){var c=this.Ef;if(null===c||null===this.fill&&null===this.stroke)return!1;var d=c.sb,e=this.ib/2;c.type!==hf||b||(e+=2);var g=C.Nf();g.assign(d);g.eg(e+2,e+2);if(!g.Oa(a))return C.Lb(g),!1;d=e+1E-4;if(c.type===hf){if(null===this.stroke)return!1;d=(c.H-c.na)*(a.x-c.na)+(c.I-c.la)*(a.y-c.la);if(0>(c.na-c.H)*(a.x-c.H)+(c.la-c.I)*(a.y-c.I)||0>d)return!1;C.Lb(g);return qe(c.na,c.la,c.H,c.I,e,a.x,a.y)}if(c.type===jf){var h=c.na,k=c.la,l=c.H,m=c.I;g.x=Math.min(h,l);g.y=Math.min(k,
m);g.width=Math.abs(l-h);g.height=Math.abs(m-k);if(null===this.fill){g.eg(-d,-d);if(g.Oa(a))return C.Lb(g),!1;g.eg(d,d)}null!==this.stroke&&g.eg(e,e);e=g.Oa(a);C.Lb(g);return e}if(c.type===kf){var h=c.na,k=c.la,l=c.H,m=c.I,c=Math.min(h,l),n=Math.min(k,m),h=Math.abs(l-h)/2,k=Math.abs(m-k)/2,c=a.x-(c+h),n=a.y-(n+k);if(null===this.fill){h-=d;k-=d;if(0>=h||0>=k||1>=c*c/(h*h)+n*n/(k*k))return C.Lb(g),!1;h+=d;k+=d}null!==this.stroke&&(h+=e,k+=e);C.Lb(g);return 0>=h||0>=k?!1:1>=c*c/(h*h)+n*n/(k*k)}if(c.type===
We)return C.Lb(g),null===this.fill?Uf(c,a.x,a.y,e):c.Oa(a,e,1<this.ib,b);C.k("Unknown Geometry type: "+c.type);return!1};
w.prototype.zq=function(a,b,c,d){var e=this.Da,g=this.Ng;a=Math.max(a,0);b=Math.max(b,0);var h;if(null!==this.Xf)h=this.Ef.sb;else{var k=this.Jb,l=me[k];if(void 0===l){var m=iq[k];"string"===typeof m&&(m=iq[m]);"function"===typeof m?(l=m(null,100,100),me[k]=l):C.k("Unsupported Figure: "+k)}h=l.sb}var k=h.width,l=h.height,m=h.width,n=h.height;switch(Eo(this,!0)){case Tj:d=c=0;break;case gf:m=Math.max(a-g,0);n=Math.max(b-g,0);break;case qo:m=Math.max(a-g,0);d=0;break;case po:c=0,n=Math.max(b-g,0)}isFinite(e.width)&&
(m=e.width);isFinite(e.height)&&(n=e.height);e=this.lf;h=this.hg;c=Math.max(c,h.width)-g;d=Math.max(d,h.height)-g;m=Math.min(e.width,m);n=Math.min(e.height,n);m=isFinite(m)?Math.max(c,m):Math.max(k,c);n=isFinite(n)?Math.max(d,n):Math.max(l,d);c=Uj(this);switch(c){case Tj:break;case gf:k=m;l=n;break;case Vj:c=Math.min(m/k,n/l);isFinite(c)||(c=1);k*=c;l*=c;break;default:C.k(c+" is not a valid geometryStretch.")}null!==this.Xf?(k=Math.max(k,.01),l=Math.max(l,.01),h=null!==this.Xf?this.Xf:this.pb,e=k,
d=l,c=h.copy(),h=h.sb,e/=h.width,d/=h.height,isFinite(e)||(e=1),isFinite(d)||(d=1),1===e&&1===d||c.scale(e,d),u&&c.freeze(),this.pb=c):null!==this.pb&&Db(this.pb.ip,a-g)&&Db(this.pb.gp,b-g)||(this.pb=w.makeGeometry(this,k,l));h=this.pb.sb;Infinity===a||Infinity===b?Bo(this,h.x-g/2,h.y-g/2,0===a&&0===k?0:h.width+g,0===b&&0===l?0:h.height+g):Bo(this,-(g/2),-(g/2),m+g,n+g)};
function Op(a,b,c,d){if(!1!==Cm(a)){a.Dd.Za();var e=a.Ng;0===e&&d instanceof ea&&d.type===kj&&d.Ab instanceof w&&(e=d.Ab.ib);e*=a.Rb;d instanceof I&&null!==d.pb?(b=d.pb.sb,Bo(a,b.x-e/2,b.y-e/2,b.width+e,b.height+e)):Bo(a,-(e/2),-(e/2),b+e,c+e);a.Dd.freeze();a.Dd.F()||C.k("Non-real measuredBounds has been set. Object "+a+", measuredBounds: "+a.Dd.toString());cm(a,!1)}}function Uj(a){var b=a.HA;return null!==a.Xf?b===oo?gf:b:b===oo?me[a.Jb].ke:b}w.prototype.yj=function(a,b,c,d){Go(this,a,b,c,d)};
w.prototype.getNearestIntersectionPoint=w.prototype.nF=function(a,b,c){return this.Tn(a.x,a.y,b.x,b.y,c)};
w.prototype.Tn=function(a,b,c,d,e){var g=this.transform,h=1/(g.m11*g.m22-g.m12*g.m21),k=g.m22*h,l=-g.m12*h,m=-g.m21*h,n=g.m11*h,p=h*(g.m21*g.dy-g.m22*g.dx),q=h*(g.m12*g.dx-g.m11*g.dy),g=a*k+b*m+p,h=a*l+b*n+q,k=c*k+d*m+p,l=c*l+d*n+q,m=this.ib/2,p=this.pb;null===p&&(Bk(this,Infinity,Infinity),p=this.pb);q=p.sb;n=!1;if(p.type===hf)if(1.5>=this.ib)n=Fe(p.zc,p.Jc,p.Bb,p.Ib,g,h,k,l,e);else{var r=0,s=0;p.zc===p.Bb?(r=m,s=0):(b=(p.Ib-p.Jc)/(p.Bb-p.zc),s=m/Math.sqrt(1+b*b),r=s*b);d=C.tb();b=new O;Fe(p.zc+
r,p.Jc+s,p.Bb+r,p.Ib+s,g,h,k,l,b)&&d.push(b);b=new O;Fe(p.zc-r,p.Jc-s,p.Bb-r,p.Ib-s,g,h,k,l,b)&&d.push(b);b=new O;Fe(p.zc+r,p.Jc+s,p.zc-r,p.Jc-s,g,h,k,l,b)&&d.push(b);b=new O;Fe(p.Bb+r,p.Ib+s,p.Bb-r,p.Ib-s,g,h,k,l,b)&&d.push(b);b=d.length;if(0===b)return C.Ba(d),!1;n=!0;s=Infinity;for(r=0;r<b;r++){var k=d[r],v=(k.x-g)*(k.x-g)+(k.y-h)*(k.y-h);v<s&&(s=v,e.x=k.x,e.y=k.y)}C.Ba(d)}else if(p.type===jf)b=q.x-m,n=Ge(b,q.y-m,q.x+q.width+m,q.y+q.height+m,g,h,k,l,e);else if(p.type===kf)a:if(b=q.copy().eg(m,
m),0===b.width)n=Fe(b.x,b.y,b.x,b.y+b.height,g,h,k,l,e);else if(0===b.height)n=Fe(b.x,b.y,b.x+b.width,b.y,g,h,k,l,e);else{a=b.width/2;var t=b.height/2;d=b.x+a;b=b.y+t;c=9999;g!==k&&(c=(h-l)/(g-k));if(9999>Math.abs(c)){n=h-b-c*(g-d);if(0>a*a*c*c+t*t-n*n){e.x=NaN;e.y=NaN;n=!1;break a}m=Math.sqrt(a*a*c*c+t*t-n*n);k=(-(a*a*c*n)+a*t*m)/(t*t+a*a*c*c)+d;a=(-(a*a*c*n)-a*t*m)/(t*t+a*a*c*c)+d;l=c*(k-d)+n+b;b=c*(a-d)+n+b;d=Math.abs((g-k)*(g-k))+Math.abs((h-l)*(h-l));h=Math.abs((g-a)*(g-a))+Math.abs((h-b)*(h-
b));d<h?(e.x=k,e.y=l):(e.x=a,e.y=b)}else{k=t*t;l=g-d;k-=k/(a*a)*l*l;if(0>k){e.x=NaN;e.y=NaN;n=!1;break a}m=Math.sqrt(k);l=b+m;b-=m;d=Math.abs(l-h);h=Math.abs(b-h);d<h?(e.x=g,e.y=l):(e.x=g,e.y=b)}n=!0}else if(p.type===We){var x=0,y=0,B=v=0,q=C.P(),r=k-g,s=l-h,s=r*r+s*s;e.x=k;e.y=l;for(r=0;r<p.mc.count;r++)for(var A=p.mc.o[r],N=A.Db,x=A.na,y=A.la,G=x,T=y,fa=0;fa<N.count;fa++){var W=N.o[fa],P=W.type,v=W.H,B=W.I,aa=!1;switch(P){case Mf:G=v;T=B;break;case mf:aa=jq(x,y,v,B,g,h,k,l,q);break;case Nf:var aa=
W.Dc,P=W.$c,Oa=W.Rh,sa=W.Sh,aa=De(x,y,aa,P,Oa,sa,v,B,g,h,k,l,.5,q);break;case Of:aa=(x+2*W.Dc)/3;P=(y+2*W.$c)/3;Oa=(2*W.Dc+v)/3;sa=(2*W.Dc+v)/3;aa=De(x,y,aa,P,Oa,sa,v,B,g,h,k,l,.5,q);break;case Pf:case Qf:P=W.type===Pf?Rf(W,A):Sf(W,A,x,y);Oa=P.length;if(0===Oa){aa=jq(x,y,W.oa,W.xa,g,h,k,l,q);break}for(B=0;B<Oa;B++)t=P[B],0===B&&jq(x,y,t[0],t[1],g,h,k,l,q)&&(v=kq(g,h,q,s,e),v<s&&(s=v,n=!0)),De(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],g,h,k,l,.5,q)&&(v=kq(g,h,q,s,e),v<s&&(s=v,n=!0));v=t[6];B=t[7];break;
default:C.k("Unknown Segment type: "+P)}x=v;y=B;aa&&(v=kq(g,h,q,s,e),v<s&&(s=v,n=!0));W.Nx&&(v=G,B=T,jq(x,y,v,B,g,h,k,l,q)&&(v=kq(g,h,q,s,e),v<s&&(s=v,n=!0)))}g=c-a;h=d-b;b=Math.sqrt(g*g+h*h);0!==b&&(g/=b,h/=b);e.x-=g*m;e.y-=h*m;C.A(q)}else C.k("Unknown Geometry type: "+p.type);if(!n)return!1;this.transform.wb(e);return!0};function kq(a,b,c,d,e){a=c.x-a;b=c.y-b;b=a*a+b*b;return b<d?(e.x=c.x,e.y=c.y,b):d}
function jq(a,b,c,d,e,g,h,k,l){var m=!1,n=(e-h)*(b-d)-(g-k)*(a-c);if(0===n)return!1;l.x=((e*k-g*h)*(a-c)-(e-h)*(a*d-b*c))/n;l.y=((e*k-g*h)*(b-d)-(g-k)*(a*d-b*c))/n;(a>c?a-c:c-a)<(b>d?b-d:d-b)?(e=b<d?b:d,a=b<d?d:b,(l.y>e||Db(l.y,e))&&(l.y<a||Db(l.y,a))&&(m=!0)):(e=a<c?a:c,a=a<c?c:a,(l.x>e||Db(l.x,e))&&(l.x<a||Db(l.x,a))&&(m=!0));return m}
w.prototype.containedInRect=w.prototype.Hn=function(a,b){if(void 0===b)return a.Lk(this.Z);var c=this.pb;null===c&&(Bk(this,Infinity,Infinity),c=this.pb);var c=c.sb,d=this.ib/2,e=!1,g=C.P();g.m(c.x-d,c.y-d);a.Oa(b.wb(g))&&(g.m(c.x-d,c.bottom+d),a.Oa(b.wb(g))&&(g.m(c.right+d,c.bottom+d),a.Oa(b.wb(g))&&(g.m(c.right+d,c.y-d),a.Oa(b.wb(g))&&(e=!0))));C.A(g);return e};
w.prototype.intersectsRect=w.prototype.Wg=function(a,b){if(this.Hn(a,b)||void 0===b&&(b=this.transform,a.Lk(this.Z)))return!0;var c=C.Of();c.set(b);c.Mx();var d=a.left,e=a.right,g=a.top,h=a.bottom,k=C.P();k.m(d,g);c.wb(k);if(this.Kk(k,!0))return C.A(k),!0;k.m(e,g);c.wb(k);if(this.Kk(k,!0))return C.A(k),!0;k.m(d,h);c.wb(k);if(this.Kk(k,!0))return C.A(k),!0;k.m(e,h);c.wb(k);if(this.Kk(k,!0))return C.A(k),!0;var l=C.P(),m=C.P();c.set(b);c.fB(this.transform);c.Mx();l.x=e;l.y=g;l.transform(c);k.x=d;k.y=
g;k.transform(c);var n=!1;lq(this,k,l,m)?n=!0:(k.x=e,k.y=h,k.transform(c),lq(this,k,l,m)?n=!0:(l.x=d,l.y=h,l.transform(c),lq(this,k,l,m)?n=!0:(k.x=d,k.y=g,k.transform(c),lq(this,k,l,m)&&(n=!0))));C.A(k);C.Ie(c);C.A(l);C.A(m);return n};function lq(a,b,c,d){if(!a.nF(b,c,d))return!1;a=b.x;b=b.y;var e=c.x;c=c.y;var g=d.x;d=d.y;if(a===e){var h=0;a=0;b<c?(h=b,a=c):(h=c,a=b);return d>=h&&d<=a}a<e?(h=a,a=e):h=e;return g>=h&&g<=a}
w.prototype.hF=function(a,b,c){function d(a,b){for(var c=a.length,d=0;d<c;d+=2)if(b.hq(a[d],a[d+1])>e)return!0;return!1}if(c&&null!==this.fill&&this.Kk(a,!0))return!0;var e=a.Df(b);b=e;1.5<this.ib&&(e=this.ib/2+Math.sqrt(e),e*=e);var g=this.pb;if(null===g&&(Bk(this,Infinity,Infinity),g=this.pb,null===g))return!1;if(!c){var h=g.sb,k=h.x,l=h.y,m=h.x+h.width,h=h.y+h.height;if(yb(a.x,a.y,k,l)<=e&&yb(a.x,a.y,m,l)<=e&&yb(a.x,a.y,k,h)<=e&&yb(a.x,a.y,m,h)<=e)return!0}k=g.zc;l=g.Jc;m=g.Bb;h=g.Ib;if(g.type===
hf){if(c=xb(a.x,a.y,k,l,m,h),g=(k-m)*(a.x-m)+(l-h)*(a.y-h),c<=(0<=(m-k)*(a.x-k)+(h-l)*(a.y-l)&&0<=g?e:b))return!0}else{if(g.type===jf)return b=!1,c&&(b=xb(a.x,a.y,k,l,k,h)<=e||xb(a.x,a.y,k,l,m,l)<=e||xb(a.x,a.y,m,l,m,h)<=e||xb(a.x,a.y,k,h,m,h)<=e),b;if(g.type===kf){b=a.x-(k+m)/2;var g=a.y-(l+h)/2,n=Math.abs(m-k)/2,p=Math.abs(h-l)/2;if(0===n||0===p)return c=xb(a.x,a.y,k,l,m,h),c<=e?!0:!1;if(c){if(a=Ue(n,p,b,g),a*a<=e)return!0}else return yb(b,g,-n,0)>=e||yb(b,g,0,-p)>=e||yb(b,g,0,p)>=e||yb(b,g,n,0)>=
e?!1:!0}else if(g.type===We){h=g.sb;k=h.x;l=h.y;m=h.x+h.width;h=h.y+h.height;if(a.x>m&&a.x<k&&a.y>h&&a.y<l&&xb(a.x,a.y,k,l,k,h)>e&&xb(a.x,a.y,k,l,m,l)>e&&xb(a.x,a.y,m,h,k,h)>e&&xb(a.x,a.y,m,h,m,l)>e)return!1;b=Math.sqrt(e);if(c){if(null===this.fill?Uf(g,a.x,a.y,b):g.Oa(a,b,!0))return!0}else{c=g.mc;for(b=0;b<c.count;b++){k=c.o[b];n=k.na;p=k.la;if(a.hq(n,p)>e)return!1;l=k.Db.o;m=l.length;for(h=0;h<m;h++){var q=l[h];switch(q.type){case Mf:case mf:n=q.H;p=q.I;if(a.hq(n,p)>e)return!1;break;case Nf:g=C.tb();
ye(n,p,q.Dc,q.$c,q.Rh,q.Sh,q.H,q.I,.8,g);n=d(g,a);C.Ba(g);if(n)return!1;n=q.H;p=q.I;if(a.hq(n,p)>e)return!1;break;case Of:g=C.tb();Ce(n,p,q.Dc,q.$c,q.H,q.I,.8,g);n=d(g,a);C.Ba(g);if(n)return!1;n=q.H;p=q.I;if(a.hq(n,p)>e)return!1;break;case Pf:case Qf:var r=q.type===Pf?Rf(q,k):Sf(q,k,n,p),s=r.length;if(0===s){n=q.oa;p=q.xa;if(a.hq(n,p)>e)return!1;break}q=null;g=C.tb();for(b=0;b<s;b++)if(q=r[b],g.length=0,ye(q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],.8,g),d(g,a))return C.Ba(g),!1;C.Ba(g);null!==q&&(n=
q[6],p=q[7]);break;default:C.k("Unknown Segment type: "+q.type)}}}return!0}}}return!1};C.defineProperty(w,{Ef:"geometry"},function(){return null!==this.pb?this.pb:this.Xf},function(a){var b=this.pb;if(b!==a){null!==a?(u&&C.l(a,Ve,w,"geometry"),this.Xf=this.pb=a.freeze()):this.Xf=this.pb=null;var c=this.ba;null!==c&&(c.rk=NaN);this.K();this.i("geometry",b,a);zo(this)&&(a=this.ba,null!==a&&Ao(this,a,"geometryString"))}});
C.defineProperty(w,{HI:"geometryString"},function(){return null===this.Ef?"":this.Ef.toString()},function(a){a=of(a);var b=a.normalize();this.Ef=a;this.position=a=C.Fb(-b.x,-b.y);C.A(a)});C.defineProperty(w,{FF:"isGeometryPositioned"},function(){return this.ds},function(a){u&&C.h(a,"boolean",w,"isGeometryPositioned");var b=this.ds;b!==a&&(this.ds=a,this.K(),this.i("isGeometryPositioned",b,a))});w.prototype.Se=function(){this.pb=null};
C.defineProperty(w,{fill:"fill"},function(){return this.Od},function(a){var b=this.Od;b!==a&&(u&&null!==a&&C.Vt(a,"Shape.fill"),a instanceof Ea&&a.freeze(),this.Od=a,this.ra(),this.i("fill",b,a))});C.defineProperty(w,{stroke:"stroke"},function(){return this.Ac},function(a){var b=this.Ac;b!==a&&(u&&null!==a&&C.Vt(a,"Shape.stroke"),a instanceof Ea&&a.freeze(),this.Ac=a,this.ra(),this.i("stroke",b,a))});
C.defineProperty(w,{ib:"strokeWidth"},function(){return this.Ng},function(a){var b=this.Ng;if(b!==a)if(u&&C.p(a,w,"strokeWidth"),0<=a){this.Ng=a;this.K();var c=this.ba;null!==c&&(c.rk=NaN);this.i("strokeWidth",b,a)}else C.wa(a,"value >= 0",w,"strokeWidth:value")});
C.defineProperty(w,{xM:"strokeCap"},function(){return this.Mp},function(a){var b=this.Mp;b!==a&&("string"!==typeof a||"butt"!==a&&"round"!==a&&"square"!==a?C.wa(a,'"butt", "round", or "square"',w,"strokeCap"):(this.Mp=a,this.ra(),this.i("strokeCap",b,a)))});
C.defineProperty(w,{zM:"strokeJoin"},function(){return this.Op},function(a){var b=this.Op;b!==a&&("string"!==typeof a||"miter"!==a&&"bevel"!==a&&"round"!==a?C.wa(a,'"miter", "bevel", or "round"',w,"strokeJoin"):(this.Op=a,this.ra(),this.i("strokeJoin",b,a)))});
C.defineProperty(w,{AM:"strokeMiterLimit"},function(){return this.vn},function(a){var b=this.vn;if(b!==a)if(u&&C.p(a,w,"strokeMiterLimit"),1<=a){this.vn=a;this.ra();var c=this.ba;null!==c&&(c.rk=NaN);this.i("strokeMiterLimit",b,a)}else C.wa(a,"value >= 1",w,"strokeWidth:value")});
C.defineProperty(w,{MG:"strokeDashArray"},function(){return this.Np},function(a){var b=this.Np;if(b!==a){null===a||Array.isArray(a)||C.ic(a,"Array",w,"strokeDashArray:value");if(null!==a){for(var c=a.length,d=0,e=0;e<c;e++){var g=a[e];"number"===typeof g&&0<=g&&isFinite(g)||C.k("strokeDashArray:value "+g+" at index "+e+" must be a positive number or zero.");d+=g}if(0===d){if(null===b)return;a=null}}this.Np=a;this.ra();this.i("strokeDashArray",b,a)}});
C.defineProperty(w,{yM:"strokeDashOffset"},function(){return this.Oe},function(a){var b=this.Oe;b!==a&&(u&&C.p(a,w,"strokeDashOffset"),0<=a&&(this.Oe=a,this.ra(),this.i("strokeDashOffset",b,a)))});
C.defineProperty(w,{Jb:"figure"},function(){return this.Xo},function(a){var b=this.Xo;if(b!==a){u&&C.h(a,"string",w,"figure");var c=iq[a];"function"===typeof c?c=a:(c=iq[a.toLowerCase()])||C.k("Unknown Shape.figure: "+a);b!==c&&(a=this.ba,null!==a&&(a.rk=NaN),this.Xo=c,this.Xf=null,this.Se(),this.K(),this.i("figure",b,c))}});
C.defineProperty(w,{Xq:"toArrow"},function(){return this.Sp},function(a){var b=this.Sp;!0===a?a="Standard":!1===a&&(a="");if(b!==a){u&&C.h(a,"string",w,"toArrow");var c=mq(a);null===c?C.k("Unknown Shape.toArrow: "+a):b!==c&&(this.Sp=c,this.Xf=null,this.Se(),this.K(),nq(this),this.i("toArrow",b,c))}});
C.defineProperty(w,{FA:"fromArrow"},function(){return this.$o},function(a){var b=this.$o;!0===a?a="Standard":!1===a&&(a="");if(b!==a){u&&C.h(a,"string",w,"fromArrow");var c=mq(a);null===c?C.k("Unknown Shape.fromArrow: "+a):b!==c&&(this.$o=c,this.Xf=null,this.Se(),this.K(),nq(this),this.i("fromArrow",b,c))}});function nq(a){var b=a.g;null!==b&&b.sa.ob||(a.Pq=oq,"None"!==a.Sp?(a.Ue=-1,a.Fh=bd):"None"!==a.$o&&(a.Ue=0,a.Fh=new S(1-bd.x,bd.y)))}
C.defineProperty(w,{C:"spot1"},function(){return this.ui},function(a){C.l(a,S,w,"spot1");var b=this.ui;b.O(a)||(this.ui=a=a.V(),this.K(),this.i("spot1",b,a))});C.defineProperty(w,{D:"spot2"},function(){return this.vi},function(a){C.l(a,S,w,"spot2");var b=this.vi;b.O(a)||(this.vi=a=a.V(),this.K(),this.i("spot2",b,a))});C.defineProperty(w,{Rc:"parameter1"},function(){return this.Rs},function(a){var b=this.Rs;b!==a&&(this.Rs=a,this.Se(),this.K(),this.i("parameter1",b,a))});
C.defineProperty(w,{Nu:"parameter2"},function(){return this.Ss},function(a){var b=this.Ss;b!==a&&(this.Ss=a,this.Se(),this.K(),this.i("parameter2",b,a))});C.w(w,{Ja:"naturalBounds"},function(){if(null!==this.pb)return this.Uc.assign(this.pb.sb),this.Uc;var a=this.Da;return new z(0,0,a.width,a.height)});C.defineProperty(w,{iy:"pathPattern"},function(){return this.Us},function(a){var b=this.Us;b!==a&&(u&&C.l(a,Q,w,"pathPattern"),this.Us=a,this.ra(),this.i("pathPattern",b,a))});
C.defineProperty(w,{nM:"pathObject"},function(){return this.iy},function(a){this.iy=a});C.defineProperty(w,{HA:"geometryStretch"},function(){return this.Vr},function(a){var b=this.Vr;b!==a&&(C.Ca(a,Q,w,"geometryStretch"),this.Vr=a,this.i("geometryStretch",b,a))});
C.defineProperty(w,{interval:"interval"},function(){return this.Bg},function(a){var b=this.Bg;u&&C.p(a,w,"interval");a=Math.floor(a);if(b!==a&&0<=a){this.Bg=a;var c=this.g;null!==c&&this.Q===c.Vn&&dm(c);this.K();c=this.Q;null!==c&&c.type===Fp&&(c.ik=null);this.i("interval",b,a)}});C.defineProperty(w,{rF:"graduatedStart"},function(){return this.Ag},function(a){var b=this.Ag;u&&C.p(a,w,"graduatedStart");b!==a&&(0>a?a=0:1<a&&(a=1),this.Ag=a,this.K(),this.i("graduatedStart",b,a))});
C.defineProperty(w,{pF:"graduatedEnd"},function(){return this.zg},function(a){var b=this.zg;u&&C.p(a,w,"graduatedEnd");b!==a&&(0>a?a=0:1<a&&(a=1),this.zg=a,this.K(),this.i("graduatedEnd",b,a))});w.makeGeometry=function(a,b,c){var d=null;if("None"!==a.Xq)d=ne[a.Xq];else if("None"!==a.FA)d=ne[a.FA];else{var e=iq[a.Jb];"string"===typeof e&&(e=iq[e]);void 0===e&&C.k("Unknown Shape.figure: "+a.Jb);d=e(a,b,c);d.ip=b;d.gp=c}null===d&&(e=iq.Rectangle,"function"===typeof e&&(d=e(a,b,c)));return d};
w.getFigureGenerators=function(){var a=new oa("string","function"),b;for(b in iq)if(b!==b.toLowerCase()){var c=iq[b];"function"===typeof c&&a.add(b,c)}a.freeze();return a};
w.defineFigureGenerator=function(a,b){C.h(a,"string",w,"defineFigureGenerator:name");"string"===typeof b?""!==b&&iq[b]||C.k("Shape.defineFigureGenerator synonym must not be empty or None or not a defined figure name: "+b):C.h(b,"function",w,"defineFigureGenerator:func");var c=a.toLowerCase();""!==a&&"none"!==c&&a!==c||C.k("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+a);iq[a]=b;iq[c]=a};
w.getArrowheadGeometries=function(){var a=new oa("string",Ve),b;for(b in pq)if(void 0===ne[b]){var c=of(pq[b],!1);ne[b]=c;c=b.toLowerCase();c!==b&&(ne[c]=b)}for(b in ne)b!==b.toLowerCase()&&(c=ne[b],c instanceof Ve&&a.add(b,c));a.freeze();return a};
w.defineArrowheadGeometry=function(a,b){C.h(a,"string",w,"defineArrowheadGeometry:name");var c=null;"string"===typeof b?(C.h(b,"string",w,"defineArrowheadGeometry:pathstr"),c=of(b,!1)):(C.l(b,Ve,w,"defineArrowheadGeometry:pathstr"),c=b);var d=a.toLowerCase();""!==a&&"none"!==d&&a!==d||C.k("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+a);ne[a]=c;ne[d]=a};
function pa(){Q.call(this);this.Td="";this.Ac="black";this.xg="13px sans-serif";this.Nl="start";this.wg=Tj;this.Rl=Uc;this.Tm=!0;this.nk=this.ok=!1;this.nj=qq;this.Gk=rq;this.jw=this.we=0;this.Mm=this.Iz=this.Jz=null;this.gi=new Up;this.Nr=!1;this.$e=this.or=this.Ct=this.Ol=this.Dt=null;this.ti=this.si=0;this.uh=Infinity;this.pp=0;this.Bg=1;this.Ag=0;this.zg=1;this.Om=null}C.Ta(pa,Q);C.ka("TextBlock",pa);var sq=/[ \u200b\u00ad]/;
pa.prototype.cloneProtected=function(a){Q.prototype.cloneProtected.call(this,a);a.Td=this.Td;a.Ac=this.Ac;a.xg=this.xg;a.Nl=this.Nl;a.wg=this.wg;a.Rl=this.Rl;a.Tm=this.Tm;a.ok=this.ok;a.nk=this.nk;a.nj=this.nj;a.Gk=this.Gk;a.we=this.we;a.jw=this.jw;a.Jz=this.Jz;a.Iz=this.Iz;a.Mm=this.Mm;a.gi.bq(this.gi);a.Nr=this.Nr;a.Dt=this.Dt;a.Ol=this.Ol;a.Ct=this.Ct;a.or=this.or;a.$e=this.$e;a.si=this.si;a.ti=this.ti;a.uh=this.uh;a.pp=this.pp;a.Bg=this.Bg;a.Ag=this.Ag;a.zg=this.zg;a.Om=this.Om};
pa.prototype.pc=function(a){a.Pe===pa?this.eH=a:Q.prototype.pc.call(this,a)};pa.prototype.toString=function(){return 22<this.Td.length?'TextBlock("'+this.Td.substring(0,20)+'"...)':'TextBlock("'+this.Td+'")'};var tq=new na,uq=0,vq=new na,wq=0,xq="...",yq="",zq=(new ma(null)).Mk;pa.getEllipsis=function(){return xq};pa.setEllipsis=function(a){xq=a;vq=new na;wq=0};var Aq;pa.None=Aq=C.s(pa,"None",0);var Bq;pa.WrapFit=Bq=C.s(pa,"WrapFit",1);var rq;pa.WrapDesiredSize=rq=C.s(pa,"WrapDesiredSize",2);var qq;
pa.OverflowClip=qq=C.s(pa,"OverflowClip",0);var Cq;pa.OverflowEllipsis=Cq=C.s(pa,"OverflowEllipsis",1);pa.prototype.K=function(){Q.prototype.K.call(this);this.Iz=this.Jz=null};C.defineProperty(pa,{font:"font"},function(){return this.xg},function(a){var b=this.xg;b!==a&&(u&&(C.h(a,"string",pa,"font"),Dq(a)||C.k('Not a valid font: "'+a+'"')),this.xg=a,this.Mm=null,this.K(),this.i("font",b,a))});var Dq;
pa.isValidFont=Dq=function(a){var b=zq.font;if(a===b||"10px sans-serif"===a)return!0;zq.font="10px sans-serif";var c;zq.font=a;var d=zq.font;if("10px sans-serif"!==d)return zq.font=b,!0;zq.font="19px serif";c=zq.font;zq.font=a;d=zq.font;zq.font=b;return d!==c};C.defineProperty(pa,{text:"text"},function(){return this.Td},function(a){var b=this.Td;a=null!==a&&void 0!==a?a.toString():"";b!==a&&(this.Td=a,this.K(),this.i("text",b,a))});
C.defineProperty(pa,{textAlign:"textAlign"},function(){return this.Nl},function(a){var b=this.Nl;b!==a&&(u&&C.h(a,"string",pa,"textAlign"),"start"===a||"end"===a||"left"===a||"right"===a||"center"===a?(this.Nl=a,this.ra(),this.i("textAlign",b,a)):C.wa(a,'"start", "end", "left", "right", or "center"',pa,"textAlign"))});C.defineProperty(pa,{hu:"flip"},function(){return this.wg},function(a){var b=this.wg;b!==a&&(C.Ca(a,Q,pa,"flip"),this.wg=a,this.ra(),this.i("flip",b,a))});
C.defineProperty(pa,{FM:"verticalAlignment"},function(){return this.Rl},function(a){var b=this.Rl;b.O(a)||(u&&C.l(a,S,pa,"verticalAlignment"),a.Zd()&&C.k("TextBlock.verticalAlignment for "+this+" must be a real Spot, not:"+a),this.Rl=a=a.V(),Ro(this),this.i("verticalAlignment",b,a))});C.w(pa,{Ja:"naturalBounds"},function(){if(!this.Uc.F()){var a=Eq(this,this.Td,this.gi,999999).width,b=Fq(this,a,this.gi),c=this.Da;isNaN(c.width)||(a=c.width);isNaN(c.height)||(b=c.height);Ab(this.Uc,a,b)}return this.Uc});
C.defineProperty(pa,{Tx:"isMultiline"},function(){return this.Tm},function(a){var b=this.Tm;b!==a&&(u&&C.h(a,"boolean",pa,"isMultiline"),this.Tm=a,this.K(),this.i("isMultiline",b,a))});C.defineProperty(pa,{ML:"isUnderline"},function(){return this.ok},function(a){var b=this.ok;b!==a&&(u&&C.h(a,"boolean",pa,"isUnderline"),this.ok=a,this.ra(),this.i("isUnderline",b,a))});
C.defineProperty(pa,{LL:"isStrikethrough"},function(){return this.nk},function(a){var b=this.nk;b!==a&&(u&&C.h(a,"boolean",pa,"isStrikethrough"),this.nk=a,this.ra(),this.i("isStrikethrough",b,a))});C.defineProperty(pa,{eH:"wrap"},function(){return this.Gk},function(a){var b=this.Gk;b!==a&&(u&&C.Ca(a,pa,pa,"wrap"),this.Gk=a,this.K(),this.i("wrap",b,a))});
C.defineProperty(pa,{overflow:"overflow"},function(){return this.nj},function(a){var b=this.nj;b!==a&&(u&&C.Ca(a,pa,pa,"overflow"),this.nj=a,this.K(),this.i("overflow",b,a))});C.defineProperty(pa,{stroke:"stroke"},function(){return this.Ac},function(a){var b=this.Ac;b!==a&&(u&&null!==a&&C.Vt(a,"TextBlock.stroke"),a instanceof Ea&&a.freeze(),this.Ac=a,this.ra(),this.i("stroke",b,a))});C.w(pa,{qJ:"lineCount"},function(){return this.we});
C.defineProperty(pa,{zA:"editable"},function(){return this.Nr},function(a){var b=this.Nr;b!==a&&(u&&C.h(a,"boolean",pa,"editable"),this.Nr=a,this.i("editable",b,a))});C.defineProperty(pa,{PG:"textEditor"},function(){return this.Dt},function(a){var b=this.Dt;b!==a&&(!u||a instanceof Element||a instanceof bk||C.k("TextEditingTool.defaultTextEditor must be an HTML Element or HTMLInfo."),this.Dt=a,this.i("textEditor",b,a))});
C.defineProperty(pa,{BA:"errorFunction"},function(){return this.$e},function(a){var b=this.$e;b!==a&&(null!==a&&C.h(a,"function",pa,"errorFunction"),this.$e=a,this.i("errorFunction",b,a))});C.defineProperty(pa,{interval:"interval"},function(){return this.Bg},function(a){var b=this.Bg;u&&C.p(a,pa,"interval");a=Math.floor(a);if(b!==a&&0<=a){this.Bg=a;this.K();var c=this.Q;null!==c&&c.type===Fp&&(c.ik=null);this.i("interval",b,a)}});
C.defineProperty(pa,{rF:"graduatedStart"},function(){return this.Ag},function(a){var b=this.Ag;u&&C.p(a,pa,"graduatedStart");b!==a&&(0>a?a=0:1<a&&(a=1),this.Ag=a,this.K(),this.i("graduatedStart",b,a))});C.defineProperty(pa,{pF:"graduatedEnd"},function(){return this.zg},function(a){var b=this.zg;u&&C.p(a,pa,"graduatedEnd");b!==a&&(0>a?a=0:1<a&&(a=1),this.zg=a,this.K(),this.i("graduatedEnd",b,a))});
C.defineProperty(pa,{qF:"graduatedFunction"},function(){return this.Om},function(a){var b=this.Om;b!==a&&(null!==a&&C.h(a,"function",pa,"graduatedFunction"),this.Om=a,this.K(),this.i("graduatedFunction",b,a))});
pa.prototype.Ok=function(a,b){if(null!==this.Ac&&0!==this.Td.length&&null!==this.xg){var c=this.Ja.width,d=this.Ja.height,e=Gq(this),g=a.textAlign=this.Nl,h=b.gs;"start"===g&&(g=h?"right":"left");"end"===g&&(g=h?"left":"right");No(this,a,this.Ac,!0,!1);(this.ok||this.nk)&&No(this,a,this.Ac,!1,!1);var k=0,h=!1,l=C.Fb(0,0);this.Gh.wb(l);var m=C.Fb(0,e);this.Gh.wb(m);var n=l.Df(m);C.A(l);C.A(m);l=b.scale;8>n*l*l&&(h=!0);b.pd!==a&&(h=!1);!1===b.Fj("textGreeking")&&(h=!1);n=this.si;l=this.ti;switch(this.hu){case so:a.translate(c,
0);a.scale(-1,1);break;case ro:a.translate(0,d);a.scale(1,-1);break;case to:a.translate(c,d),a.scale(-1,-1)}var m=this.we,p=(n+e+l)*m;d>p&&(k=this.Rl,k=k.y*d-k.y*p+k.offsetY);for(var p=this.gi,q=0;q<m;q++){var r=p.Bf[q],s=p.Xe[q];r>c&&(r=c);var k=k+n,v=s,s=a,t=k,x=c,y=e,B=g,A=0;h?("left"===B?A=0:"right"===B?A=x-r:"center"===B&&(A=(x-r)/2),s.fillRect(0+A,t+.25*y,r,1)):("left"===B?A=0:"right"===B?A=x:"center"===B&&(A=x/2),s.fillText(v,0+A,t+y-.25*y),v=y/20|0,0===v&&(v=1),"right"===B?A-=r:"center"===
B&&(A-=r/2),this.ok&&(s.beginPath(),s.lineWidth=v,s.moveTo(0+A,t+y-.2*y),s.lineTo(0+A+r,t+y-.2*y),s.stroke()),this.nk&&(s.beginPath(),s.lineWidth=v,t=t+y-y/2.2|0,0!==v%2&&(t+=.5),s.moveTo(0+A,t),s.lineTo(0+A+r,t),s.stroke()));k+=e+l}switch(this.hu){case so:a.scale(-1,1);a.translate(-c,0);break;case ro:a.scale(1,-1);a.translate(0,-d);break;case to:a.scale(-1,-1),a.translate(-c,-d)}}};
pa.prototype.computeAngle=function(a,b){var c=0;switch(a){default:case nj:c=0;break;case oq:c=b;break;case Pp:c=b+90;break;case Rp:c=b-90;break;case Hq:c=b+180;break;case Iq:c=Re(b);90<c&&270>c&&(c-=180);break;case Qp:c=Re(b+90);90<c&&270>c&&(c-=180);break;case Sp:c=Re(b-90);90<c&&270>c&&(c-=180);break;case Tp:c=Re(b);if(45<c&&135>c||225<c&&315>c)return 0;90<c&&270>c&&(c-=180)}return Re(c)};
pa.prototype.zq=function(a,b,c,d){this.pp=a;var e=this.gi;e.reset();var g=0,h=0;if(isNaN(this.Da.width)){g=this.Td.replace(/\r\n/g,"\n").replace(/\r/g,"\n");if(0===g.length)g=0;else if(this.Tx){for(var k=h=0,l=!1;!l;){var m=g.indexOf("\n",k);-1===m&&(m=g.length,l=!0);k=Jq(g.substr(k,m-k).replace(/^\s+|\s+$/g,""),this.xg);k>h&&(h=k);k=m+1}g=h}else h=g.indexOf("\n",0),0<=h&&(g=g.substr(0,h)),g=k=Jq(g,this.xg);g=Math.min(g,a/this.scale);g=Math.max(8,g)}else g=this.Da.width;null!==this.Q&&(g=Math.min(g,
this.Q.lf.width),g=Math.max(g,this.Q.hg.width));h=Fq(this,g,e);m=h=isNaN(this.Da.height)?Math.min(h,b/this.scale):this.Da.height;if(0!==e.qf&&1!==e.Xe.length&&this.nj===Cq&&(b=this.xg,l=this.nj===Cq?Kq(b):0,k=this.si+this.ti,k=Math.max(0,Gq(this)+k),m=Math.min(this.yJ-1,Math.max(Math.floor(m/k+.01)-1,0)),!(m+1>=e.Xe.length))){k=e.Xe[m];for(a=Math.max(1,a-l);Jq(k,b)>a&&1<k.length;)k=k.substr(0,k.length-1);k+=xq;a=Jq(k,b);e.Xe[m]=k;e.Xe=e.Xe.slice(0,m+1);e.Bf[m]=a;e.Bf=e.Bf.slice(0,m+1);e.xj=e.Xe.length;
e.qf=Math.max(e.qf,a);this.we=e.xj}if(this.eH===Bq||isNaN(this.Da.width))g=e.qf,isNaN(this.Da.width)&&(g=Math.max(8,g));g=Math.max(c,g);h=Math.max(d,h);Ab(this.Uc,g,h);Bo(this,0,0,g,h)};pa.prototype.yj=function(a,b,c,d){Go(this,a,b,c,d)};
function Eq(a,b,c,d){b=b.replace(/^\s+|\s+$/g,"");var e=0,g=0,h=0,k=a.xg,g=a.si+a.ti,l=Math.max(0,Gq(a)+g),h=a.nj===Cq?Kq(k):0;if(a.we>=a.uh)return new Fa(0,l);if(a.Gk===Aq){c.xj=1;g=Jq(b,k);if(0===h||g<=d)return c.qf=g,c.Bf.push(c.qf),c.Xe.push(b),new Fa(g,l);var m=Lq(b);b=b.substr(m.length);for(var n=Lq(b),g=Jq(m+n,k);0<n.length&&g<=d;)m+=n,b=b.substr(n.length),n=Lq(b),g=Jq((m+n).replace(/^\s+|\s+$/g,""),k);m+=n.replace(/^\s+|\s+$/g,"");for(d=Math.max(1,d-h);Jq(m,k)>d&&1<m.length;)m=m.substr(0,
m.length-1);m+=xq;h=Jq(m,k);c.Bf.push(h);c.qf=h;c.Xe.push(m);return new Fa(h,l)}var p=0;0===b.length&&(p=1,c.Bf.push(0),c.Xe.push(b));for(;0<b.length;){m=Lq(b);for(b=b.substr(m.length);Jq(m,k)>d;){n=1;g=Jq(m.substr(0,n),k);for(h=0;g<=d;)n++,h=g,g=Jq(m.substr(0,n),k);1===n?(c.Bf[a.we+p]=g,e=Math.max(e,g)):(c.Bf[a.we+p]=h,e=Math.max(e,h));n--;1>n&&(n=1);c.Xe[a.we+p]=m.substr(0,n);p++;m=m.substr(n);if(a.we+p>a.uh)break}n=Lq(b);for(g=Jq(m+n,k);0<n.length&&g<=d;)m+=n,b=b.substr(n.length),n=Lq(b),g=Jq((m+
n).replace(/^\s+|\s+$/g,""),k);m=m.replace(/^\s+|\s+$/g,"");if(""!==m&&("\u00ad"===m[m.length-1]&&(m=m.substring(0,m.length-1)+"\u2010"),0===n.length?(c.Bf.push(g),e=Math.max(e,g)):(h=Jq(m,k),c.Bf.push(h),e=Math.max(e,h)),c.Xe.push(m),p++,a.we+p>a.uh))break}c.xj=Math.min(a.uh,p);c.qf=Math.max(c.qf,e);return new Fa(c.qf,l*c.xj)}function Lq(a){for(var b=a.length,c=0;c<b&&!sq.test(a.charAt(c));)c++;for(;c<b&&sq.test(a.charAt(c));)c++;return c>=b?a:a.substr(0,c)}
function Jq(a,b){yq!==b&&(yq=zq.font=b);return zq.measureText(a).width}function Gq(a){if(null!==a.Mm)return a.Mm;var b=a.xg;yq!==b&&(yq=zq.font=b);var c=0;void 0!==tq[b]&&5E3>uq?c=tq[b]:(c=1.3*zq.measureText("M").width,tq[b]=c,uq++);return a.Mm=c}function Kq(a){yq!==a&&(yq=zq.font=a);var b=0;void 0!==vq[a]&&5E3>wq?b=vq[a]:(b=zq.measureText(xq).width,vq[a]=b,wq++);return b}
function Fq(a,b,c){var d=a.Td.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e=a.si+a.ti,e=Math.max(0,Gq(a)+e);if(0===d.length)return c.qf=0,a.we=1,e;if(!a.Tx){var g=d.indexOf("\n",0);0<=g&&(d=d.substr(0,g))}for(var g=0,h=a.we=0,k=-1,l=!1;!l;)k=d.indexOf("\n",h),-1===k&&(k=d.length,l=!0),h<=k&&(h=d.substr(h,k-h),a.Gk!==Aq?(c.xj=0,h=Eq(a,h,c,b),g+=h.height,a.we+=c.xj):(Eq(a,h,c,b),g+=e,a.we++),a.we===a.uh&&(l=!0)),h=k+1;return a.jw=g}
C.defineProperty(pa,{JB:"textValidation"},function(){return this.Ol},function(a){var b=this.Ol;b!==a&&(null!==a&&C.h(a,"function",pa,"textValidation"),this.Ol=a,this.i("textValidation",b,a))});C.defineProperty(pa,{OG:"textEdited"},function(){return this.Ct},function(a){var b=this.Ct;b!==a&&(null!==a&&C.h(a,"function",pa,"textEdited"),this.Ct=a,this.i("textEdited",b,a))});
C.defineProperty(pa,{uM:"spacingAbove"},function(){return this.si},function(a){var b=this.si;b!==a&&(u&&C.h(a,"number",pa,"spacingAbove"),this.si=a,this.i("spacingAbove",b,a))});C.defineProperty(pa,{vM:"spacingBelow"},function(){return this.ti},function(a){var b=this.ti;b!==a&&(u&&C.h(a,"number",pa,"spacingBelow"),this.ti=a,this.i("spacingBelow",b,a))});
C.defineProperty(pa,{yJ:"maxLines"},function(){return this.uh},function(a){var b=this.uh;b!==a&&(u&&C.h(a,"number",pa,"maxLines"),a=Math.floor(a),0>=a&&C.wa(a,"> 0",pa,"maxLines"),this.uh=a,this.i("maxLines",b,a),this.K())});C.w(pa,{XL:"metrics"},function(){return this.gi});C.defineProperty(pa,{eL:"choices"},function(){return this.or},function(a){var b=this.or;b!==a&&(null===a||Array.isArray(a)||C.ic(a,"Array",pa,"choices:value"),this.or=a,this.i("choices",b,a))});
function Up(){this.qf=this.xj=0;this.Bf=[];this.Xe=[]}Up.prototype.reset=function(){this.qf=this.xj=0;this.Bf=[];this.Xe=[]};Up.prototype.bq=function(a){this.xj=a.xj;this.qf=a.qf;this.Bf=C.am(a.Bf);this.Xe=C.am(a.Xe)};C.w(Up,{cL:"arrSize"},function(){return this.Bf});C.w(Up,{dL:"arrText"},function(){return this.Xe});C.w(Up,{WL:"maxLineWidth"},function(){return this.qf});
function Cl(){Q.call(this);this.Ze=null;this.ut="";this.yk=je;this.dp=gf;this.wi=this.$e=null;this.cp=mc;this.wg=Tj;this.Pp=null;this.Bz=!1;this.Yo=!0;this.Hp=null}C.Ta(Cl,Q);C.ka("Picture",Cl);Cl.prototype.cloneProtected=function(a){Q.prototype.cloneProtected.call(this,a);a.element=this.Ze;a.ut=this.ut;a.yk=this.yk.V();a.dp=this.dp;a.wg=this.wg;a.$e=this.$e;a.wi=this.wi;a.cp=this.cp.V();a.Yo=this.Yo;a.Hp=this.Hp};
Cl.prototype.pc=function(a){a===Tj||a===Vj||a===Wj?this.XI=a:Q.prototype.pc.call(this,a)};Cl.prototype.toString=function(){return"Picture("+this.source+")#"+C.Gd(this)};var Mq=new na,Nq=0,wl=[];function Oq(){var a=wl;if(0===a.length)for(var b=window.document.getElementsByTagName("canvas"),c=b.length,d=0;d<c;d++){var e=b[d];e.parentElement&&e.parentElement.da&&a.push(e.parentElement.da)}return a}var Pq;
Cl.clearCache=Pq=function(a){void 0===a&&(a="");C.h(a,"string",Cl,"clearCache:url");""!==a?Mq[a]&&(delete Mq[a],Nq--):(Mq=new na,Nq=0)};
C.defineProperty(Cl,{element:"element"},function(){return this.Ze},function(a){var b=this.Ze;if(b!==a){null===a||a instanceof HTMLImageElement||a instanceof HTMLVideoElement||a instanceof HTMLCanvasElement||C.k("Picture.element must be an instance of Image, Canvas, or Video, not: "+a);this.Bz=a instanceof HTMLCanvasElement;this.Ze=a;if(null!==a)if(!0===a.complete||void 0===a.complete)a.bp instanceof Event&&null!==this.$e&&this.$e(this,a.bp),!0===a.aw&&null!==this.wi&&this.wi(this,a.Rz),a.aw=!0,this.Da.F()||
(cm(this,!1),this.K());else{var c=this;a.VC||(a.addEventListener("load",function(b){Qq(a,b);c.Da.F()||(cm(c,!1),c.K())}),a.addEventListener("error",function(b){Rq(a,b)}),a.VC=!0)}this.i("element",b,a);this.ra()}});
C.defineProperty(Cl,{source:"source"},function(){return this.ut},function(a){var b=this.ut;if(b!==a){C.h(a,"string",Cl,"source");this.ut=a;var c=Mq,d=this.g;if(void 0!==c[a])var e=c[a].Wp[0].source;else{30<Nq&&(Pq(),c=Mq);var e=C.createElement("img"),g=this;e.addEventListener("load",function(a){Qq(e,a);g.Da.F()||(cm(g,!1),g.K())});e.addEventListener("error",function(a){Rq(e,a)});e.VC=!0;var h=this.Hp;null!==h&&(e.crossOrigin=h(this));e.src=a;c[a]=new Sq(e);Nq++}null!==d&&nn(d,this);this.element=e;
null!==d&&mn(d,this);this.K();this.ra();this.i("source",b,a)}});function Qq(a,b){a.aw=!0;a.bp=!1;for(var c=null,d=Oq(),e=d.length,g=0;g<e;g++){var h=d[g],k=h.Ap.pa(a.src);if(null!==k)for(e=k.length,g=0;g<e;g++)c=k[g],h.Pz.add(c),h.Te(),null===a.Rz&&(a.Rz=b,null!==c.wi&&c.wi(c,b))}}function Rq(a,b){a.bp=b;for(var c=null,d=Oq(),e=d.length,g=0;g<e;g++)if(c=d[g].Ap.pa(a.src),null!==c){for(var e=c.length,h=C.tb(),g=0;g<e;g++)h.push(c[g]);for(g=0;g<e;g++)c=h[g],null!==c.$e&&c.$e(c,b);C.Ba(h)}}
C.defineProperty(Cl,{tM:"sourceCrossOrigin"},function(){return this.Hp},function(a){if(this.Hp!==a&&(null!==a&&C.h(a,"function",Cl,"sourceCrossOrigin"),this.Hp=a,null!==this.element)){var b=this.element.src;null===a&&"string"===typeof b?this.element.crossOrigin=null:null!==a&&(this.element.crossOrigin=a(this));this.element.src=b}});
C.defineProperty(Cl,{Sj:"sourceRect"},function(){return this.yk},function(a){var b=this.yk;b.O(a)||(C.l(a,z,Cl,"sourceRect"),this.yk=a=a.V(),this.ra(),this.i("sourceRect",b,a))});C.defineProperty(Cl,{XI:"imageStretch"},function(){return this.dp},function(a){var b=this.dp;b!==a&&(C.Ca(a,Q,Cl,"imageStretch"),this.dp=a,this.ra(),this.i("imageStretch",b,a))});
C.defineProperty(Cl,{hu:"flip"},function(){return this.wg},function(a){var b=this.wg;b!==a&&(C.Ca(a,Q,Cl,"flip"),this.wg=a,this.ra(),this.i("flip",b,a))});C.defineProperty(Cl,{FL:"imageAlignment"},function(){return this.cp},function(a){C.l(a,S,Cl,"imageAlignment");var b=this.cp;b.O(a)||(this.cp=a=a.V(),this.K(),this.i("imageAlignment",b,a))});
C.defineProperty(Cl,{BA:"errorFunction"},function(){return this.$e},function(a){var b=this.$e;b!==a&&(null!==a&&C.h(a,"function",Cl,"errorFunction"),this.$e=a,this.i("errorFunction",b,a))});C.defineProperty(Cl,{DM:"successFunction"},function(){return this.wi},function(a){var b=this.wi;b!==a&&(null!==a&&C.h(a,"function",Cl,"successFunction"),this.wi=a,this.i("successFunction",b,a))});
Cl.prototype.Ok=function(a,b){var c=this.Ze;if(null!==c){var d=c.src;null!==d&&""!==d||C.k('Element has no source ("src") attribute: '+c);if(!(c.bp instanceof Event)&&!0===c.aw){var d=this.Ja,e=0,g=0,h=this.Bz,k=h?+c.width:c.naturalWidth,h=h?+c.height:c.naturalHeight;void 0===k&&c.videoWidth&&(k=c.videoWidth);void 0===h&&c.videoHeight&&(h=c.videoHeight);k=k||d.width;h=h||d.height;if(0!==k&&0!==h){var l=k,m=h;this.Sj.F()&&(e=this.yk.x,g=this.yk.y,k=this.yk.width,h=this.yk.height);var n=k,p=h,q=this.dp,
r=this.cp;switch(q){case Tj:if(this.Sj.F())break;n>=d.width&&(e=e+r.offsetX+(n*r.x-d.width*r.x));p>=d.height&&(g=g+r.offsetY+(p*r.y-d.height*r.y));k=Math.min(d.width,n);h=Math.min(d.height,p);break;case gf:n=d.width;p=d.height;break;case Vj:case Wj:var s=0;q===Vj?(s=Math.min(d.height/p,d.width/n),n*=s,p*=s):q===Wj&&(s=Math.max(d.height/p,d.width/n),n*=s,p*=s,n>=d.width&&(e=(e+r.offsetX+(n*r.x-d.width*r.x)/n)*k),p>=d.height&&(g=(g+r.offsetY+(p*r.y-d.height*r.y)/p)*h),k*=1/(n/d.width),h*=1/(p/d.height),
n=d.width,p=d.height)}var q=this.Ej()*b.scale,v=k*h/(n*q*p*q),s=Mq[this.source],q=null;if(void 0!==s&&16<v){2>s.Wp.length&&(Tq(s,4,l,m),Tq(s,16,l,m));for(var l=s.Wp,m=l.length,q=l[0],t=0;t<m;t++)if(l[t].Hq*l[t].Hq<v)q=l[t];else break}if(!b.Uo){if(null===this.Pp)if(null===this.Ze)this.Pp=!1;else{l=(new ma(null)).Mk;l.drawImage(this.Ze,0,0);try{l.getImageData(0,0,1,1).data[3]&&(this.Pp=!1),this.Pp=!1}catch(x){this.Pp=!0}}if(this.Pp)return}l=0;n<d.width&&(l=r.offsetX+(d.width*r.x-n*r.x));m=0;p<d.height&&
(m=r.offsetY+(d.height*r.y-p*r.y));switch(this.hu){case so:a.translate(Math.min(d.width,n),0);a.scale(-1,1);break;case ro:a.translate(0,Math.min(d.height,p));a.scale(1,-1);break;case to:a.translate(Math.min(d.width,n),Math.min(d.height,p)),a.scale(-1,-1)}if(b.Fj("pictureRatioOptimization")&&!b.Cz&&void 0!==s&&null!==q&&1!==q.Hq){a.save();s=q.Hq;try{a.drawImage(q.source,e/s,g/s,Math.min(q.source.width,k/s),Math.min(q.source.height,h/s),l,m,Math.min(d.width,n),Math.min(d.height,p))}catch(y){u&&this.Yo&&
C.trace(y.toString()),this.Yo=!1}a.restore()}else try{a.drawImage(c,e,g,k,h,l,m,Math.min(d.width,n),Math.min(d.height,p))}catch(B){u&&this.Yo&&C.trace(B.toString()),this.Yo=!1}switch(this.hu){case so:a.scale(-1,1);a.translate(-Math.min(d.width,n),0);break;case ro:a.scale(1,-1);a.translate(0,-Math.min(d.height,p));break;case to:a.scale(-1,-1),a.translate(-Math.min(d.width,n),-Math.min(d.height,p))}}}}};C.w(Cl,{Ja:"naturalBounds"},function(){return this.Uc});
Cl.prototype.zq=function(a,b,c,d){var e=this.Da,g=Eo(this,!0),h=this.Ze,k=this.Bz;if(k||!this.Hz&&h&&h.complete)this.Hz=!0;null===h&&(isFinite(a)||(a=0),isFinite(b)||(b=0));isFinite(e.width)||g===gf||g===qo?(isFinite(a)||(a=this.Sj.F()?this.Sj.width:k?+h.width:h.naturalWidth),c=0):null!==h&&!1!==this.Hz&&(a=this.Sj.F()?this.Sj.width:k?+h.width:h.naturalWidth);isFinite(e.height)||g===gf||g===po?(isFinite(b)||(b=this.Sj.F()?this.Sj.height:k?+h.height:h.naturalHeight),d=0):null!==h&&!1!==this.Hz&&(b=
this.Sj.F()?this.Sj.height:k?+h.height:h.naturalHeight);isFinite(e.width)&&(a=e.width);isFinite(e.height)&&(b=e.height);e=this.lf;g=this.hg;c=Math.max(c,g.width);d=Math.max(d,g.height);a=Math.min(e.width,a);b=Math.min(e.height,b);a=Math.max(c,a);b=Math.max(d,b);null===h||h.complete||(isFinite(a)||(a=0),isFinite(b)||(b=0));Ab(this.Uc,a,b);Bo(this,0,0,a,b)};Cl.prototype.yj=function(a,b,c,d){Go(this,a,b,c,d)};function Sq(a){this.Wp=[new Uq(a,1)]}
function Tq(a,b,c,d){var e=new ma(null),g=e.Mk,h=1/b;e.width=c/b;e.height=d/b;b=new Uq(e.me,b);c=a.Wp[a.Wp.length-1];g.setTransform(h*c.Hq,0,0,h*c.Hq,0,0);g.drawImage(c.source,0,0);a.Wp.push(b)}function Uq(a,b){this.source=a;this.Hq=b}function Ha(){this.q=new Ve;this.ec=null}f=Ha.prototype;f.reset=function(){this.q=new Ve;this.ec=null};
function U(a,b,c,d,e,g){null===a.q&&C.k("StreamGeometryContext has been closed");void 0!==e&&!0===e?(null===a.ec&&C.k("Need to call beginFigure first"),d=new Wf(Mf),d.H=b,d.I=c,a.ec.Db.add(d)):(a.ec=new Xe,a.ec.na=b,a.ec.la=c,a.ec.uu=d,a.q.mc.add(a.ec));void 0!==g&&(a.ec.jp=g)}function X(a){null===a.q&&C.k("StreamGeometryContext has been closed");null===a.ec&&C.k("Need to call beginFigure first");var b=a.ec.Db.length;0<b&&a.ec.Db.fa(b-1).close()}
function rf(a){null===a.q&&C.k("StreamGeometryContext has been closed");null===a.ec&&C.k("Need to call beginFigure first");0<a.ec.Db.length&&(a.ec.uu=!0)}f.kb=function(a){null===this.q&&C.k("StreamGeometryContext has been closed");null===this.ec&&C.k("Need to call beginFigure first");this.ec.Vk=a};f.moveTo=function(a,b,c){void 0===c&&(c=!1);null===this.q&&C.k("StreamGeometryContext has been closed");null===this.ec&&C.k("Need to call beginFigure first");var d=new Wf(Mf);d.H=a;d.I=b;c&&d.close();this.ec.Db.add(d)};
f.lineTo=function(a,b,c){void 0===c&&(c=!1);null===this.q&&C.k("StreamGeometryContext has been closed");null===this.ec&&C.k("Need to call beginFigure first");var d=new Wf(mf);d.H=a;d.I=b;c&&d.close();this.ec.Db.add(d)};function V(a,b,c,d,e,g,h,k){void 0===k&&(k=!1);null===a.q&&C.k("StreamGeometryContext has been closed");null===a.ec&&C.k("Need to call beginFigure first");var l=new Wf(Nf);l.Dc=b;l.$c=c;l.Rh=d;l.Sh=e;l.H=g;l.I=h;k&&l.close();a.ec.Db.add(l)}
function pf(a,b,c,d,e){var g;void 0===g&&(g=!1);null===a.q&&C.k("StreamGeometryContext has been closed");null===a.ec&&C.k("Need to call beginFigure first");var h=new Wf(Of);h.Dc=b;h.$c=c;h.H=d;h.I=e;g&&h.close();a.ec.Db.add(h)}f.arcTo=function(a,b,c,d,e,g,h){void 0===g&&(g=0);void 0===h&&(h=!1);null===this.q&&C.k("StreamGeometryContext has been closed");null===this.ec&&C.k("Need to call beginFigure first");var k=new Wf(Pf);k.Me=a;k.Af=b;k.oa=c;k.xa=d;k.radiusX=e;k.radiusY=0!==g?g:e;h&&k.close();this.ec.Db.add(k)};
function qf(a,b,c,d,e,g,h,k){var l;void 0===l&&(l=!1);null===a.q&&C.k("StreamGeometryContext has been closed");null===a.ec&&C.k("Need to call beginFigure first");b=new Wf(Qf,h,k,b,c,d,e,g);l&&b.close();a.ec.Db.add(b)}function Vq(a){a=Wq(a);var b=C.tb();b[0]=a[0];for(var c=1,d=1;d<a.length;)b[c]=a[d],b[c+1]=a[d],b[c+2]=a[d+1],d+=2,c+=3;C.Ba(a);return b}
function Wq(a){var b=Xq(a),c=C.tb(),d=Math.floor(b.length/2),e=b.length-1;a=0===a%2?2:1;for(var g=0;g<e;g++){var h=b[g],k=b[g+1],l=b[(d+g-1)%e],m=b[(d+g+a)%e];c[2*g]=h;c[2*g+1]=Ne(h.x,h.y,l.x,l.y,k.x,k.y,m.x,m.y,new O)}c[c.length]=c[0];C.Ba(b);return c}function Xq(a){for(var b=C.tb(),c=1.5*Math.PI,d=0,e=0;e<a;e++)d=2*Math.PI/a*e+c,b[e]=new O(.5+.5*Math.cos(d),.5+.5*Math.sin(d));b.push(b[0]);return b}
var iq={None:"Rectangle",Rectangle:function(a,b,c){a=new Ve;a.type=jf;a.na=0;a.la=0;a.H=b;a.I=c;return a},Square:function(a,b,c){a=new Ve;a.ke=Vj;a.type=jf;a.na=0;a.la=0;a.H=Math.min(b,c);a.I=Math.min(b,c);return a},Ellipse:function(a,b,c){a=new Ve;a.type=kf;a.na=0;a.la=0;a.H=b;a.I=c;a.C=ke;a.D=le;return a},Circle:function(a,b,c){a=new Ve;a.ke=Vj;a.type=kf;a.na=0;a.la=0;a.H=Math.min(b,c);a.I=Math.min(b,c);a.C=ke;a.D=le;return a},Connector:"Ellipse",TriangleRight:function(a,b,c){a=new Ve;var d=new Xe,
e=new Wf;e.H=b;e.I=.5*c;d.Db.add(e);b=new Wf;b.H=0;b.I=c;d.Db.add(b.close());a.mc.add(d);a.C=new S(0,.25);a.D=new S(.5,.75);return a},TriangleDown:function(a,b,c){a=new Ve;var d=new Xe,e=new Wf;e.H=b;e.I=0;d.Db.add(e);e=new Wf;e.H=.5*b;e.I=c;d.Db.add(e.close());a.mc.add(d);a.C=new S(.25,0);a.D=new S(.75,.5);return a},TriangleLeft:function(a,b,c){a=new Ve;var d=new Xe;d.na=b;d.la=c;var e=new Wf;e.H=0;e.I=.5*c;d.Db.add(e);c=new Wf;c.H=b;c.I=0;d.Db.add(c.close());a.mc.add(d);a.C=new S(.5,.25);a.D=new S(1,
.75);return a},TriangleUp:function(a,b,c){a=new Ve;var d=new Xe;d.na=b;d.la=c;var e=new Wf;e.H=0;e.I=c;d.Db.add(e);c=new Wf;c.H=.5*b;c.I=0;d.Db.add(c.close());a.mc.add(d);a.C=new S(.25,.5);a.D=new S(.75,1);return a},Line1:function(a,b,c){a=new Ve;a.type=hf;a.na=0;a.la=0;a.H=b;a.I=c;return a},Line2:function(a,b,c){a=new Ve;a.type=hf;a.na=b;a.la=0;a.H=0;a.I=c;return a},MinusLine:"LineH",LineH:function(a,b,c){a=new Ve;a.type=hf;a.na=0;a.la=c/2;a.H=b;a.I=c/2;return a},LineV:function(a,b,c){a=new Ve;a.type=
hf;a.na=b/2;a.la=0;a.H=b/2;a.I=c;return a},BarH:"Rectangle",BarV:"Rectangle",Curve1:function(a,b,c){a=C.v();U(a,0,0,!1);V(a,Cd*b,0,1*b,(1-Cd)*c,b,c);b=a.q;C.u(a);return b},Curve2:function(a,b,c){a=C.v();U(a,0,0,!1);V(a,0,Cd*c,(1-Cd)*b,c,b,c);b=a.q;C.u(a);return b},Curve3:function(a,b,c){a=C.v();U(a,1*b,0,!1);V(a,1*b,Cd*c,Cd*b,1*c,0,1*c);b=a.q;C.u(a);return b},Curve4:function(a,b,c){a=C.v();U(a,1*b,0,!1);V(a,(1-Cd)*b,0,0,(1-Cd)*c,0,1*c);b=a.q;C.u(a);return b},Alternative:"Triangle",Merge:"Triangle",
Triangle:function(a,b,c){a=C.v();U(a,.5*b,0*c,!0);a.lineTo(0*b,1*c);a.lineTo(1*b,1*c,!0);b=a.q;b.C=new S(.25,.5);b.D=new S(.75,1);C.u(a);return b},Decision:"Diamond",Diamond:function(a,b,c){a=C.v();U(a,.5*b,0,!0);a.lineTo(0,.5*c);a.lineTo(.5*b,1*c);a.lineTo(1*b,.5*c,!0);b=a.q;b.C=new S(.25,.25);b.D=new S(.75,.75);C.u(a);return b},Pentagon:function(a,b,c){var d=Xq(5);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);for(var e=1;5>e;e++)a.lineTo(d[e].x*b,d[e].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.2,.22);b.D=new S(.8,
.9);C.u(a);return b},DataTransmission:"Hexagon",Hexagon:function(a,b,c){var d=Xq(6);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);for(var e=1;6>e;e++)a.lineTo(d[e].x*b,d[e].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.07,.25);b.D=new S(.93,.75);C.u(a);return b},Heptagon:function(a,b,c){var d=Xq(7);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);for(var e=1;7>e;e++)a.lineTo(d[e].x*b,d[e].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.2,.15);b.D=new S(.8,.85);C.u(a);return b},Octagon:function(a,b,c){var d=Xq(8);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);
for(var e=1;8>e;e++)a.lineTo(d[e].x*b,d[e].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.15,.15);b.D=new S(.85,.85);C.u(a);return b},Nonagon:function(a,b,c){var d=Xq(9);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);for(var e=1;9>e;e++)a.lineTo(d[e].x*b,d[e].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.17,.13);b.D=new S(.82,.82);C.u(a);return b},Decagon:function(a,b,c){var d=Xq(10);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);for(var e=1;10>e;e++)a.lineTo(d[e].x*b,d[e].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.16,.16);b.D=new S(.84,.84);C.u(a);return b},
Dodecagon:function(a,b,c){var d=Xq(12);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);for(var e=1;12>e;e++)a.lineTo(d[e].x*b,d[e].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.16,.16);b.D=new S(.84,.84);C.u(a);return b},FivePointedStar:function(a,b,c){var d=Wq(5);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);for(var e=1;10>e;e++)a.lineTo(d[e].x*b,d[e].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.312,.383);b.D=new S(.693,.765);C.u(a);return b},SixPointedStar:function(a,b,c){var d=Wq(6);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);for(var e=1;12>e;e++)a.lineTo(d[e].x*
b,d[e].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.17,.251);b.D=new S(.833,.755);C.u(a);return b},SevenPointedStar:function(a,b,c){var d=Wq(7);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);for(var e=1;14>e;e++)a.lineTo(d[e].x*b,d[e].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.363,.361);b.D=new S(.641,.709);C.u(a);return b},EightPointedStar:function(a,b,c){var d=Wq(8);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);for(var e=1;16>e;e++)a.lineTo(d[e].x*b,d[e].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.252,.255);b.D=new S(.75,.75);C.u(a);return b},NinePointedStar:function(a,
b,c){var d=Wq(9);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);for(var e=1;18>e;e++)a.lineTo(d[e].x*b,d[e].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.355,.361);b.D=new S(.645,.651);C.u(a);return b},TenPointedStar:function(a,b,c){var d=Wq(10);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);for(var e=1;20>e;e++)a.lineTo(d[e].x*b,d[e].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.281,.261);b.D=new S(.723,.748);C.u(a);return b},FivePointedBurst:function(a,b,c){var d=Vq(5);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);for(var e=1;e<d.length;e+=3)V(a,d[e].x*
b,d[e].y*c,d[e+1].x*b,d[e+1].y*c,d[e+2].x*b,d[e+2].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.312,.383);b.D=new S(.693,.765);C.u(a);return b},SixPointedBurst:function(a,b,c){var d=Vq(6);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);for(var e=1;e<d.length;e+=3)V(a,d[e].x*b,d[e].y*c,d[e+1].x*b,d[e+1].y*c,d[e+2].x*b,d[e+2].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.17,.251);b.D=new S(.833,.755);C.u(a);return b},SevenPointedBurst:function(a,b,c){var d=Vq(7);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);for(var e=1;e<d.length;e+=3)V(a,d[e].x*
b,d[e].y*c,d[e+1].x*b,d[e+1].y*c,d[e+2].x*b,d[e+2].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.363,.361);b.D=new S(.641,.709);C.u(a);return b},EightPointedBurst:function(a,b,c){var d=Vq(8);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);for(var e=1;e<d.length;e+=3)V(a,d[e].x*b,d[e].y*c,d[e+1].x*b,d[e+1].y*c,d[e+2].x*b,d[e+2].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.252,.255);b.D=new S(.75,.75);C.u(a);return b},NinePointedBurst:function(a,b,c){var d=Vq(9);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);for(var e=1;e<d.length;e+=3)V(a,d[e].x*
b,d[e].y*c,d[e+1].x*b,d[e+1].y*c,d[e+2].x*b,d[e+2].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.355,.361);b.D=new S(.645,.651);C.u(a);return b},TenPointedBurst:function(a,b,c){var d=Vq(10);a=C.v();U(a,d[0].x*b,d[0].y*c,!0);for(var e=1;e<d.length;e+=3)V(a,d[e].x*b,d[e].y*c,d[e+1].x*b,d[e+1].y*c,d[e+2].x*b,d[e+2].y*c);C.Ba(d);X(a);b=a.q;b.C=new S(.281,.261);b.D=new S(.723,.748);C.u(a);return b},Cloud:function(a,b,c){a=C.v();U(a,.08034461*b,.1944299*c,!0);V(a,-.09239631*b,.07836421*c,.1406031*b,-.0542823*c,.2008615*
b,.05349299*c);V(a,.2450511*b,-.00697547*c,.3776197*b,-.01112067*c,.4338609*b,.074219*c);V(a,.4539471*b,0,.6066018*b,-.02526587*c,.6558228*b,.07004196*c);V(a,.6914277*b,-.01904177*c,.8921095*b,-.01220843*c,.8921095*b,.08370865*c);V(a,1.036446*b,.04105738*c,1.020377*b,.3022052*c,.9147671*b,.3194596*c);V(a,1.04448*b,.360238*c,.992256*b,.5219009*c,.9082935*b,.562044*c);V(a,1.032337*b,.5771781*c,1.018411*b,.8120651*c,.9212406*b,.8217117*c);V(a,1.028411*b,.9571472*c,.8556702*b,1.052487*c,.7592566*b,.9156953*
c);V(a,.7431877*b,1.009325*c,.5624123*b,1.021761*c,.5101666*b,.9310455*c);V(a,.4820677*b,1.031761*c,.3030112*b,1.002796*c,.2609328*b,.9344623*c);V(a,.2329994*b,1.01518*c,.03213784*b,1.01518*c,.08034461*b,.870098*c);V(a,-.02812061*b,.9032597*c,-.01205169*b,.6835638*c,.06829292*b,.6545475*c);V(a,-.01812061*b,.6089503*c,-.00606892*b,.4555777*c,.06427569*b,.4265613*c);V(a,-.01606892*b,.3892545*c,-.01205169*b,.1944299*c,.08034461*b,.1944299*c);X(a);b=a.q;b.C=new S(.1,.1);b.D=new S(.9,.9);C.u(a);return b},
Gate:"Crescent",Crescent:function(a,b,c){a=C.v();U(a,0,0,!0);V(a,1*b,0,1*b,1*c,0,1*c);V(a,.5*b,.75*c,.5*b,.25*c,0,0);X(a);b=a.q;b.C=new S(.511,.19);b.D=new S(.776,.76);C.u(a);return b},FramedRectangle:function(a,b,c){var d=C.v(),e=a?a.Rc:NaN;a=a?a.Nu:NaN;isNaN(e)&&(e=.1);isNaN(a)&&(a=.1);U(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c,!0);U(d,e*b,a*c,!1,!0);d.lineTo(e*b,(1-a)*c);d.lineTo((1-e)*b,(1-a)*c);d.lineTo((1-e)*b,a*c,!0);b=d.q;b.C=new S(e,a);b.D=new S(1-e,1-a);C.u(d);return b},
Delay:"HalfEllipse",HalfEllipse:function(a,b,c){a=C.v();U(a,0,0,!0);V(a,Cd*b,0,1*b,(.5-Cd/2)*c,1*b,.5*c);V(a,1*b,(.5+Cd/2)*c,Cd*b,1*c,0,1*c);X(a);b=a.q;b.C=new S(0,.2);b.D=new S(.75,.8);C.u(a);return b},Heart:function(a,b,c){a=C.v();U(a,.5*b,1*c,!0);V(a,.1*b,.8*c,0,.5*c,0*b,.3*c);V(a,0*b,0,.45*b,0,.5*b,.3*c);V(a,.55*b,0,1*b,0,1*b,.3*c);V(a,b,.5*c,.9*b,.8*c,.5*b,1*c);X(a);b=a.q;b.C=new S(.15,.29);b.D=new S(.86,.68);C.u(a);return b},Spade:function(a,b,c){a=C.v();U(a,.5*b,0,!0);a.lineTo(.51*b,.01*c);
V(a,.6*b,.2*c,b,.25*c,b,.5*c);V(a,b,.8*c,.6*b,.8*c,.55*b,.7*c);V(a,.5*b,.75*c,.55*b,.95*c,.75*b,c);a.lineTo(.25*b,c);V(a,.45*b,.95*c,.5*b,.75*c,.45*b,.7*c);V(a,.4*b,.8*c,0,.8*c,0,.5*c);V(a,0,.25*c,.4*b,.2*c,.49*b,.01*c);X(a);b=a.q;b.C=new S(.19,.26);b.D=new S(.8,.68);C.u(a);return b},Club:function(a,b,c){a=C.v();U(a,.4*b,.6*c,!0);V(a,.5*b,.75*c,.45*b,.95*c,.15*b,1*c);a.lineTo(.85*b,c);V(a,.55*b,.95*c,.5*b,.75*c,.6*b,.6*c);var d=.2,e=.3,g=0,h=4*(Math.SQRT2-1)/3*d;V(a,(.5-d+e)*b,(.5+h+g)*c,(.5-h+e)*
b,(.5+d+g)*c,(.5+e)*b,(.5+d+g)*c);V(a,(.5+h+e)*b,(.5+d+g)*c,(.5+d+e)*b,(.5+h+g)*c,(.5+d+e)*b,(.5+g)*c);V(a,(.5+d+e)*b,(.5-h+g)*c,(.5+h+e)*b,(.5-d+g)*c,(.5+e)*b,(.5-d+g)*c);V(a,(.5-h+e)*b,(.5-d+g)*c,(.5-d+e+.05)*b,(.5-h+g-.02)*c,.65*b,.36771243*c);d=.2;e=0;g=-.3;h=4*(Math.SQRT2-1)/3*d;V(a,(.5+h+e)*b,(.5+d+g)*c,(.5+d+e)*b,(.5+h+g)*c,(.5+d+e)*b,(.5+g)*c);V(a,(.5+d+e)*b,(.5-h+g)*c,(.5+h+e)*b,(.5-d+g)*c,(.5+e)*b,(.5-d+g)*c);V(a,(.5-h+e)*b,(.5-d+g)*c,(.5-d+e)*b,(.5-h+g)*c,(.5-d+e)*b,(.5+g)*c);V(a,(.5-d+
e)*b,(.5+h+g)*c,(.5-h+e)*b,(.5+d+g)*c,.35*b,.36771243*c);d=.2;e=-.3;g=0;h=4*(Math.SQRT2-1)/3*d;V(a,(.5+d+e-.05)*b,(.5-h+g-.02)*c,(.5+h+e)*b,(.5-d+g)*c,(.5+e)*b,(.5-d+g)*c);V(a,(.5-h+e)*b,(.5-d+g)*c,(.5-d+e)*b,(.5-h+g)*c,(.5-d+e)*b,(.5+g)*c);V(a,(.5-d+e)*b,(.5+h+g)*c,(.5-h+e)*b,(.5+d+g)*c,(.5+e)*b,(.5+d+g)*c);V(a,(.5+h+e)*b,(.5+d+g)*c,(.5+d+e)*b,(.5+h+g)*c,.4*b,.6*c);X(a);b=a.q;b.C=new S(.06,.39);b.D=new S(.93,.58);C.u(a);return b},Ring:function(a,b,c){a=C.v();var d=4*(Math.SQRT2-1)/3*.5;U(a,b,.5*
c,!0);V(a,b,(.5-d)*c,(.5+d)*b,0,.5*b,0);V(a,(.5-d)*b,0,0,(.5-d)*c,0,.5*c);V(a,0,(.5+d)*c,(.5-d)*b,c,.5*b,c);V(a,(.5+d)*b,c,b,(.5+d)*c,b,.5*c);d=4*(Math.SQRT2-1)/3*.4;U(a,.5*b,.1*c,!0,!0);V(a,(.5+d)*b,.1*c,.9*b,(.5-d)*c,.9*b,.5*c);V(a,.9*b,(.5+d)*c,(.5+d)*b,.9*c,.5*b,.9*c);V(a,(.5-d)*b,.9*c,.1*b,(.5+d)*c,.1*b,.5*c);V(a,.1*b,(.5-d)*c,(.5-d)*b,.1*c,.5*b,.1*c);b=a.q;b.C=new S(.146,.146);b.D=new S(.853,.853);b.ke=Vj;C.u(a);return b},YinYang:function(a,b,c){var d=.5;a=C.v();d=.5;U(a,.5*b,0,!0);a.arcTo(270,
180,.5*b,.5*b,.5*b);V(a,1*b,d*c,0,d*c,d*b,0,!0);var d=.1,e=.25;U(a,(.5+d)*b,e*c,!0,!0);a.arcTo(0,-360,.5*b,c*e,d*b);X(a);U(a,.5*b,0,!1);a.arcTo(270,-180,.5*b,.5*b,.5*b);a.kb(!1);e=.75;U(a,(.5+d)*b,e*c,!0);a.arcTo(0,360,.5*b,c*e,d*b);X(a);b=a.q;b.ke=Vj;C.u(a);return b},Peace:function(a,b,c){a=C.v();var d=4*(Math.SQRT2-1)/3*.5;U(a,b,.5*c,!0);V(a,b,(.5-d)*c,(.5+d)*b,0,.5*b,0);V(a,(.5-d)*b,0,0,(.5-d)*c,0,.5*c);V(a,0,(.5+d)*c,(.5-d)*b,c,.5*b,c);V(a,(.5+d)*b,c,b,(.5+d)*c,b,.5*c);d=4*(Math.SQRT2-1)/3*.4;
U(a,.5*b,.1*c,!0,!0);V(a,(.5+d)*b,.1*c,.9*b,(.5-d)*c,.9*b,.5*c);V(a,.9*b,(.5+d)*c,(.5+d)*b,.9*c,.5*b,.9*c);V(a,(.5-d)*b,.9*c,.1*b,(.5+d)*c,.1*b,.5*c);V(a,.1*b,(.5-d)*c,(.5-d)*b,.1*c,.5*b,.1*c);var d=.07,e=0,g=-.707*.11,h=4*(Math.SQRT2-1)/3*d;U(a,(.5+d+e)*b,(.5+g)*c,!0);V(a,(.5+d+e)*b,(.5-h+g)*c,(.5+h+e)*b,(.5-d+g)*c,(.5+e)*b,(.5-d+g)*c);V(a,(.5-h+e)*b,(.5-d+g)*c,(.5-d+e)*b,(.5-h+g)*c,(.5-d+e)*b,(.5+g)*c);V(a,(.5-d+e)*b,(.5+h+g)*c,(.5-h+e)*b,(.5+d+g)*c,(.5+e)*b,(.5+d+g)*c);V(a,(.5+h+e)*b,(.5+d+g)*
c,(.5+d+e)*b,(.5+h+g)*c,(.5+d+e)*b,(.5+g)*c);d=.07;e=-.707*.11;g=.707*.11;h=4*(Math.SQRT2-1)/3*d;U(a,(.5+d+e)*b,(.5+g)*c,!0);V(a,(.5+d+e)*b,(.5-h+g)*c,(.5+h+e)*b,(.5-d+g)*c,(.5+e)*b,(.5-d+g)*c);V(a,(.5-h+e)*b,(.5-d+g)*c,(.5-d+e)*b,(.5-h+g)*c,(.5-d+e)*b,(.5+g)*c);V(a,(.5-d+e)*b,(.5+h+g)*c,(.5-h+e)*b,(.5+d+g)*c,(.5+e)*b,(.5+d+g)*c);V(a,(.5+h+e)*b,(.5+d+g)*c,(.5+d+e)*b,(.5+h+g)*c,(.5+d+e)*b,(.5+g)*c);d=.07;e=.707*.11;g=.707*.11;h=4*(Math.SQRT2-1)/3*d;U(a,(.5+d+e)*b,(.5+g)*c,!0);V(a,(.5+d+e)*b,(.5-h+
g)*c,(.5+h+e)*b,(.5-d+g)*c,(.5+e)*b,(.5-d+g)*c);V(a,(.5-h+e)*b,(.5-d+g)*c,(.5-d+e)*b,(.5-h+g)*c,(.5-d+e)*b,(.5+g)*c);V(a,(.5-d+e)*b,(.5+h+g)*c,(.5-h+e)*b,(.5+d+g)*c,(.5+e)*b,(.5+d+g)*c);V(a,(.5+h+e)*b,(.5+d+g)*c,(.5+d+e)*b,(.5+h+g)*c,(.5+d+e)*b,(.5+g)*c);b=a.q;b.C=new S(.146,.146);b.D=new S(.853,.853);b.ke=Vj;C.u(a);return b},NotAllowed:function(a,b,c){var d=.5*Cd,e=.5;a=C.v();U(a,.5*b,(.5-e)*c,!0);V(a,(.5-d)*b,(.5-e)*c,(.5-e)*b,(.5-d)*c,(.5-e)*b,.5*c);V(a,(.5-e)*b,(.5+d)*c,(.5-d)*b,(.5+e)*c,.5*b,
(.5+e)*c);V(a,(.5+d)*b,(.5+e)*c,(.5+e)*b,(.5+d)*c,(.5+e)*b,.5*c);V(a,(.5+e)*b,(.5-d)*c,(.5+d)*b,(.5-e)*c,.5*b,(.5-e)*c);var e=.4,d=.4*Cd,g=C.P(),h=C.P(),k=C.P(),l=C.P();ze(.5,.5-e,.5+d,.5-e,.5+e,.5-d,.5+e,.5,.42,g,h,k,l,l);var m=C.P(),n=C.P(),p=C.P();ze(.5,.5-e,.5+d,.5-e,.5+e,.5-d,.5+e,.5,.58,l,l,p,m,n);var q=C.P(),r=C.P(),s=C.P();ze(.5,.5+e,.5-d,.5+e,.5-e,.5+d,.5-e,.5,.42,q,r,s,l,l);var v=C.P(),t=C.P(),x=C.P();ze(.5,.5+e,.5-d,.5+e,.5-e,.5+d,.5-e,.5,.58,l,l,x,v,t);U(a,x.x*b,x.y*c,!0,!0);V(a,v.x*b,
v.y*c,t.x*b,t.y*c,(.5-e)*b,.5*c);V(a,(.5-e)*b,(.5-d)*c,(.5-d)*b,(.5-e)*c,.5*b,(.5-e)*c);V(a,g.x*b,g.y*c,h.x*b,h.y*c,k.x*b,k.y*c);a.lineTo(x.x*b,x.y*c);X(a);U(a,s.x*b,s.y*c,!0,!0);a.lineTo(p.x*b,p.y*c);V(a,m.x*b,m.y*c,n.x*b,n.y*c,(.5+e)*b,.5*c);V(a,(.5+e)*b,(.5+d)*c,(.5+d)*b,(.5+e)*c,.5*b,(.5+e)*c);V(a,q.x*b,q.y*c,r.x*b,r.y*c,s.x*b,s.y*c);X(a);C.A(g);C.A(h);C.A(k);C.A(l);C.A(m);C.A(n);C.A(p);C.A(q);C.A(r);C.A(s);C.A(v);C.A(t);C.A(x);b=a.q;C.u(a);b.ke=Vj;return b},Fragile:function(a,b,c){a=C.v();U(a,
0,0,!0);a.lineTo(.25*b,0);a.lineTo(.2*b,.15*c);a.lineTo(.3*b,.25*c);a.lineTo(.29*b,.33*c);a.lineTo(.35*b,.25*c);a.lineTo(.3*b,.15*c);a.lineTo(.4*b,0);a.lineTo(1*b,0);V(a,1*b,.25*c,.75*b,.5*c,.55*b,.5*c);a.lineTo(.55*b,.9*c);a.lineTo(.7*b,.9*c);a.lineTo(.7*b,1*c);a.lineTo(.3*b,1*c);a.lineTo(.3*b,.9*c);a.lineTo(.45*b,.9*c);a.lineTo(.45*b,.5*c);V(a,.25*b,.5*c,0,.25*c,0,0);X(a);b=a.q;b.C=new S(.25,0);b.D=new S(.75,.4);C.u(a);return b},HourGlass:function(a,b,c){a=C.v();U(a,.65*b,.5*c,!0);a.lineTo(1*b,
1*c);a.lineTo(0,1*c);a.lineTo(.35*b,.5*c);a.lineTo(0,0);a.lineTo(1*b,0);X(a);b=a.q;C.u(a);return b},Lightning:function(a,b,c){a=C.v();U(a,0*b,.55*c,!0);a.lineTo(.75*b,0);a.lineTo(.25*b,.45*c);a.lineTo(.9*b,.48*c);a.lineTo(.4*b,1*c);a.lineTo(.65*b,.55*c);X(a);b=a.q;C.u(a);return b},Parallelogram1:function(a,b,c){a=a?a.Rc:NaN;isNaN(a)&&(a=.1);var d=C.v();U(d,a*b,0,!0);d.lineTo(1*b,0);d.lineTo((1-a)*b,1*c);d.lineTo(0,1*c);X(d);b=d.q;b.C=new S(a,0);b.D=new S(1-a,1);C.u(d);return b},Input:"Output",Output:function(a,
b,c){a=C.v();U(a,0,1*c,!0);a.lineTo(.1*b,0);a.lineTo(1*b,0);a.lineTo(.9*b,1*c);X(a);b=a.q;b.C=new S(.1,0);b.D=new S(.9,1);C.u(a);return b},Parallelogram2:function(a,b,c){a=a?a.Rc:NaN;isNaN(a)&&(a=.25);var d=C.v();U(d,a*b,0,!0);d.lineTo(1*b,0);d.lineTo((1-a)*b,1*c);d.lineTo(0,1*c);X(d);b=d.q;b.C=new S(a,0);b.D=new S(1-a,1);C.u(d);return b},ThickCross:function(a,b,c){a=a?a.Rc:NaN;isNaN(a)&&(a=.25);var d=C.v();U(d,(.5-a/2)*b,0,!0);d.lineTo((.5+a/2)*b,0);d.lineTo((.5+a/2)*b,(.5-a/2)*c);d.lineTo(1*b,(.5-
a/2)*c);d.lineTo(1*b,(.5+a/2)*c);d.lineTo((.5+a/2)*b,(.5+a/2)*c);d.lineTo((.5+a/2)*b,1*c);d.lineTo((.5-a/2)*b,1*c);d.lineTo((.5-a/2)*b,(.5+a/2)*c);d.lineTo(0,(.5+a/2)*c);d.lineTo(0,(.5-a/2)*c);d.lineTo((.5-a/2)*b,(.5-a/2)*c);X(d);b=d.q;b.C=new S(.5-a/2,.5-a/2);b.D=new S(.5+a/2,.5+a/2);C.u(d);return b},ThickX:function(a,b,c){a=.25/Math.SQRT2;var d=C.v();U(d,.3*b,0,!0);d.lineTo(.5*b,.2*c);d.lineTo(.7*b,0);d.lineTo(1*b,.3*c);d.lineTo(.8*b,.5*c);d.lineTo(1*b,.7*c);d.lineTo(.7*b,1*c);d.lineTo(.5*b,.8*
c);d.lineTo(.3*b,1*c);d.lineTo(0,.7*c);d.lineTo(.2*b,.5*c);d.lineTo(0,.3*c);X(d);b=d.q;b.C=new S(.5-a,.5-a);b.D=new S(.5+a,.5+a);C.u(d);return b},ThinCross:function(a,b,c){var d=a?a.Rc:NaN;isNaN(d)&&(d=.1);a=C.v();U(a,(.5-d/2)*b,0,!0);a.lineTo((.5+d/2)*b,0);a.lineTo((.5+d/2)*b,(.5-d/2)*c);a.lineTo(1*b,(.5-d/2)*c);a.lineTo(1*b,(.5+d/2)*c);a.lineTo((.5+d/2)*b,(.5+d/2)*c);a.lineTo((.5+d/2)*b,1*c);a.lineTo((.5-d/2)*b,1*c);a.lineTo((.5-d/2)*b,(.5+d/2)*c);a.lineTo(0,(.5+d/2)*c);a.lineTo(0,(.5-d/2)*c);a.lineTo((.5-
d/2)*b,(.5-d/2)*c);X(a);b=a.q;C.u(a);return b},ThinX:function(a,b,c){a=C.v();U(a,.1*b,0,!0);a.lineTo(.5*b,.4*c);a.lineTo(.9*b,0);a.lineTo(1*b,.1*c);a.lineTo(.6*b,.5*c);a.lineTo(1*b,.9*c);a.lineTo(.9*b,1*c);a.lineTo(.5*b,.6*c);a.lineTo(.1*b,1*c);a.lineTo(0,.9*c);a.lineTo(.4*b,.5*c);a.lineTo(0,.1*c);X(a);b=a.q;C.u(a);return b},RightTriangle:function(a,b,c){a=C.v();U(a,0,0,!0);a.lineTo(1*b,1*c);a.lineTo(0,1*c);X(a);b=a.q;b.C=new S(0,.5);b.D=new S(.5,1);C.u(a);return b},RoundedIBeam:function(a,b,c){a=
C.v();U(a,0,0,!0);a.lineTo(1*b,0);V(a,.5*b,.25*c,.5*b,.75*c,1*b,1*c);a.lineTo(0,1*c);V(a,.5*b,.75*c,.5*b,.25*c,0,0);X(a);b=a.q;C.u(a);return b},RoundedRectangle:function(a,b,c){var d=a?a.Rc:NaN;isNaN(d)&&(d=5);d=Math.min(d,b/3);d=Math.min(d,c/3);a=d*Cd;var e=C.v();U(e,d,0,!0);e.lineTo(b-d,0);V(e,b-a,0,b,a,b,d);e.lineTo(b,c-d);V(e,b,c-a,b-a,c,b-d,c);e.lineTo(d,c);V(e,a,c,0,c-a,0,c-d);e.lineTo(0,d);V(e,0,a,a,0,d,0);X(e);b=e.q;1<a?(b.C=new S(0,0,a,a),b.D=new S(1,1,-a,-a)):(b.C=hc,b.D=qc);C.u(e);return b},
Border:function(a,b,c){var d=a?a.Rc:NaN;isNaN(d)&&(d=5);d=Math.min(d,b/3);d=Math.min(d,c/3);a=C.v();U(a,d,0,!0);a.lineTo(b-d,0);V(a,b-0,0,b,0,b,d);a.lineTo(b,c-d);V(a,b,c-0,b-0,c,b-d,c);a.lineTo(d,c);V(a,0,c,0,c-0,0,c-d);a.lineTo(0,d);V(a,0,0,0,0,d,0);X(a);b=a.q;b.C=hc;b.D=qc;C.u(a);return b},SquareIBeam:function(a,b,c){var d=a?a.Rc:NaN;isNaN(d)&&(d=.2);a=C.v();U(a,0,0,!0);a.lineTo(1*b,0);a.lineTo(1*b,d*c);a.lineTo((.5+d/2)*b,d*c);a.lineTo((.5+d/2)*b,(1-d)*c);a.lineTo(1*b,(1-d)*c);a.lineTo(1*b,1*
c);a.lineTo(0,1*c);a.lineTo(0,(1-d)*c);a.lineTo((.5-d/2)*b,(1-d)*c);a.lineTo((.5-d/2)*b,d*c);a.lineTo(0,d*c);X(a);b=a.q;C.u(a);return b},Trapezoid:function(a,b,c){a=a?a.Rc:NaN;isNaN(a)&&(a=.2);var d=C.v();U(d,a*b,0,!0);d.lineTo((1-a)*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);X(d);b=d.q;b.C=new S(a,0);b.D=new S(1-a,1);C.u(d);return b},ManualLoop:"ManualOperation",ManualOperation:function(a,b,c){var d=a?a.Rc:NaN;isNaN(d)&&(d=0);a=C.v();U(a,d,0,!0);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(.9*b,1*c);a.lineTo(.1*
b,1*c);X(a);b=a.q;b.C=new S(.1,0);b.D=new S(.9,1);C.u(a);return b},GenderMale:function(a,b,c){a=C.v();var d=.4*Cd,e=.4,g=C.P(),h=C.P(),k=C.P(),l=C.P();U(a,(.5-e)*b,.5*c,!0);V(a,(.5-e)*b,(.5-d)*c,(.5-d)*b,(.5-e)*c,.5*b,(.5-e)*c);ze(.5,.5-e,.5+d,.5-e,.5+e,.5-d,.5+e,.5,.44,k,l,h,g,g);V(a,k.x*b,k.y*c,l.x*b,l.y*c,h.x*b,h.y*c);var m=C.Fb(h.x,h.y);ze(.5,.5-e,.5+d,.5-e,.5+e,.5-d,.5+e,.5,.56,g,g,h,k,l);var n=C.Fb(h.x,h.y);a.lineTo((.1*m.x+.855)*b,.1*m.y*c);a.lineTo(.85*b,.1*m.y*c);a.lineTo(.85*b,0);a.lineTo(1*
b,0);a.lineTo(1*b,.15*c);a.lineTo((.1*n.x+.9)*b,.15*c);a.lineTo((.1*n.x+.9)*b,(.1*n.y+.05*.9)*c);a.lineTo(n.x*b,n.y*c);V(a,k.x*b,k.y*c,l.x*b,l.y*c,(.5+e)*b,.5*c);V(a,(.5+e)*b,(.5+d)*c,(.5+d)*b,(.5+e)*c,.5*b,(.5+e)*c);V(a,(.5-d)*b,(.5+e)*c,(.5-e)*b,(.5+d)*c,(.5-e)*b,.5*c);e=.35;d=.35*Cd;U(a,.5*b,(.5-e)*c,!0,!0);V(a,(.5-d)*b,(.5-e)*c,(.5-e)*b,(.5-d)*c,(.5-e)*b,.5*c);V(a,(.5-e)*b,(.5+d)*c,(.5-d)*b,(.5+e)*c,.5*b,(.5+e)*c);V(a,(.5+d)*b,(.5+e)*c,(.5+e)*b,(.5+d)*c,(.5+e)*b,.5*c);V(a,(.5+e)*b,(.5-d)*c,(.5+
d)*b,(.5-e)*c,.5*b,(.5-e)*c);U(a,(.5-e)*b,.5*c,!0);C.A(g);C.A(h);C.A(k);C.A(l);C.A(m);C.A(n);b=a.q;b.C=new S(.202,.257);b.D=new S(.692,.839);b.ke=Vj;C.u(a);return b},GenderFemale:function(a,b,c){a=C.v();var d=.375,e=0,g=-.125,h=4*(Math.SQRT2-1)/3*d;U(a,(.525+e)*b,(.5+d+g)*c,!0);V(a,(.5+h+e)*b,(.5+d+g)*c,(.5+d+e)*b,(.5+h+g)*c,(.5+d+e)*b,(.5+g)*c);V(a,(.5+d+e)*b,(.5-h+g)*c,(.5+h+e)*b,(.5-d+g)*c,(.5+e)*b,(.5-d+g)*c);V(a,(.5-h+e)*b,(.5-d+g)*c,(.5-d+e)*b,(.5-h+g)*c,(.5-d+e)*b,(.5+g)*c);V(a,(.5-d+e)*b,
(.5+h+g)*c,(.5-h+e)*b,(.5+d+g)*c,(.475+e)*b,(.5+d+g)*c);a.lineTo(.475*b,.85*c);a.lineTo(.425*b,.85*c);a.lineTo(.425*b,.9*c);a.lineTo(.475*b,.9*c);a.lineTo(.475*b,1*c);a.lineTo(.525*b,1*c);a.lineTo(.525*b,.9*c);a.lineTo(.575*b,.9*c);a.lineTo(.575*b,.85*c);a.lineTo(.525*b,.85*c);X(a);d=.325;e=0;g=-.125;h=4*(Math.SQRT2-1)/3*d;U(a,(.5+d+e)*b,(.5+g)*c,!0,!0);V(a,(.5+d+e)*b,(.5+h+g)*c,(.5+h+e)*b,(.5+d+g)*c,(.5+e)*b,(.5+d+g)*c);V(a,(.5-h+e)*b,(.5+d+g)*c,(.5-d+e)*b,(.5+h+g)*c,(.5-d+e)*b,(.5+g)*c);V(a,(.5-
d+e)*b,(.5-h+g)*c,(.5-h+e)*b,(.5-d+g)*c,(.5+e)*b,(.5-d+g)*c);V(a,(.5+h+e)*b,(.5-d+g)*c,(.5+d+e)*b,(.5-h+g)*c,(.5+d+e)*b,(.5+g)*c);U(a,(.525+e)*b,(.5+d+g)*c,!0);b=a.q;b.C=new S(.232,.136);b.D=new S(.782,.611);b.ke=Vj;C.u(a);return b},PlusLine:function(a,b,c){a=C.v();U(a,0,.5*c,!1);a.lineTo(1*b,.5*c);a.moveTo(.5*b,0);a.lineTo(.5*b,1*c);b=a.q;C.u(a);return b},XLine:function(a,b,c){a=C.v();U(a,0,1*c,!1);a.lineTo(1*b,0);a.moveTo(0,0);a.lineTo(1*b,1*c);b=a.q;C.u(a);return b},AsteriskLine:function(a,b,c){a=
C.v();var d=.2/Math.SQRT2;U(a,d*b,(1-d)*c,!1);a.lineTo((1-d)*b,d*c);a.moveTo(d*b,d*c);a.lineTo((1-d)*b,(1-d)*c);a.moveTo(0*b,.5*c);a.lineTo(1*b,.5*c);a.moveTo(.5*b,0*c);a.lineTo(.5*b,1*c);b=a.q;C.u(a);return b},CircleLine:function(a,b,c){var d=.5*Cd;a=C.v();U(a,1*b,.5*c,!1);V(a,1*b,(.5+d)*c,(.5+d)*b,1*c,.5*b,1*c);V(a,(.5-d)*b,1*c,0,(.5+d)*c,0,.5*c);V(a,0,(.5-d)*c,(.5-d)*b,0,.5*b,0);V(a,(.5+d)*b,0,1*b,(.5-d)*c,1*b,.5*c);b=a.q;b.C=new S(.146,.146);b.D=new S(.853,.853);b.ke=Vj;C.u(a);return b},Pie:function(a,
b,c){a=C.v();var d=4*(Math.SQRT2-1)/3*.5;U(a,(.5*Math.SQRT2/2+.5)*b,(.5-.5*Math.SQRT2/2)*c,!0);V(a,.7*b,0*c,.5*b,0*c,.5*b,0*c);V(a,(.5-d+0)*b,0*c,0*b,(.5-d+0)*c,0*b,.5*c);V(a,0*b,(.5+d+0)*c,(.5-d+0)*b,1*c,.5*b,1*c);V(a,(.5+d+0)*b,1*c,1*b,(.5+d+0)*c,1*b,.5*c);a.lineTo(.5*b,.5*c);X(a);b=a.q;C.u(a);return b},PiePiece:function(a,b,c){var d=Cd/Math.SQRT2*.5,e=Math.SQRT2/2,g=1-Math.SQRT2/2;a=C.v();U(a,b,c,!0);V(a,b,(1-d)*c,(e+d)*b,(g+d)*c,e*b,g*c);a.lineTo(0,c);X(a);b=a.q;C.u(a);return b},StopSign:function(a,
b,c){a=1/(Math.SQRT2+2);var d=C.v();U(d,a*b,0,!0);d.lineTo((1-a)*b,0);d.lineTo(1*b,a*c);d.lineTo(1*b,(1-a)*c);d.lineTo((1-a)*b,1*c);d.lineTo(a*b,1*c);d.lineTo(0,(1-a)*c);d.lineTo(0,a*c);X(d);b=d.q;b.C=new S(a/2,a/2);b.D=new S(1-a/2,1-a/2);C.u(d);return b},LogicImplies:function(a,b,c){var d=a?a.Rc:NaN;isNaN(d)&&(d=.2);a=C.v();U(a,(1-d)*b,0*c,!1);a.lineTo(1*b,.5*c);a.lineTo((1-d)*b,c);a.moveTo(0,.5*c);a.lineTo(b,.5*c);b=a.q;b.C=hc;b.D=new S(.8,.5);C.u(a);return b},LogicIff:function(a,b,c){var d=a?a.Rc:
NaN;isNaN(d)&&(d=.2);a=C.v();U(a,(1-d)*b,0*c,!1);a.lineTo(1*b,.5*c);a.lineTo((1-d)*b,c);a.moveTo(0,.5*c);a.lineTo(b,.5*c);a.moveTo(d*b,0);a.lineTo(0,.5*c);a.lineTo(d*b,c);b=a.q;b.C=new S(.2,0);b.D=new S(.8,.5);C.u(a);return b},LogicNot:function(a,b,c){a=C.v();U(a,0,0,!1);a.lineTo(1*b,0);a.lineTo(1*b,1*c);b=a.q;C.u(a);return b},LogicAnd:function(a,b,c){a=C.v();U(a,0,1*c,!1);a.lineTo(.5*b,0);a.lineTo(1*b,1*c);b=a.q;b.C=new S(.25,.5);b.D=new S(.75,1);C.u(a);return b},LogicOr:function(a,b,c){a=C.v();
U(a,0,0,!1);a.lineTo(.5*b,1*c);a.lineTo(1*b,0);b=a.q;b.C=new S(.219,0);b.D=new S(.78,.409);C.u(a);return b},LogicXor:function(a,b,c){a=C.v();U(a,.5*b,0,!1);a.lineTo(.5*b,1*c);a.moveTo(0,.5*c);a.lineTo(1*b,.5*c);var d=.5*Cd;V(a,1*b,(.5+d)*c,(.5+d)*b,1*c,.5*b,1*c);V(a,(.5-d)*b,1*c,0,(.5+d)*c,0,.5*c);V(a,0,(.5-d)*c,(.5-d)*b,0,.5*b,0);V(a,(.5+d)*b,0,1*b,(.5-d)*c,1*b,.5*c);b=a.q;b.ke=Vj;C.u(a);return b},LogicTruth:function(a,b,c){a=C.v();U(a,0,0,!1);a.lineTo(1*b,0);a.moveTo(.5*b,0);a.lineTo(.5*b,1*c);
b=a.q;C.u(a);return b},LogicFalsity:function(a,b,c){a=C.v();U(a,0,1*c,!1);a.lineTo(1*b,1*c);a.moveTo(.5*b,1*c);a.lineTo(.5*b,0);b=a.q;C.u(a);return b},LogicThereExists:function(a,b,c){a=C.v();U(a,0,0,!1);a.lineTo(1*b,0);a.lineTo(1*b,.5*c);a.lineTo(0,.5*c);a.moveTo(1*b,.5*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);b=a.q;C.u(a);return b},LogicForAll:function(a,b,c){a=C.v();U(a,0,0,!1);a.lineTo(.5*b,1*c);a.lineTo(1*b,0);a.moveTo(.25*b,.5*c);a.lineTo(.75*b,.5*c);b=a.q;b.C=new S(.25,0);b.D=new S(.75,.5);C.u(a);
return b},LogicIsDefinedAs:function(a,b,c){a=C.v();U(a,0,0,!1);a.lineTo(b,0);a.moveTo(0,.5*c);a.lineTo(b,.5*c);a.moveTo(0,c);a.lineTo(b,c);b=a.q;b.C=new S(.01,.01);b.D=new S(.99,.49);C.u(a);return b},LogicIntersect:function(a,b,c){var d=.5*Cd;a=C.v();U(a,0,1*c,!1);a.lineTo(0,.5*c);V(a,0,(.5-d)*c,(.5-d)*b,0,.5*b,0);V(a,(.5+d)*b,0,1*b,(.5-d)*c,1*b,.5*c);a.lineTo(1*b,1*c);b=a.q;b.C=new S(0,.5);b.D=qc;C.u(a);return b},LogicUnion:function(a,b,c){var d=.5*Cd;a=C.v();U(a,1*b,0,!1);a.lineTo(1*b,.5*c);V(a,
1*b,(.5+d)*c,(.5+d)*b,1*c,.5*b,1*c);V(a,(.5-d)*b,1*c,0,(.5+d)*c,0,.5*c);a.lineTo(0,0);b=a.q;b.C=hc;b.D=new S(1,.5);C.u(a);return b},Arrow:function(a,b,c){var d=a?a.Rc:NaN,e=a?a.Nu:NaN;isNaN(d)&&(d=.3);isNaN(e)&&(e=.3);a=C.v();U(a,0,(.5-e/2)*c,!0);a.lineTo((1-d)*b,(.5-e/2)*c);a.lineTo((1-d)*b,0);a.lineTo(1*b,.5*c);a.lineTo((1-d)*b,1*c);a.lineTo((1-d)*b,(.5+e/2)*c);a.lineTo(0,(.5+e/2)*c);X(a);b=a.q;b.C=new S(0,.5-e/2);d=Ne(0,.5+e/2,1,.5+e/2,1-d,1,1,.5,C.P());b.D=new S(d.x,d.y);C.A(d);C.u(a);return b},
ISOProcess:"Chevron",Chevron:function(a,b,c){a=C.v();U(a,0,0,!0);a.lineTo(.5*b,0);a.lineTo(1*b,.5*c);a.lineTo(.5*b,1*c);a.lineTo(0,1*c);a.lineTo(.5*b,.5*c);X(a);b=a.q;C.u(a);return b},DoubleArrow:function(a,b,c){a=C.v();U(a,0,0,!0);a.lineTo(.3*b,.214*c);a.lineTo(.3*b,0);a.lineTo(1*b,.5*c);a.lineTo(.3*b,1*c);a.lineTo(.3*b,.786*c);a.lineTo(0,1*c);X(a);U(a,.3*b,.214*c,!1);a.lineTo(.3*b,.786*c);a.kb(!1);b=a.q;C.u(a);return b},DoubleEndArrow:function(a,b,c){a=C.v();U(a,1*b,.5*c,!0);a.lineTo(.7*b,1*c);
a.lineTo(.7*b,.7*c);a.lineTo(.3*b,.7*c);a.lineTo(.3*b,1*c);a.lineTo(0,.5*c);a.lineTo(.3*b,0);a.lineTo(.3*b,.3*c);a.lineTo(.7*b,.3*c);a.lineTo(.7*b,0);X(a);b=a.q;c=Ne(0,.5,.3,0,0,.3,.3,.3,C.P());b.C=new S(c.x,c.y);c=Ne(.7,1,1,.5,.7,.7,1,.7,c);b.D=new S(c.x,c.y);C.A(c);C.u(a);return b},IBeamArrow:function(a,b,c){a=C.v();U(a,1*b,.5*c,!0);a.lineTo(.7*b,1*c);a.lineTo(.7*b,.7*c);a.lineTo(.2*b,.7*c);a.lineTo(.2*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(.2*b,0);a.lineTo(.2*b,.3*c);a.lineTo(.7*b,.3*c);
a.lineTo(.7*b,0);X(a);b=a.q;b.C=new S(0,.3);c=Ne(.7,1,1,.5,.7,.7,1,.7,C.P());b.D=new S(c.x,c.y);C.A(c);C.u(a);return b},Pointer:function(a,b,c){a=C.v();U(a,1*b,.5*c,!0);a.lineTo(0,1*c);a.lineTo(.2*b,.5*c);a.lineTo(0,0);X(a);b=a.q;b.C=new S(.2,.35);c=Ne(.2,.65,1,.65,0,1,1,.5,C.P());b.D=new S(c.x,c.y);C.A(c);C.u(a);return b},RoundedPointer:function(a,b,c){a=C.v();U(a,1*b,.5*c,!0);a.lineTo(0,1*c);V(a,.5*b,.75*c,.5*b,.25*c,0,0);X(a);b=a.q;b.C=new S(.4,.35);c=Ne(.2,.65,1,.65,0,1,1,.5,C.P());b.D=new S(c.x,
c.y);C.A(c);C.u(a);return b},SplitEndArrow:function(a,b,c){a=C.v();U(a,1*b,.5*c,!0);a.lineTo(.7*b,1*c);a.lineTo(.7*b,.7*c);a.lineTo(0,.7*c);a.lineTo(.2*b,.5*c);a.lineTo(0,.3*c);a.lineTo(.7*b,.3*c);a.lineTo(.7*b,0);X(a);b=a.q;b.C=new S(.2,.3);c=Ne(.7,1,1,.5,.7,.7,1,.7,C.P());b.D=new S(c.x,c.y);C.A(c);C.u(a);return b},MessageToUser:"SquareArrow",SquareArrow:function(a,b,c){a=C.v();U(a,1*b,.5*c,!0);a.lineTo(.7*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(.7*b,0);X(a);b=a.q;b.C=hc;b.D=new S(.7,1);C.u(a);
return b},Cone1:function(a,b,c){var d=.5*Cd,e=.1*Cd;a=C.v();U(a,0,.9*c,!0);a.lineTo(.5*b,0);a.lineTo(1*b,.9*c);V(a,1*b,(.9+e)*c,(.5+d)*b,1*c,.5*b,1*c);V(a,(.5-d)*b,1*c,0,(.9+e)*c,0,.9*c);X(a);b=a.q;b.C=new S(.25,.5);b.D=new S(.75,.97);C.u(a);return b},Cone2:function(a,b,c){a=C.v();U(a,0,.9*c,!0);V(a,(1-.85/.9)*b,1*c,.85/.9*b,1*c,1*b,.9*c);a.lineTo(.5*b,0);a.lineTo(0,.9*c);X(a);U(a,0,.9*c,!1);V(a,(1-.85/.9)*b,.8*c,.85/.9*b,.8*c,1*b,.9*c);a.kb(!1);b=a.q;b.C=new S(.25,.5);b.D=new S(.75,.82);C.u(a);return b},
Cube1:function(a,b,c){a=C.v();U(a,.5*b,1*c,!0);a.lineTo(1*b,.85*c);a.lineTo(1*b,.15*c);a.lineTo(.5*b,0*c);a.lineTo(0*b,.15*c);a.lineTo(0*b,.85*c);X(a);U(a,.5*b,1*c,!1);a.lineTo(.5*b,.3*c);a.lineTo(0,.15*c);a.moveTo(.5*b,.3*c);a.lineTo(1*b,.15*c);a.kb(!1);b=a.q;b.C=new S(0,.3);b.D=new S(.5,.85);C.u(a);return b},Cube2:function(a,b,c){a=C.v();U(a,0,.3*c,!0);a.lineTo(0*b,1*c);a.lineTo(.7*b,c);a.lineTo(1*b,.7*c);a.lineTo(1*b,0*c);a.lineTo(.3*b,0*c);X(a);U(a,0,.3*c,!1);a.lineTo(.7*b,.3*c);a.lineTo(1*b,
0*c);a.moveTo(.7*b,.3*c);a.lineTo(.7*b,1*c);a.kb(!1);b=a.q;b.C=new S(0,.3);b.D=new S(.7,1);C.u(a);return b},MagneticData:"Cylinder1",Cylinder1:function(a,b,c){var d=.5*Cd,e=.1*Cd;a=C.v();U(a,0,.1*c,!0);V(a,0,(.1-e)*c,(.5-d)*b,0,.5*b,0);V(a,(.5+d)*b,0,1*b,(.1-e)*c,1*b,.1*c);a.lineTo(b,.9*c);V(a,1*b,(.9+e)*c,(.5+d)*b,1*c,.5*b,1*c);V(a,(.5-d)*b,1*c,0,(.9+e)*c,0,.9*c);a.lineTo(0,.1*c);U(a,0,.1*c,!1);V(a,0,(.1+e)*c,(.5-d)*b,.2*c,.5*b,.2*c);V(a,(.5+d)*b,.2*c,1*b,(.1+e)*c,1*b,.1*c);a.kb(!1);b=a.q;b.C=new S(0,
.2);b.D=new S(1,.9);C.u(a);return b},Cylinder2:function(a,b,c){var d=.5*Cd,e=.1*Cd;a=C.v();U(a,0,.9*c,!0);a.lineTo(0,.1*c);V(a,0,(.1-e)*c,(.5-d)*b,0,.5*b,0);V(a,(.5+d)*b,0,1*b,(.1-e)*c,1*b,.1*c);a.lineTo(1*b,.9*c);V(a,1*b,(.9+e)*c,(.5+d)*b,1*c,.5*b,1*c);V(a,(.5-d)*b,1*c,0,(.9+e)*c,0,.9*c);U(a,0,.9*c,!1);V(a,0,(.9-e)*c,(.5-d)*b,.8*c,.5*b,.8*c);V(a,(.5+d)*b,.8*c,1*b,(.9-e)*c,1*b,.9*c);a.kb(!1);b=a.q;b.C=new S(0,.1);b.D=new S(1,.8);C.u(a);return b},Cylinder3:function(a,b,c){var d=.1*Cd,e=.5*Cd;a=C.v();
U(a,.1*b,0,!0);a.lineTo(.9*b,0);V(a,(.9+d)*b,0,1*b,(.5-e)*c,1*b,.5*c);V(a,1*b,(.5+e)*c,(.9+d)*b,1*c,.9*b,1*c);a.lineTo(.1*b,1*c);V(a,(.1-d)*b,1*c,0,(.5+e)*c,0,.5*c);V(a,0,(.5-e)*c,(.1-d)*b,0,.1*b,0);U(a,.1*b,0,!1);V(a,(.1+d)*b,0,.2*b,(.5-e)*c,.2*b,.5*c);V(a,.2*b,(.5+e)*c,(.1+d)*b,1*c,.1*b,1*c);a.kb(!1);b=a.q;b.C=new S(.2,0);b.D=new S(.9,1);C.u(a);return b},DirectData:"Cylinder4",Cylinder4:function(a,b,c){var d=.1*Cd,e=.5*Cd;a=C.v();U(a,.9*b,0,!0);V(a,(.9+d)*b,0,1*b,(.5-e)*c,1*b,.5*c);V(a,1*b,(.5+
e)*c,(.9+d)*b,1*c,.9*b,1*c);a.lineTo(.1*b,1*c);V(a,(.1-d)*b,1*c,0,(.5+e)*c,0,.5*c);V(a,0,(.5-e)*c,(.1-d)*b,0,.1*b,0);a.lineTo(.9*b,0);U(a,.9*b,0,!1);V(a,(.9-d)*b,0,.8*b,(.5-e)*c,.8*b,.5*c);V(a,.8*b,(.5+e)*c,(.9-d)*b,1*c,.9*b,1*c);a.kb(!1);b=a.q;b.C=new S(.1,0);b.D=new S(.8,1);C.u(a);return b},Prism1:function(a,b,c){a=C.v();U(a,.25*b,.25*c,!0);a.lineTo(.75*b,0);a.lineTo(b,.5*c);a.lineTo(.5*b,c);a.lineTo(0,c);X(a);U(a,.25*b,.25*c,!1);a.lineTo(.5*b,c);a.kb(!1);b=a.q;b.C=new S(.408,.172);b.D=new S(.833,
.662);C.u(a);return b},Prism2:function(a,b,c){a=C.v();U(a,0,.25*c,!0);a.lineTo(.75*b,0);a.lineTo(1*b,.25*c);a.lineTo(.75*b,.75*c);a.lineTo(0,1*c);X(a);U(a,0,c,!1);a.lineTo(.25*b,.5*c);a.lineTo(b,.25*c);a.moveTo(0,.25*c);a.lineTo(.25*b,.5*c);a.kb(!1);b=a.q;b.C=new S(.25,.5);b.D=new S(.75,.75);C.u(a);return b},Pyramid1:function(a,b,c){a=C.v();U(a,.5*b,0,!0);a.lineTo(b,.75*c);a.lineTo(.5*b,1*c);a.lineTo(0,.75*c);X(a);U(a,.5*b,0,!1);a.lineTo(.5*b,1*c);a.kb(!1);b=a.q;b.C=new S(.25,.367);b.D=new S(.75,
.875);C.u(a);return b},Pyramid2:function(a,b,c){a=C.v();U(a,.5*b,0,!0);a.lineTo(b,.85*c);a.lineTo(.5*b,1*c);a.lineTo(0,.85*c);X(a);U(a,.5*b,0,!1);a.lineTo(.5*b,.7*c);a.lineTo(0,.85*c);a.moveTo(.5*b,.7*c);a.lineTo(1*b,.85*c);a.kb(!1);b=a.q;b.C=new S(.25,.367);b.D=new S(.75,.875);C.u(a);return b},Actor:function(a,b,c){var d=.2*Cd,e=.1*Cd,g=.5,h=.1;a=C.v();U(a,g*b,(h+.1)*c,!0);V(a,(g-d)*b,(h+.1)*c,(g-.2)*b,(h+e)*c,(g-.2)*b,h*c);V(a,(g-.2)*b,(h-e)*c,(g-d)*b,(h-.1)*c,g*b,(h-.1)*c);V(a,(g+d)*b,(h-.1)*c,
(g+.2)*b,(h-e)*c,(g+.2)*b,h*c);V(a,(g+.2)*b,(h+e)*c,(g+d)*b,(h+.1)*c,g*b,(h+.1)*c);d=.05;e=Cd*d;U(a,.5*b,.2*c,!0);a.lineTo(.95*b,.2*c);g=.95;h=.25;V(a,(g+e)*b,(h-d)*c,(g+d)*b,(h-e)*c,(g+d)*b,h*c);a.lineTo(1*b,.6*c);a.lineTo(.85*b,.6*c);a.lineTo(.85*b,.35*c);d=.025;e=Cd*d;g=.825;h=.35;V(a,(g+d)*b,(h-e)*c,(g+e)*b,(h-d)*c,g*b,(h-d)*c);V(a,(g-e)*b,(h-d)*c,(g-d)*b,(h-e)*c,(g-d)*b,h*c);a.lineTo(.8*b,1*c);a.lineTo(.55*b,1*c);a.lineTo(.55*b,.7*c);d=.05;e=Cd*d;g=.5;h=.7;V(a,(g+d)*b,(h-e)*c,(g+e)*b,(h-d)*c,
g*b,(h-d)*c);V(a,(g-e)*b,(h-d)*c,(g-d)*b,(h-e)*c,(g-d)*b,h*c);a.lineTo(.45*b,1*c);a.lineTo(.2*b,1*c);a.lineTo(.2*b,.35*c);d=.025;e=Cd*d;g=.175;h=.35;V(a,(g+d)*b,(h-e)*c,(g+e)*b,(h-d)*c,g*b,(h-d)*c);V(a,(g-e)*b,(h-d)*c,(g-d)*b,(h-e)*c,(g-d)*b,h*c);a.lineTo(.15*b,.6*c);a.lineTo(0*b,.6*c);a.lineTo(0*b,.25*c);d=.05;e=Cd*d;g=.05;h=.25;V(a,(g-d)*b,(h-e)*c,(g-e)*b,(h-d)*c,g*b,(h-d)*c);a.lineTo(.5*b,.2*c);b=a.q;b.C=new S(.2,.2);b.D=new S(.8,.65);C.u(a);return b},Card:function(a,b,c){a=C.v();U(a,1*b,0*c,!0);
a.lineTo(1*b,1*c);a.lineTo(0*b,1*c);a.lineTo(0*b,.2*c);a.lineTo(.2*b,0*c);X(a);b=a.q;b.C=new S(0,.2);b.D=qc;C.u(a);return b},Collate:function(a,b,c){a=C.v();U(a,.5*b,.5*c,!0);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(.5*b,.5*c);U(a,.5*b,.5*c,!0);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(.5*b,.5*c);b=a.q;b.C=new S(.25,0);b.D=new S(.75,.25);C.u(a);return b},CreateRequest:function(a,b,c){a=a?a.Rc:NaN;isNaN(a)&&(a=.1);var d=C.v();U(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);X(d);U(d,0,
a*c,!1);d.lineTo(1*b,a*c);d.moveTo(0,(1-a)*c);d.lineTo(1*b,(1-a)*c);d.kb(!1);b=d.q;b.C=new S(0,a);b.D=new S(1,1-a);C.u(d);return b},Database:function(a,b,c){a=C.v();var d=.5*Cd,e=.1*Cd;U(a,1*b,.1*c,!0);a.lineTo(1*b,.9*c);V(a,1*b,(.9+e)*c,(.5+d)*b,1*c,.5*b,1*c);V(a,(.5-d)*b,1*c,0,(.9+e)*c,0,.9*c);a.lineTo(0,.1*c);V(a,0,(.1-e)*c,(.5-d)*b,0,.5*b,0);V(a,(.5+d)*b,0,1*b,(.1-e)*c,1*b,.1*c);U(a,1*b,.1*c,!1);V(a,1*b,(.1+e)*c,(.5+d)*b,.2*c,.5*b,.2*c);V(a,(.5-d)*b,.2*c,0,(.1+e)*c,0,.1*c);a.moveTo(1*b,.2*c);
V(a,1*b,(.2+e)*c,(.5+d)*b,.3*c,.5*b,.3*c);V(a,(.5-d)*b,.3*c,0,(.2+e)*c,0,.2*c);a.moveTo(1*b,.3*c);V(a,1*b,(.3+e)*c,(.5+d)*b,.4*c,.5*b,.4*c);V(a,(.5-d)*b,.4*c,0,(.3+e)*c,0,.3*c);a.kb(!1);b=a.q;b.C=new S(0,.4);b.D=new S(1,.9);C.u(a);return b},StoredData:"DataStorage",DataStorage:function(a,b,c){a=C.v();U(a,0,0,!0);a.lineTo(.75*b,0);V(a,1*b,0,1*b,1*c,.75*b,1*c);a.lineTo(0,1*c);V(a,.25*b,.9*c,.25*b,.1*c,0,0);X(a);b=a.q;b.C=new S(.226,0);b.D=new S(.81,1);C.u(a);return b},DiskStorage:function(a,b,c){a=
C.v();var d=.5*Cd,e=.1*Cd;U(a,1*b,.1*c,!0);a.lineTo(1*b,.9*c);V(a,1*b,(.9+e)*c,(.5+d)*b,1*c,.5*b,1*c);V(a,(.5-d)*b,1*c,0,(.9+e)*c,0,.9*c);a.lineTo(0,.1*c);V(a,0,(.1-e)*c,(.5-d)*b,0,.5*b,0);V(a,(.5+d)*b,0,1*b,(.1-e)*c,1*b,.1*c);U(a,1*b,.1*c,!1);V(a,1*b,(.1+e)*c,(.5+d)*b,.2*c,.5*b,.2*c);V(a,(.5-d)*b,.2*c,0,(.1+e)*c,0,.1*c);a.moveTo(1*b,.2*c);V(a,1*b,(.2+e)*c,(.5+d)*b,.3*c,.5*b,.3*c);V(a,(.5-d)*b,.3*c,0,(.2+e)*c,0,.2*c);a.kb(!1);b=a.q;b.C=new S(0,.3);b.D=new S(1,.9);C.u(a);return b},Display:function(a,
b,c){a=C.v();U(a,.25*b,0,!0);a.lineTo(.75*b,0);V(a,1*b,0,1*b,1*c,.75*b,1*c);a.lineTo(.25*b,1*c);a.lineTo(0,.5*c);X(a);b=a.q;b.C=new S(.25,0);b.D=new S(.75,1);C.u(a);return b},DividedEvent:function(a,b,c){a=a?a.Rc:NaN;isNaN(a)?a=.2:.15>a&&(a=.15);var d=C.v(),e=.2*Cd;U(d,0,.2*c,!0);V(d,0,(.2-e)*c,(.2-e)*b,0,.2*b,0);d.lineTo(.8*b,0);V(d,(.8+e)*b,0,1*b,(.2-e)*c,1*b,.2*c);d.lineTo(1*b,.8*c);V(d,1*b,(.8+e)*c,(.8+e)*b,1*c,.8*b,1*c);d.lineTo(.2*b,1*c);V(d,(.2-e)*b,1*c,0,(.8+e)*c,0,.8*c);d.lineTo(0,.2*c);
U(d,0,a*c,!1);d.lineTo(1*b,a*c);d.kb(!1);b=d.q;b.C=new S(0,a);b.D=new S(1,1-a);C.u(d);return b},DividedProcess:function(a,b,c){a=a?a.Rc:NaN;if(isNaN(a)||.1>a)a=.1;var d=C.v();U(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);X(d);U(d,0,a*c,!1);d.lineTo(1*b,a*c);d.kb(!1);b=d.q;b.C=new S(0,a);b.D=qc;C.u(d);return b},Document:function(a,b,c){c/=.8;a=C.v();U(a,0,.7*c,!0);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(1*b,.7*c);V(a,.5*b,.4*c,.5*b,1*c,0,.7*c);X(a);b=a.q;b.C=hc;b.D=new S(1,.6);C.u(a);
return b},ExternalOrganization:function(a,b,c){a=a?a.Rc:NaN;if(isNaN(a)||.2>a)a=.2;var d=C.v();U(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);X(d);U(d,a*b,0,!1);d.lineTo(0,a*c);d.moveTo(1*b,a*c);d.lineTo((1-a)*b,0);d.moveTo(0,(1-a)*c);d.lineTo(a*b,1*c);d.moveTo((1-a)*b,1*c);d.lineTo(1*b,(1-a)*c);d.kb(!1);b=d.q;b.C=new S(a/2,a/2);b.D=new S(1-a/2,1-a/2);C.u(d);return b},ExternalProcess:function(a,b,c){a=C.v();U(a,.5*b,0,!0);a.lineTo(1*b,.5*c);a.lineTo(.5*b,1*c);a.lineTo(0,.5*c);X(a);
U(a,.1*b,.4*c,!1);a.lineTo(.1*b,.6*c);a.moveTo(.9*b,.6*c);a.lineTo(.9*b,.4*c);a.moveTo(.6*b,.1*c);a.lineTo(.4*b,.1*c);a.moveTo(.4*b,.9*c);a.lineTo(.6*b,.9*c);a.kb(!1);b=a.q;b.C=new S(.25,.25);b.D=new S(.75,.75);C.u(a);return b},File:function(a,b,c){a=C.v();U(a,0,0,!0);a.lineTo(.75*b,0);a.lineTo(1*b,.25*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);X(a);U(a,.75*b,0,!1);a.lineTo(.75*b,.25*c);a.lineTo(1*b,.25*c);a.kb(!1);b=a.q;b.C=new S(0,.25);b.D=qc;C.u(a);return b},Interrupt:function(a,b,c){a=C.v();U(a,1*b,
.5*c,!0);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(1*b,.5*c);U(a,1*b,.5*c,!1);a.lineTo(1*b,1*c);U(a,1*b,.5*c,!1);a.lineTo(1*b,0);b=a.q;b.C=new S(0,.25);b.D=new S(.5,.75);C.u(a);return b},InternalStorage:function(a,b,c){var d=a?a.Rc:NaN;a=a?a.Nu:NaN;isNaN(d)&&(d=.1);isNaN(a)&&(a=.1);var e=C.v();U(e,0,0,!0);e.lineTo(1*b,0);e.lineTo(1*b,1*c);e.lineTo(0,1*c);X(e);U(e,d*b,0,!1);e.lineTo(d*b,1*c);e.moveTo(0,a*c);e.lineTo(1*b,a*c);e.kb(!1);b=e.q;b.C=new S(d,a);b.D=qc;C.u(e);return b},Junction:function(a,b,
c){a=C.v();var d=1/Math.SQRT2,e=(1-1/Math.SQRT2)/2,g=.5*Cd;U(a,1*b,.5*c,!0);V(a,1*b,(.5+g)*c,(.5+g)*b,1*c,.5*b,1*c);V(a,(.5-g)*b,1*c,0,(.5+g)*c,0,.5*c);V(a,0,(.5-g)*c,(.5-g)*b,0,.5*b,0);V(a,(.5+g)*b,0,1*b,(.5-g)*c,1*b,.5*c);U(a,(e+d)*b,(e+d)*c,!1);a.lineTo(e*b,e*c);a.moveTo(e*b,(e+d)*c);a.lineTo((e+d)*b,e*c);a.kb(!1);b=a.q;b.ke=Vj;C.u(a);return b},LinedDocument:function(a,b,c){c/=.8;a=C.v();U(a,0,.7*c,!0);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(1*b,.7*c);V(a,.5*b,.4*c,.5*b,1*c,0,.7*c);X(a);U(a,.1*
b,0,!1);a.lineTo(.1*b,.75*c);a.kb(!1);b=a.q;b.C=new S(.1,0);b.D=new S(1,.6);C.u(a);return b},LoopLimit:function(a,b,c){a=C.v();U(a,0,1*c,!0);a.lineTo(0,.25*c);a.lineTo(.25*b,0);a.lineTo(.75*b,0);a.lineTo(1*b,.25*c);a.lineTo(1*b,1*c);X(a);b=a.q;b.C=new S(0,.25);b.D=qc;C.u(a);return b},SequentialData:"MagneticTape",MagneticTape:function(a,b,c){a=C.v();var d=.5*Cd;U(a,.5*b,1*c,!0);V(a,(.5-d)*b,1*c,0,(.5+d)*c,0,.5*c);V(a,0,(.5-d)*c,(.5-d)*b,0,.5*b,0);V(a,(.5+d)*b,0,1*b,(.5-d)*c,1*b,.5*c);V(a,1*b,(.5+
d)*c,(.5+d)*b,.9*c,.6*b,.9*c);a.lineTo(1*b,.9*c);a.lineTo(1*b,1*c);a.lineTo(.5*b,1*c);b=a.q;b.C=new S(.15,.15);b.D=new S(.85,.8);C.u(a);return b},ManualInput:function(a,b,c){a=C.v();U(a,1*b,0,!0);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,.25*c);X(a);b=a.q;b.C=new S(0,.25);b.D=qc;C.u(a);return b},MessageFromUser:function(a,b,c){a=a?a.Rc:NaN;isNaN(a)&&(a=.7);var d=C.v();U(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(a*b,.5*c);d.lineTo(1*b,1*c);d.lineTo(0,1*c);X(d);b=d.q;b.C=hc;b.D=new S(a,1);C.u(d);return b},
MicroformProcessing:function(a,b,c){a=a?a.Rc:NaN;isNaN(a)&&(a=.25);var d=C.v();U(d,0,0,!0);d.lineTo(.5*b,a*c);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(.5*b,(1-a)*c);d.lineTo(0,1*c);X(d);b=d.q;b.C=new S(0,a);b.D=new S(1,1-a);C.u(d);return b},MicroformRecording:function(a,b,c){a=C.v();U(a,0,0,!0);a.lineTo(.75*b,.25*c);a.lineTo(1*b,.15*c);a.lineTo(1*b,.85*c);a.lineTo(.75*b,.75*c);a.lineTo(0,1*c);X(a);b=a.q;b.C=new S(0,.25);b.D=new S(1,.75);C.u(a);return b},MultiDocument:function(a,b,c){c/=.8;a=C.v();
U(a,b,0,!0);a.lineTo(b,.5*c);V(a,.96*b,.47*c,.93*b,.45*c,.9*b,.44*c);a.lineTo(.9*b,.6*c);V(a,.86*b,.57*c,.83*b,.55*c,.8*b,.54*c);a.lineTo(.8*b,.7*c);V(a,.4*b,.4*c,.4*b,1*c,0,.7*c);a.lineTo(0,.2*c);a.lineTo(.1*b,.2*c);a.lineTo(.1*b,.1*c);a.lineTo(.2*b,.1*c);a.lineTo(.2*b,0);X(a);U(a,.1*b,.2*c,!1);a.lineTo(.8*b,.2*c);a.lineTo(.8*b,.54*c);a.moveTo(.2*b,.1*c);a.lineTo(.9*b,.1*c);a.lineTo(.9*b,.44*c);a.kb(!1);b=a.q;b.C=new S(0,.25);b.D=new S(.8,.77);C.u(a);return b},MultiProcess:function(a,b,c){a=C.v();
U(a,.1*b,.1*c,!0);a.lineTo(.2*b,.1*c);a.lineTo(.2*b,0);a.lineTo(1*b,0);a.lineTo(1*b,.8*c);a.lineTo(.9*b,.8*c);a.lineTo(.9*b,.9*c);a.lineTo(.8*b,.9*c);a.lineTo(.8*b,1*c);a.lineTo(0,1*c);a.lineTo(0,.2*c);a.lineTo(.1*b,.2*c);X(a);U(a,.2*b,.1*c,!1);a.lineTo(.9*b,.1*c);a.lineTo(.9*b,.8*c);a.moveTo(.1*b,.2*c);a.lineTo(.8*b,.2*c);a.lineTo(.8*b,.9*c);a.kb(!1);b=a.q;b.C=new S(0,.2);b.D=new S(.8,1);C.u(a);return b},OfflineStorage:function(a,b,c){a=a?a.Rc:NaN;isNaN(a)&&(a=.1);var d=1-a,e=C.v();U(e,0,0,!0);e.lineTo(1*
b,0);e.lineTo(.5*b,1*c);X(e);U(e,.5*a*b,a*c,!1);e.lineTo((1-.5*a)*b,a*c);e.kb(!1);b=e.q;b.C=new S(d/4+.5*a,a);b.D=new S(3*d/4+.5*a,a+.5*d);C.u(e);return b},OffPageConnector:function(a,b,c){a=C.v();U(a,0,0,!0);a.lineTo(.75*b,0);a.lineTo(1*b,.5*c);a.lineTo(.75*b,1*c);a.lineTo(0,1*c);X(a);b=a.q;b.C=hc;b.D=new S(.75,1);C.u(a);return b},Or:function(a,b,c){a=C.v();var d=.5*Cd;U(a,1*b,.5*c,!0);V(a,1*b,(.5+d)*c,(.5+d)*b,1*c,.5*b,1*c);V(a,(.5-d)*b,1*c,0,(.5+d)*c,0,.5*c);V(a,0,(.5-d)*c,(.5-d)*b,0,.5*b,0);V(a,
(.5+d)*b,0,1*b,(.5-d)*c,1*b,.5*c);U(a,1*b,.5*c,!1);a.lineTo(0,.5*c);a.moveTo(.5*b,1*c);a.lineTo(.5*b,0);a.kb(!1);b=a.q;b.ke=Vj;C.u(a);return b},PaperTape:function(a,b,c){c/=.8;a=C.v();U(a,0,.7*c,!0);a.lineTo(0,.3*c);V(a,.5*b,.6*c,.5*b,0,1*b,.3*c);a.lineTo(1*b,.7*c);V(a,.5*b,.4*c,.5*b,1*c,0,.7*c);X(a);b=a.q;b.C=new S(0,.49);b.D=new S(1,.75);C.u(a);return b},PrimitiveFromCall:function(a,b,c){var d=a?a.Rc:NaN;a=a?a.Nu:NaN;isNaN(d)&&(d=.1);isNaN(a)&&(a=.3);var e=C.v();U(e,0,0,!0);e.lineTo(1*b,0);e.lineTo((1-
a)*b,.5*c);e.lineTo(1*b,1*c);e.lineTo(0,1*c);X(e);b=e.q;b.C=new S(d,0);b.D=new S(1-a,1);C.u(e);return b},PrimitiveToCall:function(a,b,c){var d=a?a.Rc:NaN;a=a?a.Nu:NaN;isNaN(d)&&(d=.1);isNaN(a)&&(a=.3);var e=C.v();U(e,0,0,!0);e.lineTo((1-a)*b,0);e.lineTo(1*b,.5*c);e.lineTo((1-a)*b,1*c);e.lineTo(0,1*c);X(e);b=e.q;b.C=new S(d,0);b.D=new S(1-a,1);C.u(e);return b},Subroutine:"Procedure",Procedure:function(a,b,c){a=a?a.Rc:NaN;isNaN(a)&&(a=.1);var d=C.v();U(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,
1*c);X(d);U(d,(1-a)*b,0,!1);d.lineTo((1-a)*b,1*c);d.moveTo(a*b,0);d.lineTo(a*b,1*c);d.kb(!1);b=d.q;b.C=new S(a,0);b.D=new S(1-a,1);C.u(d);return b},Process:function(a,b,c){a=a?a.Rc:NaN;isNaN(a)&&(a=.1);var d=C.v();U(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);X(d);U(d,a*b,0,!1);d.lineTo(a*b,1*c);d.kb(!1);b=d.q;b.C=new S(a,0);b.D=qc;C.u(d);return b},Sort:function(a,b,c){a=C.v();U(a,.5*b,0,!0);a.lineTo(1*b,.5*c);a.lineTo(.5*b,1*c);a.lineTo(0,.5*c);X(a);U(a,0,.5*c,!1);a.lineTo(1*b,.5*
c);a.kb(!1);b=a.q;b.C=new S(.25,.25);b.D=new S(.75,.5);C.u(a);return b},Start:function(a,b,c){a=C.v();U(a,.25*b,0,!0);U(a,.25*b,0,!0);a.arcTo(270,180,.75*b,.5*c,.25*b,.5*c);a.arcTo(90,180,.25*b,.5*c,.25*b,.5*c);U(a,.25*b,0,!1);a.lineTo(.25*b,1*c);a.moveTo(.75*b,0);a.lineTo(.75*b,1*c);a.kb(!1);b=a.q;b.C=new S(.25,0);b.D=new S(.75,1);C.u(a);return b},Terminator:function(a,b,c){a=C.v();U(a,.25*b,0,!0);a.arcTo(270,180,.75*b,.5*c,.25*b,.5*c);a.arcTo(90,180,.25*b,.5*c,.25*b,.5*c);b=a.q;b.C=new S(.23,0);
b.D=new S(.77,1);C.u(a);return b},TransmittalTape:function(a,b,c){a=a?a.Rc:NaN;isNaN(a)&&(a=.1);var d=C.v();U(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(.75*b,(1-a)*c);d.lineTo(0,(1-a)*c);X(d);b=d.q;b.C=hc;b.D=new S(1,1-a);C.u(d);return b},AndGate:function(a,b,c){a=C.v();var d=.5*Cd;U(a,0,0,!0);a.lineTo(.5*b,0);V(a,(.5+d)*b,0,1*b,(.5-d)*c,1*b,.5*c);V(a,1*b,(.5+d)*c,(.5+d)*b,1*c,.5*b,1*c);a.lineTo(0,1*c);X(a);b=a.q;b.C=hc;b.D=new S(.55,1);C.u(a);return b},Buffer:function(a,b,c){a=C.v();U(a,
0,0,!0);a.lineTo(1*b,.5*c);a.lineTo(0,1*c);X(a);b=a.q;b.C=new S(0,.25);b.D=new S(.5,.75);C.u(a);return b},Clock:function(a,b,c){a=C.v();var d=.5*Cd;U(a,1*b,.5*c,!0);V(a,1*b,(.5+d)*c,(.5+d)*b,1*c,.5*b,1*c);V(a,(.5-d)*b,1*c,0,(.5+d)*c,0,.5*c);V(a,0,(.5-d)*c,(.5-d)*b,0,.5*b,0);V(a,(.5+d)*b,0,1*b,(.5-d)*c,1*b,.5*c);U(a,1*b,.5*c,!1);a.lineTo(1*b,.5*c);U(a,.8*b,.75*c,!1);a.lineTo(.8*b,.25*c);a.lineTo(.6*b,.25*c);a.lineTo(.6*b,.75*c);a.lineTo(.4*b,.75*c);a.lineTo(.4*b,.25*c);a.lineTo(.2*b,.25*c);a.lineTo(.2*
b,.75*c);a.kb(!1);b=a.q;b.ke=Vj;C.u(a);return b},Ground:function(a,b,c){a=C.v();U(a,.5*b,0,!1);a.lineTo(.5*b,.4*c);a.moveTo(.2*b,.6*c);a.lineTo(.8*b,.6*c);a.moveTo(.3*b,.8*c);a.lineTo(.7*b,.8*c);a.moveTo(.4*b,1*c);a.lineTo(.6*b,1*c);b=a.q;C.u(a);return b},Inverter:function(a,b,c){a=C.v();var d=.1*Cd;U(a,.8*b,.5*c,!0);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(.8*b,.5*c);U(a,1*b,.5*c,!0);V(a,1*b,(.5+d)*c,(.9+d)*b,.6*c,.9*b,.6*c);V(a,(.9-d)*b,.6*c,.8*b,(.5+d)*c,.8*b,.5*c);V(a,.8*b,(.5-d)*c,(.9-d)*b,.4*
c,.9*b,.4*c);V(a,(.9+d)*b,.4*c,1*b,(.5-d)*c,1*b,.5*c);b=a.q;b.C=new S(0,.25);b.D=new S(.4,.75);C.u(a);return b},NandGate:function(a,b,c){a=C.v();var d=.5*Cd,e=.4*Cd,g=.1*Cd;U(a,.8*b,.5*c,!0);V(a,.8*b,(.5+e)*c,(.4+d)*b,1*c,.4*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(.4*b,0);V(a,(.4+d)*b,0,.8*b,(.5-e)*c,.8*b,.5*c);U(a,1*b,.5*c,!0);V(a,1*b,(.5+g)*c,(.9+g)*b,.6*c,.9*b,.6*c);V(a,(.9-g)*b,.6*c,.8*b,(.5+g)*c,.8*b,.5*c);V(a,.8*b,(.5-g)*c,(.9-g)*b,.4*c,.9*b,.4*c);V(a,(.9+g)*b,.4*c,1*b,(.5-g)*c,1*b,.5*
c);b=a.q;b.C=new S(0,.05);b.D=new S(.55,.95);C.u(a);return b},NorGate:function(a,b,c){a=C.v();var d=.5,e=Cd*d,g=0,h=.5;U(a,.8*b,.5*c,!0);V(a,.7*b,(h+e)*c,(g+e)*b,(h+d)*c,0,1*c);V(a,.25*b,.75*c,.25*b,.25*c,0,0);V(a,(g+e)*b,(h-d)*c,.7*b,(h-e)*c,.8*b,.5*c);d=.1;e=.1*Cd;g=.9;h=.5;U(a,(g-d)*b,h*c,!0);V(a,(g-d)*b,(h-e)*c,(g-e)*b,(h-d)*c,g*b,(h-d)*c);V(a,(g+e)*b,(h-d)*c,(g+d)*b,(h-e)*c,(g+d)*b,h*c);V(a,(g+d)*b,(h+e)*c,(g+e)*b,(h+d)*c,g*b,(h+d)*c);V(a,(g-e)*b,(h+d)*c,(g-d)*b,(h+e)*c,(g-d)*b,h*c);b=a.q;b.C=
new S(.2,.25);b.D=new S(.6,.75);C.u(a);return b},OrGate:function(a,b,c){a=C.v();var d=.5*Cd;U(a,0,0,!0);V(a,(0+d+d)*b,0*c,.8*b,(.5-d)*c,1*b,.5*c);V(a,.8*b,(.5+d)*c,(0+d+d)*b,1*c,0,1*c);V(a,.25*b,.75*c,.25*b,.25*c,0,0);X(a);b=a.q;b.C=new S(.2,.25);b.D=new S(.75,.75);C.u(a);return b},XnorGate:function(a,b,c){a=C.v();var d=.5,e=Cd*d,g=.2,h=.5;U(a,.1*b,0,!1);V(a,.35*b,.25*c,.35*b,.75*c,.1*b,1*c);U(a,.8*b,.5*c,!0);V(a,.7*b,(h+e)*c,(g+e)*b,(h+d)*c,.2*b,1*c);V(a,.45*b,.75*c,.45*b,.25*c,.2*b,0);V(a,(g+e)*
b,(h-d)*c,.7*b,(h-e)*c,.8*b,.5*c);d=.1;e=.1*Cd;g=.9;h=.5;U(a,(g-d)*b,h*c,!0);V(a,(g-d)*b,(h-e)*c,(g-e)*b,(h-d)*c,g*b,(h-d)*c);V(a,(g+e)*b,(h-d)*c,(g+d)*b,(h-e)*c,(g+d)*b,h*c);V(a,(g+d)*b,(h+e)*c,(g+e)*b,(h+d)*c,g*b,(h+d)*c);V(a,(g-e)*b,(h+d)*c,(g-d)*b,(h+e)*c,(g-d)*b,h*c);b=a.q;b.C=new S(.4,.25);b.D=new S(.65,.75);C.u(a);return b},XorGate:function(a,b,c){a=C.v();var d=.5*Cd;U(a,.1*b,0,!1);V(a,.35*b,.25*c,.35*b,.75*c,.1*b,1*c);U(a,.2*b,0,!0);V(a,(.2+d)*b,0*c,.9*b,(.5-d)*c,1*b,.5*c);V(a,.9*b,(.5+d)*
c,(.2+d)*b,1*c,.2*b,1*c);V(a,.45*b,.75*c,.45*b,.25*c,.2*b,0);X(a);b=a.q;b.C=new S(.4,.25);b.D=new S(.8,.75);C.u(a);return b},Capacitor:function(a,b,c){a=C.v();U(a,0,0,!1);a.lineTo(0,1*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);b=a.q;C.u(a);return b},Resistor:function(a,b,c){a=C.v();U(a,0,.5*c,!1);a.lineTo(.1*b,0);a.lineTo(.2*b,1*c);a.lineTo(.3*b,0);a.lineTo(.4*b,1*c);a.lineTo(.5*b,0);a.lineTo(.6*b,1*c);a.lineTo(.7*b,.5*c);b=a.q;C.u(a);return b},Inductor:function(a,b,c){a=C.v();var d=.1*Cd,e=.1;U(a,(e-.5*
d)*b,c,!1);V(a,(e-d)*b,c,(e-.1)*b,0,(e+.1)*b,0);e=.3;V(a,(e+.1)*b,0,(e+d)*b,c,e*b,c);V(a,(e-d)*b,c,(e-.1)*b,0,(e+.1)*b,0);e=.5;V(a,(e+.1)*b,0,(e+d)*b,c,e*b,c);V(a,(e-d)*b,c,(e-.1)*b,0,(e+.1)*b,0);e=.7;V(a,(e+.1)*b,0,(e+d)*b,c,e*b,c);V(a,(e-d)*b,c,(e-.1)*b,0,(e+.1)*b,0);e=.9;V(a,(e+.1)*b,0,(e+d)*b,c,(e+.5*d)*b,c);b=a.q;C.u(a);return b},ACvoltageSource:function(a,b,c){a=C.v();var d=.5*Cd;U(a,0*b,.5*c,!1);V(a,0*b,(.5-d)*c,(.5-d)*b,0*c,.5*b,0*c);V(a,(.5+d)*b,0*c,1*b,(.5-d)*c,1*b,.5*c);V(a,1*b,(.5+d)*
c,(.5+d)*b,1*c,.5*b,1*c);V(a,(.5-d)*b,1*c,0*b,(.5+d)*c,0*b,.5*c);a.moveTo(.1*b,.5*c);V(a,.5*b,0*c,.5*b,1*c,.9*b,.5*c);b=a.q;b.ke=Vj;C.u(a);return b},DCvoltageSource:function(a,b,c){a=C.v();U(a,0,.75*c,!1);a.lineTo(0,.25*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);b=a.q;C.u(a);return b},Diode:function(a,b,c){a=C.v();U(a,1*b,0,!1);a.lineTo(1*b,.5*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(1*b,.5*c);a.lineTo(1*b,1*c);b=a.q;b.C=new S(0,.25);b.D=new S(.5,.75);C.u(a);return b},Wifi:function(a,b,c){var d=b,e=c;
b*=.38;c*=.6;a=C.v();var g=.8*Cd,h=.8,k=0,l=.5,d=(d-b)/2,e=(e-c)/2;U(a,k*b+d,(l+h)*c+e,!0);V(a,(k-g)*b+d,(l+h)*c+e,(k-h)*b+d,(l+g)*c+e,(k-h)*b+d,l*c+e);V(a,(k-h)*b+d,(l-g)*c+e,(k-g)*b+d,(l-h)*c+e,k*b+d,(l-h)*c+e);V(a,k*b+d,(l-h)*c+e,(k-h+.5*g)*b+d,(l-g)*c+e,(k-h+.5*g)*b+d,l*c+e);V(a,(k-h+.5*g)*b+d,(l+g)*c+e,k*b+d,(l+h)*c+e,k*b+d,(l+h)*c+e);X(a);g=.4*Cd;h=.4;k=.2;l=.5;U(a,k*b+d,(l+h)*c+e,!0);V(a,(k-g)*b+d,(l+h)*c+e,(k-h)*b+d,(l+g)*c+e,(k-h)*b+d,l*c+e);V(a,(k-h)*b+d,(l-g)*c+e,(k-g)*b+d,(l-h)*c+e,k*
b+d,(l-h)*c+e);V(a,k*b+d,(l-h)*c+e,(k-h+.5*g)*b+d,(l-g)*c+e,(k-h+.5*g)*b+d,l*c+e);V(a,(k-h+.5*g)*b+d,(l+g)*c+e,k*b+d,(l+h)*c+e,k*b+d,(l+h)*c+e);X(a);g=.2*Cd;h=.2;l=k=.5;U(a,(k-h)*b+d,l*c+e,!0);V(a,(k-h)*b+d,(l-g)*c+e,(k-g)*b+d,(l-h)*c+e,k*b+d,(l-h)*c+e);V(a,(k+g)*b+d,(l-h)*c+e,(k+h)*b+d,(l-g)*c+e,(k+h)*b+d,l*c+e);V(a,(k+h)*b+d,(l+g)*c+e,(k+g)*b+d,(l+h)*c+e,k*b+d,(l+h)*c+e);V(a,(k-g)*b+d,(l+h)*c+e,(k-h)*b+d,(l+g)*c+e,(k-h)*b+d,l*c+e);g=.4*Cd;h=.4;k=.8;l=.5;U(a,k*b+d,(l-h)*c+e,!0);V(a,(k+g)*b+d,(l-
h)*c+e,(k+h)*b+d,(l-g)*c+e,(k+h)*b+d,l*c+e);V(a,(k+h)*b+d,(l+g)*c+e,(k+g)*b+d,(l+h)*c+e,k*b+d,(l+h)*c+e);V(a,k*b+d,(l+h)*c+e,(k+h-.5*g)*b+d,(l+g)*c+e,(k+h-.5*g)*b+d,l*c+e);V(a,(k+h-.5*g)*b+d,(l-g)*c+e,k*b+d,(l-h)*c+e,k*b+d,(l-h)*c+e);X(a);g=.8*Cd;h=.8;k=1;l=.5;U(a,k*b+d,(l-h)*c+e,!0);V(a,(k+g)*b+d,(l-h)*c+e,(k+h)*b+d,(l-g)*c+e,(k+h)*b+d,l*c+e);V(a,(k+h)*b+d,(l+g)*c+e,(k+g)*b+d,(l+h)*c+e,k*b+d,(l+h)*c+e);V(a,k*b+d,(l+h)*c+e,(k+h-.5*g)*b+d,(l+g)*c+e,(k+h-.5*g)*b+d,l*c+e);V(a,(k+h-.5*g)*b+d,(l-g)*c+
e,k*b+d,(l-h)*c+e,k*b+d,(l-h)*c+e);X(a);b=a.q;C.u(a);return b},Email:function(a,b,c){a=C.v();U(a,0,0,!0);a.lineTo(1*b,0);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);X(a);U(a,0,0,!1);a.lineTo(.5*b,.6*c);a.lineTo(1*b,0);a.moveTo(0,1*c);a.lineTo(.45*b,.54*c);a.moveTo(1*b,1*c);a.lineTo(.55*b,.54*c);a.kb(!1);b=a.q;C.u(a);return b},Ethernet:function(a,b,c){a=C.v();U(a,.35*b,0,!0);a.lineTo(.65*b,0);a.lineTo(.65*b,.4*c);a.lineTo(.35*b,.4*c);a.lineTo(.35*b,0);X(a);U(a,.1*b,1*c,!0,!0);a.lineTo(.4*b,1*c);
a.lineTo(.4*b,.6*c);a.lineTo(.1*b,.6*c);a.lineTo(.1*b,1*c);X(a);U(a,.6*b,1*c,!0,!0);a.lineTo(.9*b,1*c);a.lineTo(.9*b,.6*c);a.lineTo(.6*b,.6*c);a.lineTo(.6*b,1*c);X(a);U(a,0,.5*c,!1);a.lineTo(1*b,.5*c);a.moveTo(.5*b,.5*c);a.lineTo(.5*b,.4*c);a.moveTo(.75*b,.5*c);a.lineTo(.75*b,.6*c);a.moveTo(.25*b,.5*c);a.lineTo(.25*b,.6*c);a.kb(!1);b=a.q;C.u(a);return b},Power:function(a,b,c){a=C.v();var d=.4*Cd,e=.4,g=C.P(),h=C.P(),k=C.P(),l=C.P();ze(.5,.5-e,.5+d,.5-e,.5+e,.5-d,.5+e,.5,.5,g,g,h,k,l);var m=C.Fb(h.x,
h.y);U(a,h.x*b,h.y*c,!0);V(a,k.x*b,k.y*c,l.x*b,l.y*c,(.5+e)*b,.5*c);V(a,(.5+e)*b,(.5+d)*c,(.5+d)*b,(.5+e)*c,.5*b,(.5+e)*c);V(a,(.5-d)*b,(.5+e)*c,(.5-e)*b,(.5+d)*c,(.5-e)*b,.5*c);ze(.5-e,.5,.5-e,.5-d,.5-d,.5-e,.5,.5-e,.5,k,l,h,g,g);V(a,k.x*b,k.y*c,l.x*b,l.y*c,h.x*b,h.y*c);d=.3*Cd;e=.3;ze(.5-e,.5,.5-e,.5-d,.5-d,.5-e,.5,.5-e,.5,k,l,h,g,g);a.lineTo(h.x*b,h.y*c);V(a,l.x*b,l.y*c,k.x*b,k.y*c,(.5-e)*b,.5*c);V(a,(.5-e)*b,(.5+d)*c,(.5-d)*b,(.5+e)*c,.5*b,(.5+e)*c);V(a,(.5+d)*b,(.5+e)*c,(.5+e)*b,(.5+d)*c,(.5+
e)*b,.5*c);ze(.5,.5-e,.5+d,.5-e,.5+e,.5-d,.5+e,.5,.5,g,g,h,k,l);V(a,l.x*b,l.y*c,k.x*b,k.y*c,h.x*b,h.y*c);X(a);U(a,.45*b,0,!0);a.lineTo(.45*b,.5*c);a.lineTo(.55*b,.5*c);a.lineTo(.55*b,0);X(a);C.A(g);C.A(h);C.A(k);C.A(l);C.A(m);b=a.q;b.C=new S(.25,.55);b.D=new S(.75,.8);C.u(a);return b},Fallout:function(a,b,c){a=C.v();var d=.5*Cd;U(a,0*b,.5*c,!0);V(a,0*b,(.5-d)*c,(.5-d)*b,0*c,.5*b,0*c);V(a,(.5+d)*b,0*c,1*b,(.5-d)*c,1*b,.5*c);V(a,1*b,(.5+d)*c,(.5+d)*b,1*c,.5*b,1*c);V(a,(.5-d)*b,1*c,0*b,(.5+d)*c,0*b,
.5*c);var e=d=0;U(a,(.3+d)*b,(.8+e)*c,!0,!0);a.lineTo((.5+d)*b,(.5+e)*c);a.lineTo((.1+d)*b,(.5+e)*c);a.lineTo((.3+d)*b,(.8+e)*c);d=.4;e=0;X(a);U(a,(.3+d)*b,(.8+e)*c,!0,!0);a.lineTo((.5+d)*b,(.5+e)*c);a.lineTo((.1+d)*b,(.5+e)*c);a.lineTo((.3+d)*b,(.8+e)*c);d=.2;e=-.3;X(a);U(a,(.3+d)*b,(.8+e)*c,!0,!0);a.lineTo((.5+d)*b,(.5+e)*c);a.lineTo((.1+d)*b,(.5+e)*c);a.lineTo((.3+d)*b,(.8+e)*c);X(a);b=a.q;b.ke=Vj;C.u(a);return b},IrritationHazard:function(a,b,c){a=C.v();U(a,.2*b,0*c,!0);a.lineTo(.5*b,.3*c);a.lineTo(.8*
b,0*c);a.lineTo(1*b,.2*c);a.lineTo(.7*b,.5*c);a.lineTo(1*b,.8*c);a.lineTo(.8*b,1*c);a.lineTo(.5*b,.7*c);a.lineTo(.2*b,1*c);a.lineTo(0*b,.8*c);a.lineTo(.3*b,.5*c);a.lineTo(0*b,.2*c);X(a);b=a.q;b.C=new S(.3,.3);b.D=new S(.7,.7);C.u(a);return b},ElectricalHazard:function(a,b,c){a=C.v();U(a,.37*b,0*c,!0);a.lineTo(.5*b,.11*c);a.lineTo(.77*b,.04*c);a.lineTo(.33*b,.49*c);a.lineTo(1*b,.37*c);a.lineTo(.63*b,.86*c);a.lineTo(.77*b,.91*c);a.lineTo(.34*b,1*c);a.lineTo(.34*b,.78*c);a.lineTo(.44*b,.8*c);a.lineTo(.65*
b,.56*c);a.lineTo(0*b,.68*c);X(a);b=a.q;C.u(a);return b},FireHazard:function(a,b,c){a=C.v();U(a,.1*b,1*c,!0);V(a,-.25*b,.63*c,.45*b,.44*c,.29*b,0*c);V(a,.48*b,.17*c,.54*b,.35*c,.51*b,.42*c);V(a,.59*b,.29*c,.58*b,.28*c,.59*b,.18*c);V(a,.8*b,.34*c,.88*b,.43*c,.75*b,.6*c);V(a,.87*b,.48*c,.88*b,.43*c,.88*b,.31*c);V(a,1.17*b,.76*c,.82*b,.8*c,.9*b,1*c);X(a);b=a.q;b.C=new S(.05,.645);b.D=new S(.884,.908);C.u(a);return b},BpmnActivityLoop:function(a,b,c){a=C.v();var d=4*(Math.SQRT2-1)/3*.5;U(a,.65*b,1*c,
!1);V(a,(1-d+0)*b,1*c,1*b,(.5+d+0)*c,1*b,.5*c);V(a,1*b,(.5-d+0)*c,(.5+d+0)*b,0*c,.5*b,0*c);V(a,(.5-d+0)*b,0*c,0*b,(.5-d+0)*c,0*b,.5*c);V(a,0*b,(.5+d+0)*c,(.5-d+0)*b,1*c,.35*b,.98*c);a.moveTo(.25*b,.8*c);a.lineTo(.35*b,1*c);a.lineTo(.1*b,1*c);b=a.q;C.u(a);return b},BpmnActivityParallel:function(a,b,c){a=C.v();U(a,0,0,!1);a.lineTo(0,1*c);a.moveTo(.5*b,0);a.lineTo(.5*b,1*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);b=a.q;C.u(a);return b},BpmnActivitySequential:function(a,b,c){a=C.v();U(a,0,0,!1);a.lineTo(1*
b,0);a.moveTo(0,.5*c);a.lineTo(1*b,.5*c);a.moveTo(0,1*c);a.lineTo(1*b,1*c);b=a.q;C.u(a);return b},BpmnActivityAdHoc:function(a,b,c){a=C.v();U(a,0,0,!1);U(a,1*b,1*c,!1);U(a,0,.5*c,!1);V(a,.2*b,.35*c,.3*b,.35*c,.5*b,.5*c);V(a,.7*b,.65*c,.8*b,.65*c,1*b,.5*c);b=a.q;C.u(a);return b},BpmnActivityCompensation:function(a,b,c){a=C.v();U(a,0,.5*c,!0);a.lineTo(.5*b,0);a.lineTo(.5*b,.5*c);a.lineTo(1*b,1*c);a.lineTo(1*b,0);a.lineTo(.5*b,.5*c);a.lineTo(.5*b,1*c);X(a);b=a.q;C.u(a);return b},BpmnTaskMessage:function(a,
b,c){a=C.v();U(a,0,.2*c,!0);a.lineTo(1*b,.2*c);a.lineTo(1*b,.8*c);a.lineTo(0,.8*c);a.lineTo(0,.8*c);X(a);U(a,0,.2*c,!1);a.lineTo(.5*b,.5*c);a.lineTo(1*b,.2*c);a.kb(!1);b=a.q;C.u(a);return b},BpmnTaskScript:function(a,b,c){a=C.v();U(a,.7*b,1*c,!0);a.lineTo(.3*b,1*c);V(a,.6*b,.5*c,0,.5*c,.3*b,0);a.lineTo(.7*b,0);V(a,.4*b,.5*c,1*b,.5*c,.7*b,1*c);X(a);U(a,.45*b,.73*c,!1);a.lineTo(.7*b,.73*c);a.moveTo(.38*b,.5*c);a.lineTo(.63*b,.5*c);a.moveTo(.31*b,.27*c);a.lineTo(.56*b,.27*c);a.kb(!1);b=a.q;C.u(a);return b},
BpmnTaskUser:function(a,b,c){a=C.v();U(a,0,0,!1);U(a,.335*b,(1-.555)*c,!0);a.lineTo(.335*b,.595*c);a.lineTo(.665*b,.595*c);a.lineTo(.665*b,(1-.555)*c);V(a,.88*b,.46*c,.98*b,.54*c,1*b,.68*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,.68*c);V(a,.02*b,.54*c,.12*b,.46*c,.335*b,(1-.555)*c);a.lineTo(.365*b,.405*c);var d=.5-.285,e=Math.PI/4,g=4*(1-Math.cos(e))/(3*Math.sin(e)),e=g*d,g=g*d;V(a,(.5-(e+d)/2)*b,(d+(d+g)/2)*c,(.5-d)*b,(d+g)*c,(.5-d)*b,d*c);V(a,(.5-d)*b,(d-g)*c,(.5-e)*b,(d-d)*c,.5*b,(d-d)*c);
V(a,(.5+e)*b,(d-d)*c,(.5+d)*b,(d-g)*c,(.5+d)*b,d*c);V(a,(.5+d)*b,(d+g)*c,(.5+(e+d)/2)*b,(d+(d+g)/2)*c,.635*b,.405*c);a.lineTo(.635*b,.405*c);a.lineTo(.665*b,(1-.555)*c);a.lineTo(.665*b,.595*c);a.lineTo(.335*b,.595*c);U(a,.2*b,1*c,!1);a.lineTo(.2*b,.8*c);U(a,.8*b,1*c,!1);a.lineTo(.8*b,.8*c);b=a.q;C.u(a);return b},BpmnEventConditional:function(a,b,c){a=C.v();U(a,.1*b,0,!0);a.lineTo(.9*b,0);a.lineTo(.9*b,1*c);a.lineTo(.1*b,1*c);X(a);U(a,.2*b,.2*c,!1);a.lineTo(.8*b,.2*c);a.moveTo(.2*b,.4*c);a.lineTo(.8*
b,.4*c);a.moveTo(.2*b,.6*c);a.lineTo(.8*b,.6*c);a.moveTo(.2*b,.8*c);a.lineTo(.8*b,.8*c);a.kb(!1);b=a.q;C.u(a);return b},BpmnEventError:function(a,b,c){a=C.v();U(a,0,1*c,!0);a.lineTo(.33*b,0);a.lineTo(.66*b,.5*c);a.lineTo(1*b,0);a.lineTo(.66*b,1*c);a.lineTo(.33*b,.5*c);X(a);b=a.q;C.u(a);return b},BpmnEventEscalation:function(a,b,c){a=C.v();U(a,0,0,!1);U(a,1*b,1*c,!1);U(a,.1*b,1*c,!0);a.lineTo(.5*b,0);a.lineTo(.9*b,1*c);a.lineTo(.5*b,.5*c);X(a);b=a.q;C.u(a);return b},BpmnEventTimer:function(a,b,c){a=
C.v();var d=.5*Cd;U(a,1*b,.5*c,!0);V(a,1*b,(.5+d)*c,(.5+d)*b,1*c,.5*b,1*c);V(a,(.5-d)*b,1*c,0,(.5+d)*c,0,.5*c);V(a,0,(.5-d)*c,(.5-d)*b,0,.5*b,0);V(a,(.5+d)*b,0,1*b,(.5-d)*c,1*b,.5*c);U(a,.5*b,0,!1);a.lineTo(.5*b,.15*c);a.moveTo(.5*b,1*c);a.lineTo(.5*b,.85*c);a.moveTo(0,.5*c);a.lineTo(.15*b,.5*c);a.moveTo(1*b,.5*c);a.lineTo(.85*b,.5*c);a.moveTo(.5*b,.5*c);a.lineTo(.58*b,.1*c);a.moveTo(.5*b,.5*c);a.lineTo(.78*b,.54*c);a.kb(!1);b=a.q;b.ke=Vj;C.u(a);return b}},Yq;for(Yq in iq)iq[Yq.toLowerCase()]=Yq;
var pq={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",
BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",
BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",
TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",
BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",
DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",
TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",
OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",
OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"};
function mq(a){var b=ne[a];if(void 0===b){var c=a.toLowerCase();if("none"===c)return"None";b=ne[c];if(void 0===b){var d=null,e;for(e in pq)if(e.toLowerCase()===c){d=e;break}if(null!==d)return a=of(pq[d],!1),ne[d]=a,c!==d&&(ne[c]=d),d}}return"string"===typeof b?b:b instanceof Ve?a:null}
function E(a){J.call(this,a);this.S=2408959;this.El=this.Ni="";this.dt=this.at=this.kt=this.os=null;this.mt="";this.lh=this.bs=this.lt=this.rn=null;this.ct="";this.Cp=null;this.bt=ie;this.et="";this.Ep=null;this.Td="";this.fw=this.qr=this.ql=null;this.hj=(new O(NaN,NaN)).freeze();this.ts="";this.Hl=null;this.us=hc;this.Cs=Qd;this.vs=Rd;this.Kr=null;this.ps=Zq;this.tn=Pd;this.sn="gray";this.Lg=4;this.nD=-1;this.Lt=NaN;this.kH=new z;this.Jl=null;this.rk=NaN}C.Ta(E,J);C.ka("Part",E);
E.prototype.cloneProtected=function(a){J.prototype.cloneProtected.call(this,a);a.S=this.S&-4097|49152;a.Ni=this.Ni;a.El=this.El;a.os=this.os;a.kt=this.kt;a.at=this.at;a.dt=this.dt;a.mt=this.mt;a.lt=this.lt;a.bs=this.bs;a.lh=null;a.ct=this.ct;a.bt=this.bt.V();a.et=this.et;a.Td=this.Td;a.qr=this.qr;a.hj.assign(this.hj);a.ts=this.ts;a.us=this.us.V();a.Cs=this.Cs.V();a.vs=this.vs.V();a.Kr=this.Kr;a.ps=this.ps;a.tn=this.tn.V();a.sn=this.sn;a.Lg=this.Lg;a.Lt=this.Lt};
E.prototype.Bi=function(a){J.prototype.Bi.call(this,a);a.pm();a.rn=null;a.Cp=null;a.Ep=null;a.Hl=null;a.Jl=null};E.prototype.toString=function(){var a=C.tf(Object.getPrototypeOf(this))+"#"+C.Gd(this);null!==this.data&&(a+="("+ka(this.data)+")");return a};E.LayoutNone=0;var Lm;E.LayoutAdded=Lm=1;var Um;E.LayoutRemoved=Um=2;E.LayoutShown=4;E.LayoutHidden=8;E.LayoutNodeSized=16;var An;E.LayoutGroupLayout=An=32;E.LayoutNodeReplaced=64;var Zq;E.LayoutStandard=Zq=Lm|Um|28|An|64;E.LayoutAll=16777215;
E.prototype.lo=function(a,b,c,d,e,g,h){var k=this.g;null!==k&&(a===sg&&"elements"===b?e instanceof J?Mm(e,function(a){Om(k,a);Nm(k,a)}):e instanceof Cl&&mn(k,e):a===tg&&"elements"===b&&(e instanceof J?Mm(e,function(a){Sm(k,a);Rm(k,a)}):e instanceof Cl&&nn(k,e)),k.ld(a,b,c,d,e,g,h))};E.prototype.updateTargetBindings=E.prototype.Mb=function(a){J.prototype.Mb.call(this,a);if(null!==this.data){a=this.va.o;for(var b=a.length,c=0;c<b;c++){var d=a[c];d instanceof J&&Mm(d,function(a){null!==a.data&&a.Mb()})}}};
E.prototype.updateRelationshipsFromData=function(){var a=this.data;if(null!==a){var b=this.g;if(null!==b){var c=b.ia;c instanceof Y&&(a=c.Sn(a),b=b.DI(a),null===b||b instanceof H)&&(this.Qa=b)}}};C.w(E,{ex:"adornments"},function(){return null===this.lh?Na:this.lh.PF});E.prototype.findAdornment=E.prototype.iq=function(a){u&&C.h(a,"string",E,"findAdornment:category");var b=this.lh;return null===b?null:b.pa(a)};
E.prototype.addAdornment=E.prototype.Sl=function(a,b){if(null!==b){u&&(C.h(a,"string",E,"addAdornment:category"),C.l(b,ea,E,"addAdornment:ad"));var c=null,d=this.lh;null!==d&&(c=d.pa(a));if(c!==b){if(null!==c){var e=c.g;null!==e&&e.remove(c)}null===d&&(this.lh=d=new oa("string",ea));b.Ni!==a&&(b.rc=a);d.add(a,b);c=this.g;null!==c&&(c.add(b),b.data=this.data)}}};
E.prototype.removeAdornment=E.prototype.Rj=function(a){u&&C.h(a,"string",E,"removeAdornment:category");var b=this.lh;if(null!==b){var c=b.pa(a);if(null!==c){var d=c.g;null!==d&&d.remove(c)}b.remove(a);0===b.count&&(this.lh=null)}};E.prototype.clearAdornments=E.prototype.Wt=function(){var a=this.lh;if(null!==a){for(var b=C.tb(),a=a.j;a.next();)b.push(a.key);for(var a=b.length,c=0;c<a;c++)this.Rj(b[c]);C.Ba(b)}};
E.prototype.updateAdornments=function(){var a=this.g;if(null!==a){a:{if(this.jb&&this.BG){var b=this.no;if(!(null!==b&&this.Z.F()&&this.isVisible()&&b.Lj()&&b.Z.F()))break a;var c=this.iq("Selection");if(null===c){c=this.gK;null===c&&(c=this instanceof I?a.uJ:this instanceof H?a.SI:a.LJ);if(!(c instanceof ea))break a;Nh(c);c=c.copy();null!==c&&(c.rc="Selection",c.Ab=b)}if(null!==c){var d=c.placeholder;if(null!==d){var e=b.Ej(),g=0;b instanceof w&&(g=b.ib);var h=C.Am();h.m((b.Ja.width+g)*e,(b.Ja.height+
g)*e);d.Da=h;C.Qk(h)}c.angle=b.Rn();c.type!==kj&&(d=C.P(),c.location=b.fb(hc,d),C.A(d));this.Sl("Selection",c);break a}}this.Rj("Selection")}$q(this,a);for(a=this.ex;a.next();)b=a.value,b.Mb(),b.K()}};function $q(a,b){b.lb.mf.each(function(b){b.isEnabled&&b.updateAdornments(a)});b.lb.updateAdornments(a)}C.w(E,{layer:"layer"},function(){return this.fw});C.w(E,{g:"diagram"},function(){var a=this.fw;return null!==a?a.g:null});
C.defineProperty(E,{Kf:"layerName"},function(){return this.El},function(a){var b=this.El;if(b!==a){C.h(a,"string",E,"layerName");var c=this.g;if(null===c||null!==c.hm(a)&&!c.cr)if(this.El=a,null!==c&&c.Bc(),this.i("layerName",b,a),b=this.layer,null!==b&&b.name!==a&&(c=b.g,null!==c&&(a=c.hm(a),null!==a&&a!==b))){var d=b.uf(-1,this,!0);0<=d&&c.ld(tg,"parts",b,this,null,d,!0);b.visible!==a.visible&&this.Jd(a.visible);d=a.qq(99999999,this,!0);0<=d&&c.ld(sg,"parts",a,null,this,!0,d);d=this.Yx;if(null!==
d){var e=c.bb;c.bb=!0;d(this,b,a);c.bb=e}}}});C.defineProperty(E,{Yx:"layerChanged"},function(){return this.os},function(a){var b=this.os;b!==a&&(null!==a&&C.h(a,"function",E,"layerChanged"),this.os=a,this.i("layerChanged",b,a))});C.defineProperty(E,{xo:"zOrder"},function(){return this.Lt},function(a){var b=this.Lt;if(b!==a){C.h(a,"number",E,"zOrder");this.Lt=a;var c=this.layer;null!==c&&tl(c,-1,this);this.i("zOrder",b,a);a=this.g;null!==a&&a.ra()}});
E.prototype.invalidateAdornments=E.prototype.pe=function(){var a=this.g;null!==a&&(Pl(a),0!==(this.S&16384)!==!0&&(this.S|=16384,a.Te()))};function pl(a){0!==(a.S&16384)!==!1&&(a.updateAdornments(),a.S&=-16385)}function Wo(a){if(!1===Em(a)){var b=a.g;null!==b&&(b.Cg.add(a),b.Te());ar(a,!0);a.$i()}}function br(a){a.S|=2097152;if(!1!==Em(a)){var b=a.position,c=a.location;c.F()&&b.F()||cr(a,b,c);var c=a.bc,d=c.copy();c.Za();c.x=b.x;c.y=b.y;c.freeze();a.gy(d,c);ar(a,!1)}}
C.w(E,{dc:"locationObject"},function(){if(null===this.Hl){var a=this.ay;""!==a?(a=this.Fd(a),this.Hl=null!==a?a:this):this.Hl=this instanceof ea?this.type!==kj&&null!==this.placeholder?this.placeholder:this:this}return this.Hl.visible?this.Hl:this});C.defineProperty(E,{FJ:"minLocation"},function(){return this.Cs},function(a){var b=this.Cs;b.O(a)||(u&&C.l(a,O,E,"minLocation"),this.Cs=a=a.V(),this.i("minLocation",b,a))});
C.defineProperty(E,{zJ:"maxLocation"},function(){return this.vs},function(a){var b=this.vs;b.O(a)||(u&&C.l(a,O,E,"maxLocation"),this.vs=a=a.V(),this.i("maxLocation",b,a))});C.defineProperty(E,{ay:"locationObjectName"},function(){return this.ts},function(a){var b=this.ts;b!==a&&(u&&C.h(a,"string",E,"locationObjectName"),this.ts=a,this.Hl=null,Ro(this),this.i("locationObjectName",b,a))});
C.defineProperty(E,{xf:"locationSpot"},function(){return this.us},function(a){var b=this.us;b.O(a)||(u&&(C.l(a,S,E,"locationSpot"),a.jd()||C.k("Part.locationSpot must be a specific Spot value, not: "+a)),this.us=a=a.V(),Ro(this),this.i("locationSpot",b,a))});E.prototype.move=function(a){this.position=a};E.prototype.moveTo=E.prototype.moveTo=function(a,b){var c=C.Fb(a,b);this.move(c);C.A(c)};
E.prototype.isVisible=function(){if(!this.visible)return!1;var a=this.layer;if(null!==a&&!a.visible)return!1;a=this.g;if(null!==a&&(a=a.Ya,a.vf&&(a=a.en.pa(this),null!==a&&a.ny)))return!0;a=this.Qa;return null===a||a.Ke&&a.isVisible()?!0:!1};E.prototype.Jd=function(a){var b=this.g;a?(this.N(4),this.pe(),null!==b&&b.Cg.add(this)):(this.N(8),this.Wt());this.pm();null!==b&&(b.Bc(),b.ra())};
E.prototype.findObject=E.prototype.Fd=function(a){if(this.name===a)return this;var b=this.Jl;null===b&&(this.Jl=b=new na);if(void 0!==b[a])return b[a];for(var c=this.va.o,d=c.length,e=0;e<d;e++){var g=c[e];if(g.name===a)return b[a]=g;if(g instanceof J)if(null===g.cj&&null===g.Eg){if(g=g.Fd(a),null!==g)return b[a]=g}else if(kn(g)&&(g=g.va.first(),null!==g&&g.name===a))return b[a]=g}return b[a]=null};
function dr(a,b,c,d){void 0===d&&(d=new O);c=c.Zd()?mc:c;var e=b.Ja;d.m(e.width*c.x+c.offsetX,e.height*c.y+c.offsetY);if(null===b||b===a)return d;b.transform.wb(d);for(b=b.Q;null!==b&&b!==a;)b.transform.wb(d),b=b.Q;a.gj.wb(d);d.offset(-a.Dd.x,-a.Dd.y);return d}E.prototype.ensureBounds=E.prototype.jf=function(){Bk(this,Infinity,Infinity);this.qc()};
function sl(a,b){var c=a.kH,d;isNaN(a.rk)&&(a.rk=Yp(a));d=a.rk;var e=2*d;if(!a.Vk)return c.m(b.x-1-d,b.y-1-d,b.width+2+e,b.height+2+e),c;d=b.x;var e=b.y,g=b.width,h=b.height,k=a.shadowBlur,l=a.lK,g=g+k,h=h+k;d-=k/2;e-=k/2;0<l.x?g+=l.x:(d+=l.x,g-=l.x);0<l.y?h+=l.y:(e+=l.y,h-=l.y);c.m(d-1,e-1,g+2,h+2);return c}
E.prototype.qc=function(){this.$i();if(!1===Dm(this))br(this);else{var a=this.bc,b=C.Nf();b.assign(a);a.Za();var c=ol(this);this.yj(0,0,this.Dd.width,this.Dd.height);var d=this.position;cr(this,d,this.location);a.x=d.x;a.y=d.y;a.freeze();this.gy(b,a);Fo(this,!1);b.O(a)?this.Lf(c):!this.qe()||R(b.width,a.width)&&R(b.height,a.height)||0<=this.nD&&this.N(16);C.Lb(b);ar(this,!1)}};
E.prototype.gy=function(a,b){var c=this.g;if(null!==c){var d=!1;if(!1===c.kk&&a.F()){var e=c.fd,g=c.padding,h=e.x+g.left,k=e.y+g.top,l=e.width-2*g.right,e=e.height-2*g.bottom;a.x>h&&a.y>k&&a.right<l&&a.bottom<e&&b.x>h&&b.y>k&&b.right<l&&b.bottom<e&&(d=!0)}0!==(this.S&65536)!==!0&&a.O(b)||Pm(this,d,c);c.ra();Bb(a,b)||(this instanceof F&&!c.sa.ob&&this.fg(),this.pm())}};
C.defineProperty(E,{location:"location"},function(){return this.hj},function(a){u&&C.l(a,O,E,"location");var b=a.x,c=a.y,d=this.hj,e=d.x,g=d.y;(e===b||isNaN(e)&&isNaN(b))&&(g===c||isNaN(g)&&isNaN(c))||(a=a.V(),b=a,this instanceof I?b=!1:(this.hj=b,this.S|=2097152,!1===Dm(this)&&(Wo(this),c=this.ub,c.F()&&(e=c.copy(),c.m(c.x+(b.x-d.x),c.y+(b.y-d.y)),er(this,this.g,c,e),this.i("position",e,c))),b=!0),b&&this.i("location",d,a))});f=E.prototype;
f.BB=function(a,b){if(this instanceof I||!a.F())return!1;var c=this.g;if(null!==c&&(er(this,c,a,b),!0===c.sa.ob))return!0;this.ub=a;this.S&=-2097153;c=this.hj;if(c.F()){var d=c.copy();c.m(c.x+(a.x-b.x),c.y+(a.y-b.y));this.i("location",d,c)}!1===Em(this)&&!1===Dm(this)&&(Wo(this),br(this));return!0};function er(a,b,c,d){null===b||a instanceof ea||(b=b.Ya,b.yc&&cl(b,a,"position",d.copy(),c.copy(),!1))}
f.zy=function(a,b){var c=this.hj,d=this.ub;Em(this)||Dm(this)?c.m(NaN,NaN):c.m(c.x+a-d.x,c.y+b-d.y);d.m(a,b);Wo(this)};f.CB=function(){this.S&=-2097153;Wo(this)};
function cr(a,b,c){var d=C.P(),e=a.xf,g=a.dc;e.Zd()&&C.k("determineOffset: Part's locationSpot must be real: "+e.toString());var h=g.Ja,k=g instanceof w?g.ib:0;d.Yu(0,0,h.width+k,h.height+k,e);if(g!==a)for(d.offset(-k/2,-k/2),g.transform.wb(d),e=g.Q;null!==e&&e!==a;)e.transform.wb(d),e=e.Q;a.gj.wb(d);d.offset(-a.Dd.x,-a.Dd.y);e=a.g;g=c.F();h=b.F();g&&h?0!==(a.S&2097152)?fr(a,b,c,e,d):gr(a,b,c,e,d):g?fr(a,b,c,e,d):h&&gr(a,b,c,e,d);a.S|=2097152;C.A(d);a.$i()}
function fr(a,b,c,d,e){var g=b.x,h=b.y;b.m(c.x-e.x,c.y-e.y);null!==d&&(c=d.Ya,(e=c.lk)||!c.yc||a instanceof ea||cl(c,a,"position",new O(g,h),b,!1),e||b.x===g&&b.y===h||(c=d.Eb,d.Eb=!0,a.i("position",new O(g,h),b),d.Eb=c))}function gr(a,b,c,d,e){var g=c.copy();c.m(b.x+e.x,b.y+e.y);c.O(g)||null===d||(b=d.Eb,d.Eb=!0,a.i("location",g,c),d.Eb=b)}
function Pm(a,b,c){Ho(a,!1);a instanceof F&&Hn(c,a);a.layer.Xc||b||c.Bc();b=a.bc;var d=c.yb;d.F()?(ol(a)?Qb(b,d)||a.Lf(!1):b.Wg(d)&&a.Lf(!0),a.updateAdornments()):c.zl=!0}f.sm=function(){return!0};
function ql(a,b){var c=a.bc;if(0!==c.width&&0!==c.height&&!isNaN(c.x)&&!isNaN(c.y)&&a.isVisible()){var d=a.transform;null!==a.jc&&(No(a,b,a.jc,!0,!0),b.fillRect(c.x,c.y,c.width,c.height));null===a.jc&&null===a.Kb&&(No(a,b,"rgba(0,0,0,0.4)",!0,!1),b.fillRect(c.x,c.y,c.width,c.height));null!==a.Kb&&(d.vu()||b.transform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy),c=a.Ja,No(a,b,a.Kb,!0,!1),b.fillRect(0,0,c.width,c.height),d.vu()||(c=1/(d.m11*d.m22-d.m12*d.m21),b.transform(d.m22*c,-d.m12*c,-d.m21*c,d.m11*c,c*(d.m21*
d.dy-d.m22*d.dx),c*(d.m12*d.dx-d.m11*d.dy))))}}f.qe=function(){return!0};
C.defineProperty(E,{rc:"category"},function(){return this.Ni},function(a){var b=this.Ni;if(b!==a){C.h(a,"string",E,"category");var c=this.g,d=this.data,e=null;if(null!==c&&null!==d&&!(this instanceof ea)){var g=c.ia.sa;g.isEnabled&&!g.ob&&(e=this.clone(),e.va.Vc(this.va))}this.Ni=a;this.i("category",b,a);null===c||null===d||this instanceof ea?(e=this.Zf,null!==e&&(a=e.lh,null!==a&&a.remove(b),e.Sl(this.rc,this))):(g=c.ia,g.sa.ob||(this instanceof I?(g instanceof Y?g.DG(d,a):g instanceof Cg&&g.jK(d,
a),c=un(c,a),null!==c&&(Nh(c),c=c.copy(),null!==c&&hr(this,c,b,a))):(null!==g&&g.xy(d,a),c=rn(c,d,a),null!==c&&(Nh(c),c=c.copy(),null===c||c instanceof I||(c.location=this.location,hr(this,c,b,a)))),null!==e&&(b=this.clone(),b.va.Vc(this.va),this.i("self",e,b))))}});C.defineProperty(E,{self:"self"},function(){return this},function(a){hr(this,a,this.rc,a.rc)});var ir=!1;
function hr(a,b,c,d){b.constructor===a.constructor||ir||(ir=!0,C.trace('Should not change the class of the Part when changing category from "'+c+'" to "'+d+'"'),C.trace("  Old class: "+C.tf(a)+", new class: "+C.tf(b)+", part: "+a.toString()));a.Wt();var e=a.data;c=a.Kf;var g=a.jb,h=a.Xg,k=!0,l=!0,m=!1;if(a instanceof F)var n=a,k=n.Kj,l=n.ud,m=n.fv;b.Bi(a);b.cloneProtected(a);a.Ni=d;a.K();a.ra();b=a.g;d=!0;null!==b&&(d=b.Eb,b.Eb=!0);a.fe=e;null!==e&&a.Mb();null!==b&&(b.Eb=d);e=a.Kf;e!==c&&(a.El=c,
a.Kf=e);a instanceof F&&(n=a,n.Kj=k,n.ud=l,n.fv=m,n.qe()&&n.N(64));a.jb=g;a.Xg=h}E.prototype.canCopy=function(){if(!this.ME)return!1;var a=this.layer;if(null===a)return!0;if(!a.Ik)return!1;a=a.g;return null===a?!0:a.Ik?!0:!1};E.prototype.canDelete=function(){if(!this.QE)return!1;var a=this.layer;if(null===a)return!0;if(!a.Bn)return!1;a=a.g;return null===a?!0:a.Bn?!0:!1};
E.prototype.canEdit=function(){if(!this.NG)return!1;var a=this.layer;if(null===a)return!0;if(!a.jx)return!1;a=a.g;return null===a?!0:a.jx?!0:!1};E.prototype.canGroup=function(){if(!this.vF)return!1;var a=this.layer;if(null===a)return!0;if(!a.gx)return!1;a=a.g;return null===a?!0:a.gx?!0:!1};E.prototype.canMove=function(){if(!this.YF)return!1;var a=this.layer;if(null===a)return!0;if(!a.Wl)return!1;a=a.g;return null===a?!0:a.Wl?!0:!1};
E.prototype.canReshape=function(){if(!this.oG)return!1;var a=this.layer;if(null===a)return!0;if(!a.hx)return!1;a=a.g;return null===a?!0:a.hx?!0:!1};E.prototype.canResize=function(){if(!this.pG)return!1;var a=this.layer;if(null===a)return!0;if(!a.Tt)return!1;a=a.g;return null===a?!0:a.Tt?!0:!1};E.prototype.canRotate=function(){if(!this.uG)return!1;var a=this.layer;if(null===a)return!0;if(!a.ix)return!1;a=a.g;return null===a?!0:a.ix?!0:!1};
E.prototype.canSelect=function(){if(!this.Zk)return!1;var a=this.layer;if(null===a)return!0;if(!a.Cf)return!1;a=a.g;return null===a?!0:a.Cf?!0:!1};C.defineProperty(E,{ME:"copyable"},function(){return 0!==(this.S&1)},function(a){var b=0!==(this.S&1);b!==a&&(u&&C.h(a,"boolean",E,"copyable"),this.S^=1,this.i("copyable",b,a))});
C.defineProperty(E,{QE:"deletable"},function(){return 0!==(this.S&2)},function(a){var b=0!==(this.S&2);b!==a&&(u&&C.h(a,"boolean",E,"deletable"),this.S^=2,this.i("deletable",b,a))});C.defineProperty(E,{NG:"textEditable"},function(){return 0!==(this.S&4)},function(a){var b=0!==(this.S&4);b!==a&&(u&&C.h(a,"boolean",E,"textEditable"),this.S^=4,this.i("textEditable",b,a),this.pe())});
C.defineProperty(E,{vF:"groupable"},function(){return 0!==(this.S&8)},function(a){var b=0!==(this.S&8);b!==a&&(u&&C.h(a,"boolean",E,"groupable"),this.S^=8,this.i("groupable",b,a))});C.defineProperty(E,{YF:"movable"},function(){return 0!==(this.S&16)},function(a){var b=0!==(this.S&16);b!==a&&(u&&C.h(a,"boolean",E,"movable"),this.S^=16,this.i("movable",b,a))});
C.defineProperty(E,{BG:"selectionAdorned"},function(){return 0!==(this.S&32)},function(a){var b=0!==(this.S&32);b!==a&&(u&&C.h(a,"boolean",E,"selectionAdorned"),this.S^=32,this.i("selectionAdorned",b,a),this.pe())});C.defineProperty(E,{Qx:"isInDocumentBounds"},function(){return 0!==(this.S&64)},function(a){var b=0!==(this.S&64);if(b!==a){u&&C.h(a,"boolean",E,"isInDocumentBounds");this.S^=64;var c=this.g;null!==c&&c.Bc();this.i("isInDocumentBounds",b,a)}});
C.defineProperty(E,{TA:"isLayoutPositioned"},function(){return 0!==(this.S&128)},function(a){var b=0!==(this.S&128);b!==a&&(u&&C.h(a,"boolean",E,"isLayoutPositioned"),this.S^=128,this.i("isLayoutPositioned",b,a),this.N(a?4:8))});C.defineProperty(E,{Zk:"selectable"},function(){return 0!==(this.S&256)},function(a){var b=0!==(this.S&256);b!==a&&(u&&C.h(a,"boolean",E,"selectable"),this.S^=256,this.i("selectable",b,a),this.pe())});
C.defineProperty(E,{oG:"reshapable"},function(){return 0!==(this.S&512)},function(a){var b=0!==(this.S&512);b!==a&&(u&&C.h(a,"boolean",E,"reshapable"),this.S^=512,this.i("reshapable",b,a),this.pe())});C.defineProperty(E,{pG:"resizable"},function(){return 0!==(this.S&1024)},function(a){var b=0!==(this.S&1024);b!==a&&(u&&C.h(a,"boolean",E,"resizable"),this.S^=1024,this.i("resizable",b,a),this.pe())});
C.defineProperty(E,{uG:"rotatable"},function(){return 0!==(this.S&2048)},function(a){var b=0!==(this.S&2048);b!==a&&(u&&C.h(a,"boolean",E,"rotatable"),this.S^=2048,this.i("rotatable",b,a),this.pe())});
C.defineProperty(E,{jb:"isSelected"},function(){return 0!==(this.S&4096)},function(a){var b=0!==(this.S&4096);if(b!==a){u&&C.h(a,"boolean",E,"isSelected");var c=this.g;if(!a||this.canSelect()&&!(null!==c&&c.selection.count>=c.AJ)){this.S^=4096;var d=!1;if(null!==c){d=c.Eb;c.Eb=!0;var e=c.selection;e.Za();a?e.add(this):e.remove(this);e.freeze()}this.i("isSelected",b,a);this.pe();a=this.hK;null!==a&&a(this);null!==c&&(c.Te(),c.Eb=d)}}});
C.defineProperty(E,{Xg:"isHighlighted"},function(){return 0!==(this.S&524288)},function(a){var b=0!==(this.S&524288);if(b!==a){u&&C.h(a,"boolean",E,"isHighlighted");this.S^=524288;var c=this.g;null!==c&&(c=c.om,c.Za(),a?c.add(this):c.remove(this),c.freeze());this.i("isHighlighted",b,a);this.ra();a=this.VI;null!==a&&a(this)}});
C.defineProperty(E,{Vk:"isShadowed"},function(){return 0!==(this.S&8192)},function(a){var b=0!==(this.S&8192);b!==a&&(u&&C.h(a,"boolean",E,"isShadowed"),this.S^=8192,this.i("isShadowed",b,a),this.ra())});function Em(a){return 0!==(a.S&32768)}function ar(a,b){a.S=b?a.S|32768:a.S&-32769}function Ho(a,b){a.S=b?a.S|65536:a.S&-65537}function ol(a){return 0!==(a.S&131072)}E.prototype.Lf=function(a){this.S=a?this.S|131072:this.S&-131073};function jr(a,b){a.S=b?a.S|1048576:a.S&-1048577}
C.defineProperty(E,{CF:"isAnimated"},function(){return 0!==(this.S&262144)},function(a){var b=0!==(this.S&262144);b!==a&&(u&&C.h(a,"boolean",E,"isAnimated"),this.S^=262144,this.i("isAnimated",b,a))});C.defineProperty(E,{VI:"highlightedChanged"},function(){return this.bs},function(a){var b=this.bs;b!==a&&(null!==a&&C.h(a,"function",E,"highlightedChanged"),this.bs=a,this.i("highlightedChanged",b,a))});
C.defineProperty(E,{vy:"selectionObjectName"},function(){return this.mt},function(a){var b=this.mt;b!==a&&(u&&C.h(a,"string",E,"selectionObjectName"),this.mt=a,this.rn=null,this.i("selectionObjectName",b,a))});C.defineProperty(E,{gK:"selectionAdornmentTemplate"},function(){return this.kt},function(a){var b=this.kt;b!==a&&(u&&C.l(a,ea,E,"selectionAdornmentTemplate"),this instanceof I&&(a.type=kj),this.kt=a,this.i("selectionAdornmentTemplate",b,a))});
C.w(E,{no:"selectionObject"},function(){if(null===this.rn){var a=this.vy;null!==a&&""!==a?(a=this.Fd(a),this.rn=null!==a?a:this):this instanceof I?(a=this.path,this.rn=null!==a?a:this):this.rn=this}return this.rn});C.defineProperty(E,{hK:"selectionChanged"},function(){return this.lt},function(a){var b=this.lt;b!==a&&(null!==a&&C.h(a,"function",E,"selectionChanged"),this.lt=a,this.i("selectionChanged",b,a))});
C.defineProperty(E,{qG:"resizeAdornmentTemplate"},function(){return this.at},function(a){var b=this.at;b!==a&&(u&&C.l(a,ea,E,"resizeAdornmentTemplate"),this.at=a,this.i("resizeAdornmentTemplate",b,a))});C.defineProperty(E,{sG:"resizeObjectName"},function(){return this.ct},function(a){var b=this.ct;b!==a&&(u&&C.h(a,"string",E,"resizeObjectName"),this.ct=a,this.Cp=null,this.i("resizeObjectName",b,a))});
C.w(E,{rG:"resizeObject"},function(){if(null===this.Cp){var a=this.sG;null!==a&&""!==a?(a=this.Fd(a),this.Cp=null!==a?a:this):this.Cp=this}return this.Cp});C.defineProperty(E,{ZJ:"resizeCellSize"},function(){return this.bt},function(a){var b=this.bt;b.O(a)||(u&&C.l(a,Fa,E,"resizeCellSize"),this.bt=a=a.V(),this.i("resizeCellSize",b,a))});
C.defineProperty(E,{aK:"rotateAdornmentTemplate"},function(){return this.dt},function(a){var b=this.dt;b!==a&&(u&&C.l(a,ea,E,"rotateAdornmentTemplate"),this.dt=a,this.i("rotateAdornmentTemplate",b,a))});C.defineProperty(E,{bK:"rotateObjectName"},function(){return this.et},function(a){var b=this.et;b!==a&&(u&&C.h(a,"string",E,"rotateObjectName"),this.et=a,this.Ep=null,this.i("rotateObjectName",b,a))});
C.w(E,{vG:"rotateObject"},function(){if(null===this.Ep){var a=this.bK;null!==a&&""!==a?(a=this.Fd(a),this.Ep=null!==a?a:this):this.Ep=this}return this.Ep});C.defineProperty(E,{text:"text"},function(){return this.Td},function(a){var b=this.Td;b!==a&&(u&&C.h(a,"string",E,"text"),this.Td=a,this.i("text",b,a))});
C.defineProperty(E,{Qa:"containingGroup"},function(){return this.ql},function(a){if(this.qe()){var b=this.ql;if(b!==a){u&&null!==a&&C.l(a,H,E,"containingGroup");null===a||this!==a&&!a.Ei(this)||(this===a&&C.k("Cannot make a Group a member of itself: "+this.toString()),C.k("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+a.toString()));this.N(Um);var c=this.g;null!==b?kr(b,this):this instanceof H&&null!==c&&c.Pl.remove(this);this.ql=a;null!==a?lr(a,this):this instanceof
H&&null!==c&&c.Pl.add(this);this.N(Lm);if(null!==c){var d=this.data,e=c.ia;null!==d&&e instanceof Y&&e.zB(d,e.Cb(null!==a?a.data:null))}d=this.IE;null!==d&&(e=!0,null!==c&&(e=c.bb,c.bb=!0),d(this,b,a),null!==c&&(c.bb=e));if(this instanceof H)for(c=new L(E),Lh(c,this,!0,0,!0),c=c.j;c.next();)if(d=c.value,d instanceof F)for(d=d.Hd;d.next();)pn(d.value);if(this instanceof F)for(d=this.Hd;d.next();)pn(d.value);this.i("containingGroup",b,a);null!==a&&(b=a.layer,null!==b&&tl(b,-1,a))}}else C.k("cannot set the Part.containingGroup of a Link or Adornment")});
f=E.prototype;f.pm=function(){var a=this.Qa;null!==a&&(a.K(),null!==a.Qb&&a.Qb.K(),a.fg())};f.ra=function(){var a=this.g;null!==a&&!Dm(this)&&!Em(this)&&this.isVisible()&&this.bc.F()&&a.ra(sl(this,this.bc))};f.K=function(){J.prototype.K.call(this);var a=this.g;null!==a&&(a.Cg.add(this),this instanceof F&&null!==this.Cc&&Ro(this.Cc),a.Te(!0))};f.pu=function(a){a||(a=this.ql,null!==a&&lr(a,this))};f.qu=function(a){a||(a=this.ql,null!==a&&kr(a,this))};
f.Mn=function(){var a=this.data;if(null!==a){var b=this.g;null!==b&&(b=b.ia,null!==b&&b.qy(a))}};C.defineProperty(E,{IE:"containingGroupChanged"},function(){return this.qr},function(a){var b=this.qr;b!==a&&(null!==a&&C.h(a,"function",E,"containingGroupChanged"),this.qr=a,this.i("containingGroupChanged",b,a))});E.prototype.findSubGraphLevel=function(){return mr(this,this)};function mr(a,b){var c=b.Qa;return null!==c?1+mr(a,c):b instanceof F&&(c=b.Cc,null!==c)?mr(a,c):0}
E.prototype.findTopLevelPart=function(){return nr(this,this)};function nr(a,b){var c=b.Qa;return null!==c?nr(a,c):b instanceof F&&(c=b.Cc,null!==c)?nr(a,c):b}C.w(E,{vq:"isTopLevel"},function(){return null!==this.Qa||this instanceof F&&this.wf?!1:!0});E.prototype.isMemberOf=E.prototype.Ei=function(a){return a instanceof H?or(this,this,a):!1};function or(a,b,c){if(b===c||null===c)return!1;var d=b.Qa;return null===d||d!==c&&!or(a,d,c)?b instanceof F&&(b=b.Cc,null!==b)?or(a,b,c):!1:!0}
E.prototype.findCommonContainingGroup=E.prototype.BI=function(a){if(null===a)return null;u&&C.l(a,E,E,"findCommonContainingGroup:other");if(this===a)return this.Qa;for(var b=this;null!==b;)b instanceof H&&jr(b,!0),b=b.Qa;for(var c=null,b=a;null!==b;){if(0!==(b.S&1048576)){c=b;break}b=b.Qa}for(b=this;null!==b;)b instanceof H&&jr(b,!1),b=b.Qa;return c};
C.defineProperty(E,{pJ:"layoutConditions"},function(){return this.ps},function(a){var b=this.ps;b!==a&&(u&&C.h(a,"number",E,"layoutConditions"),this.ps=a,this.i("layoutConditions",b,a))});E.prototype.canLayout=function(){if(!this.TA||!this.isVisible())return!1;var a=this.layer;return null!==a&&a.Xc||this instanceof F&&this.wf?!1:!0};
E.prototype.invalidateLayout=E.prototype.N=function(a){void 0===a&&(a=16777215);var b;this.TA&&0!==(a&this.pJ)?(b=this.layer,null!==b&&b.Xc||this instanceof F&&this.wf?b=!1:(b=this.g,b=null!==b&&b.sa.ob?!1:!0)):b=!1;if(b)if(b=this.ql,null!==b){var c=b.Wb;null!==c?c.N():b.N(a)}else a=this.g,null!==a&&(c=a.Wb,null!==c&&c.N())};function Qm(a){if(!a.isVisible())return!1;a=a.layer;return null!==a&&a.Xc?!1:!0}
C.defineProperty(E,{VE:"dragComputation"},function(){return this.Kr},function(a){var b=this.Kr;b!==a&&(null!==a&&C.h(a,"function",E,"dragComputation"),this.Kr=a,this.i("dragComputation",b,a))});C.defineProperty(E,{lK:"shadowOffset"},function(){return this.tn},function(a){var b=this.tn;b.O(a)||(u&&C.l(a,O,E,"shadowOffset"),this.tn=a=a.V(),this.ra(),this.i("shadowOffset",b,a))});
C.defineProperty(E,{shadowColor:"shadowColor"},function(){return this.sn},function(a){var b=this.sn;b!==a&&(u&&C.h(a,"string",E,"shadowColor"),this.sn=a,this.ra(),this.i("shadowColor",b,a))});C.defineProperty(E,{shadowBlur:"shadowBlur"},function(){return this.Lg},function(a){var b=this.Lg;b!==a&&(u&&C.h(a,"number",E,"shadowBlur"),this.Lg=a,this.ra(),this.i("shadowBlur",b,a))});
function ea(a){0===arguments.length?E.call(this,Yj):E.call(this,a);this.S&=-257;this.El="Adornment";this.Qb=this.oh=this.Sc=null}C.Ta(ea,E);C.ka("Adornment",ea);ea.prototype.toString=function(){var a=this.Zf;return"Adornment("+this.rc+")"+(null!==a?a.toString():"")};ea.prototype.updateRelationshipsFromData=function(){};
ea.prototype.fo=function(a){var b=this.Ab.ba,c=this.Ab;if(b instanceof I&&c instanceof w){var d=b.path,c=d.Ef;b.fo(a);c=d.Ef;a=this.va.o;b=a.length;for(d=0;d<b;d++){var e=a[d];e.Hf&&e instanceof w&&(e.pb=c)}}};C.w(ea,{placeholder:"placeholder"},function(){return this.Qb});
C.defineProperty(ea,{Ab:"adornedObject"},function(){return this.Sc},function(a){u&&null!==a&&C.l(a,Q,E,"adornedObject:value");var b=this.Zf,c=null;null!==a&&(c=a.ba);null===b||null!==a&&b===c||b.Rj(this.rc);this.Sc=a;null!==c&&c.Sl(this.rc,this)});C.w(ea,{Zf:"adornedPart"},function(){var a=this.Sc;return null!==a?a.ba:null});ea.prototype.sm=function(){var a=this.Sc;if(null===a)return!0;a=a.ba;return null===a||!Dm(a)};ea.prototype.qe=function(){return!1};C.w(ea,{Qa:"containingGroup"},function(){return null});
ea.prototype.lo=function(a,b,c,d,e,g,h){if(a===sg&&"elements"===b)if(e instanceof Sj){var k=e;null===this.Qb?this.Qb=k:this.Qb!==k&&C.k("Cannot insert a second Placeholder into the visual tree of an Adornment.")}else e instanceof J&&(k=e.eu(function(a){return a instanceof Sj}),k instanceof Sj&&(null===this.Qb?this.Qb=k:this.Qb!==k&&C.k("Cannot insert a second Placeholder into the visual tree of an Adornment.")));else a===tg&&"elements"===b&&null!==this.Qb&&(d===this.Qb?this.Qb=null:d instanceof J&&
this.Qb.rm(d)&&(this.Qb=null));E.prototype.lo.call(this,a,b,c,d,e,g,h)};ea.prototype.updateAdornments=function(){};ea.prototype.Mn=function(){};function F(a){E.call(this,a);this.Ha=13;this.xc=new K(I);this.Ht=this.np=this.Gl=this.rs=this.qs=null;this.kr=Od;this.ze=this.Xh=null;this.Xs=pr;this.Fk=!1}C.Ta(F,E);C.ka("Node",F);
F.prototype.cloneProtected=function(a){E.prototype.cloneProtected.call(this,a);a.Ha=this.Ha;a.Ha=this.Ha&-17;a.qs=this.qs;a.rs=this.rs;a.Gl=this.Gl;a.Ht=this.Ht;a.kr=this.kr.V();a.Xs=this.Xs};F.prototype.Bi=function(a){E.prototype.Bi.call(this,a);a.fg();a.Xh=this.Xh;a.ze=null};var qr;F.DirectionDefault=qr=C.s(F,"DirectionDefault",0);F.DirectionAbsolute=C.s(F,"DirectionAbsolute",1);var rr;F.DirectionRotatedNode=rr=C.s(F,"DirectionRotatedNode",2);var xo;
F.DirectionRotatedNodeOrthogonal=xo=C.s(F,"DirectionRotatedNodeOrthogonal",3);F.SpreadingNone=C.s(F,"SpreadingNone",10);var pr;F.SpreadingEvenly=pr=C.s(F,"SpreadingEvenly",11);var sr;F.SpreadingPacked=sr=C.s(F,"SpreadingPacked",12);function tr(a,b){null!==b&&(null===a.Xh&&(a.Xh=new L(Dl)),a.Xh.add(b))}
function ur(a,b,c,d){if(null===b||null===a.Xh)return null;for(var e=a.Xh.j;e.next();){var g=e.value;if(g.Fq===a&&g.Iu===b&&g.jy===c&&g.ky===d||g.Fq===b&&g.Iu===a&&g.jy===d&&g.ky===c)return g}return null}F.prototype.invalidateLinkBundle=function(a,b,c){if(void 0===b||null===b)b="";if(void 0===c||null===c)c="";a=ur(this,a,b,c);null!==a&&a.sq()};
F.prototype.lo=function(a,b,c,d,e,g,h){a===sg&&"elements"===b?this.ze=null:a===tg&&"elements"===b&&(null===this.g?this.ze=null:d instanceof Q&&$o(this,d,function(a,b){Xo(a,b,!0)}));E.prototype.lo.call(this,a,b,c,d,e,g,h)};F.prototype.invalidateConnectedLinks=F.prototype.fg=function(a){void 0===a&&(a=null);for(var b=this.Hd;b.next();){var c=b.value;null!==a&&a.contains(c)||(vr(this,c.gd),vr(this,c.Md),c.hc())}};
function Io(a,b){for(var c=a.Hd;c.next();){var d=c.value;if(d.gd===b||d.Md===b)vr(a,d.gd),vr(a,d.Md),d.hc()}}function vr(a,b){if(null!==b){var c=b.Ws;null!==c&&c.sq();c=a.Qa;null===c||c.Ke||vr(c,c.im(""))}}F.prototype.sm=function(){return!0};C.defineProperty(F,{SJ:"portSpreading"},function(){return this.Xs},function(a){var b=this.Xs;b!==a&&(u&&C.Ca(a,F,F,"portSpreading"),this.Xs=a,this.i("portSpreading",b,a),a=this.g,null!==a&&a.sa.ob||this.fg())});
C.defineProperty(F,{kA:"avoidable"},function(){return 0!==(this.Ha&8)},function(a){var b=0!==(this.Ha&8);if(b!==a){u&&C.h(a,"boolean",F,"avoidable");this.Ha^=8;var c=this.g;null!==c&&Hn(c,this);this.i("avoidable",b,a)}});C.defineProperty(F,{SH:"avoidableMargin"},function(){return this.kr},function(a){"number"===typeof a?a=new Kb(a):C.l(a,Kb,F,"avoidableMargin");var b=this.kr;if(!b.O(a)){this.kr=a=a.V();var c=this.g;null!==c&&Hn(c,this);this.i("avoidableMargin",b,a)}});
F.prototype.getAvoidableRect=function(a){a.set(this.Z);a.bx(this.SH);return a};F.prototype.findVisibleNode=function(){for(var a=this;null!==a&&!a.isVisible();)a=a.Qa;return a};
F.prototype.isVisible=function(){if(!E.prototype.isVisible.call(this))return!1;var a=!0,b=zl,c=this.g;if(null!==c){a=c.Ya;if(a.vf&&(a=a.en.pa(this),null!==a&&a.ny))return!0;a=c.$d;b=c.OB}if(b===zl){if(c=this.km(),null!==c&&!c.ud)return!1}else if(b===Ym){if(c=a?this.fF():this.gF(),0<c.count&&c.all(function(a){return!a.ud}))return!1}else if(b===Zm&&(c=a?this.fF():this.gF(),0<c.count&&c.any(function(a){return!a.ud})))return!1;c=this.Cc;return null!==c?c.isVisible():!0};
F.prototype.Jd=function(a){E.prototype.Jd.call(this,a);for(var b=this.Hd;b.next();)b.value.Jd(a)};C.w(F,{Hd:"linksConnected"},function(){return this.xc.j});F.prototype.findLinksConnected=F.prototype.dF=function(a){void 0===a&&(a=null);if(null===a)return this.xc.j;u&&C.h(a,"string",F,"findLinksConnected:pid");var b=new Va(this.xc),c=this;b.Gq=function(b){return b.aa===c&&b.cg===a||b.ea===c&&b.ih===a};return b};
F.prototype.findLinksOutOf=F.prototype.Dx=function(a){void 0===a&&(a=null);u&&null!==a&&C.h(a,"string",F,"findLinksOutOf:pid");var b=new Va(this.xc),c=this;b.Gq=function(b){return b.aa!==c?!1:null===a?!0:b.cg===a};return b};F.prototype.findLinksInto=F.prototype.Vg=function(a){void 0===a&&(a=null);u&&null!==a&&C.h(a,"string",F,"findLinksInto:pid");var b=new Va(this.xc),c=this;b.Gq=function(b){return b.ea!==c?!1:null===a?!0:b.ih===a};return b};
F.prototype.findNodesConnected=F.prototype.eF=function(a){void 0===a&&(a=null);u&&null!==a&&C.h(a,"string",F,"findNodesConnected:pid");for(var b=null,c=null,d=this.xc.j;d.next();){var e=d.value;if(e.aa===this){if(null===a||e.cg===a)e=e.ea,null!==b?b.add(e):null!==c&&c!==e?(b=new L(F),b.add(c),b.add(e)):c=e}else e.ea!==this||null!==a&&e.ih!==a||(e=e.aa,null!==b?b.add(e):null!==c&&c!==e?(b=new L(F),b.add(c),b.add(e)):c=e)}return null!==b?b.j:null!==c?new Qa(c):Na};
F.prototype.findNodesOutOf=F.prototype.gF=function(a){void 0===a&&(a=null);u&&null!==a&&C.h(a,"string",F,"findNodesOutOf:pid");for(var b=null,c=null,d=this.xc.j;d.next();){var e=d.value;e.aa!==this||null!==a&&e.cg!==a||(e=e.ea,null!==b?b.add(e):null!==c&&c!==e?(b=new L(F),b.add(c),b.add(e)):c=e)}return null!==b?b.j:null!==c?new Qa(c):Na};
F.prototype.findNodesInto=F.prototype.fF=function(a){void 0===a&&(a=null);u&&null!==a&&C.h(a,"string",F,"findNodesInto:pid");for(var b=null,c=null,d=this.xc.j;d.next();){var e=d.value;e.ea!==this||null!==a&&e.ih!==a||(e=e.aa,null!==b?b.add(e):null!==c&&c!==e?(b=new L(F),b.add(c),b.add(e)):c=e)}return null!==b?b.j:null!==c?new Qa(c):Na};
F.prototype.findLinksBetween=function(a,b,c){void 0===b&&(b=null);void 0===c&&(c=null);u&&(C.l(a,F,F,"findLinksBetween:othernode"),null!==b&&C.h(b,"string",F,"findLinksBetween:pid"),null!==c&&C.h(c,"string",F,"findLinksBetween:otherpid"));var d=new Va(this.xc),e=this;d.Gq=function(d){return(d.aa!==e||d.ea!==a||null!==b&&d.cg!==b||null!==c&&d.ih!==c)&&(d.aa!==a||d.ea!==e||null!==c&&d.cg!==c||null!==b&&d.ih!==b)?!1:!0};return d};
F.prototype.findLinksTo=function(a,b,c){void 0===b&&(b=null);void 0===c&&(c=null);u&&(C.l(a,F,F,"findLinksTo:othernode"),null!==b&&C.h(b,"string",F,"findLinksTo:pid"),null!==c&&C.h(c,"string",F,"findLinksTo:otherpid"));var d=new Va(this.xc),e=this;d.Gq=function(d){return d.aa!==e||d.ea!==a||null!==b&&d.cg!==b||null!==c&&d.ih===c?!1:!0};return d};
C.defineProperty(F,{rJ:"linkConnected"},function(){return this.qs},function(a){var b=this.qs;b!==a&&(null!==a&&C.h(a,"function",F,"linkConnected"),this.qs=a,this.i("linkConnected",b,a))});C.defineProperty(F,{sJ:"linkDisconnected"},function(){return this.rs},function(a){var b=this.rs;b!==a&&(null!==a&&C.h(a,"function",F,"linkDisconnected"),this.rs=a,this.i("linkDisconnected",b,a))});
C.defineProperty(F,{Zx:"linkValidation"},function(){return this.Gl},function(a){var b=this.Gl;b!==a&&(null!==a&&C.h(a,"function",F,"linkValidation"),this.Gl=a,this.i("linkValidation",b,a))});
function wr(a,b,c){vr(a,c);if(!a.xc.contains(b)){a.xc.add(b);var d=a.rJ;if(null!==d){var e=!0,g=a.g;null!==g&&(e=g.bb,g.bb=!0);d(a,b,c);null!==g&&(g.bb=e)}b.Yc&&(c=b.aa,b=b.ea,null!==c&&null!==b&&c!==b&&(d=!0,g=a.g,null!==g&&(d=g.$d),a=d?b:c,e=d?c:b,a.Fk||(a.Fk=e),!e.Kj||null!==g&&g.sa.ob||(d?c===e&&(e.Kj=!1):b===e&&(e.Kj=!1))))}}
function xr(a,b,c){vr(a,c);if(a.xc.remove(b)){var d=a.sJ,e=a.g;if(null!==d){var g=!0;null!==e&&(g=e.bb,e.bb=!0);d(a,b,c);null!==e&&(e.bb=g)}b.Yc&&(c=!0,null!==e&&(c=e.$d),a=c?b.ea:b.aa,b=c?b.aa:b.ea,null!==a&&(a.Fk=!1),null===b||b.Kj||(0===b.xc.count?(b.Fk=null,null!==e&&e.sa.ob||(b.Kj=!0)):Bn(b)))}}
function Bn(a){a.Fk=!1;if(0!==a.xc.count){var b=!0,c=a.g;if(null===c||!c.sa.ob){null!==c&&(b=c.$d);for(c=a.xc.j;c.next();){var d=c.value;if(d.Yc)if(b){if(d.aa===a){a.Kj=!1;return}}else if(d.ea===a){a.Kj=!1;return}}a.Kj=!0}}}
F.prototype.updateRelationshipsFromData=function(){E.prototype.updateRelationshipsFromData.call(this);var a=this.data;if(null!==a){var b=this.g;if(null!==b){var c=b.ia;c instanceof Cg&&(a=c.Un(a),a=b.Re(a),c=this.km(),a!==c&&(c=this.Pn(),null!==a?null!==c?b.$d?c.aa=a:c.ea=a:dn(b,a,this):null!==c&&Tm(b,c,!1)))}}};F.prototype.pu=function(a){E.prototype.pu.call(this,a);a||(Bn(this),a=this.np,null!==a&&yr(a,this))};
F.prototype.qu=function(a){E.prototype.qu.call(this,a);a||(a=this.np,null!==a&&null!==a.af&&(a.af.remove(this),a.K()))};F.prototype.Mn=function(){if(0<this.xc.count){var a=this.g;if(null!==a)for(var b=a.xb.UE,c=this.xc.copy().j;c.next();){var d=c.value;b?a.remove(d):(d.aa===this&&(d.aa=null),d.ea===this&&(d.ea=null))}}this.Cc=null;E.prototype.Mn.call(this)};C.w(F,{wf:"isLinkLabel"},function(){return null!==this.np});
C.defineProperty(F,{Cc:"labeledLink"},function(){return this.np},function(a){var b=this.np;if(b!==a){u&&null!==a&&C.l(a,I,F,"labeledLink");var c=this.g,d=this.data;if(null!==b&&(null!==b.af&&(b.af.remove(this),b.K()),null!==c&&null!==d&&!c.sa.ob)){var e=b.data,g=c.ia;if(null!==e&&g instanceof Y){var h=g.Cb(d);void 0!==h&&g.XJ(e,h)}}this.np=a;null!==a&&(yr(a,this),null===c||null===d||c.sa.ob||(e=a.data,g=c.ia,null!==e&&g instanceof Y&&(h=g.Cb(d),void 0!==h&&g.uE(e,h))));Ro(this);this.i("labeledLink",
b,a)}});F.prototype.findPort=F.prototype.im=function(a){u&&C.h(a,"string",F,"findPort:pid");if(null===this.ze){if(""===a&&!1===this.Tk)return this;Yo(this)}var b=this.ze.pa(a);return null!==b||""!==a&&(b=this.ze.pa(""),null!==b)?b:this};C.w(F,{port:"port"},function(){return this.im("")});C.w(F,{ports:"ports"},function(){null===this.ze&&Yo(this);return this.ze.PF});
function Yo(a){null===a.ze?a.ze=new oa("string",Q):a.ze.clear();$o(a,a,function(a,c){var d=c.vd;null!==d&&a.ze.add(d,c)});0===a.ze.count&&a.ze.add("",a)}function Xo(a,b,c){var d=b.vd;if(null!==d&&(null!==a.ze&&a.ze.remove(d),b=a.g,null!==b&&c)){c=null;for(d=a.dF(d);d.next();)a=d.value,null===c&&(c=C.tb()),c.push(a);if(null!==c){for(d=0;d<c.length;d++)a=c[d],b.remove(a);C.Ba(c)}}}
F.prototype.isInTreeOf=function(a){if(null===a||a===this)return!1;var b=!0,c=this.g;null!==c&&(b=c.$d);c=this;if(b)for(;c!==a;){for(var b=null,d=c.xc.j;d.next();){var e=d.value;if(e.Yc&&(b=e.aa,b!==c&&b!==this))break}if(b===this||null===b||b===c)return!1;c=b}else for(;c!==a;){b=null;for(d=c.xc.j;d.next()&&(e=d.value,!e.Yc||(b=e.ea,b===c||b===this)););if(b===this||null===b||b===c)return!1;c=b}return!0};
F.prototype.findTreeRoot=function(){var a=!0,b=this.g;null!==b&&(a=b.$d);b=this;if(a)for(;;){for(var a=null,c=b.xc.j;c.next();){var d=c.value;if(d.Yc&&(a=d.aa,a!==b&&a!==this))break}if(a===this)return this;if(null===a||a===b)return b;b=a}else for(;;){a=null;for(c=b.xc.j;c.next()&&(d=c.value,!d.Yc||(a=d.ea,a===b||a===this)););if(a===this)return this;if(null===a||a===b)return b;b=a}};
F.prototype.findCommonTreeParent=function(a){if(null===a)return null;u&&C.l(a,F,F,"findCommonTreeParent:other");if(this===a)return this;for(var b=this;null!==b;)jr(b,!0),b=b.km();for(var c=null,b=a;null!==b;){if(0!==(b.S&1048576)){c=b;break}b=b.km()}for(b=this;null!==b;)jr(b,!1),b=b.km();return c};
F.prototype.findTreeParentLink=F.prototype.Pn=function(){var a=!0,b=this.g;null!==b&&(a=b.$d);b=this.xc.j;if(a)for(;b.next();){if(a=b.value,a.Yc&&a.aa!==this)return a}else for(;b.next();)if(a=b.value,a.Yc&&a.ea!==this)return a;return null};
F.prototype.findTreeParentNode=F.prototype.km=function(){var a=this.Fk;if(null===a)return null;if(a instanceof F)return a;var b=!0,a=this.g;null!==a&&(b=a.$d);a=this.xc.j;if(b)for(;a.next();){if(b=a.value,b.Yc&&(b=b.aa,b!==this))return this.Fk=b}else for(;a.next();)if(b=a.value,b.Yc&&(b=b.ea,b!==this))return this.Fk=b;return this.Fk=null};F.prototype.findTreeParentChain=function(){function a(b,d){if(null!==b){d.add(b);var e=b.Pn();null!==e&&(d.add(e),a(b.km(),d))}}var b=new L(E);a(this,b);return b};
F.prototype.findTreeLevel=function(){return zr(this,this)};function zr(a,b){var c=b.km();return null===c?0:1+zr(a,c)}F.prototype.findTreeChildrenLinks=F.prototype.Fx=function(){var a=!0,b=this.g;null!==b&&(a=b.$d);var b=new Va(this.xc),c=this;b.Gq=a?function(a){return a.Yc&&a.aa===c?!0:!1}:function(a){return a.Yc&&a.ea===c?!0:!1};return b};
F.prototype.findTreeChildrenNodes=F.prototype.iF=function(){var a=!0,b=this.g;null!==b&&(a=b.$d);var c=b=null,d=this.xc.j;if(a)for(;d.next();)a=d.value,a.Yc&&a.aa===this&&(a=a.ea,null!==b?b.add(a):null!==c&&c!==a?(b=new K(F),b.add(c),b.add(a)):c=a);else for(;d.next();)a=d.value,a.Yc&&a.ea===this&&(a=a.aa,null!==b?b.add(a):null!==c&&c!==a?(b=new K(F),b.add(c),b.add(a)):c=a);return null!==b?b.j:null!==c?new Qa(c):Na};
F.prototype.findTreeParts=function(a){void 0===a&&(a=Infinity);C.h(a,"number",F,"findTreeParts:level");var b=new L(E);Lh(b,this,!1,a,!0);return b};F.prototype.collapseTree=F.prototype.collapseTree=function(a){void 0===a&&(a=1);C.p(a,F,"collapseTree:level");1>a&&(a=1);var b=this.g;if(null!==b&&!b.Nh){b.Nh=!0;var c=new L(F);c.add(this);Ar(this,c,b.$d,a,b.Ya,this,b.OB===zl);b.Nh=!1}};
function Ar(a,b,c,d,e,g,h){if(1<d)for(var k=c?a.Dx():a.Vg();k.next();){var l=k.value;l.Yc&&(l=l.JA(a),null===l||l===a||b.contains(l)||(b.add(l),Ar(l,b,c,d-1,e,g,h)))}else Br(a,b,c,e,g,h)}function Br(a,b,c,d,e,g){for(var h=e===a?!0:a.ud,k=c?a.Dx():a.Vg();k.next();){var l=k.value;l.Yc&&(l=l.JA(a),null===l||l===a||b.contains(l)||(b.add(l),h&&(g&&ll(d,l,e),l.pm(),l.Jd(!1)),l.ud&&(l.fv=l.ud,Br(l,b,c,d,e,g))))}a.ud=!1}
F.prototype.expandTree=F.prototype.expandTree=function(a){void 0===a&&(a=2);C.p(a,F,"expandTree:level");2>a&&(a=2);var b=this.g;if(null!==b&&!b.Nh){b.Nh=!0;var c=new L(F);c.add(this);Cr(this,c,b.$d,a,b.Ya,this,b.OB===zl);b.Nh=!1}};function Cr(a,b,c,d,e,g,h){for(var k=g===a?!1:a.ud,l=c?a.Dx():a.Vg();l.next();){var m=l.value;m.Yc&&(k||m.kh||m.hc(),m=m.JA(a),null!==m&&m!==a&&!b.contains(m)&&(b.add(m),k||(m.Jd(!0),m.pm(),h&&kl(e,m,g)),2<d||m.fv))&&(m.fv=!1,Cr(m,b,c,d-1,e,g,h))}a.ud=!0}
C.defineProperty(F,{ud:"isTreeExpanded"},function(){return 0!==(this.Ha&1)},function(a){var b=0!==(this.Ha&1);if(b!==a){u&&C.h(a,"boolean",F,"isTreeExpanded");this.Ha^=1;var c=this.g;this.i("isTreeExpanded",b,a);b=this.yK;if(null!==b){var d=!0;null!==c&&(d=c.bb,c.bb=!0);b(this);null!==c&&(c.bb=d)}null!==c&&c.sa.ob?this.Jd(a):a?this.expandTree():this.collapseTree()}});
C.defineProperty(F,{fv:"wasTreeExpanded"},function(){return 0!==(this.Ha&2)},function(a){var b=0!==(this.Ha&2);b!==a&&(u&&C.h(a,"boolean",F,"wasTreeExpanded"),this.Ha^=2,this.i("wasTreeExpanded",b,a))});C.defineProperty(F,{yK:"treeExpandedChanged"},function(){return this.Ht},function(a){var b=this.Ht;b!==a&&(null!==a&&C.h(a,"function",F,"treeExpandedChanged"),this.Ht=a,this.i("treeExpandedChanged",b,a))});
C.defineProperty(F,{Kj:"isTreeLeaf"},function(){return 0!==(this.Ha&4)},function(a){var b=0!==(this.Ha&4);b!==a&&(u&&C.h(a,"boolean",F,"isTreeLeaf"),this.Ha^=4,this.i("isTreeLeaf",b,a))});
function I(){E.call(this,kj);this.fc=8;this.yg=null;this.ci="";this.Pg=this.Ur=null;this.xi="";this.Gt=null;this.dr=nj;this.wr=0;this.zr=nj;this.Ar=NaN;this.kn=Dr;this.tt=.5;this.af=null;this.dd=(new K(O)).freeze();this.oh=this.GC=this.AC=this.Mi=this.Yi=this.pb=this.Cw=this.Fp=this.cf=null;this.Zz=new O;this.Y=this.ZD=this.YD=null}C.Ta(I,E);C.ka("Link",I);
I.prototype.cloneProtected=function(a){E.prototype.cloneProtected.call(this,a);a.fc=this.fc&-113;a.ci=this.ci;a.Ur=this.Ur;a.xi=this.xi;a.Gt=this.Gt;a.dr=this.dr;a.wr=this.wr;a.zr=this.zr;a.Ar=this.Ar;a.kn=this.kn;a.tt=this.tt;null!==this.Y&&(a.Y=this.Y.copy())};I.prototype.Bi=function(a){E.prototype.Bi.call(this,a);this.ci=a.ci;this.xi=a.xi;a.cf=null;a.hc();a.Mi=this.Mi};
I.prototype.pc=function(a){a.Pe===I?2===(a.value&2)?this.ty=a:a===Dj||a===mj||a===lj?this.gf=a:a===Er||a===Fr||a===Gr?this.Pt=a:a!==Dr&&a!==nj&&C.k("Unknown Link enum value for a Link property: "+a):E.prototype.pc.call(this,a)};var Dr;I.Normal=Dr=C.s(I,"Normal",1);I.Orthogonal=C.s(I,"Orthogonal",2);I.AvoidsNodes=C.s(I,"AvoidsNodes",6);var Hr;I.AvoidsNodesStraight=Hr=C.s(I,"AvoidsNodesStraight",7);var nj;I.None=nj=C.s(I,"None",0);var Dj;I.Bezier=Dj=C.s(I,"Bezier",9);var mj;
I.JumpGap=mj=C.s(I,"JumpGap",10);var lj;I.JumpOver=lj=C.s(I,"JumpOver",11);var Er;I.End=Er=C.s(I,"End",17);var Fr;I.Scale=Fr=C.s(I,"Scale",18);var Gr;I.Stretch=Gr=C.s(I,"Stretch",19);var oq;I.OrientAlong=oq=C.s(I,"OrientAlong",21);var Pp;I.OrientPlus90=Pp=C.s(I,"OrientPlus90",22);var Rp;I.OrientMinus90=Rp=C.s(I,"OrientMinus90",23);var Hq;I.OrientOpposite=Hq=C.s(I,"OrientOpposite",24);var Iq;I.OrientUpright=Iq=C.s(I,"OrientUpright",25);var Qp;I.OrientPlus90Upright=Qp=C.s(I,"OrientPlus90Upright",26);
var Sp;I.OrientMinus90Upright=Sp=C.s(I,"OrientMinus90Upright",27);var Tp;I.OrientUpright45=Tp=C.s(I,"OrientUpright45",28);f=I.prototype;f.Wd=function(){null===this.Y&&(this.Y=new wo)};f.sm=function(){var a=this.aa;if(null!==a){var b=a.findVisibleNode();null!==b&&(a=b);if(Dm(a)||Em(a))return!1}a=this.ea;return null!==a&&(b=a.findVisibleNode(),null!==b&&(a=b),Dm(a)||Em(a))?!1:!0};f.BB=function(){return!1};f.CB=function(){};f.qe=function(){return!1};
I.prototype.computeAngle=function(a,b,c){a=0;switch(b){default:case nj:a=0;break;case oq:a=c;break;case Pp:a=c+90;break;case Rp:a=c-90;break;case Hq:a=c+180;break;case Iq:a=Re(c);90<a&&270>a&&(a-=180);break;case Qp:a=Re(c+90);90<a&&270>a&&(a-=180);break;case Sp:a=Re(c-90);90<a&&270>a&&(a-=180);break;case Tp:a=Re(c);if(45<a&&135>a||225<a&&315>a)return 0;90<a&&270>a&&(a-=180)}return Re(a)};
C.defineProperty(I,{aa:"fromNode"},function(){return this.yg},function(a){var b=this.yg;if(b!==a){u&&null!==a&&C.l(a,F,I,"fromNode");var c=this.gd;null!==b&&(this.Pg!==b&&xr(b,this,c),Ir(this),this.N(Um));this.yg=a;null!==a&&this.Jd(a.isVisible());this.Yi=null;this.hc();var d=this.g;if(null!==d){var e=this.data,g=d.ia;if(null!==e)if(g instanceof Y){var h=null!==a?a.data:null;g.xB(e,g.Cb(h))}else g instanceof Cg&&(h=null!==a?a.data:null,d.$d?g.Hi(e,g.Cb(h)):(null!==b&&g.Hi(b.data,void 0),g.Hi(h,g.Cb(null!==
this.Pg?this.Pg.data:null))))}e=this.gd;g=this.lF;null!==g&&(h=!0,null!==d&&(h=d.bb,d.bb=!0),g(this,c,e),null!==d&&(d.bb=h));null!==a&&(this.Pg!==a&&wr(a,this,e),Jr(this),this.N(Lm));this.i("fromNode",b,a);pn(this)}});
C.defineProperty(I,{cg:"fromPortId"},function(){return this.ci},function(a){var b=this.ci;if(b!==a){u&&C.h(a,"string",I,"fromPortId");var c=this.gd;null!==c&&vr(this.aa,c);Ir(this);this.ci=a;var d=this.gd;null!==d&&vr(this.aa,d);var e=this.g;if(null!==e){var g=this.data,h=e.ia;null!==g&&h instanceof Y&&h.yB(g,a)}c!==d&&(this.Yi=null,this.hc(),g=this.lF,null!==g&&(h=!0,null!==e&&(h=e.bb,e.bb=!0),g(this,c,d),null!==e&&(e.bb=h)));Jr(this);this.i("fromPortId",b,a)}});
C.w(I,{gd:"fromPort"},function(){var a=this.yg;return null===a?null:a.im(this.ci)});C.defineProperty(I,{lF:"fromPortChanged"},function(){return this.Ur},function(a){var b=this.Ur;b!==a&&(null!==a&&C.h(a,"function",I,"fromPortChanged"),this.Ur=a,this.i("fromPortChanged",b,a))});
C.defineProperty(I,{ea:"toNode"},function(){return this.Pg},function(a){var b=this.Pg;if(b!==a){u&&null!==a&&C.l(a,F,I,"toNode");var c=this.Md;null!==b&&(this.yg!==b&&xr(b,this,c),Ir(this),this.N(Um));this.Pg=a;null!==a&&this.Jd(a.isVisible());this.Yi=null;this.hc();var d=this.g;if(null!==d){var e=this.data,g=d.ia;if(null!==e)if(g instanceof Y){var h=null!==a?a.data:null;g.DB(e,g.Cb(h))}else g instanceof Cg&&(h=null!==a?a.data:null,d.$d?(null!==b&&g.Hi(b.data,void 0),g.Hi(h,g.Cb(null!==this.yg?this.yg.data:
null))):g.Hi(e,g.Cb(h)))}e=this.Md;g=this.RG;null!==g&&(h=!0,null!==d&&(h=d.bb,d.bb=!0),g(this,c,e),null!==d&&(d.bb=h));null!==a&&(this.yg!==a&&wr(a,this,e),Jr(this),this.N(Lm));this.i("toNode",b,a);pn(this)}});
C.defineProperty(I,{ih:"toPortId"},function(){return this.xi},function(a){var b=this.xi;if(b!==a){u&&C.h(a,"string",I,"toPortId");var c=this.Md;null!==c&&vr(this.ea,c);Ir(this);this.xi=a;var d=this.Md;null!==d&&vr(this.ea,d);var e=this.g;if(null!==e){var g=this.data,h=e.ia;null!==g&&h instanceof Y&&h.EB(g,a)}c!==d&&(this.Yi=null,this.hc(),g=this.RG,null!==g&&(h=!0,null!==e&&(h=e.bb,e.bb=!0),g(this,c,d),null!==e&&(e.bb=h)));Jr(this);this.i("toPortId",b,a)}});
C.w(I,{Md:"toPort"},function(){var a=this.Pg;return null===a?null:a.im(this.xi)});C.defineProperty(I,{RG:"toPortChanged"},function(){return this.Gt},function(a){var b=this.Gt;b!==a&&(null!==a&&C.h(a,"function",I,"toPortChanged"),this.Gt=a,this.i("toPortChanged",b,a))});C.defineProperty(I,{Gb:"fromSpot"},function(){return null!==this.Y?this.Y.hk:Rc},function(a){this.Wd();var b=this.Y.hk;b.O(a)||(u&&C.l(a,S,I,"fromSpot"),a=a.V(),this.Y.hk=a,this.i("fromSpot",b,a),this.hc())});
C.defineProperty(I,{lm:"fromEndSegmentLength"},function(){return null!==this.Y?this.Y.fk:NaN},function(a){this.Wd();var b=this.Y.fk;b!==a&&(u&&C.h(a,"number",I,"fromEndSegmentLength"),0>a&&C.wa(a,">= 0",I,"fromEndSegmentLength"),this.Y.fk=a,this.i("fromEndSegmentLength",b,a),this.hc())});
C.defineProperty(I,{ku:"fromEndSegmentDirection"},function(){return null!==this.Y?this.Y.ek:qr},function(a){this.Wd();var b=this.Y.ek;b!==a&&(C.Nn("Link.fromEndSegmentDirection","2.0"),u&&C.Ca(a,F,I,"fromEndSegmentDirection"),this.Y.ek=a,this.i("fromEndSegmentDirection",b,a),this.hc())});
C.defineProperty(I,{lu:"fromShortLength"},function(){return null!==this.Y?this.Y.gk:NaN},function(a){this.Wd();var b=this.Y.gk;b!==a&&(u&&C.h(a,"number",I,"fromShortLength"),this.Y.gk=a,this.i("fromShortLength",b,a),this.hc())});C.defineProperty(I,{Hb:"toSpot"},function(){return null!==this.Y?this.Y.Ek:Rc},function(a){this.Wd();var b=this.Y.Ek;b.O(a)||(u&&C.l(a,S,I,"toSpot"),a=a.V(),this.Y.Ek=a,this.i("toSpot",b,a),this.hc())});
C.defineProperty(I,{Bm:"toEndSegmentLength"},function(){return null!==this.Y?this.Y.Ck:NaN},function(a){this.Wd();var b=this.Y.Ck;b!==a&&(u&&C.h(a,"number",I,"toEndSegmentLength"),0>a&&C.wa(a,">= 0",I,"toEndSegmentLength"),this.Y.Ck=a,this.i("toEndSegmentLength",b,a),this.hc())});
C.defineProperty(I,{cv:"toEndSegmentDirection"},function(){return null!==this.Y?this.Y.Bk:qr},function(a){this.Wd();var b=this.Y.Bk;b!==a&&(C.Nn("Link.toEndSegmentDirection","2.0"),u&&C.Ca(a,F,I,"toEndSegmentDirection"),this.Y.Bk=a,this.i("toEndSegmentDirection",b,a),this.hc())});C.defineProperty(I,{dv:"toShortLength"},function(){return null!==this.Y?this.Y.Dk:NaN},function(a){this.Wd();var b=this.Y.Dk;b!==a&&(u&&C.h(a,"number",I,"toShortLength"),this.Y.Dk=a,this.i("toShortLength",b,a),this.hc())});
function pn(a){var b=a.aa,c=a.ea;null!==b?null!==c?Kr(a,b.BI(c)):Kr(a,null):Kr(a,null)}function Kr(a,b){var c=a.ql;if(c!==b){null!==c&&kr(c,a);a.ql=b;null!==b&&lr(b,a);var d=a.IE;if(null!==d){var e=!0,g=a.g;null!==g&&(e=g.bb,g.bb=!0);d(a,c,b);null!==g&&(g.bb=e)}!a.kh||a.YD!==c&&a.ZD!==c||a.hc()}}I.prototype.pm=function(){var a=this.Qa;null!==a&&this.aa!==a&&this.ea!==a&&a.px&&E.prototype.pm.call(this)};
I.prototype.getOtherNode=I.prototype.JA=function(a){u&&C.l(a,F,I,"getOtherNode:node");var b=this.aa;return a===b?this.ea:b};I.prototype.getOtherPort=function(a){u&&C.l(a,Q,I,"getOtherPort:port");var b=this.gd;return a===b?this.Md:b};C.w(I,{KL:"isLabeledLink"},function(){return null===this.af?!1:0<this.af.count});C.w(I,{Jf:"labelNodes"},function(){return null===this.af?Na:this.af.j});function yr(a,b){null===a.af&&(a.af=new L(F));a.af.add(b);a.K()}
I.prototype.pu=function(a){E.prototype.pu.call(this,a);Lr(this)&&oj(this,this.Z);a||(a=this.yg,null!==a&&wr(a,this,this.gd),a=this.Pg,null!==a&&wr(a,this,this.Md),Jr(this))};I.prototype.qu=function(a){E.prototype.qu.call(this,a);Lr(this)&&oj(this,this.Z);a||(a=this.yg,null!==a&&xr(a,this,this.gd),a=this.Pg,null!==a&&xr(a,this,this.Md),Ir(this))};
I.prototype.Mn=function(){this.kh=!0;if(null!==this.af){var a=this.g;if(null!==a)for(var b=this.af.copy().j;b.next();)a.remove(b.value)}b=this.data;null!==b&&(a=this.g,null!==a&&(a=a.ia,a instanceof Y?a.py(b):a instanceof Cg&&a.Hi(b,void 0)))};
I.prototype.updateRelationshipsFromData=function(){var a=this.data;if(null!==a){var b=this.g;if(null!==b){var c=b.ia;if(c instanceof Y){var d=c.mm(a);this.aa=d=b.Re(d);d=c.nm(a);this.ea=d=b.Re(d);a=c.Rk(a);if(0<a.length||0<this.Jf.count){if(1===a.length&&1===this.Jf.count){var d=a[0],e=this.Jf.first();if(c.Cb(e.data)===d)return}var d=(new L).Vc(a),g=new L;this.Jf.each(function(a){null!==a.data&&(a=c.Cb(a.data),void 0!==a&&g.add(a))});a=g.copy();a.oy(d);d=d.copy();d.oy(g);if(0<a.count||0<d.count){var h=
this;a.each(function(a){a=b.Re(a);null!==a&&a.Cc===h&&(a.Cc=null)});d.each(function(a){a=b.Re(a);null!==a&&a.Cc!==h&&(a.Cc=h)})}}}}}};I.prototype.move=function(a){var b=this.position,c=b.x;isNaN(c)&&(c=0);b=b.y;isNaN(b)&&(b=0);c=a.x-c;b=a.y-b;E.prototype.move.call(this,a);this.um(c,b);for(a=this.Jf;a.next();){var d=a.value,e=d.position;d.moveTo(e.x+c,e.y+b)}};
C.defineProperty(I,{VJ:"relinkableFrom"},function(){return 0!==(this.fc&1)},function(a){var b=0!==(this.fc&1);b!==a&&(u&&C.h(a,"boolean",I,"relinkableFrom"),this.fc^=1,this.i("relinkableFrom",b,a),this.pe())});C.defineProperty(I,{WJ:"relinkableTo"},function(){return 0!==(this.fc&2)},function(a){var b=0!==(this.fc&2);b!==a&&(u&&C.h(a,"boolean",I,"relinkableTo"),this.fc^=2,this.i("relinkableTo",b,a),this.pe())});
I.prototype.canRelinkFrom=function(){if(!this.VJ)return!1;var a=this.layer;if(null===a)return!0;if(!a.Cn)return!1;a=a.g;return null===a||a.Cn?!0:!1};I.prototype.canRelinkTo=function(){if(!this.WJ)return!1;var a=this.layer;if(null===a)return!0;if(!a.Cn)return!1;a=a.g;return null===a||a.Cn?!0:!1};C.defineProperty(I,{Su:"resegmentable"},function(){return 0!==(this.fc&4)},function(a){var b=0!==(this.fc&4);b!==a&&(u&&C.h(a,"boolean",I,"resegmentable"),this.fc^=4,this.i("resegmentable",b,a),this.pe())});
C.defineProperty(I,{Yc:"isTreeLink"},function(){return 0!==(this.fc&8)},function(a){var b=0!==(this.fc&8);b!==a&&(u&&C.h(a,"boolean",I,"isTreeLink"),this.fc^=8,this.i("isTreeLink",b,a),null!==this.aa&&Bn(this.aa),null!==this.ea&&Bn(this.ea))});C.w(I,{path:"path"},function(){var a=this.Vd();return a instanceof w?a:null});
C.w(I,{mo:"routeBounds"},function(){this.uo();var a=new z;var b=Infinity,c=Infinity,d=this.ua;if(0===d)a.m(NaN,NaN,0,0);else{if(1===d)d=this.n(0),b=Math.min(d.x,b),c=Math.min(d.y,c),a.m(d.x,d.y,0,0);else if(2===d){var e=this.n(0),g=this.n(1),b=Math.min(e.x,g.x),c=Math.min(e.y,g.y);a.m(e.x,e.y,0,0);a.Ki(g)}else if(this.computeCurve()===Dj&&3<=d&&!this.tc)if(e=this.n(0),b=e.x,c=e.y,a.m(b,c,0,0),3===d)d=this.n(1),b=Math.min(d.x,b),c=Math.min(d.y,c),g=this.n(2),b=Math.min(g.x,b),c=Math.min(g.y,c),xe(e.x,
e.y,d.x,d.y,d.x,d.y,g.x,g.y,.5,a);else for(var h=3;h<d;h+=3){var k=this.n(h-2);h+3>=d&&(h=d-1);var l=this.n(h-1),g=this.n(h);xe(e.x,e.y,k.x,k.y,l.x,l.y,g.x,g.y,.5,a);b=Math.min(g.x,b);c=Math.min(g.y,c);e=g}else for(e=this.n(0),g=this.n(1),b=Math.min(e.x,g.x),c=Math.min(e.y,g.y),a.m(e.x,e.y,0,0),a.Ki(g),h=2;h<d;h++)e=this.n(h),b=Math.min(e.x,b),c=Math.min(e.y,c),a.Ki(e);this.Zz.m(b-a.x,c-a.y)}return this.Cw=a});C.w(I,{WF:"midPoint"},function(){this.uo();return this.computeMidPoint(new O)});
I.prototype.computeMidPoint=function(a){var b=this.ua;if(0===b)return a.assign(he),a;if(1===b)return a.assign(this.n(0)),a;if(2===b){var c=this.n(0),d=this.n(1);a.m((c.x+d.x)/2,(c.y+d.y)/2);return a}if(this.computeCurve()===Dj&&3<=b&&!this.tc){if(3===b)return this.n(1);var c=(b-1)/3|0,e=3*(c/2|0);if(1===c%2){var c=this.n(e),d=this.n(e+1),g=this.n(e+2),e=this.n(e+3),b=d.x,h=d.y,d=g.x,k=g.y,g=(b+d)/2,l=(h+k)/2,h=((c.y+h)/2+l)/2,k=(l+(k+e.y)/2)/2;a.x=(((c.x+b)/2+g)/2+(g+(d+e.x)/2)/2)/2;a.y=(h+k)/2}else a.assign(this.n(e));
return a}e=0;g=C.tb();for(h=0;h<b-1;h++)c=0,c=this.n(h),d=this.n(h+1),Db(c.x,d.x)?(c=d.y-c.y,0>c&&(c=-c)):Db(c.y,d.y)?(c=d.x-c.x,0>c&&(c=-c)):c=Math.sqrt(c.Df(d)),g.push(c),e+=c;for(d=h=c=0;c<e/2&&h<b;){d=g[h];if(c+d>e/2)break;c+=d;h++}C.Ba(g);b=this.n(h);g=this.n(h+1);b.x===g.x?b.y>g.y?a.m(b.x,b.y-(e/2-c)):a.m(b.x,b.y+(e/2-c)):b.y===g.y?b.x>g.x?a.m(b.x-(e/2-c),b.y):a.m(b.x+(e/2-c),b.y):(c=(e/2-c)/d,a.m(b.x+c*(g.x-b.x),b.y+c*(g.y-b.y)));return a};C.w(I,{VF:"midAngle"},function(){this.uo();return this.computeMidAngle()});
I.prototype.computeMidAngle=function(){var a=this.ua;if(2>a)return NaN;if(this.computeCurve()===Dj&&4<=a&&!this.tc){var b=(a-1)/3|0,c=3*(b/2|0);if(1===b%2){var c=Math.floor(c),b=this.n(c),d=this.n(c+1),a=this.n(c+2),c=this.n(c+3),e=d.x,d=d.y,g=a.x,a=a.y,h=(e+g)/2,k=(d+a)/2;return zb(((b.x+e)/2+h)/2,((b.y+d)/2+k)/2,(h+(g+c.x)/2)/2,(k+(a+c.y)/2)/2)}if(0<c&&c+1<a)return b=this.n(c-1),d=this.n(c+1),b.Mc(d)}c=a/2|0;if(0===a%2)return b=this.n(c-1),d=this.n(c),4<=a&&b.Wc(d)&&(b=this.n(c-2),a=this.n(c+1),
c=b.Df(d),e=d.Df(a),!(c>e+10))?e>c+10?d.Mc(a):b.Mc(a):b.Mc(d);b=this.n(c-1);d=this.n(c);a=this.n(c+1);c=b.Df(d);e=d.Df(a);return c>e+10?b.Mc(d):e>c+10?d.Mc(a):b.Mc(a)};
C.defineProperty(I,{points:"points"},function(){return this.dd},function(a){var b=this.dd;if(b!==a){var c=null;if(Array.isArray(a)){var d=0===a.length%2;if(d)for(var e=0;e<a.length;e++)if("number"!==typeof a[e]||isNaN(a[e])){d=!1;break}if(d)for(c=new K(O),d=0;d<a.length/2;d++)e=(new O(a[2*d],a[2*d+1])).freeze(),c.add(e);else{for(var g=!0,d=0;d<a.length;d++)if(e=a[d],!C.Xa(e)||"number"!==typeof e.x||isNaN(e.x)||"number"!==typeof e.y||isNaN(e.y)){g=!1;break}if(g)for(c=new K(O),d=0;d<a.length;d++)e=
a[d],c.add((new O(e.x,e.y)).freeze());else C.k("Link.points array must contain only an even number of numbers or objects with x and y properties, not: "+a)}}else if(a instanceof K)for(c=a.copy(),a=c.j;a.next();)a.value.freeze();else C.k("Link.points value is not an instance of List or Array: "+a);c.freeze();this.dd=c;this.Se();this.K();Mr(this);a=this.g;null!==a&&(a.Zn||a.sa.ob||a.$x.add(this),a.Ya.yc&&(this.Fp=c));this.i("points",b,c)}});C.w(I,{ua:"pointsCount"},function(){return this.dd.count});
I.prototype.getPoint=I.prototype.n=function(a){return this.dd.o[a]};I.prototype.setPoint=I.prototype.dh=function(a,b){u&&(C.l(b,O,I,"setPoint"),b.F()||C.k("Link.setPoint called with a Point that does not have real numbers: "+b.toString()));null===this.cf&&C.k("Call Link.startRoute before modifying the points of the route.");this.dd.qg(a,b)};
I.prototype.setPointAt=I.prototype.ja=function(a,b,c){u&&(C.p(b,I,"setPointAt:x"),C.p(c,I,"setPointAt:y"));null===this.cf&&C.k("Call Link.startRoute before modifying the points of the route.");this.dd.qg(a,new O(b,c))};I.prototype.insertPoint=function(a,b){u&&(C.l(b,O,I,"insertPoint"),b.F()||C.k("Link.insertPoint called with a Point that does not have real numbers: "+b.toString()));null===this.cf&&C.k("Call Link.startRoute before modifying the points of the route.");this.dd.Xd(a,b)};
I.prototype.insertPointAt=I.prototype.B=function(a,b,c){u&&(C.p(b,I,"insertPointAt:x"),C.p(c,I,"insertPointAt:y"));null===this.cf&&C.k("Call Link.startRoute before modifying the points of the route.");this.dd.Xd(a,new O(b,c))};I.prototype.addPoint=I.prototype.zi=function(a){u&&(C.l(a,O,I,"addPoint"),a.F()||C.k("Link.addPoint called with a Point that does not have real numbers: "+a.toString()));null===this.cf&&C.k("Call Link.startRoute before modifying the points of the route.");this.dd.add(a)};
I.prototype.addPointAt=I.prototype.Ul=function(a,b){u&&(C.p(a,I,"insertPointAt:x"),C.p(b,I,"insertPointAt:y"));null===this.cf&&C.k("Call Link.startRoute before modifying the points of the route.");this.dd.add(new O(a,b))};I.prototype.removePoint=I.prototype.kG=function(a){null===this.cf&&C.k("Call Link.startRoute before modifying the points of the route.");this.dd.md(a)};
I.prototype.clearPoints=I.prototype.$p=function(){null===this.cf&&C.k("Call Link.startRoute before modifying the points of the route.");this.dd.clear()};I.prototype.movePoints=I.prototype.um=function(a,b){for(var c=new K(O),d=this.dd.j;d.next();){var e=d.value;c.add((new O(e.x+a,e.y+b)).freeze())}c.freeze();d=this.dd;this.dd=c;this.K();Mr(this);e=this.g;null!==e&&e.Ya.yc&&(this.Fp=c);this.i("points",d,c)};I.prototype.startRoute=I.prototype.xm=function(){null===this.cf&&(this.cf=this.dd,this.dd=this.dd.copy())};
I.prototype.commitRoute=I.prototype.Aj=function(){if(null!==this.cf){for(var a=this.cf,b=this.dd,c=Infinity,d=Infinity,e=a.o,g=e.length,h=0;h<g;h++)var k=e[h],c=Math.min(k.x,c),d=Math.min(k.y,d);for(var l=Infinity,m=Infinity,n=b.o,p=n.length,h=0;h<p;h++)k=n[h],l=Math.min(k.x,l),m=Math.min(k.y,m),k.freeze();b.freeze();if(p===g)for(h=0;h<p;h++){if(g=e[h],k=n[h],g.x-c!==k.x-l||g.y-d!==k.y-m){this.K();this.Se();break}}else this.K(),this.Se();this.cf=null;c=this.g;null!==c&&c.Ya.yc&&(this.Fp=b);Mr(this);
this.i("points",a,b)}};I.prototype.rollbackRoute=I.prototype.$J=function(){null!==this.cf&&(this.dd=this.cf,this.cf=null)};function Mr(a){0===a.dd.count?a.kh=!1:(a.kh=!0,a.dq=a.n(0),a.eq=a.n(a.ua-1),Nr(a,!1))}I.prototype.invalidateRoute=I.prototype.hc=function(){if(!this.Uj){var a=this.g;a&&(a.$x.contains(this)||a.sa.ob||a.Ya.jJ&&!a.Ya.vf)||(a=this.path,null!==a&&(this.kh=!1,this.K(),a.K()))}};
C.defineProperty(I,{kh:null},function(){return 0!==(this.fc&16)},function(a){0!==(this.fc&16)!==a&&(this.fc^=16)});C.defineProperty(I,{Uj:"suspendsRouting"},function(){return 0!==(this.fc&32)},function(a){0!==(this.fc&32)!==a&&(this.fc^=32)});C.defineProperty(I,{nA:null},function(){return 0!==(this.fc&64)},function(a){0!==(this.fc&64)!==a&&(this.fc^=64)});C.defineProperty(I,{dq:"defaultFromPoint"},function(){return this.AC},function(a){this.AC=a.copy()});
C.defineProperty(I,{eq:"defaultToPoint"},function(){return this.GC},function(a){this.GC=a.copy()});I.prototype.updateRoute=I.prototype.uo=function(){if(!this.kh&&!this.nA){var a=!0;try{this.nA=!0,this.xm(),a=this.computePoints()}finally{this.nA=!1,a?this.Aj():this.$J()}}};
I.prototype.computePoints=function(){var a=this.g;if(null===a)return!1;var b=this.aa,c=null;null===b?(a.ln||(a.Dw=new w,a.Dw.Da=Sd,a.Dw.ib=0,a.ln=new F,a.ln.add(a.Dw),a.ln.jf()),this.dq&&(a.ln.position=a.ln.location=this.dq,a.ln.jf(),b=a.ln,c=a.Dw)):c=this.gd;if(null!==c&&!b.isVisible()){var d=b.findVisibleNode();null!==d&&d!==b?(b=d,c=d.im("")):b=d}this.YD=b;if(null===b||!b.location.F())return!1;for(;!(null===c||c.Z.F()&&c.Lj());)c=c.Q;if(null===c)return!1;var e=this.ea,g=null;null===e?(a.mn||(a.Ew=
new w,a.Ew.Da=Sd,a.Ew.ib=0,a.mn=new F,a.mn.add(a.Ew),a.mn.jf()),this.eq&&(a.mn.position=a.mn.location=this.eq,a.mn.jf(),e=a.mn,g=a.Ew)):g=this.Md;null===g||e.isVisible()||(a=e.findVisibleNode(),null!==a&&a!==e?(e=a,g=a.im("")):e=a);this.ZD=e;if(null===e||!e.location.F())return!1;for(;!(null===g||g.Z.F()&&g.Lj());)g=g.Q;if(null===g)return!1;var h=this.ua,d=Or(this,c),a=Pr(this,g),k=d===gc,l=a===gc,m=c===g&&null!==c,n=this.tc,p=this.gf===Dj;this.Yi=m&&!n?p=!0:!1;var q=this.Pt===nj||m;if(!n&&!m&&k&&
l){if(k=!1,!q&&3<=h&&(q=this.getLinkPoint(b,c,d,!0,!1,e,g),l=this.getLinkPoint(e,g,a,!1,!1,b,c),k=this.adjustPoints(0,q,h-1,l))&&(q=this.getLinkPoint(b,c,d,!0,!1,e,g),l=this.getLinkPoint(e,g,a,!1,!1,b,c),this.adjustPoints(0,q,h-1,l)),!k)if(this.$p(),p){var h=this.getLinkPoint(b,c,d,!0,!1,e,g),q=this.getLinkPoint(e,g,a,!1,!1,b,c),k=q.x-h.x,l=q.y-h.y,m=this.computeCurviness(),p=n=0,r=h.x+k/3,s=h.y+l/3,v=r,t=s;R(l,0)?t=0<k?t-m:t+m:(n=-k/l,p=Math.sqrt(m*m/(n*n+1)),0>m&&(p=-p),v=(0>l?-1:1)*p+r,t=n*(v-
r)+s);var r=h.x+2*k/3,s=h.y+2*l/3,x=r,y=s;R(l,0)?y=0<k?y-m:y+m:(x=(0>l?-1:1)*p+r,y=n*(x-r)+s);this.$p();this.zi(h);this.Ul(v,t);this.Ul(x,y);this.zi(q);this.dh(0,this.getLinkPoint(b,c,d,!0,!1,e,g));this.dh(3,this.getLinkPoint(e,g,a,!1,!1,b,c))}else d=this.getLinkPoint(b,c,d,!0,!1,e,g),a=this.getLinkPoint(e,g,a,!1,!1,b,c),this.hasCurviness()?(q=a.x-d.x,e=a.y-d.y,g=this.computeCurviness(),b=d.x+q/2,c=d.y+e/2,h=b,k=c,R(e,0)?k=0<q?k-g:k+g:(q=-q/e,h=Math.sqrt(g*g/(q*q+1)),0>g&&(h=-h),h=(0>e?-1:1)*h+b,
k=q*(h-b)+c),this.zi(d),this.Ul(h,k)):this.zi(d),this.zi(a)}else{p=this.Di;q&&(n&&p||m)&&this.$p();var B=m?this.computeCurviness():0,p=this.getLinkPoint(b,c,d,!0,n,e,g),r=v=s=0;if(n||!k||m)if(t=this.computeEndSegmentLength(b,c,d,!0),r=this.getLinkDirection(b,c,p,d,!0,n,e,g),m&&(k||d.O(a)||!n&&1===d.x+a.x&&1===d.y+a.y)&&(r-=n?90:30,0>B&&(r-=180)),0>r?r+=360:360<=r&&(r-=360),m&&(t+=Math.abs(B)*(n?1:2)),0===r?s=t:90===r?v=t:180===r?s=-t:270===r?v=-t:(s=t*Math.cos(r*Math.PI/180),v=t*Math.sin(r*Math.PI/
180)),d.Zd()&&m){var A=c.fb(mc,C.P()),N=C.Fb(A.x+1E3*s,A.y+1E3*v);this.getLinkPointFromPoint(b,c,A,N,!0,p);C.A(A);C.A(N)}var t=this.getLinkPoint(e,g,a,!1,n,b,c),G=y=x=0;if(n||!l||m)A=this.computeEndSegmentLength(e,g,a,!1),G=this.getLinkDirection(e,g,t,a,!1,n,b,c),m&&(l||d.O(a)||!n&&1===d.x+a.x&&1===d.y+a.y)&&(G+=n?0:30,0>B&&(G+=180)),0>G?G+=360:360<=G&&(G-=360),m&&(A+=Math.abs(B)*(n?1:2)),0===G?x=A:90===G?y=A:180===G?x=-A:270===G?y=-A:(x=A*Math.cos(G*Math.PI/180),y=A*Math.sin(G*Math.PI/180)),a.Zd()&&
m&&(A=g.fb(mc,C.P()),N=C.Fb(A.x+1E3*x,A.y+1E3*y),this.getLinkPointFromPoint(e,g,A,N,!1,t),C.A(A),C.A(N));a=p;if(n||!k||m)a=new O(p.x+s,p.y+v);d=t;if(n||!l||m)d=new O(t.x+x,t.y+y);!q&&!n&&k&&3<h&&this.adjustPoints(0,p,h-2,d)?this.dh(h-1,t):!q&&!n&&l&&3<h&&this.adjustPoints(1,a,h-1,t)?this.dh(0,p):!q&&(n?6<=h:4<h)&&this.adjustPoints(1,a,h-2,d)?(this.dh(0,p),this.dh(h-1,t)):(this.$p(),this.zi(p),(n||!k||m)&&this.zi(a),n&&this.addOrthoPoints(a,r,d,G,b,e),(n||!l||m)&&this.zi(d),this.zi(t))}return!0};
function Qr(a,b){Math.abs(b.x-a.x)>Math.abs(b.y-a.y)?(b.x=b.x>=a.x?a.x+9E9:a.x-9E9,b.y=a.y):(b.y=b.y>=a.y?a.y+9E9:a.y-9E9,b.x=a.x);return b}
I.prototype.getLinkPointFromPoint=function(a,b,c,d,e,g){void 0===g&&(g=new O);if(null===a||null===b)return g.assign(c),g;a.isVisible()||(e=a.findVisibleNode(),null!==e&&e!==a&&(b=e.port));var h=e=0,k=0,l=0;a=null;e=b.Q;null===e||e.jh()||(e=e.Q);if(null===e)e=d.x,h=d.y,k=c.x,l=c.y;else{a=e.Gh;e=1/(a.m11*a.m22-a.m12*a.m21);var k=a.m22*e,l=-a.m12*e,m=-a.m21*e,n=a.m11*e,p=e*(a.m21*a.dy-a.m22*a.dx),q=e*(a.m12*a.dx-a.m11*a.dy);e=d.x*k+d.y*m+p;h=d.x*l+d.y*n+q;k=c.x*k+c.y*m+p;l=c.x*l+c.y*n+q}b.Tn(e,h,k,l,
g);null!==a&&g.transform(a);return g};function Rr(a,b){var c=b.Ws;null===c&&(c=new Sr,c.port=b,c.Zc=b.ba,b.Ws=c);return Tr(c,a)}
I.prototype.getLinkPoint=function(a,b,c,d,e,g,h,k){void 0===k&&(k=new O);if(c.jd())return b.fb(c,k),k;if(c.Ij()){var l=Rr(this,b);if(null!==l){k.assign(l.xq);if(e&&this.ty===Hr){var m=Rr(this,h);if(null!==m&&l.Kn<m.Kn){var l=C.P(),m=C.P(),n=new z(b.fb(hc,l),b.fb(qc,m)),p=this.computeSpot(!d);a=this.getLinkPoint(g,h,p,!d,e,a,b,m);(c.Hj(sc)||c.Hj(xc))&&a.y>=n.y&&a.y<=n.y+n.height?k.y=a.y:(c.Hj(rc)||c.Hj(yc))&&a.x>=n.x&&a.x<=n.x+n.width&&(k.x=a.x);C.A(l);C.A(m)}}return k}}c=b.fb(mc,C.P());l=g=null;this.ua>
(e?6:2)?(l=d?this.n(1):this.n(this.ua-2),e&&(l=Qr(c,l.copy()))):(g=C.P(),l=h.fb(mc,g),e&&(l=Qr(c,l)),C.A(g));this.getLinkPointFromPoint(a,b,c,l,d,k);C.A(c);return k};
I.prototype.getLinkDirection=function(a,b,c,d,e,g,h,k){a:if(d.jd())c=d.x>d.y?d.x>1-d.y?0:d.x<1-d.y?270:315:d.x<d.y?d.x>1-d.y?90:d.x<1-d.y?180:135:.5>d.x?225:.5<d.x?45:0;else{if(d.Ij()){var l=Rr(this,b);if(null!==l)switch(l.Le){case C.xd:c=270;break a;case C.bd:c=180;break a;default:case C.od:c=0;break a;case C.nd:c=90;break a}}var l=b.fb(mc,C.P()),m=null,n=null;this.ua>(g?6:2)?(n=e?this.n(1):this.n(this.ua-2),n=g?Qr(l,n.copy()):c):(m=C.P(),n=k.fb(mc,m),C.A(m));c=0;c=Math.abs(n.x-l.x)>Math.abs(n.y-
l.y)?n.x>=l.x?0:180:n.y>=l.y?90:270;C.A(l)}d.Zd()&&h.Ei(a)&&(c+=180,360<=c&&(c-=360));a=qr;a=e?this.ku:this.cv;a===qr&&(a=e?b.ku:b.cv);switch(a){case rr:b=b.Rn();c+=b;360<=c&&(c-=360);break;case qr:case xo:b=b.Rn();if(0===b)break;45<=b&&135>b?c+=90:135<=b&&225>b?c+=180:225<=b&&315>b&&(c+=270);360<=c&&(c-=360)}return c};
I.prototype.computeEndSegmentLength=function(a,b,c,d){if(null!==b&&c.Ij()&&(a=Rr(this,b),null!==a))return a.zx;a=NaN;a=d?this.lm:this.Bm;null!==b&&isNaN(a)&&(a=d?b.lm:b.Bm);isNaN(a)&&(a=10);return a};I.prototype.computeSpot=function(a){return a?Or(this,this.gd):Pr(this,this.Md)};function Or(a,b){if(null===b)return mc;var c=a.Gb;c.hd()&&null!==b&&(c=b.Gb);return c===Rc?gc:c}function Pr(a,b){if(null===b)return mc;var c=a.Hb;c.hd()&&null!==b&&(c=b.Hb);return c===Rc?gc:c}
I.prototype.computeOtherPoint=function(a,b){var c=b.fb(mc),d;d=b.Ws;d=null!==d?Tr(d,this):null;null!==d&&(c=d.xq);return c};I.prototype.computeShortLength=function(a){if(a){if(a=this.lu,isNaN(a)){var b=this.gd;null!==b&&(a=b.lu)}}else a=this.dv,isNaN(a)&&(b=this.Md,null!==b&&(a=b.dv));return isNaN(a)?0:a};
I.prototype.Pk=function(a,b,c,d,e,g){if(!1===this.pg)return!1;void 0===b&&(b=null);void 0===c&&(c=null);var h=g;void 0===g&&(h=C.Of(),h.reset());h.multiply(this.transform);if(this.Hn(a,h))return Zp(this,b,c,e),void 0===g&&C.Ie(h),!0;if(this.Wg(a,h)){var k=!1;if(!this.Yn)for(var l=this.va.o,m=l.length;m--;){var n=l[m];if(n.visible||n===this.dc){var p=n.Z,q=this.Ja;if(!(p.x>q.width||p.y>q.height||0>p.x+p.width||0>p.y+p.height)){p=C.Of();p.set(h);if(n instanceof J)k=n.Pk(a,b,c,d,e,p);else if(this.path===
n){var k=n,r=a,s=d,q=p;if(!1===k.pg)k=!1;else if(q.multiply(k.transform),s)b:{var v=r,t=q;if(k.Hn(v,t))k=!0;else{if(void 0===t&&(t=k.transform,v.Lk(k.Z))){k=!0;break b}var q=v.left,r=v.right,s=v.top,v=v.bottom,x=C.P(),y=C.P(),B=C.P(),A=C.Of();A.set(t);A.fB(k.transform);A.Mx();y.x=r;y.y=s;y.transform(A);x.x=q;x.y=s;x.transform(A);t=!1;lq(k,x,y,B)?t=!0:(x.x=r,x.y=v,x.transform(A),lq(k,x,y,B)?t=!0:(y.x=q,y.y=v,y.transform(A),lq(k,x,y,B)?t=!0:(x.x=q,x.y=s,x.transform(A),lq(k,x,y,B)&&(t=!0))));C.Ie(A);
C.A(x);C.A(y);C.A(B);k=t}}else k=k.Hn(r,q)}else k=Do(n,a,d,p);k&&(null!==b&&(n=b(n)),n&&(null===c||c(n))&&e.add(n));C.Ie(p)}}}void 0===g&&C.Ie(h);return k||null!==this.background||null!==this.Xl}void 0===g&&C.Ie(h);return!1};C.w(I,{tc:"isOrthogonal"},function(){return 2===(this.kn.value&2)});C.w(I,{Di:"isAvoiding"},function(){return 4===(this.kn.value&4)});I.prototype.computeCurve=function(){if(null===this.Yi){var a=this.gd,b=this.tc;this.Yi=null!==a&&a===this.Md&&!b}return this.Yi?Dj:this.gf};
I.prototype.computeCorner=function(){if(this.gf===Dj)return 0;var a=this.sA;if(isNaN(a)||0>a)a=10;return a};I.prototype.findMidLabel=function(){for(var a=this.path,b=this.va.o,c=b.length,d=0;d<c;d++){var e=b[d];if(e!==a&&!e.Hf&&(-Infinity===e.Ue||isNaN(e.Ue)))return e}for(a=this.Jf;a.next();)if(b=a.value,-Infinity===b.Ue||isNaN(b.Ue))return b;return null};
I.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var a;a=Math.max(14,this.computeThickness());var b=this.gd,c=this.Md;if(null!==b&&null!==c){var d=this.findMidLabel();if(null!==d){var e=d.Ja,g=d.margin,h=isNaN(e.width)?30:e.width*d.scale+g.left+g.right,e=isNaN(e.height)?14:e.height*d.scale+g.top+g.bottom,d=d.Pq;d===oq||d===Iq||d===Hq?a=Math.max(a,e):d===Rp||d===Sp||d===Pp||d===Qp?a=Math.max(a,h):(b=b.fb(mc).Mc(c.fb(mc))/180*Math.PI,a=Math.max(a,Math.abs(Math.sin(b)*h)+Math.abs(Math.cos(b)*
e)+1));this.gf===Dj&&(a*=1.333)}}return a};I.prototype.arrangeBundledLinks=function(a,b){if(b)for(var c=0;c<a.length;c++)a[c].hc()};I.prototype.computeCurviness=function(){var a=this.ux;if(isNaN(a)){var a=16,b=this.Mi;if(null!==b){for(var c=C.tb(),d=0,e=b.links,g=0;g<e.length;g++){var h=e[g],h=h.computeSpacing();c.push(h);d+=h}d=-d/2;for(g=0;g<e.length;g++){h=e[g];if(h===this){a=d+c[g]/2;break}d+=c[g]}b.Fq===this.aa&&(a=-a);C.Ba(c)}}return a};
I.prototype.computeThickness=function(){if(!this.isVisible())return 0;var a=this.path;return null!==a?Math.max(a.ib,1):1};I.prototype.hasCurviness=function(){return!isNaN(this.ux)||null!==this.Mi};
I.prototype.adjustPoints=function(a,b,c,d){var e=this.Pt;if(this.tc){if(e===Fr)return!1;e===Gr&&(e=Er)}switch(e){case Fr:var g=this.n(a),h=this.n(c);if(!g.Wc(b)||!h.Wc(d)){var e=g.x,g=g.y,k=h.x-e,l=h.y-g,m=Math.sqrt(k*k+l*l);if(!Db(m,0)){var n=0;Db(k,0)?n=0>l?-Math.PI/2:Math.PI/2:(n=Math.atan(l/Math.abs(k)),0>k&&(n=Math.PI-n));var h=b.x,p=b.y,l=d.x-h,q=d.y-p,r=Math.sqrt(l*l+q*q),k=0;Db(l,0)?k=0>q?-Math.PI/2:Math.PI/2:(k=Math.atan(q/Math.abs(l)),0>l&&(k=Math.PI-k));m=r/m;n=k-n;this.dh(a,b);for(a+=
1;a<c;a++)b=this.n(a),k=b.x-e,l=b.y-g,b=Math.sqrt(k*k+l*l),Db(b,0)||(q=0,Db(k,0)?q=0>l?-Math.PI/2:Math.PI/2:(q=Math.atan(l/Math.abs(k)),0>k&&(q=Math.PI-q)),k=q+n,b*=m,this.ja(a,h+b*Math.cos(k),p+b*Math.sin(k)));this.dh(c,d)}}return!0;case Gr:g=this.n(a);p=this.n(c);if(!g.Wc(b)||!p.Wc(d)){var e=g.x,g=g.y,h=p.x,p=p.y,m=(h-e)*(h-e)+(p-g)*(p-g),k=b.x,n=b.y,l=d.x,q=d.y,r=0,s=1;0!==l-k?(r=(q-n)/(l-k),s=Math.sqrt(1+1/(r*r))):r=9E9;this.dh(a,b);for(a+=1;a<c;a++){b=this.n(a);var v=b.x,t=b.y,x=.5;0!==m&&(x=
((e-v)*(e-h)+(g-t)*(g-p))/m);var y=e+x*(h-e),B=g+x*(p-g);b=Math.sqrt((v-y)*(v-y)+(t-B)*(t-B));t<r*(v-y)+B&&(b=-b);0<r&&(b=-b);v=k+x*(l-k);x=n+x*(q-n);0!==r?(b=v+b/s,this.ja(a,b,x-(b-v)/r)):this.ja(a,v,x+b)}this.dh(c,d)}return!0;case Er:a:{if(this.tc){h=this.n(a);p=this.n(a+1);e=this.n(a+2);m=p.x;k=p.y;R(h.y,p.y)?R(p.x,e.x)?k=b.y:R(p.y,e.y)&&(m=b.x):R(h.x,p.x)&&(R(p.y,e.y)?m=b.x:R(p.x,e.x)&&(k=b.y));g=this.g;if(this.Di&&null!==g&&(h=ja(g,!0,this.Qa,null),!h.tm(Math.min(m,e.x),Math.min(k,e.y),Math.abs(m-
e.x),Math.abs(k-e.y)))){c=!1;break a}this.ja(a+1,m,k);h=this.n(c);p=this.n(c-1);e=this.n(c-2);m=p.x;k=p.y;R(h.y,p.y)?R(p.x,e.x)?k=d.y:R(p.y,e.y)&&(m=d.x):R(h.x,p.x)&&(R(p.y,e.y)?m=d.x:R(p.x,e.x)&&(k=d.y));if(this.Di&&null!==g&&(h=ja(g,!0,this.Qa,null),!h.tm(Math.min(m,e.x),Math.min(k,e.y),Math.abs(m-e.x),Math.abs(k-e.y)))){c=!1;break a}this.ja(c-1,m,k)}this.dh(a,b);this.dh(c,d);c=!0}return c;default:return!1}};
I.prototype.addOrthoPoints=function(a,b,c,d,e,g){b=-45<=b&&45>b?0:45<=b&&135>b?90:135<=b&&225>b?180:270;d=-45<=d&&45>d?0:45<=d&&135>d?90:135<=d&&225>d?180:270;var h=e.Z.copy(),k=g.Z.copy();if(h.F()&&k.F()){h.eg(8,8);k.eg(8,8);h.Ki(a);k.Ki(c);var l,m;if(0===b)if(c.x>a.x||270===d&&c.y<a.y&&k.right>a.x||90===d&&c.y>a.y&&k.right>a.x)l=new O(c.x,a.y),m=new O(c.x,(a.y+c.y)/2),180===d?(l.x=this.computeMidOrthoPosition(a.x,c.x,!1),m.x=l.x,m.y=c.y):270===d&&c.y<a.y||90===d&&c.y>a.y?(l.x=a.x<k.left?this.computeMidOrthoPosition(a.x,
k.left,!1):a.x<k.right&&(270===d&&a.y<k.top||90===d&&a.y>k.bottom)?this.computeMidOrthoPosition(a.x,c.x,!1):k.right,m.x=l.x,m.y=c.y):0===d&&a.x<k.left&&a.y>k.top&&a.y<k.bottom&&(l.x=a.x,l.y=a.y<c.y?Math.min(c.y,k.top):Math.max(c.y,k.bottom),m.y=l.y);else{l=new O(a.x,c.y);m=new O((a.x+c.x)/2,c.y);if(180===d||90===d&&c.y<h.top||270===d&&c.y>h.bottom)180===d&&(k.Oa(a)||h.Oa(c))?l.y=this.computeMidOrthoPosition(a.y,c.y,!0):c.y<a.y&&(180===d||90===d)?l.y=this.computeMidOrthoPosition(h.top,Math.max(c.y,
k.bottom),!0):c.y>a.y&&(180===d||270===d)&&(l.y=this.computeMidOrthoPosition(h.bottom,Math.min(c.y,k.top),!0)),m.x=c.x,m.y=l.y;if(l.y>h.top&&l.y<h.bottom)if(c.x>=h.left&&c.x<=a.x||a.x<=k.right&&a.x>=c.x){if(90===d||270===d)l=new O(Math.max((a.x+c.x)/2,a.x),a.y),m=new O(l.x,c.y)}else l.y=270===d||(0===d||180===d)&&c.y<a.y?Math.min(c.y,0===d?h.top:Math.min(h.top,k.top)):Math.max(c.y,0===d?h.bottom:Math.max(h.bottom,k.bottom)),m.x=c.x,m.y=l.y}else if(180===b)if(c.x<a.x||270===d&&c.y<a.y&&k.left<a.x||
90===d&&c.y>a.y&&k.left<a.x)l=new O(c.x,a.y),m=new O(c.x,(a.y+c.y)/2),0===d?(l.x=this.computeMidOrthoPosition(a.x,c.x,!1),m.x=l.x,m.y=c.y):270===d&&c.y<a.y||90===d&&c.y>a.y?(l.x=a.x>k.right?this.computeMidOrthoPosition(a.x,k.right,!1):a.x>k.left&&(270===d&&a.y<k.top||90===d&&a.y>k.bottom)?this.computeMidOrthoPosition(a.x,c.x,!1):k.left,m.x=l.x,m.y=c.y):180===d&&a.x>k.right&&a.y>k.top&&a.y<k.bottom&&(l.x=a.x,l.y=a.y<c.y?Math.min(c.y,k.top):Math.max(c.y,k.bottom),m.y=l.y);else{l=new O(a.x,c.y);m=new O((a.x+
c.x)/2,c.y);if(0===d||90===d&&c.y<h.top||270===d&&c.y>h.bottom)0===d&&(k.Oa(a)||h.Oa(c))?l.y=this.computeMidOrthoPosition(a.y,c.y,!0):c.y<a.y&&(0===d||90===d)?l.y=this.computeMidOrthoPosition(h.top,Math.max(c.y,k.bottom),!0):c.y>a.y&&(0===d||270===d)&&(l.y=this.computeMidOrthoPosition(h.bottom,Math.min(c.y,k.top),!0)),m.x=c.x,m.y=l.y;if(l.y>h.top&&l.y<h.bottom)if(c.x<=h.right&&c.x>=a.x||a.x>=k.left&&a.x<=c.x){if(90===d||270===d)l=new O(Math.min((a.x+c.x)/2,a.x),a.y),m=new O(l.x,c.y)}else l.y=270===
d||(0===d||180===d)&&c.y<a.y?Math.min(c.y,180===d?h.top:Math.min(h.top,k.top)):Math.max(c.y,180===d?h.bottom:Math.max(h.bottom,k.bottom)),m.x=c.x,m.y=l.y}else if(90===b)if(c.y>a.y||180===d&&c.x<a.x&&k.bottom>a.y||0===d&&c.x>a.x&&k.bottom>a.y)l=new O(a.x,c.y),m=new O((a.x+c.x)/2,c.y),270===d?(l.y=this.computeMidOrthoPosition(a.y,c.y,!0),m.x=c.x,m.y=l.y):180===d&&c.x<a.x||0===d&&c.x>a.x?(l.y=a.y<k.top?this.computeMidOrthoPosition(a.y,k.top,!0):a.y<k.bottom&&(180===d&&a.x<k.left||0===d&&a.x>k.right)?
this.computeMidOrthoPosition(a.y,c.y,!0):k.bottom,m.x=c.x,m.y=l.y):90===d&&a.y<k.top&&a.x>k.left&&a.x<k.right&&(l.x=a.x<c.x?Math.min(c.x,k.left):Math.max(c.x,k.right),l.y=a.y,m.x=l.x);else{l=new O(c.x,a.y);m=new O(c.x,(a.y+c.y)/2);if(270===d||0===d&&c.x<h.left||180===d&&c.x>h.right)270===d&&(k.Oa(a)||h.Oa(c))?l.x=this.computeMidOrthoPosition(a.x,c.x,!1):c.x<a.x&&(270===d||0===d)?l.x=this.computeMidOrthoPosition(h.left,Math.max(c.x,k.right),!1):c.x>a.x&&(270===d||180===d)&&(l.x=this.computeMidOrthoPosition(h.right,
Math.min(c.x,k.left),!1)),m.x=l.x,m.y=c.y;if(l.x>h.left&&l.x<h.right)if(c.y>=h.top&&c.y<=a.y||a.y<=k.bottom&&a.y>=c.y){if(0===d||180===d)l=new O(a.x,Math.max((a.y+c.y)/2,a.y)),m=new O(c.x,l.y)}else l.x=180===d||(90===d||270===d)&&c.x<a.x?Math.min(c.x,90===d?h.left:Math.min(h.left,k.left)):Math.max(c.x,90===d?h.right:Math.max(h.right,k.right)),m.x=l.x,m.y=c.y}else if(c.y<a.y||180===d&&c.x<a.x&&k.top<a.y||0===d&&c.x>a.x&&k.top<a.y)l=new O(a.x,c.y),m=new O((a.x+c.x)/2,c.y),90===d?(l.y=this.computeMidOrthoPosition(a.y,
c.y,!0),m.x=c.x,m.y=l.y):180===d&&c.x<a.x||0===d&&c.x>=a.x?(l.y=a.y>k.bottom?this.computeMidOrthoPosition(a.y,k.bottom,!0):a.y>k.top&&(180===d&&a.x<k.left||0===d&&a.x>k.right)?this.computeMidOrthoPosition(a.y,c.y,!0):k.top,m.x=c.x,m.y=l.y):270===d&&a.y>k.bottom&&a.x>k.left&&a.x<k.right&&(l.x=a.x<c.x?Math.min(c.x,k.left):Math.max(c.x,k.right),l.y=a.y,m.x=l.x);else{l=new O(c.x,a.y);m=new O(c.x,(a.y+c.y)/2);if(90===d||0===d&&c.x<h.left||180===d&&c.x>h.right)90===d&&(k.Oa(a)||h.Oa(c))?l.x=this.computeMidOrthoPosition(a.x,
c.x,!1):c.x<a.x&&(90===d||0===d)?l.x=this.computeMidOrthoPosition(h.left,Math.max(c.x,k.right),!1):c.x>a.x&&(90===d||180===d)&&(l.x=this.computeMidOrthoPosition(h.right,Math.min(c.x,k.left),!1)),m.x=l.x,m.y=c.y;if(l.x>h.left&&l.x<h.right)if(c.y<=h.bottom&&c.y>=a.y||a.y>=k.top&&a.y<=c.y){if(0===d||180===d)l=new O(a.x,Math.min((a.y+c.y)/2,a.y)),m=new O(c.x,l.y)}else l.x=180===d||(90===d||270===d)&&c.x<a.x?Math.min(c.x,270===d?h.left:Math.min(h.left,k.left)):Math.max(c.x,270===d?h.right:Math.max(h.right,
k.right)),m.x=l.x,m.y=c.y}var n=l,p=m;if(this.Di){var q=this.g,r;(r=null===q)||(q.Ya.vf?r=!1:(r=q.hb,r=r instanceof Ph?!r.Tw||r.cJ:!0),r=!r);if(r||h.Oa(c)&&!g.Ei(e)||k.Oa(a)&&!e.Ei(g)||e===g||this.layer.Xc)a=!1;else if(e=ja(q,!0,this.Qa,null),e.tm(Math.min(a.x,n.x),Math.min(a.y,n.y),Math.abs(a.x-n.x),Math.abs(a.y-n.y))&&e.tm(Math.min(n.x,p.x),Math.min(n.y,p.y),Math.abs(n.x-p.x),Math.abs(n.y-p.y))&&e.tm(Math.min(p.x,c.x),Math.min(p.y,c.y),Math.abs(p.x-c.x),Math.abs(p.y-c.y)))a=!1;else if(h=h.copy().Wh(k),
h.eg(2*e.Zp,2*e.Xp),Ur(e,a,b,c,d,h),k=Vr(e,c.x,c.y),e.abort||999999!==k||(Fn(e),k=e.IG,h.eg(e.Zp*k,e.Xp*k),Ur(e,a,b,c,d,h),k=Vr(e,c.x,c.y)),e.abort||999999!==k||(Fn(e),k=e.QF,h.eg(e.Zp*k,e.Xp*k),Ur(e,a,b,c,d,h),k=Vr(e,c.x,c.y)),!e.abort&&999999===k&&e.cH&&(Fn(e),Ur(e,a,b,c,d,e.sb),k=Vr(e,c.x,c.y)),!e.abort&&999999>k&&0!==Vr(e,c.x,c.y)){Wr(this,e,c.x,c.y,d,!0);d=this.n(2);if(4>this.ua)0===b||180===b?(d.x=a.x,d.y=c.y):(d.x=c.x,d.y=a.y),this.ja(2,d.x,d.y),this.B(3,d.x,d.y);else if(c=this.n(3),0===b||
180===b)R(d.x,c.x)?(b=0===b?Math.max(d.x,a.x):Math.min(d.x,a.x),this.ja(2,b,a.y),this.ja(3,b,c.y)):R(d.y,c.y)?(Math.abs(a.y-d.y)<=e.Xp/2&&(this.ja(2,d.x,a.y),this.ja(3,c.x,a.y)),this.B(2,d.x,a.y)):this.ja(2,a.x,d.y);else if(90===b||270===b)R(d.y,c.y)?(b=90===b?Math.max(d.y,a.y):Math.min(d.y,a.y),this.ja(2,a.x,b),this.ja(3,c.x,b)):R(d.x,c.x)?(Math.abs(a.x-d.x)<=e.Zp/2&&(this.ja(2,a.x,d.y),this.ja(3,a.x,c.y)),this.B(2,a.x,d.y)):this.ja(2,d.x,a.y);a=!0}else a=!1}else a=!1;a||(this.zi(l),this.zi(m))}};
I.prototype.computeMidOrthoPosition=function(a,b){if(this.hasCurviness()){var c=this.computeCurviness();return(a+b)/2+c}return(a+b)/2};function Th(a){if(null===a.g||!a.Di)return!1;var b=a.points.o,c=b.length;if(4>c)return!1;a=ja(a.g,!0,a.Qa,null);for(var d=1;d<c-2;d++){var e=b[d],g=b[d+1];if(!a.tm(Math.min(e.x,g.x),Math.min(e.y,g.y),Math.abs(e.x-g.x),Math.abs(e.y-g.y)))return!0}return!1}
function Wr(a,b,c,d,e,g){var h=b.Zp,k=b.Xp,l=Vr(b,c,d),m=c,n=d;for(0===e?m+=h:90===e?n+=k:180===e?m-=h:n-=k;1<l&&Vr(b,m,n)===l-1;)c=m,d=n,0===e?m+=h:90===e?n+=k:180===e?m-=h:n-=k,l-=1;if(g){if(1<l)if(180===e||0===e)c=Math.floor(c/h)*h+h/2;else if(90===e||270===e)d=Math.floor(d/k)*k+k/2}else c=Math.floor(c/h)*h+h/2,d=Math.floor(d/k)*k+k/2;1<l&&(g=e,m=c,n=d,0===e?(g=90,n+=k):90===e?(g=180,m-=h):180===e?(g=270,n-=k):270===e&&(g=0,m+=h),Vr(b,m,n)===l-1?Wr(a,b,m,n,g,!1):(m=c,n=d,0===e?(g=270,n-=k):90===
e?(g=0,m+=h):180===e?(g=90,n+=k):270===e&&(g=180,m-=h),Vr(b,m,n)===l-1&&Wr(a,b,m,n,g,!1)));a.Ul(c,d)}I.prototype.findClosestSegment=function(a){u&&C.l(a,O,I,"findClosestSegment:p");var b=a.x;a=a.y;for(var c=this.n(0),d=this.n(1),e=xb(b,a,c.x,c.y,d.x,d.y),g=0,h=1;h<this.ua-1;h++){var c=this.n(h+1),k=xb(b,a,d.x,d.y,c.x,c.y),d=c;k<e&&(g=h,e=k)}return g};I.prototype.Se=function(){this.pb=null};C.w(I,{Ef:"geometry"},function(){null===this.pb&&(this.uo(),this.pb=this.makeGeometry());return this.pb});
I.prototype.fo=function(a){if(!a){if(!1===this.kh)return;a=this.Vd();if(null!==this.pb&&(null===a||null!==a.Ef))return}this.pb=this.makeGeometry();a=this.path;if(null!==a){a.pb=this.pb;for(var b=this.va.o,c=b.length,d=0;d<c;d++){var e=b[d];e!==a&&e.Hf&&e instanceof w&&(e.pb=this.pb)}}};
I.prototype.makeGeometry=function(){var a=this.ua;if(2>a)return new Ve(hf);var b=!1,c=this.g;null!==c&&Lr(this)&&c.sl.contains(this)&&null!==this.Cw&&(b=!0);var d=c=0,e=this.n(0).copy(),g=e.copy(),c=this.dd.o,h=this.computeCurve();if(h===Dj&&3<=a&&!Db(this.Uq,0))if(3===a)var k=this.n(1),c=Math.min(e.x,k.x),d=Math.min(e.y,k.y),k=this.n(2),c=Math.min(c,k.x),d=Math.min(d,k.y);else{if(this.tc)for(k=0;k<a;k++)d=c[k],g.x=Math.min(d.x,g.x),g.y=Math.min(d.y,g.y);else for(k=3;k<a;k+=3)k+3>=a&&(k=a-1),c=this.n(k),
g.x=Math.min(c.x,g.x),g.y=Math.min(c.y,g.y);c=g.x;d=g.y}else{for(k=0;k<a;k++)d=c[k],g.x=Math.min(d.x,g.x),g.y=Math.min(d.y,g.y);c=g.x;d=g.y}c-=this.Zz.x;d-=this.Zz.y;e.x-=c;e.y-=d;if(2!==a||Lr(this)){var l=C.v();0!==this.computeShortLength(!0)&&(e=Xr(this,e,!0,g));U(l,e.x,e.y,!1,!1);if(h===Dj&&3<=a&&!Db(this.Uq,0))if(3===a)k=this.n(1),a=k.x-c,b=k.y-d,k=this.n(2).copy(),k.x-=c,k.y-=d,0!==this.computeShortLength(!1)&&(k=Xr(this,k,!1,g)),V(l,a,b,a,b,k.x,k.y);else if(this.tc){for(var g=new O(c,d),e=this.n(1).copy(),
h=new O(c,d),a=new O(c,d),b=this.n(0),m=null,n=this.Uq/3,k=1;k<this.ua-1;k++){var m=this.n(k),p=b,q=m,r=this.n(Yr(this,m,k,!1));if(!Db(p.x,q.x)||!Db(q.x,r.x))if(!Db(p.y,q.y)||!Db(q.y,r.y)){var s=n,v=h,t=a;isNaN(s)&&(s=this.Uq/3);var x=p.x,p=p.y,y=q.x,q=q.y,B=r.x,r=r.y,A=s*Zr(x,p,y,q),s=s*Zr(y,q,B,r);Db(p,q)&&Db(y,B)&&(y>x?r>q?(v.x=y-A,v.y=q-A,t.x=y+s,t.y=q+s):(v.x=y-A,v.y=q+A,t.x=y+s,t.y=q-s):r>q?(v.x=y+A,v.y=q-A,t.x=y-s,t.y=q+s):(v.x=y+A,v.y=q+A,t.x=y-s,t.y=q-s));Db(x,y)&&Db(q,r)&&(q>p?(B>y?(v.x=
y-A,v.y=q-A,t.x=y+s):(v.x=y+A,v.y=q-A,t.x=y-s),t.y=q+s):(B>y?(v.x=y-A,v.y=q+A,t.x=y+s):(v.x=y+A,v.y=q+A,t.x=y-s),t.y=q-s));if(Db(x,y)&&Db(y,B)||Db(p,q)&&Db(q,r))x=.5*(x+B),p=.5*(p+r),v.x=x,v.y=p,t.x=x,t.y=p;1===k?(e.x=.5*(b.x+m.x),e.y=.5*(b.y+m.y)):2===k&&Db(b.x,this.n(0).x)&&Db(b.y,this.n(0).y)&&(e.x=.5*(b.x+m.x),e.y=.5*(b.y+m.y));V(l,e.x-c,e.y-d,h.x-c,h.y-d,m.x-c,m.y-d);g.set(h);e.set(a);b=m}}k=b.x;b=b.y;g=this.n(this.ua-1);0!==this.computeShortLength(!1)&&(g=Xr(this,g.copy(),!1,Dd));k=.5*(k+g.x);
b=.5*(b+g.y);V(l,a.x-c,a.y-d,k-c,b-d,g.x-c,g.y-d)}else for(k=3;k<a;k+=3)b=this.n(k-2),k+3>=a&&(k=a-1),g=this.n(k-1),e=this.n(k),k===a-1&&0!==this.computeShortLength(!1)&&(e=Xr(this,e.copy(),!1,Dd)),V(l,b.x-c,b.y-d,g.x-c,g.y-d,e.x-c,e.y-d);else{g=C.P();g.assign(this.n(0));for(k=1;k<a;){k=Yr(this,g,k,1<k);v=this.n(k);if(k>=a-1){g!==v&&(0!==this.computeShortLength(!1)&&(v=Xr(this,v.copy(),!1,Dd)),$r(this,l,-c,-d,g,v,b));break}k=Yr(this,v,k+1,k<a-3);e=l;h=-c;m=-d;n=g;t=this.n(k);x=g;p=b;R(n.y,v.y)&&R(v.x,
t.x)?(s=this.computeCorner(),s=Math.min(s,Math.abs(v.x-n.x)/2),s=y=Math.min(s,Math.abs(t.y-v.y)/2),R(s,0)?($r(this,e,h,m,n,v,p),x.assign(v)):(q=v.x,B=v.y,r=q,A=B,q=v.x>n.x?v.x-s:v.x+s,A=t.y>v.y?v.y+y:v.y-y,$r(this,e,h,m,n,new O(q,B),p),pf(e,v.x+h,v.y+m,r+h,A+m),x.m(r,A))):R(n.x,v.x)&&R(v.y,t.y)?(s=this.computeCorner(),y=Math.min(s,Math.abs(v.y-n.y)/2),y=s=Math.min(y,Math.abs(t.x-v.x)/2),R(s,0)?($r(this,e,h,m,n,v,p),x.assign(v)):(q=v.x,A=B=v.y,B=v.y>n.y?v.y-y:v.y+y,r=t.x>v.x?v.x+s:v.x-s,$r(this,e,
h,m,n,new O(q,B),p),pf(e,v.x+h,v.y+m,r+h,A+m),x.m(r,A))):($r(this,e,h,m,n,v,p),x.assign(v))}C.A(g)}c=l.q;C.u(l)}else l=this.n(1).copy(),l.x-=c,l.y-=d,0!==this.computeShortLength(!0)&&(e=Xr(this,e,!0,g)),0!==this.computeShortLength(!1)&&(l=Xr(this,l,!1,g)),c=new Ve(hf),c.na=e.x,c.la=e.y,c.H=l.x,c.I=l.y;return c};
function Zr(a,b,c,d){a=c-a;if(isNaN(a)||Infinity===a||-Infinity===a)return NaN;0>a&&(a=-a);b=d-b;if(isNaN(b)||Infinity===b||-Infinity===b)return NaN;0>b&&(b=-b);return Db(a,0)?b:Db(b,0)?a:Math.sqrt(a*a+b*b)}
function Xr(a,b,c,d){var e=a.ua;if(2>e)return b;if(c){var g=a.n(1);c=g.x-d.x;d=g.y-d.y;g=Zr(b.x,b.y,c,d);if(0===g)return b;e=2===e?.5*g:g;a=a.computeShortLength(!0);a>e&&(a=e);c=a*(c-b.x)/g;a=a*(d-b.y)/g;b.x+=c;b.y+=a}else{g=a.n(e-2);c=g.x-d.x;d=g.y-d.y;g=Zr(b.x,b.y,c,d);if(0===g)return b;e=2===e?.5*g:g;a=a.computeShortLength(!1);a>e&&(a=e);c=a*(b.x-c)/g;a=a*(b.y-d)/g;b.x-=c;b.y-=a}return b}
function Yr(a,b,c,d){for(var e=a.ua,g=b;Db(b.x,g.x)&&Db(b.y,g.y);){if(c>=e)return e-1;g=a.n(c++)}if(!Db(b.x,g.x)&&!Db(b.y,g.y))return c-1;for(var h=g;Db(b.x,g.x)&&Db(g.x,h.x)&&(!d||(b.y>=g.y?g.y>=h.y:g.y<=h.y))||Db(b.y,g.y)&&Db(g.y,h.y)&&(!d||(b.x>=g.x?g.x>=h.x:g.x<=h.x));){if(c>=e)return e-1;h=a.n(c++)}return c-2}
function $r(a,b,c,d,e,g,h){if(!h&&Lr(a)){h=[];var k=0;a.isVisible()&&(k=as(a,e,g,h));var l=e.x,l=e.y;if(0<k)if(R(e.y,g.y))if(e.x<g.x)for(var m=0;m<k;){var n=Math.max(e.x,Math.min(h[m++]-5,g.x-10));b.lineTo(n+c,g.y+d);for(var l=n+c,p=Math.min(n+10,g.x);m<k;){var q=h[m];if(q<p+10)m++,p=Math.min(q+5,g.x);else break}q=(n+p)/2+c;q=g.y-10+d;n=p+c;p=g.y+d;a.gf===mj?U(b,n,p,!1,!1):V(b,l,q,n,q,n,p)}else for(m=k-1;0<=m;){n=Math.min(e.x,Math.max(h[m--]+5,g.x+10));b.lineTo(n+c,g.y+d);l=n+c;for(p=Math.max(n-10,
g.x);0<=m;)if(q=h[m],q>p-10)m--,p=Math.max(q-5,g.x);else break;q=g.y-10+d;n=p+c;p=g.y+d;a.gf===mj?U(b,n,p,!1,!1):V(b,l,q,n,q,n,p)}else if(R(e.x,g.x))if(e.y<g.y)for(m=0;m<k;){n=Math.max(e.y,Math.min(h[m++]-5,g.y-10));b.lineTo(g.x+c,n+d);l=n+d;for(p=Math.min(n+10,g.y);m<k;)if(q=h[m],q<p+10)m++,p=Math.min(q+5,g.y);else break;q=g.x-10+c;n=g.x+c;p+=d;a.gf===mj?U(b,n,p,!1,!1):V(b,q,l,q,p,n,p)}else for(m=k-1;0<=m;){n=Math.min(e.y,Math.max(h[m--]+5,g.y+10));b.lineTo(g.x+c,n+d);l=n+d;for(p=Math.max(n-10,g.y);0<=
m;)if(q=h[m],q>p-10)m--,p=Math.max(q-5,g.y);else break;q=g.x-10+c;n=g.x+c;p+=d;a.gf===mj?U(b,n,p,!1,!1):V(b,q,l,q,p,n,p)}}b.lineTo(g.x+c,g.y+d)}
function as(a,b,c,d){var e=a.g;if(null===e||b.O(c))return 0;for(e=e.ao;e.next();){var g=e.value;if(null!==g&&g.visible)for(var g=g.qb.o,h=g.length,k=0;k<h;k++){var l=g[k];if(l instanceof I){if(l===a)return 0<d.length&&d.sort(function(a,b){return a-b}),d.length;if(l.isVisible()&&Lr(l)){var m=l.mo;m.F()&&a.mo.Wg(m)&&!a.usesSamePort(l)&&(m=l.path,null!==m&&m.Lj()&&bs(b,c,d,l))}}}}0<d.length&&d.sort(function(a,b){return a-b});return d.length}
function bs(a,b,c,d){for(var e=R(a.y,b.y),g=d.ua,h=d.n(0),k=C.P(),l=1;l<g;l++){var m=d.n(l);if(l<g-1){var n=d.n(l+1);if(h.y===m.y&&m.y===n.y){if(m.x>h.x&&n.x>m.x||m.x<h.x&&n.x<m.x)m=n,l++}else h.x===m.x&&m.x===n.x&&(m.y>h.y&&n.y>m.y||m.y<h.y&&n.y<m.y)&&(m=n,l++)}a:{var n=k,p=a.x,q=a.y,r=b.x,s=b.y,v=h.x,h=h.y,t=m.x,x=m.y;if(!R(p,r)){if(R(q,s)&&R(v,t)&&Math.min(p,r)<v&&Math.max(p,r)>v&&Math.min(h,x)<q&&Math.max(h,x)>q&&!R(h,x)){n.x=v;n.y=q;n=!0;break a}}else if(!R(q,s)&&R(h,x)&&Math.min(q,s)<h&&Math.max(q,
s)>h&&Math.min(v,t)<p&&Math.max(v,t)>p&&!R(v,t)){n.x=p;n.y=h;n=!0;break a}n.x=0;n.y=0;n=!1}n&&(e?c.push(k.x):c.push(k.y));h=m}C.A(k)}C.w(I,{gu:"firstPickIndex"},function(){var a;2>=this.ua?a=0:((a=this.tc)||(a=this.computeSpot(!0)!==gc),a=a?1:0);return a});C.w(I,{Xx:"lastPickIndex"},function(){var a=this.ua;if(0===a)a=0;else if(2>=a)a-=1;else{var b;(b=this.tc)||(b=this.computeSpot(!1)!==gc);a=b?a-2:a-1}return a});function Lr(a){a=a.gf;return a===lj||a===mj}
function Nr(a,b){if(b||Lr(a)){var c=a.g;null===c||c.sl.contains(a)||null===a.Cw||c.sl.add(a,a.Cw)}}function oj(a,b){var c=a.layer;if(null!==c&&c.visible&&!c.Xc){var d=c.g;if(null!==d)for(var e=!1,d=d.ao;d.next();){var g=d.value;if(g.visible)if(g===c)for(var e=!0,h=!1,g=g.qb.o,k=g.length,l=0;l<k;l++){var m=g[l];m instanceof I&&(m===a?h=!0:h&&cs(a,m,b))}else if(e)for(g=g.qb.o,k=g.length,l=0;l<k;l++)m=g[l],m instanceof I&&cs(a,m,b)}}}
function cs(a,b,c){if(null!==b&&null!==b.pb&&Lr(b)){var d=b.mo;d.F()&&(a.mo.Wg(d)||c.Wg(d))&&(a.usesSamePort(b)||b.Se())}}I.prototype.usesSamePort=function(a){var b=this.ua,c=a.ua;if(0<b&&0<c){var d=this.n(0),e=a.n(0);if(d.Wc(e))return!0;b=this.n(b-1);a=a.n(c-1);if(b.Wc(a)||d.Wc(a)||b.Wc(e))return!0}else if(this.aa===a.aa||this.ea===a.ea||this.aa===a.ea||this.ea===a.aa)return!0;return!1};
I.prototype.isVisible=function(){if(!E.prototype.isVisible.call(this))return!1;var a=this.Qa,b=!0,c=this.g;null!==c&&(b=c.$d);var d=this.aa;if(null!==d){if(this.Yc&&b&&!d.ud)return!1;if(d===a)return!0;for(c=d;null!==c;){if(c.Cc===this)return!0;c=c.Qa}c=d.findVisibleNode();if(null===c||c===a)return!1}d=this.ea;if(null!==d){if(this.Yc&&!b&&!d.ud)return!1;if(d===a)return!0;for(c=d;null!==c;){if(c.Cc===this)return!0;c=c.Qa}b=d.findVisibleNode();if(null===b||b===a)return!1}return!0};
I.prototype.Jd=function(a){E.prototype.Jd.call(this,a);null!==this.Mi&&this.Mi.sq();if(null!==this.af)for(var b=this.af.j;b.next();)b.value.Jd(a)};C.defineProperty(I,{Pt:"adjusting"},function(){return this.dr},function(a){var b=this.dr;b!==a&&(u&&C.Ca(a,I,I,"adjusting"),this.dr=a,this.i("adjusting",b,a))});C.defineProperty(I,{sA:"corner"},function(){return this.wr},function(a){var b=this.wr;b!==a&&(u&&C.h(a,"number",I,"corner"),this.wr=a,this.Se(),this.i("corner",b,a))});
C.defineProperty(I,{gf:"curve"},function(){return this.zr},function(a){var b=this.zr;b!==a&&(u&&C.Ca(a,I,I,"curve"),this.zr=a,this.hc(),this.Se(),Nr(this,b===mj||b===lj||a===mj||a===lj),this.i("curve",b,a))});C.defineProperty(I,{ux:"curviness"},function(){return this.Ar},function(a){var b=this.Ar;b!==a&&(u&&C.h(a,"number",I,"curviness"),this.Ar=a,this.hc(),this.Se(),this.i("curviness",b,a))});
C.defineProperty(I,{ty:"routing"},function(){return this.kn},function(a){var b=this.kn;b!==a&&(u&&C.Ca(a,I,I,"routing"),this.kn=a,this.Yi=null,this.hc(),Nr(this,2===(b.value&2)||2===(a.value&2)),this.i("routing",b,a))});C.defineProperty(I,{Uq:"smoothness"},function(){return this.tt},function(a){var b=this.tt;b!==a&&(u&&C.h(a,"number",I,"smoothness"),this.tt=a,this.Se(),this.i("smoothness",b,a))});
function Jr(a){var b=a.yg;if(null!==b){var c=a.Pg;if(null!==c){var d=a.ci;a=a.xi;for(var e=null,g=null,h=b.xc.o,k=h.length,l=0;l<k;l++){var m=h[l];if(m.yg===b&&m.ci===d&&m.Pg===c&&m.xi===a||m.yg===c&&m.ci===a&&m.Pg===b&&m.xi===d)null===g?g=m:(null===e&&(e=[],e.push(g)),e.push(m))}if(null!==e){g=ur(b,c,d,a);null===g&&(g=new Dl,g.Fq=b,g.jy=d,g.Iu=c,g.ky=a,tr(b,g),tr(c,g));g.links=e;for(l=0;l<e.length;l++)m=e[l],m.Mi=g;g.sq()}}}}
function Ir(a){var b=a.Mi;null!==b&&(a.Mi=null,a=b.links.indexOf(a),0<=a&&(C.Sg(b.links,a),b.sq()))}function Dl(){C.wc(this);this.$v=!1;this.ky=this.Iu=this.jy=this.Fq=null;this.links=[]}Dl.prototype.sq=function(){if(!this.$v){var a=this.links;0<a.length&&(a=a[0].g,null!==a&&a.YC.add(this))}this.$v=!0};
Dl.prototype.QB=function(){if(this.$v){this.$v=!1;var a=this.links;if(0<a.length){var b=a[0],c=b.g;b.arrangeBundledLinks(a,null===c||c.Zn);1===a.length&&(b.Mi=null,a.length=0)}0===a.length&&(a=this.Fq,null!==this&&null!==a.Xh&&a.Xh.remove(this),a=this.Iu,null!==this&&null!==a.Xh&&a.Xh.remove(this))}};C.le(Dl,{Fq:!0,jy:!0,Iu:!0,ky:!0,links:!0,spacing:!0});
function Dn(){C.wc(this);this.GB=this.group=null;this.rq=!0;this.abort=!1;this.Wf=this.Vf=1;this.xs=this.ws=-1;this.Nd=this.ce=8;this.zd=null;this.cH=!1;this.IG=22;this.QF=111}C.le(Dn,{group:!0,GB:!0,rq:!0,abort:!0,cH:!0,IG:!0,QF:!0});
Dn.prototype.initialize=function(a){if(!(0>=a.width||0>=a.height)){var b=a.y,c=a.x+a.width,d=a.y+a.height;this.Vf=Math.floor((a.x-this.ce)/this.ce)*this.ce;this.Wf=Math.floor((b-this.Nd)/this.Nd)*this.Nd;this.ws=Math.ceil((c+2*this.ce)/this.ce)*this.ce;this.xs=Math.ceil((d+2*this.Nd)/this.Nd)*this.Nd;a=1+(Math.ceil((this.ws-this.Vf)/this.ce)|0);b=1+(Math.ceil((this.xs-this.Wf)/this.Nd)|0);if(null===this.zd||this.yn<a-1||this.zn<b-1){c=[];for(d=0;d<=a;d++){for(var e=[],g=0;g<=b;g++)e[g]=0;c[d]=e}this.zd=
c;this.yn=a-1;this.zn=b-1}if(null!==this.zd)for(a=0;a<=this.yn;a++)for(b=0;b<=this.zn;b++)this.zd[a][b]=999999}};C.w(Dn,{sb:null},function(){return new z(this.Vf,this.Wf,this.ws-this.Vf,this.xs-this.Wf)});C.defineProperty(Dn,{Zp:null},function(){return this.ce},function(a){0<a&&a!==this.ce&&(this.ce=a,this.initialize(this.sb))});C.defineProperty(Dn,{Xp:null},function(){return this.Nd},function(a){0<a&&a!==this.Nd&&(this.Nd=a,this.initialize(this.sb))});
function ds(a,b,c){return a.Vf<=b&&b<=a.ws&&a.Wf<=c&&c<=a.xs}function Vr(a,b,c){if(!ds(a,b,c))return 0;b-=a.Vf;b/=a.ce;c-=a.Wf;c/=a.Nd;return a.zd[b|0][c|0]}function Gn(a,b,c){ds(a,b,c)&&(b-=a.Vf,b/=a.ce,c-=a.Wf,c/=a.Nd,a.zd[b|0][c|0]=0)}function Fn(a){if(null!==a.zd)for(var b=0;b<=a.yn;b++)for(var c=0;c<=a.zn;c++)1<=a.zd[b][c]&&(a.zd[b][c]|=999999)}
Dn.prototype.tm=function(a,b,c,d){if(a>this.ws||a+c<this.Vf||b>this.xs||b+d<this.Wf)return!0;a=(a-this.Vf)/this.ce|0;b=(b-this.Wf)/this.Nd|0;c=Math.max(0,c)/this.ce+1|0;var e=Math.max(0,d)/this.Nd+1|0;0>a&&(c+=a,a=0);0>b&&(e+=b,b=0);if(0>c||0>e)return!0;d=Math.min(a+c-1,this.yn)|0;for(c=Math.min(b+e-1,this.zn)|0;a<=d;a++)for(e=b;e<=c;e++)if(0===this.zd[a][e])return!1;return!0};
function es(a,b,c,d,e,g,h,k,l){if(!(b<g||b>h||c<k||c>l)){var m,n;m=b|0;n=c|0;var p=a.zd[m][n];if(1<=p&&999999>p)for(e?n+=d:m+=d,p+=1;g<=m&&m<=h&&k<=n&&n<=l&&!(p>=a.zd[m][n]);)a.zd[m][n]=p,p+=1,e?n+=d:m+=d;m=e?n:m;if(e)if(0<d)for(c+=d;c<m;c+=d)es(a,b,c,1,!e,g,h,k,l),es(a,b,c,-1,!e,g,h,k,l);else for(c+=d;c>m;c+=d)es(a,b,c,1,!e,g,h,k,l),es(a,b,c,-1,!e,g,h,k,l);else if(0<d)for(b+=d;b<m;b+=d)es(a,b,c,1,!e,g,h,k,l),es(a,b,c,-1,!e,g,h,k,l);else for(b+=d;b>m;b+=d)es(a,b,c,1,!e,g,h,k,l),es(a,b,c,-1,!e,g,h,
k,l)}}function fs(a,b,c,d,e,g,h,k,l){b|=0;c|=0;var m=0,n=1;for(a.zd[b][c]=n;0===m&&b>g&&b<h&&c>k&&c<l;)n+=1,a.zd[b][c]=n,e?c+=d:b+=d,m=a.zd[b][c]}function gs(a,b,c,d,e,g,h,k,l){b|=0;c|=0;var m=0;for(a.zd[b][c]=999999;0===m&&b>g&&b<h&&c>k&&c<l;)a.zd[b][c]=999999,e?c+=d:b+=d,m=a.zd[b][c]}
function Ur(a,b,c,d,e,g){if(null!==a.zd){a.abort=!1;var h=b.x,k=b.y;if(ds(a,h,k)&&(h-=a.Vf,h/=a.ce,k-=a.Wf,k/=a.Nd,b=d.x,d=d.y,ds(a,b,d)))if(b-=a.Vf,b/=a.ce,d-=a.Wf,d/=a.Nd,1>=Math.abs(h-b)&&1>=Math.abs(k-d))a.abort=!0;else{var l=g.x,m=g.y,n=g.x+g.width,p=g.y+g.height,l=l-a.Vf,l=l/a.ce,m=m-a.Wf,m=m/a.Nd,n=n-a.Vf,n=n/a.ce,p=p-a.Wf,p=p/a.Nd;g=Math.max(0,Math.min(a.yn,l|0));n=Math.min(a.yn,Math.max(0,n|0));m=Math.max(0,Math.min(a.zn,m|0));p=Math.min(a.zn,Math.max(0,p|0));h|=0;k|=0;b|=0;d|=0;l=90===c||
270===c;fs(a,h,k,0===c||90===c?1:-1,l,g,n,m,p);fs(a,h,k,1,!l,g,n,m,p);fs(a,h,k,-1,!l,g,n,m,p);gs(a,b,d,0===e||90===e?1:-1,90===e||270===e,g,n,m,p);gs(a,b,d,1,!(90===e||270===e),g,n,m,p);gs(a,b,d,-1,!(90===e||270===e),g,n,m,p);a.abort||(es(a,h,k,1,!1,g,n,m,p),es(a,h,k,-1,!1,g,n,m,p),es(a,h,k,1,!0,g,n,m,p),es(a,h,k,-1,!0,g,n,m,p))}}}function Sr(){C.wc(this);this.port=this.Zc=null;this.kg=[];this.Eq=!1}C.le(Sr,{Zc:!0,port:!0,kg:!0,Eq:!0});
Sr.prototype.toString=function(){for(var a=this.kg,b=this.Zc.toString()+" "+a.length.toString()+":",c=0;c<a.length;c++){var d=a[c];null!==d&&(b+="\n  "+d.toString())}return b};
function hs(a,b,c,d){b=b.offsetY;switch(b){case C.nd:return 90;case C.bd:return 180;case C.xd:return 270;case C.od:return 0}switch(b){case C.nd|C.xd:return 180<c?270:90;case C.bd|C.od:return 90<c&&270>=c?180:0}a=180*Math.atan2(a.height,a.width)/Math.PI;switch(b){case C.bd|C.xd:return c>a&&c<=180+a?180:270;case C.xd|C.od:return c>180-a&&c<=360-a?270:0;case C.od|C.nd:return c>a&&c<=180+a?90:0;case C.nd|C.bd:return c>180-a&&c<=360-a?180:90;case C.bd|C.xd|C.od:return 90<c&&c<=180+a?180:c>180+a&&c<=360-
a?270:0;case C.xd|C.od|C.nd:return 180<c&&c<=360-a?270:c>a&&180>=c?90:0;case C.od|C.nd|C.bd:return c>a&&c<=180-a?90:c>180-a&&270>=c?180:0;case C.nd|C.bd|C.xd:return c>180-a&&c<=180+a?180:c>180+a?270:90}d&&b!==(C.bd|C.xd|C.od|C.nd)&&(c-=15,0>c&&(c+=360));return c>a&&c<180-a?90:c>=180-a&&c<=180+a?180:c>180+a&&c<360-a?270:0}Sr.prototype.sq=function(){this.kg.length=0};
function Tr(a,b){var c=a.kg;if(0===c.length){a:if(!a.Eq){c=a.Eq;a.Eq=!0;var d,e=null,g=a.Zc,g=g instanceof H?g:null;if(null===g||g.Ke)d=a.Zc.dF(a.port.vd);else{if(!g.Z.F()){a.Eq=c;break a}e=g;d=e.cF()}var h=a.kg.length=0,k=a.port.fb(hc,C.P()),l=a.port.fb(qc,C.P()),g=C.fh(k.x,k.y,0,0);g.Ki(l);C.A(k);C.A(l);k=C.Fb(g.x+g.width/2,g.y+g.height/2);for(d=d.j;d.next();)if(l=d.value,l.isVisible()){var m=l.gd===a.port||l.aa.Ei(e),n=l.computeSpot(m);if(n.Ij()&&(m=m?l.Md:l.gd,null!==m)){var p=m.ba;if(null!==
p){var m=l.computeOtherPoint(p,m),p=k.Mc(m),n=hs(g,n,p,l.tc),q=0;0===n?(q=C.od,180<p&&(p-=360)):q=90===n?C.nd:180===n?C.bd:C.xd;n=a.kg[h];void 0===n?(n=new is(l,p,q),a.kg[h]=n):(n.link=l,n.angle=p,n.Le=q);n.hy.set(m);h++}}}C.A(k);a.kg.sort(Sr.prototype.KJ);e=a.kg.length;k=-1;for(h=d=0;h<e;h++)n=a.kg[h],void 0!==n&&(n.Le!==k&&(k=n.Le,d=0),n.pq=d,d++);k=-1;d=0;for(h=e-1;0<=h;h--)n=a.kg[h],void 0!==n&&(n.Le!==k&&(k=n.Le,d=n.pq+1),n.Kn=d);h=a.kg;m=a.port;e=a.Zc.SJ;k=C.P();d=C.P();l=C.P();n=C.P();m.fb(hc,
k);m.fb(jc,d);m.fb(qc,l);m.fb(oc,n);var r=q=p=m=0;if(e===sr)for(var s=0;s<h.length;s++){var v=h[s];if(null!==v){var t=v.link.computeThickness();switch(v.Le){case C.nd:q+=t;break;case C.bd:r+=t;break;case C.xd:m+=t;break;default:case C.od:p+=t}}}for(var x=0,y=0,B=1,s=0;s<h.length;s++)if(v=h[s],null!==v){var A,N;if(x!==v.Le){x=v.Le;switch(x){case C.nd:A=l;N=n;break;case C.bd:A=n;N=k;break;case C.xd:A=k;N=d;break;default:case C.od:A=d,N=l}var G=N.x-A.x;N=N.y-A.y;switch(x){case C.nd:q>Math.abs(G)?(B=
Math.abs(G)/q,q=Math.abs(G)):B=1;break;case C.bd:r>Math.abs(N)?(B=Math.abs(N)/r,r=Math.abs(N)):B=1;break;case C.xd:m>Math.abs(G)?(B=Math.abs(G)/m,m=Math.abs(G)):B=1;break;default:case C.od:p>Math.abs(N)?(B=Math.abs(N)/p,p=Math.abs(N)):B=1}y=0}var T=v.xq;if(e===sr){t=v.link.computeThickness();t*=B;T.set(A);switch(x){case C.nd:T.x=A.x+G/2+q/2-y-t/2;break;case C.bd:T.y=A.y+N/2+r/2-y-t/2;break;case C.xd:T.x=A.x+G/2-m/2+y+t/2;break;default:case C.od:T.y=A.y+N/2-p/2+y+t/2}y+=t}else t=.5,e===pr&&(t=(v.pq+
1)/(v.Kn+1)),T.x=A.x+G*t,T.y=A.y+N*t}C.A(k);C.A(d);C.A(l);C.A(n);A=a.kg;for(G=0;G<A.length;G++)N=A[G],null!==N&&(N.zx=a.computeEndSegmentLength(N));a.Eq=c;C.Lb(g)}c=a.kg}for(g=0;g<c.length;g++)if(A=c[g],null!==A&&A.link===b)return A;return null}Sr.prototype.KJ=function(a,b){return a===b?0:null===a?-1:null===b?1:a.Le<b.Le?-1:a.Le>b.Le?1:a.angle<b.angle?-1:a.angle>b.angle?1:0};
Sr.prototype.computeEndSegmentLength=function(a){var b=a.link,c=b.computeEndSegmentLength(this.Zc,this.port,gc,b.gd===this.port),d=a.pq;if(0>d)return c;var e=a.Kn;if(1>=e||!b.tc)return c;var b=a.hy,g=a.xq;if(a.Le===C.bd||a.Le===C.nd)d=e-1-d;return((a=a.Le===C.bd||a.Le===C.od)?b.y<g.y:b.x<g.x)?c+8*d:(a?b.y===g.y:b.x===g.x)?c:c+8*(e-1-d)};function is(a,b,c){this.link=a;this.angle=b;this.Le=c;this.hy=new O;this.Kn=this.pq=0;this.xq=new O;this.zx=0}
C.le(is,{link:!0,angle:!0,Le:!0,hy:!0,pq:!0,Kn:!0,xq:!0,zx:!0});is.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.Le.toString()+":"+this.pq.toString()+"/"+this.Kn.toString()+" "+this.xq.toString()+" "+this.zx.toString()+" "+this.hy.toString()};function wo(){this.Ek=this.hk=Rc;this.Ck=this.fk=NaN;this.Bk=this.ek=qr;this.Dk=this.gk=NaN;this.Et=this.Sr=null;this.Ft=this.Tr=Infinity}
wo.prototype.copy=function(){var a=new wo;a.hk=this.hk.V();a.Ek=this.Ek.V();a.fk=this.fk;a.Ck=this.Ck;a.ek=this.ek;a.Bk=this.Bk;a.gk=this.gk;a.Dk=this.Dk;a.Sr=this.Sr;a.Et=this.Et;a.Tr=this.Tr;a.Ft=this.Ft;return a};function H(a){F.call(this,a);this.Ha|=4608;this.zs=new L(E);this.cn=new L(H);this.Qb=this.xt=this.Il=this.As=this.ys=null;this.ve=new ch;this.ve.group=this}C.Ta(H,F);C.ka("Group",H);
H.prototype.cloneProtected=function(a){F.prototype.cloneProtected.call(this,a);this.Ha&=-32769;a.ys=this.ys;a.As=this.As;a.Il=this.Il;a.xt=this.xt;var b=a.eu(function(a){return a instanceof Sj});a.Qb=b instanceof Sj?b:null;null!==this.ve?(a.ve=this.ve.copy(),a.ve.group=a):(null!==a.ve&&(a.ve.group=null),a.ve=null)};H.prototype.Bi=function(a){F.prototype.Bi.call(this,a);var b=a.lq();for(a=a.Pc;a.next();){var c=a.value;c.K();c.N(8);c.Wt();if(c instanceof F)c.fg(b);else if(c instanceof I)for(c=c.Jf;c.next();)c.value.fg(b)}};
H.prototype.lo=function(a,b,c,d,e,g,h){if(a===sg&&"elements"===b)if(e instanceof Sj){var k=e;null===this.Qb?this.Qb=k:this.Qb!==k&&C.k("Cannot insert a second Placeholder into the visual tree of a Group.")}else e instanceof J&&(k=e.eu(function(a){return a instanceof Sj}),k instanceof Sj&&(null===this.Qb?this.Qb=k:this.Qb!==k&&C.k("Cannot insert a second Placeholder into the visual tree of a Group.")));else a===tg&&"elements"===b&&null!==this.Qb&&(d===this.Qb?this.Qb=null:d instanceof J&&this.Qb.rm(d)&&
(this.Qb=null));F.prototype.lo.call(this,a,b,c,d,e,g,h)};H.prototype.yj=function(a,b,c,d){this.Hl=this.Qb;J.prototype.yj.call(this,a,b,c,d)};H.prototype.sm=function(){if(!F.prototype.sm.call(this))return!1;for(var a=this.Pc;a.next();){var b=a.value;if(b instanceof F){if(b.isVisible()&&Dm(b))return!1}else if(b instanceof I&&b.isVisible()&&Dm(b)&&b.aa!==this&&b.ea!==this)return!1}return!0};C.w(H,{placeholder:"placeholder"},function(){return this.Qb});
C.defineProperty(H,{dI:"computesBoundsAfterDrag"},function(){return 0!==(this.Ha&2048)},function(a){var b=0!==(this.Ha&2048);b!==a&&(C.h(a,"boolean",H,"computesBoundsAfterDrag"),this.Ha^=2048,this.i("computesBoundsAfterDrag",b,a))});C.defineProperty(H,{px:"computesBoundsIncludingLinks"},function(){return 0!==(this.Ha&4096)},function(a){C.h(a,"boolean",H,"computesBoundsIncludingLinks");var b=0!==(this.Ha&4096);b!==a&&(this.Ha^=4096,this.i("computesBoundsIncludingLinks",b,a))});
C.defineProperty(H,{eI:"computesBoundsIncludingLocation"},function(){return 0!==(this.Ha&8192)},function(a){C.h(a,"boolean",H,"computesBoundsIncludingLocation");var b=0!==(this.Ha&8192);b!==a&&(this.Ha^=8192,this.i("computesBoundsIncludingLocation",b,a))});C.defineProperty(H,{TI:"handlesDragDropForMembers"},function(){return 0!==(this.Ha&16384)},function(a){C.h(a,"boolean",H,"handlesDragDropForMembers");var b=0!==(this.Ha&16384);b!==a&&(this.Ha^=16384,this.i("handlesDragDropForMembers",b,a))});
C.w(H,{Pc:"memberParts"},function(){return this.zs.j});function lr(a,b){if(a.zs.add(b)){b instanceof H&&a.cn.add(b);var c=a.CJ;if(null!==c){var d=!0,e=a.g;null!==e&&(d=e.bb,e.bb=!0);c(a,b);null!==e&&(e.bb=d)}a.isVisible()&&a.Ke||b.Jd(!1)}b instanceof I&&!a.px||(c=a.Qb,null===c&&(c=a),c.K())}
function kr(a,b){if(a.zs.remove(b)){b instanceof H&&a.cn.remove(b);var c=a.DJ;if(null!==c){var d=!0,e=a.g;null!==e&&(d=e.bb,e.bb=!0);c(a,b);null!==e&&(e.bb=d)}a.isVisible()&&a.Ke||b.Jd(!0)}b instanceof I&&!a.px||(c=a.Qb,null===c&&(c=a),c.K())}H.prototype.Mn=function(){if(0<this.zs.count){var a=this.g;if(null!==a)for(var b=this.zs.copy().j;b.next();)a.remove(b.value)}F.prototype.Mn.call(this)};
C.defineProperty(H,{Wb:"layout"},function(){return this.ve},function(a){var b=this.ve;b!==a&&(null!==a&&C.l(a,ch,H,"layout"),null!==b&&(b.g=null,b.group=null),this.ve=a,null!==a&&(a.g=this.g,a.group=this),this.i("layout",b,a))});C.defineProperty(H,{CJ:"memberAdded"},function(){return this.ys},function(a){var b=this.ys;b!==a&&(null!==a&&C.h(a,"function",H,"memberAdded"),this.ys=a,this.i("memberAdded",b,a))});
C.defineProperty(H,{DJ:"memberRemoved"},function(){return this.As},function(a){var b=this.As;b!==a&&(null!==a&&C.h(a,"function",H,"memberRemoved"),this.As=a,this.i("memberRemoved",b,a))});C.defineProperty(H,{aB:"memberValidation"},function(){return this.Il},function(a){var b=this.Il;b!==a&&(null!==a&&C.h(a,"function",H,"memberValidation"),this.Il=a,this.i("memberValidation",b,a))});
H.prototype.canAddMembers=function(a){var b=this.g;if(null===b)return!1;b=b.xb;for(a=Rh(a).j;a.next();)if(!b.isValidMember(this,a.value))return!1;return!0};H.prototype.addMembers=function(a,b){var c=this.g;if(null===c)return!1;for(var c=c.xb,d=!0,e=Rh(a).j;e.next();){var g=e.value;!b||c.isValidMember(this,g)?g.Qa=this:d=!1}return d};
C.defineProperty(H,{AK:"ungroupable"},function(){return 0!==(this.Ha&256)},function(a){var b=0!==(this.Ha&256);b!==a&&(C.h(a,"boolean",H,"ungroupable"),this.Ha^=256,this.i("ungroupable",b,a))});H.prototype.canUngroup=function(){if(!this.AK)return!1;var a=this.layer;if(null!==a&&!a.kx)return!1;a=a.g;return null===a||a.kx?!0:!1};
H.prototype.fg=function(a){void 0===a&&(a=null);var b=0!==(this.Ha&65536);F.prototype.fg.call(this,a);if(!b)for(b=this.cF();b.next();){var c=b.value;if(null===a||!a.contains(c)){var d=c.aa;null!==d&&d!==this&&d.Ei(this)&&!d.isVisible()?c.hc():(d=c.ea,null!==d&&d!==this&&d.Ei(this)&&!d.isVisible()&&c.hc())}}};
H.prototype.findExternalLinksConnected=H.prototype.cF=function(){var a=this.lq();a.add(this);for(var b=new L(I),c=a.j;c.next();){var d=c.value;if(d instanceof F)for(d=d.Hd;d.next();){var e=d.value;a.contains(e)||b.add(e)}}return b.j};H.prototype.findExternalNodesConnected=function(){var a=this.lq();a.add(this);for(var b=new L(F),c=a.j;c.next();){var d=c.value;if(d instanceof F)for(d=d.Hd;d.next();){var e=d.value,g=e.aa;a.contains(g)&&g!==this||b.add(g);e=e.ea;a.contains(e)&&e!==this||b.add(e)}}return b.j};
H.prototype.findContainingGroupChain=function(){function a(b,d){null!==b&&(d.add(b),a(b.Qa,d))}var b=new L(E);a(this,b);return b};H.prototype.findSubGraphParts=H.prototype.lq=function(){var a=new L(E);Lh(a,this,!0,0,!0);a.remove(this);return a};H.prototype.Jd=function(a){F.prototype.Jd.call(this,a);for(var b=this.Pc;b.next();)b.value.Jd(a)};H.prototype.collapseSubGraph=H.prototype.collapseSubGraph=function(){var a=this.g;if(null!==a&&!a.Nh){a.Nh=!0;var b=this.lq();js(this,b,a.Ya,this);a.Nh=!1}};
function js(a,b,c,d){for(var e=a.Pc;e.next();){var g=e.value;g.Jd(!1);if(g instanceof H){var h=g;h.Ke&&(h.SB=h.Ke,js(h,b,c,d))}if(g instanceof F)g.fg(b),ll(c,g,d);else if(g instanceof I)for(g=g.Jf;g.next();)g.value.fg(b)}a.Ke=!1}H.prototype.expandSubGraph=H.prototype.expandSubGraph=function(){var a=this.g;if(null!==a&&!a.Nh){a.Nh=!0;var b=this.lq();ks(this,b,a.Ya,this);a.Nh=!1}};
function ks(a,b,c,d){for(var e=a.Pc;e.next();){var g=e.value;g.Jd(!0);if(g instanceof H){var h=g;h.SB&&(h.SB=!1,ks(h,b,c,d))}if(g instanceof F)g.fg(b),kl(c,g,d);else if(g instanceof I)for(g=g.Jf;g.next();)g.value.fg(b)}a.Ke=!0}
C.defineProperty(H,{Ke:"isSubGraphExpanded"},function(){return 0!==(this.Ha&512)},function(a){var b=0!==(this.Ha&512);if(b!==a){C.h(a,"boolean",H,"isSubGraphExpanded");this.Ha^=512;var c=this.g;this.i("isSubGraphExpanded",b,a);b=this.qK;if(null!==b){var d=!0;null!==c&&(d=c.bb,c.bb=!0);b(this);null!==c&&(c.bb=d)}null!==c&&c.sa.ob?null!==this.Qb&&this.Qb.K():a?this.expandSubGraph():this.collapseSubGraph()}});
C.defineProperty(H,{SB:"wasSubGraphExpanded"},function(){return 0!==(this.Ha&1024)},function(a){var b=0!==(this.Ha&1024);b!==a&&(C.h(a,"boolean",H,"wasSubGraphExpanded"),this.Ha^=1024,this.i("wasSubGraphExpanded",b,a))});C.defineProperty(H,{qK:"subGraphExpandedChanged"},function(){return this.xt},function(a){var b=this.xt;b!==a&&(null!==a&&C.h(a,"function",H,"subGraphExpandedChanged"),this.xt=a,this.i("subGraphExpandedChanged",b,a))});
H.prototype.move=function(a){var b=this.position,c=b.x;isNaN(c)&&(c=0);b=b.y;isNaN(b)&&(b=0);var c=a.x-c,b=a.y-b,d=C.Fb(c,b);F.prototype.move.call(this,a);for(a=this.lq().j;a.next();){var e=a.value;if(!(e instanceof I||e instanceof F&&e.wf)){var g=e.position,h=e.location;g.F()?(d.x=g.x+c,d.y=g.y+b,e.position=d):h.F()&&(d.x=h.x+c,d.y=h.y+b,e.location=d)}}for(a.reset();a.next();)e=a.value,e instanceof I&&(g=e.position,d.x=g.x+c,d.y=g.y+b,e.move(d));C.A(d)};
function Sj(){Q.call(this);this.rf=Nd;this.ht=new z(NaN,NaN,NaN,NaN)}C.Ta(Sj,Q);C.ka("Placeholder",Sj);Sj.prototype.cloneProtected=function(a){Q.prototype.cloneProtected.call(this,a);a.rf=this.rf.V();a.ht=this.ht.copy()};Sj.prototype.Kk=function(a){if(null===this.background&&null===this.Xl)return!1;var b=this.Ja;return Sb(0,0,b.width,b.height,a.x,a.y)};
Sj.prototype.zq=function(){var a=this.ba;null!==a&&(a instanceof H||a instanceof ea)||C.k("Placeholder is not inside a Group or Adornment.");if(a instanceof H){var b=this.computeBorder(this.ht),c=this.Uc;Ab(c,b.width||0,b.height||0);Bo(this,0,0,c.width,c.height);for(var c=a.Pc,d=!1;c.next();)if(c.value.isVisible()){d=!0;break}!d||isNaN(b.x)||isNaN(b.y)||(c=new O,c.oo(b,a.xf),a.location=new O(c.x,c.y))}else{var b=this.Da,c=this.Uc,d=this.padding,e=d.left+d.right,g=d.top+d.bottom;if(b.F())Ab(c,b.width+
e||0,b.height+g||0),Bo(this,-d.left,-d.top,c.width,c.height);else{var h=a.Ab,k=h.fb(hc,C.P()),b=C.fh(k.x,k.y,0,0);b.Ki(h.fb(qc,k));b.Ki(h.fb(jc,k));b.Ki(h.fb(oc,k));a.hj.m(b.x,b.y);Ab(c,b.width+e||0,b.height+g||0);Bo(this,-d.left,-d.top,c.width,c.height);C.A(k);C.Lb(b)}}};Sj.prototype.yj=function(a,b,c,d){var e=this.Z;e.x=a;e.y=b;e.width=c;e.height=d};
Sj.prototype.computeBorder=function(a){var b=this.ba;if(b instanceof H){var c=b;if(c.dI&&this.ht.F()){var d=c.g;if(null!==d&&(d=d.hb,d instanceof Ph&&!d.Lr&&null!==d.gc&&!d.gc.contains(c)))return a.assign(this.ht),a}}var c=C.Nf(),d=this.computeMemberBounds(c),e=this.padding;a.m(d.x-e.left,d.y-e.top,Math.max(d.width+e.left+e.right,0),Math.max(d.height+e.top+e.bottom,0));C.Lb(c);b instanceof H&&(c=b,c.eI&&c.location.F()&&a.Ki(c.location));return a};
Sj.prototype.computeMemberBounds=function(a){if(!(this.ba instanceof H))return a.m(0,0,0,0),a;for(var b=this.ba,c=Infinity,d=Infinity,e=-Infinity,g=-Infinity,h=b.Pc;h.next();){var k=h.value;if(k.isVisible()){if(k instanceof I){var l=k;if(!b.px)continue;if(Cm(l))continue;if(l.aa===b||l.ea===b)continue}k=k.Z;k.left<c&&(c=k.left);k.top<d&&(d=k.top);k.right>e&&(e=k.right);k.bottom>g&&(g=k.bottom)}}isFinite(c)&&isFinite(d)?a.m(c,d,e-c,g-d):(b=b.location,c=this.padding,a.m(b.x+c.left,b.y+c.top,0,0));return a};
C.defineProperty(H,{io:null},function(){return 0!==(this.Ha&32768)},function(a){0!==(this.Ha&32768)!==a&&(this.Ha^=32768)});C.defineProperty(Sj,{padding:"padding"},function(){return this.rf},function(a){"number"===typeof a?a=new Kb(a):C.l(a,Kb,Sj,"padding");var b=this.rf;b.O(a)||(this.rf=a=a.V(),this.i("padding",b,a))});
function ch(){0<arguments.length&&C.wd(ch);C.wc(this);this.yz=this.da=null;this.mk=this.fs=!0;this.ls=!1;this.hr=(new O(0,0)).freeze();this.hs=this.js=!0;this.JC="";this.lp=!1;this.Nz=null}C.ka("Layout",ch);ch.prototype.cloneProtected=function(a){a.fs=this.fs;a.mk=this.mk;a.ls=this.ls;a.hr.assign(this.hr);a.js=this.js;a.hs=this.hs;a.JC=this.JC;this.mk||(a.lp=!0)};ch.prototype.copy=function(){var a=new this.constructor;this.cloneProtected(a);return a};ch.prototype.pc=function(a){C.Vj(this,a)};
ch.prototype.toString=function(){var a=C.tf(Object.getPrototypeOf(this)),a=a+"(";null!==this.group&&(a+=" in "+this.group);null!==this.g&&(a+=" for "+this.g);return a+")"};C.defineProperty(ch,{g:"diagram"},function(){return this.da},function(a){null!==a&&C.l(a,D,ch,"diagram");this.da=a});C.defineProperty(ch,{group:"group"},function(){return this.yz},function(a){this.yz!==a&&(null!==a&&C.l(a,H,ch,"group"),this.yz=a,null!==a&&(this.da=a.g))});
C.defineProperty(ch,{hJ:"isOngoing"},function(){return this.fs},function(a){this.fs!==a&&(C.h(a,"boolean",ch,"isOngoing"),this.fs=a)});C.defineProperty(ch,{KF:"isInitial"},function(){return this.mk},function(a){C.h(a,"boolean",ch,"isInitial");this.mk=a;a||(this.lp=!0)});C.defineProperty(ch,{Vx:"isViewportSized"},function(){return this.ls},function(a){this.ls!==a&&(C.h(a,"boolean",ch,"isViewportSized"),(this.ls=a)&&this.N())});
C.defineProperty(ch,{xu:"isRouting"},function(){return this.js},function(a){this.js!==a&&(C.h(a,"boolean",ch,"isRouting"),this.js=a)});C.defineProperty(ch,{MF:"isRealtime"},function(){return this.hs},function(a){this.hs!==a&&(C.h(a,"boolean",ch,"isRealtime"),this.hs=a)});C.defineProperty(ch,{If:"isValidLayout"},function(){return this.lp},function(a){this.lp!==a&&(C.h(a,"boolean",ch,"isValidLayout"),this.lp=a,a||(a=this.g,null!==a&&(a.tv=!0)))});
ch.prototype.invalidateLayout=ch.prototype.N=function(){if(this.lp){var a=this.g;if(null!==a&&!a.sa.ob){var b=a.Ya;!b.kp&&(b.vf&&b.Ii(),this.hJ&&a.Zn||this.KF&&!a.Zn)&&(this.If=!1,a.Te())}}};C.defineProperty(ch,{network:"network"},function(){return this.Nz},function(a){var b=this.Nz;b!==a&&(null!==a&&C.l(a,ya,ch,"network"),null!==b&&(b.Wb=null),this.Nz=a,null!==a&&(a.Wb=this))});ch.prototype.createNetwork=function(){return new ya};
ch.prototype.makeNetwork=function(a){var b=this.createNetwork();b.Wb=this;a instanceof D?(b.Hk(a.ng,!0),b.Hk(a.links,!0)):a instanceof H?b.Hk(a.Pc):b.Hk(a.j);return b};ch.prototype.updateParts=function(){var a=this.g;if(null===a&&null!==this.network)for(var b=this.network.vertexes.j;b.next();){var c=b.value.Zc;if(null!==c&&(a=c.g,null!==a))break}this.If=!0;try{null!==a&&a.ac("Layout"),this.commitLayout()}finally{null!==a&&a.Ud("Layout")}};
ch.prototype.commitLayout=function(){for(var a=this.network.vertexes.j;a.next();)a.value.commit();if(this.xu)for(a=this.network.edges.j;a.next();)a.value.commit()};
ch.prototype.doLayout=function(a){null===a&&C.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");var b=new L(E);a instanceof D?(ls(this,b,a.ng,!0,this.io,!0,!1,!0),ls(this,b,a.Gi,!0,this.io,!0,!1,!0)):a instanceof H?ls(this,b,a.Pc,!1,this.io,!0,!1,!0):b.Vc(a.j);var c=b.count;if(0<c){a=this.g;null!==a&&a.ac("Layout");for(var c=Math.ceil(Math.sqrt(c)),d=this.Ce.x,e=d,g=this.Ce.y,h=0,k=0,b=b.j;b.next();){var l=b.value;l.jf();var m=l.Ea,n=m.width,
m=m.height;l.moveTo(e,g);l.io=!1;e+=Math.max(n,50)+20;k=Math.max(k,Math.max(m,50));h>=c-1?(h=0,e=d,g+=k+20,k=0):h++}null!==a&&a.Ud("Layout")}this.If=!0};ch.prototype.io=function(a){return!a.location.F()||a instanceof H&&a.io?!0:!1};
function ls(a,b,c,d,e,g,h,k){for(c=c.j;c.next();){var l=c.value;d&&!l.vq||null!==e&&!e(l)||!l.canLayout()||(g&&l instanceof F?l.wf||(l instanceof H?null===l.Wb?ls(a,b,l.Pc,!1,e,g,h,k):(ms(l),b.add(l)):(ms(l),b.add(l))):h&&l instanceof I?b.add(l):!k||!l.qe()||l instanceof F||(ms(l),b.add(l)))}}function ms(a){var b=a.Z;(0===b.width||0===b.height||isNaN(b.width)||isNaN(b.height))&&a.jf()}
ch.prototype.collectParts=ch.prototype.YH=function(a){var b=new L(E);a instanceof D?(ls(this,b,a.ng,!0,null,!0,!0,!0),ls(this,b,a.links,!0,null,!0,!0,!0),ls(this,b,a.Gi,!0,null,!0,!0,!0)):a instanceof H?ls(this,b,a.Pc,!1,null,!0,!0,!0):ls(this,b,a.j,!1,null,!0,!0,!0);return b};C.defineProperty(ch,{Ce:"arrangementOrigin"},function(){return this.hr},function(a){C.l(a,O,ch,"arrangementOrigin");this.hr.O(a)||(this.hr.assign(a),this.N())});
ch.prototype.initialOrigin=function(a){var b=this.group;if(null!==b){var c=b.position.copy();(isNaN(c.x)||isNaN(c.y))&&c.set(a);b=b.placeholder;null!==b&&(c=b.fb(hc),(isNaN(c.x)||isNaN(c.y))&&c.set(a),c.x+=b.padding.left,c.y+=b.padding.top);return c}return a};function ya(){C.wc(this);this.ve=null;this.clear()}C.ka("LayoutNetwork",ya);
ya.prototype.clear=function(){if(this.vertexes)for(var a=this.vertexes.j;a.next();){var b=a.value;b.clear();b.network=null}if(this.edges)for(a=this.edges.j;a.next();)b=a.value,b.clear(),b.network=null;this.vertexes=new L(za);this.edges=new L(Aa);this.jB=new oa(F,za);this.WA=new oa(I,Aa)};
ya.prototype.toString=function(a){void 0===a&&(a=0);var b="LayoutNetwork"+(null!==this.Wb?"("+this.Wb.toString()+")":"");if(0>=a)return b;b+=" vertexes: "+this.vertexes.count+" edges: "+this.edges.count;if(1<a){for(var c=this.vertexes.j;c.next();)b+="\n    "+c.value.toString(a-1);for(c=this.edges.j;c.next();)b+="\n    "+c.value.toString(a-1)}return b};C.defineProperty(ya,{Wb:"layout"},function(){return this.ve},function(a){u&&null!==a&&C.l(a,ch,ya,"layout");this.ve=a});ya.prototype.createVertex=function(){return new za};
ya.prototype.createEdge=function(){return new Aa};
ya.prototype.addParts=ya.prototype.Hk=function(a,b,c){if(null!==a){void 0===b&&(b=!1);C.h(b,"boolean",ya,"addParts:toplevelonly");void 0===c&&(c=null);null===c&&(c=function(a){if(a instanceof F)return!a.wf;if(a instanceof I){var b=a.aa;if(null===b||b.wf)return!1;a=a.ea;return null===a||a.wf?!1:!0}return!1});for(a=a.j;a.next();){var d=a.value;if(d instanceof F&&(!b||d.vq)&&d.canLayout()&&c(d))if(d instanceof H&&null===d.Wb)this.Hk(d.Pc,!1);else if(null===this.Qn(d)){var e=this.createVertex();e.Zc=
d;this.Vl(e)}}for(a.reset();a.next();)if(d=a.value,d instanceof I&&(!b||d.vq)&&d.canLayout()&&c(d)&&null===this.Bx(d)){var g=d.aa,e=d.ea;null!==g&&null!==e&&g!==e&&(g=this.findGroupVertex(g),e=this.findGroupVertex(e),null!==g&&null!==e&&this.yq(g,e,d))}}};ya.prototype.findGroupVertex=function(a){if(null===a)return null;var b=a.findVisibleNode();if(null===b)return null;a=this.Qn(b);if(null!==a)return a;for(b=b.Qa;null!==b;){a=this.Qn(b);if(null!==a)return a;b=b.Qa}return null};
ya.prototype.addVertex=ya.prototype.Vl=function(a){if(null!==a){u&&C.l(a,za,ya,"addVertex:vertex");this.vertexes.add(a);var b=a.Zc;null!==b&&this.jB.add(b,a);a.network=this}};ya.prototype.addNode=ya.prototype.Ot=function(a){if(null===a)return null;u&&C.l(a,F,ya,"addNode:node");var b=this.Qn(a);null===b&&(b=this.createVertex(),b.Zc=a,this.Vl(b));return b};
ya.prototype.deleteVertex=ya.prototype.TE=function(a){if(null!==a&&(u&&C.l(a,za,ya,"deleteVertex:vertex"),ns(this,a))){for(var b=a.nf,c=b.count-1;0<=c;c--){var d=b.fa(c);this.fq(d)}b=a.hf;for(c=b.count-1;0<=c;c--)d=b.fa(c),this.fq(d)}};function ns(a,b){if(null===b)return!1;var c=a.vertexes.remove(b);c&&(a.jB.remove(b.Zc),b.network=null);return c}ya.prototype.deleteNode=function(a){null!==a&&(u&&C.l(a,F,ya,"deleteNode:node"),a=this.Qn(a),null!==a&&this.TE(a))};
ya.prototype.findVertex=ya.prototype.Qn=function(a){if(null===a)return null;u&&C.l(a,F,ya,"findVertex:node");return this.jB.pa(a)};ya.prototype.addEdge=ya.prototype.Up=function(a){if(null!==a){u&&C.l(a,Aa,ya,"addEdge:edge");this.edges.add(a);var b=a.link;null!==b&&null===this.Bx(b)&&this.WA.add(b,a);b=a.toVertex;null!==b&&b.vE(a);b=a.fromVertex;null!==b&&b.tE(a);a.network=this}};
ya.prototype.addLink=function(a){if(null===a)return null;u&&C.l(a,I,ya,"addLink:link");var b=a.aa,c=a.ea,d=this.Bx(a);null===d?(d=this.createEdge(),d.link=a,null!==b&&(d.fromVertex=this.Ot(b)),null!==c&&(d.toVertex=this.Ot(c)),this.Up(d)):(d.fromVertex=null!==b?this.Ot(b):null,d.toVertex=null!==c?this.Ot(c):null);return d};ya.prototype.deleteEdge=ya.prototype.fq=function(a){if(null!==a){u&&C.l(a,Aa,ya,"deleteEdge:edge");var b=a.toVertex;null!==b&&b.SE(a);b=a.fromVertex;null!==b&&b.RE(a);os(this,a)}};
function os(a,b){null!==b&&a.edges.remove(b)&&(a.WA.remove(b.link),b.network=null)}ya.prototype.deleteLink=function(a){null!==a&&(u&&C.l(a,I,ya,"deleteLink:link"),a=this.Bx(a),null!==a&&this.fq(a))};ya.prototype.findEdge=ya.prototype.Bx=function(a){if(null===a)return null;u&&C.l(a,I,ya,"findEdge:link");return this.WA.pa(a)};
ya.prototype.linkVertexes=ya.prototype.yq=function(a,b,c){if(null===a||null===b)return null;u&&(C.l(a,za,ya,"linkVertexes:fromVertex"),C.l(b,za,ya,"linkVertexes:toVertex"),null!==c&&C.l(c,I,ya,"linkVertexes:link"));if(a.network===this&&b.network===this){var d=this.createEdge();d.link=c;d.fromVertex=a;d.toVertex=b;this.Up(d);return d}return null};
ya.prototype.reverseEdge=ya.prototype.sy=function(a){if(null!==a){u&&C.l(a,Aa,ya,"reverseEdge:edge");var b=a.fromVertex,c=a.toVertex;null!==b&&null!==c&&(b.RE(a),c.SE(a),a.sy(),b.vE(a),c.tE(a))}};ya.prototype.deleteSelfEdges=ya.prototype.wx=function(){for(var a=C.tb(),b=this.edges.j;b.next();){var c=b.value;c.fromVertex===c.toVertex&&a.push(c)}b=a.length;for(c=0;c<b;c++)this.fq(a[c]);C.Ba(a)};
ya.prototype.deleteArtificialVertexes=function(){for(var a=C.tb(),b=this.vertexes.j;b.next();){var c=b.value;null===c.Zc&&a.push(c)}c=a.length;for(b=0;b<c;b++)this.TE(a[b]);c=C.tb();for(b=this.edges.j;b.next();){var d=b.value;null===d.link&&c.push(d)}d=c.length;for(b=0;b<d;b++)this.fq(c[b]);C.Ba(a);C.Ba(c)};function ps(a){for(var b=C.tb(),c=a.edges.j;c.next();){var d=c.value;null!==d.fromVertex&&null!==d.toVertex||b.push(d)}c=b.length;for(d=0;d<c;d++)a.fq(b[d]);C.Ba(b)}
ya.prototype.splitIntoSubNetworks=ya.prototype.pK=function(){this.deleteArtificialVertexes();ps(this);this.wx();for(var a=new K(ya),b=!0;b;)for(var b=!1,c=this.vertexes.j;c.next();){var d=c.value;if(0<d.nf.count||0<d.hf.count){b=this.Wb.createNetwork();a.add(b);qs(this,b,d);b=!0;break}}a.sort(function(a,b){return null===a||null===b||a===b?0:b.vertexes.count-a.vertexes.count});return a};
function qs(a,b,c){if(null!==c&&c.network!==b){ns(a,c);b.Vl(c);for(var d=c.vc;d.next();){var e=d.value;e.network!==b&&(os(a,e),b.Up(e),qs(a,b,e.fromVertex))}for(d=c.sc;d.next();)c=d.value,c.network!==b&&(os(a,c),b.Up(c),qs(a,b,c.toVertex))}}ya.prototype.findAllParts=function(){for(var a=new L(E),b=this.vertexes.j;b.next();)a.add(b.value.Zc);for(b=this.edges.j;b.next();)a.add(b.value.link);return a};
function za(){C.wc(this);this.network=null;this.R=(new z(0,0,10,10)).freeze();this.W=(new O(5,5)).freeze();this.clear()}C.ka("LayoutVertex",za);za.prototype.clear=function(){this.Pd=this.fe=null;this.nf=new K(Aa);this.hf=new K(Aa)};
za.prototype.toString=function(a){void 0===a&&(a=0);var b="LayoutVertex#"+C.Gd(this);if(0<a&&(b+=null!==this.Zc?"("+this.Zc.toString()+")":"",1<a)){a="";for(var c=!0,d=this.nf.j;d.next();){var e=d.value;c?c=!1:a+=",";a+=e.toString(0)}e="";c=!0;for(d=this.hf.j;d.next();){var g=d.value;c?c=!1:e+=",";e+=g.toString(0)}b+=" sources: "+a+" destinations: "+e}return b};
C.defineProperty(za,{data:"data"},function(){return this.fe},function(a){this.fe=a;if(null!==a){var b=a.bounds;a=b.x;var c=b.y,d=b.width,b=b.height;this.W.m(d/2,b/2);this.R.m(a,c,d,b)}});
C.defineProperty(za,{Zc:"node"},function(){return this.Pd},function(a){if(this.Pd!==a){u&&null!==a&&C.l(a,F,za,"node");this.Pd=a;a.jf();var b=a.Z,c=b.x,d=b.y,e=b.width,b=b.height;isNaN(c)&&(c=0);isNaN(d)&&(d=0);this.R.m(c,d,e,b);if(!(a instanceof H)&&(a=a.dc.fb(mc),a.F())){this.W.m(a.x-c,a.y-d);return}this.W.m(e/2,b/2)}});C.defineProperty(za,{sb:"bounds"},function(){return this.R},function(a){this.R.O(a)||(u&&C.l(a,z,za,"bounds"),this.R.assign(a))});
C.defineProperty(za,{focus:"focus"},function(){return this.W},function(a){this.W.O(a)||(u&&C.l(a,O,za,"focus"),this.W.assign(a))});C.defineProperty(za,{oa:"centerX"},function(){return this.R.x+this.W.x},function(a){var b=this.R;b.x+this.W.x!==a&&(u&&C.p(a,za,"centerX"),b.Za(),b.x=a-this.W.x,b.freeze())});C.defineProperty(za,{xa:"centerY"},function(){return this.R.y+this.W.y},function(a){var b=this.R;b.y+this.W.y!==a&&(u&&C.p(a,za,"centerY"),b.Za(),b.y=a-this.W.y,b.freeze())});
C.defineProperty(za,{iu:"focusX"},function(){return this.W.x},function(a){var b=this.W;b.x!==a&&(b.Za(),b.x=a,b.freeze())});C.defineProperty(za,{ju:"focusY"},function(){return this.W.y},function(a){var b=this.W;b.y!==a&&(b.Za(),b.y=a,b.freeze())});C.defineProperty(za,{x:"x"},function(){return this.R.x},function(a){var b=this.R;b.x!==a&&(b.Za(),b.x=a,b.freeze())});C.defineProperty(za,{y:"y"},function(){return this.R.y},function(a){var b=this.R;b.y!==a&&(b.Za(),b.y=a,b.freeze())});
C.defineProperty(za,{width:"width"},function(){return this.R.width},function(a){var b=this.R;b.width!==a&&(b.Za(),b.width=a,b.freeze())});C.defineProperty(za,{height:"height"},function(){return this.R.height},function(a){var b=this.R;b.height!==a&&(b.Za(),b.height=a,b.freeze())});
za.prototype.commit=function(){var a=this.fe;if(null!==a){var b=this.sb,c=a.bounds;C.Xa(c)?(c.x=b.x,c.y=b.y,c.width=b.width,c.height=b.height):a.bounds=b.copy()}else if(a=this.Zc,null!==a){b=this.sb;if(!(a instanceof H)){var c=a.Z,d=a.dc.fb(mc);if(c.F()&&d.F()){a.moveTo(b.x+this.iu-(d.x-c.x),b.y+this.ju-(d.y-c.y));return}}a.moveTo(b.x,b.y)}};za.prototype.addSourceEdge=za.prototype.vE=function(a){null!==a&&(u&&C.l(a,Aa,za,"addSourceEdge:edge"),this.nf.contains(a)||this.nf.add(a))};
za.prototype.deleteSourceEdge=za.prototype.SE=function(a){null!==a&&(u&&C.l(a,Aa,za,"deleteSourceEdge:edge"),this.nf.remove(a))};za.prototype.addDestinationEdge=za.prototype.tE=function(a){null!==a&&(u&&C.l(a,Aa,za,"addDestinationEdge:edge"),this.hf.contains(a)||this.hf.add(a))};za.prototype.deleteDestinationEdge=za.prototype.RE=function(a){null!==a&&(u&&C.l(a,Aa,za,"deleteDestinationEdge:edge"),this.hf.remove(a))};
C.w(za,{oK:"sourceVertexes"},function(){for(var a=new L(za),b=this.vc;b.next();)a.add(b.value.fromVertex);return a.j});C.w(za,{pI:"destinationVertexes"},function(){for(var a=new L(za),b=this.sc;b.next();)a.add(b.value.toVertex);return a.j});C.w(za,{vertexes:"vertexes"},function(){for(var a=new L(za),b=this.vc;b.next();)a.add(b.value.fromVertex);for(b=this.sc;b.next();)a.add(b.value.toVertex);return a.j});C.w(za,{vc:"sourceEdges"},function(){return this.nf.j});C.w(za,{sc:"destinationEdges"},function(){return this.hf.j});
C.w(za,{edges:"edges"},function(){for(var a=new K(Aa),b=this.vc;b.next();)a.add(b.value);for(b=this.sc;b.next();)a.add(b.value);return a.j});C.w(za,{AI:"edgesCount"},function(){return this.nf.count+this.hf.count});var rs;za.standardComparer=rs=function(a,b){u&&C.l(a,za,za,"standardComparer:m");u&&C.l(b,za,za,"standardComparer:n");var c=a.Pd,d=b.Pd;return c?d?(c=c.text,d=d.text,c<d?-1:c>d?1:0):1:null!==d?-1:0};
za.smartComparer=function(a,b){u&&C.l(a,za,za,"smartComparer:m");u&&C.l(b,za,za,"smartComparer:n");if(null!==a){if(null!==b){var c=a.Pd,d=b.Pd;if(null!==c){if(null!==d){for(var c=c.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),d=d.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e=0;e<c.length;e++)if(""!==d[e]&&void 0!==d[e]){var g=parseFloat(c[e]),h=parseFloat(d[e]);if(isNaN(g)){if(!isNaN(h))return 1;if(0!==c[e].localeCompare(d[e]))return c[e].localeCompare(d[e])}else{if(isNaN(h))return-1;
if(0!==g-h)return g-h}}else if(""!==c[e])return 1;return""!==d[e]&&void 0!==d[e]?-1:0}return 1}return null!==d?-1:0}return 1}return null!==b?-1:0};function Aa(){C.wc(this);this.network=null;this.clear()}C.ka("LayoutEdge",Aa);Aa.prototype.clear=function(){this.toVertex=this.fromVertex=this.link=this.data=null};
Aa.prototype.toString=function(a){void 0===a&&(a=0);var b="LayoutEdge#"+C.Gd(this);0<a&&(b+=null!==this.link?"("+this.link.toString()+")":"",1<a&&(b+=" "+(this.fromVertex?this.fromVertex.toString():"null")+" --\x3e "+(this.toVertex?this.toVertex.toString():"null")));return b};Aa.prototype.sy=function(){var a=this.fromVertex;this.fromVertex=this.toVertex;this.toVertex=a};Aa.prototype.commit=function(){};
Aa.prototype.getOtherVertex=Aa.prototype.KI=function(a){u&&C.l(a,za,Aa,"getOtherVertex:v");return this.toVertex===a?this.fromVertex:this.fromVertex===a?this.toVertex:null};function On(){0<arguments.length&&C.wd(On);ch.call(this);this.Vx=!0;this.Jt=this.Kt=NaN;this.$j=(new Fa(NaN,NaN)).freeze();this.ri=(new Fa(10,10)).freeze();this.te=ss;this.yd=ts;this.qi=us;this.Zh=vs}C.Ta(On,ch);C.ka("GridLayout",On);
On.prototype.cloneProtected=function(a){ch.prototype.cloneProtected.call(this,a);a.Kt=this.Kt;a.Jt=this.Jt;a.$j.assign(this.$j);a.ri.assign(this.ri);a.te=this.te;a.yd=this.yd;a.qi=this.qi;a.Zh=this.Zh};On.prototype.pc=function(a){a.Pe===On?a===us||a===ws||a===xs||a===ys?this.sorting=a:a===ts||a===zs?this.$f=a:a===ss||a===As?this.alignment=a:C.k("Unknown enum value: "+a):ch.prototype.pc.call(this,a)};
On.prototype.doLayout=function(a){null===a&&C.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");this.Ce=this.initialOrigin(this.Ce);var b=this.g;a=this.YH(a);for(var c=a.copy().j;c.next();){var d=c.value;if(d instanceof I){var e=d;if(null!==e.aa||null!==e.ea){a.remove(e);continue}}d.jf();if(d instanceof H)for(d=d.Pc;d.next();)a.remove(d.value)}e=a.nc();if(0!==e.length){switch(this.sorting){case ys:e.reverse();break;case us:e.sort(this.comparer);
break;case ws:e.sort(this.comparer),e.reverse()}var g=this.EK;isNaN(g)&&(g=0);var h=this.fH,h=isNaN(h)&&null!==b?Math.max(b.yb.width-b.padding.left-b.padding.right,0):Math.max(this.fH,0);0>=g&&0>=h&&(g=1);a=this.spacing.width;isFinite(a)||(a=0);c=this.spacing.height;isFinite(c)||(c=0);null!==b&&b.ac("Layout");d=[];switch(this.alignment){case As:var k=a,l=c,m=Math.max(this.Yp.width,1);if(!isFinite(m))for(var n=m=0;n<e.length;n++)var p=e[n],q=p.Ea,m=Math.max(m,q.width);var m=Math.max(m+k,1),r=Math.max(this.Yp.height,
1);if(!isFinite(r))for(n=r=0;n<e.length;n++)p=e[n],q=p.Ea,r=Math.max(r,q.height);for(var r=Math.max(r+l,1),s=this.$f,v=this.Ce.x,t=v,x=this.Ce.y,y=0,B=0,n=0;n<e.length;n++){var p=e[n],q=p.Ea,A=Math.ceil((q.width+k)/m)*m,N=Math.ceil((q.height+l)/r)*r,G=0;switch(s){case zs:G=Math.abs(t-q.width);break;default:G=t+q.width}if(0<g&&y>g-1||0<h&&0<y&&G>h)d.push(new z(0,x,h+k,B)),y=0,t=v,x+=B,B=0;B=Math.max(B,N);N=0;switch(s){case zs:N=-q.width;break;default:N=0}p.moveTo(t+N,x);switch(s){case zs:t-=A;break;
default:t+=A}y++}d.push(new z(0,x,h+k,B));break;case ss:k=g;l=a;m=c;n=Math.max(this.Yp.width,1);p=x=A=0;q=C.P();for(g=0;g<e.length;g++)r=e[g],s=r.Ea,v=dr(r,r.dc,r.xf,q),A=Math.max(A,v.x),x=Math.max(x,s.width-v.x),p=Math.max(p,v.y);t=this.$f;switch(t){case zs:A+=l;break;default:x+=l}var n=isFinite(n)?Math.max(n+l,1):Math.max(A+x,1),T=x=this.Ce.x,y=this.Ce.y,B=0;h>=A&&(h-=A);for(var A=N=0,G=Math.max(this.Yp.height,1),fa=p=0,W=!0,P=C.P(),g=0;g<e.length;g++){r=e[g];s=r.Ea;v=dr(r,r.dc,r.xf,q);if(0<B)switch(t){case zs:T=
(T-x-(s.width-v.x))/n;T=Db(Math.round(T),T)?Math.round(T):Math.floor(T);T=T*n+x;break;default:T=(T-x+v.x)/n,T=Db(Math.round(T),T)?Math.round(T):Math.ceil(T),T=T*n+x}else switch(t){case zs:N=T+v.x+s.width;break;default:N=T-v.x}var aa=0;switch(t){case zs:aa=-(T+v.x)+N;break;default:aa=T+s.width-v.x-N}if(0<k&&B>k-1||0<h&&0<B&&aa>h){d.push(new z(0,W?y-p:y,h+l,fa+p+m));for(T=0;T<B&&g!==B;T++){var aa=e[g-B+T],Oa=dr(aa,aa.dc,aa.xf,P);aa.moveTo(aa.position.x,aa.position.y+p-Oa.y)}fa+=m;y=W?y+fa:y+(fa+p);
B=fa=p=0;T=x;W=!1}T===x&&(A=t===zs?Math.max(A,s.width-v.x):Math.min(A,-v.x));p=Math.max(p,v.y);fa=Math.max(fa,s.height-v.y);isFinite(G)&&(fa=Math.max(fa,Math.max(s.height,G)-v.y));W?r.moveTo(T-v.x,y-v.y):r.moveTo(T-v.x,y);switch(t){case zs:T-=v.x+l;break;default:T+=s.width-v.x+l}B++}d.push(new z(0,y,h+l,(W?fa:fa+p)+m));for(T=0;T<B&&g!==B;T++)aa=e[g-B+T],Oa=dr(aa,aa.dc,aa.xf,q),aa.moveTo(aa.position.x,aa.position.y+p-Oa.y);C.A(q);C.A(P);if(t===zs)for(g=0;g<d.length;g++)e=d[g],e.width+=A,e.x-=A;else for(g=
0;g<d.length;g++)e=d[g],e.x>A&&(e.width+=e.x-A,e.x=A)}for(k=g=h=e=0;k<d.length;k++)l=d[k],e=Math.min(e,l.x),h=Math.min(h,l.y),g=Math.max(g,l.x+l.width);this.$f===zs?this.commitLayers(d,new O(e+a/2-(g+e),h-c/2)):this.commitLayers(d,new O(e-a/2,h-c/2));null!==b&&b.Ud("Layout");this.If=!0}};On.prototype.commitLayers=function(){};
C.defineProperty(On,{fH:"wrappingWidth"},function(){return this.Kt},function(a){this.Kt!==a&&(C.h(a,"number",On,"wrappingWidth"),0<a||isNaN(a))&&(this.Kt=a,this.Vx=isNaN(a),this.N())});C.defineProperty(On,{EK:"wrappingColumn"},function(){return this.Jt},function(a){this.Jt!==a&&(C.h(a,"number",On,"wrappingColumn"),0<a||isNaN(a))&&(this.Jt=a,this.N())});C.defineProperty(On,{Yp:"cellSize"},function(){return this.$j},function(a){C.l(a,Fa,On,"cellSize");this.$j.O(a)||(this.$j.assign(a),this.N())});
C.defineProperty(On,{spacing:"spacing"},function(){return this.ri},function(a){C.l(a,Fa,On,"spacing");this.ri.O(a)||(this.ri.assign(a),this.N())});C.defineProperty(On,{alignment:"alignment"},function(){return this.te},function(a){this.te!==a&&(C.Ca(a,On,On,"alignment"),a===ss||a===As)&&(this.te=a,this.N())});C.defineProperty(On,{$f:"arrangement"},function(){return this.yd},function(a){this.yd!==a&&(C.Ca(a,On,On,"arrangement"),a===ts||a===zs)&&(this.yd=a,this.N())});
C.defineProperty(On,{sorting:"sorting"},function(){return this.qi},function(a){this.qi!==a&&(C.Ca(a,On,On,"sorting"),a===xs||a===ys||a===us||a===ws)&&(this.qi=a,this.N())});C.defineProperty(On,{comparer:"comparer"},function(){return this.Zh},function(a){this.Zh!==a&&(C.h(a,"function",On,"comparer"),this.Zh=a,this.N())});var vs;On.standardComparer=vs=function(a,b){u&&C.l(a,E,On,"standardComparer:a");u&&C.l(b,E,On,"standardComparer:b");var c=a.text,d=b.text;return c<d?-1:c>d?1:0};
On.smartComparer=function(a,b){u&&C.l(a,E,On,"standardComparer:a");u&&C.l(b,E,On,"standardComparer:b");if(null!==a){if(null!==b){for(var c=a.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),d=b.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e=0;e<c.length;e++)if(""!==d[e]&&void 0!==d[e]){var g=parseFloat(c[e]),h=parseFloat(d[e]);if(isNaN(g)){if(!isNaN(h))return 1;if(0!==c[e].localeCompare(d[e]))return c[e].localeCompare(d[e])}else{if(isNaN(h))return-1;
if(0!==g-h)return g-h}}else if(""!==c[e])return 1;return""!==d[e]&&void 0!==d[e]?-1:0}return 1}return null!==b?-1:0};var As;On.Position=As=C.s(On,"Position",0);var ss;On.Location=ss=C.s(On,"Location",1);var ts;On.LeftToRight=ts=C.s(On,"LeftToRight",2);var zs;On.RightToLeft=zs=C.s(On,"RightToLeft",3);var xs;On.Forward=xs=C.s(On,"Forward",4);var ys;On.Reverse=ys=C.s(On,"Reverse",5);var us;On.Ascending=us=C.s(On,"Ascending",6);var ws;On.Descending=ws=C.s(On,"Descending",7);
function Bs(){0<arguments.length&&C.wd(Bs);ch.call(this);this.oz=this.Vo=this.ge=0;this.Mr=360;this.nz=Cs;this.tl=0;this.RC=Cs;this.Av=this.Rg=this.hE=0;this.Zw=new Ds;this.Bv=this.fn=0;this.vH=600;this.Ys=NaN;this.jr=1;this.wt=0;this.zt=360;this.yd=Cs;this.ga=Es;this.qi=Fs;this.Zh=rs;this.ri=6;this.Ns=Gs}C.Ta(Bs,ch);C.ka("CircularLayout",Bs);
Bs.prototype.cloneProtected=function(a){ch.prototype.cloneProtected.call(this,a);a.Ys=this.Ys;a.jr=this.jr;a.wt=this.wt;a.zt=this.zt;a.yd=this.yd;a.ga=this.ga;a.qi=this.qi;a.Zh=this.Zh;a.ri=this.ri;a.Ns=this.Ns};Bs.prototype.pc=function(a){if(a.Pe===Bs)if(a===Hs||a===Is||a===Js||a===Ks||a===Fs)this.sorting=a;else if(a===Ls||a===Ms||a===Es||a===Ns)this.direction=a;else if(a===Os||a===Ps||a===Cs||a===Qs)this.$f=a;else{if(a===Rs||a===Gs)this.by=a}else ch.prototype.pc.call(this,a)};
Bs.prototype.createNetwork=function(){return new Ss};
Bs.prototype.doLayout=function(a){null===a&&C.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");null===this.network&&(this.network=this.makeNetwork(a));a=this.network.vertexes;if(1>=a.count)1===a.count&&(a=a.first(),a.oa=0,a.xa=0);else{var b=new K(Ts);b.Vc(a.j);a=new K(Ts);var c=new K(Ts),d;d=this.sort(b);var e=this.nz,g=this.RC,h=this.ge,k=this.Vo,l=this.oz,m=this.Mr,b=this.tl,n=this.hE,p=this.Rg,q=this.Av,e=this.$f,g=this.by,h=this.TJ;if(!isFinite(h)||
0>=h)h=NaN;k=this.RH;if(!isFinite(k)||0>=k)k=1;l=this.Me;isFinite(l)||(l=0);m=this.Af;if(!isFinite(m)||360<m||1>m)m=360;b=this.spacing;isFinite(b)||(b=NaN);e===Qs&&g===Rs?e=Cs:e===Qs&&g!==Rs&&(g=Rs,e=this.$f);if((this.direction===Ls||this.direction===Ms)&&this.sorting!==Fs){for(var r=0;!(r>=d.length);r+=2){a.add(d.fa(r));if(r+1>=d.length)break;c.add(d.fa(r+1))}this.direction===Ls?(this.$f===Qs&&a.reverse(),d=new K(Ts),d.Vc(a),d.Vc(c)):(this.$f===Qs&&c.reverse(),d=new K(Ts),d.Vc(c),d.Vc(a))}for(var s=
d.length,v=n=0,r=0;r<d.length;r++){var p=l+m*v*(this.direction===Es?1:-1)/s,t=d.fa(r).diameter;isNaN(t)&&(t=Us(d.fa(r),p));360>m&&(0===r||r===d.length-1)&&(t/=2);n+=t;v++}if(isNaN(h)||e===Qs){isNaN(b)&&(b=6);if(e!==Cs&&e!==Qs){t=-Infinity;for(r=0;r<s;r++){var q=d.fa(r),x=d.fa(r===s-1?0:r+1);isNaN(q.diameter)&&Us(q,0);isNaN(x.diameter)&&Us(x,0);t=Math.max(t,(q.diameter+x.diameter)/2)}q=t+b;e===Os?(p=2*Math.PI/s,h=(t+b)/p):h=Vs(this,q*(360<=m?s:s-1),k,l*Math.PI/180,m*Math.PI/180)}else h=Vs(this,n+(360<=
m?s:s-1)*(e!==Qs?b:1.6*b),k,l*Math.PI/180,m*Math.PI/180);p=h*k}else if(p=h*k,v=Ws(this,h,p,l*Math.PI/180,m*Math.PI/180),isNaN(b)){if(e===Cs||e===Qs)b=(v-n)/(360<=m?s:s-1)}else if(e===Cs||e===Qs)r=(v-n)/(360<=m?s:s-1),r<b?(h=Vs(this,n+b*(360<=m?s:s-1),k,l*Math.PI/180,m*Math.PI/180),p=h*k):b=r;else{t=-Infinity;for(r=0;r<s;r++)q=d.fa(r),x=d.fa(r===s-1?0:r+1),isNaN(q.diameter)&&Us(q,0),isNaN(x.diameter)&&Us(x,0),t=Math.max(t,(q.diameter+x.diameter)/2);q=t+b;r=Vs(this,q*(360<=m?s:s-1),k,l*Math.PI/180,
m*Math.PI/180);r>h?(h=r,p=h*k):q=v/(360<=m?s:s-1)}this.nz=e;this.RC=g;this.ge=h;this.Vo=k;this.oz=l;this.Mr=m;this.tl=b;this.hE=n;this.Rg=p;this.Av=q;b=d;d=this.nz;e=this.ge;g=this.oz;k=this.Mr;l=this.tl;m=this.Rg;n=this.Av;if(this.direction!==Ls&&this.direction!==Ms||d!==Qs)if(this.direction===Ls||this.direction===Ms){h=0;switch(d){case Ps:h=180*Xs(this,e,m,g,n)/Math.PI;break;case Cs:n=b=0;h=a.first();null!==h&&(b=Us(h,Math.PI/2));h=c.first();null!==h&&(n=Us(h,Math.PI/2));h=180*Xs(this,e,m,g,l+(b+
n)/2)/Math.PI;break;case Os:h=k/b.length}if(this.direction===Ls){switch(d){case Ps:Ys(this,a,g,Ns);break;case Cs:Zs(this,a,g,Ns);break;case Os:$s(this,a,k/2,g,Ns)}switch(d){case Ps:Ys(this,c,g+h,Es);break;case Cs:Zs(this,c,g+h,Es);break;case Os:$s(this,c,k/2,g+h,Es)}}else{switch(d){case Ps:Ys(this,c,g,Ns);break;case Cs:Zs(this,c,g,Ns);break;case Os:$s(this,c,k/2,g,Ns)}switch(d){case Ps:Ys(this,a,g+h,Es);break;case Cs:Zs(this,a,g+h,Es);break;case Os:$s(this,a,k/2,g+h,Es)}}}else switch(d){case Ps:Ys(this,
b,g,this.direction);break;case Cs:Zs(this,b,g,this.direction);break;case Os:$s(this,b,k,g,this.direction);break;case Qs:at(this,b,k,g,this.direction)}else at(this,b,k,g-k/2,Es)}this.updateParts();this.network=null;this.If=!0};
function $s(a,b,c,d,e){var g=a.Mr,h=a.ge;a=a.Rg;d=d*Math.PI/180;c=c*Math.PI/180;for(var k=b.length,l=0;l<k;l++){var m=d+(e===Es?l*c/(360<=g?k:k-1):-(l*c)/k),n=b.fa(l),p=h*Math.tan(m)/a,p=Math.sqrt((h*h+a*a*p*p)/(1+p*p));n.oa=p*Math.cos(m);n.xa=p*Math.sin(m);n.actualAngle=180*m/Math.PI}}
function Zs(a,b,c,d){var e=a.ge,g=a.Rg,h=a.tl;c=c*Math.PI/180;for(var k=b.length,l=0;l<k;l++){var m=b.fa(l),n=b.fa(l===k-1?0:l+1),p=g*Math.sin(c);m.oa=e*Math.cos(c);m.xa=p;m.actualAngle=180*c/Math.PI;isNaN(m.diameter)&&Us(m,0);isNaN(n.diameter)&&Us(n,0);m=Xs(a,e,g,d===Es?c:-c,(m.diameter+n.diameter)/2+h);c+=d===Es?m:-m}}
function Ys(a,b,c,d){var e=a.ge,g=a.Rg,h=a.Av;c=c*Math.PI/180;for(var k=b.length,l=0;l<k;l++){var m=b.fa(l);m.oa=e*Math.cos(c);m.xa=g*Math.sin(c);m.actualAngle=180*c/Math.PI;m=Xs(a,e,g,d===Es?c:-c,h);c+=d===Es?m:-m}}function at(a,b,c,d,e){var g=a.Bv,g=a.Mr;a.fn=0;a.Zw=new Ds;if(360>c){for(g=d+(e===Es?g:-g);0>g;)g+=360;g%=360;180<g&&(g-=360);g*=Math.PI/180;a.Bv=g;bt(a,b,c,d,e)}else ct(a,b,c,d,e);a.Zw.commit(b)}
function ct(a,b,c,d,e){var g=a.ge,h=a.tl,k=a.Vo,l=g*Math.cos(d*Math.PI/180),m=a.Rg*Math.sin(d*Math.PI/180),n=b.nc();if(3===n.length)n[0].oa=g,n[0].xa=0,n[1].oa=n[0].oa-n[0].width/2-n[1].width/2-h,n[1].y=n[0].y,n[2].oa=(n[0].oa+n[1].oa)/2,n[2].y=n[0].y-n[2].height-h;else if(4===n.length)n[0].oa=g,n[0].xa=0,n[2].oa=-n[0].oa,n[2].xa=n[0].xa,n[1].oa=0,n[1].y=Math.min(n[0].y,n[2].y)-n[1].height-h,n[3].oa=0,n[3].y=Math.max(n[0].y+n[0].height+h,n[2].y+n[2].height+h);else{for(var g=C.P(),p=0;p<n.length;p++){n[p].oa=
l;n[p].xa=m;if(p>=n.length-1)break;dt(a,l,m,n,p,e,g)||et(a,l,m,n,p,e,g);l=g.x;m=g.y}C.A(g);a.fn++;if(!(23<a.fn)){var l=n[0].oa,m=n[0].xa,g=n[n.length-1].oa,p=n[n.length-1].xa,q=Math.abs(l-g)-((n[0].width+n[n.length-1].width)/2+h),r=Math.abs(m-p)-((n[0].height+n[n.length-1].height)/2+h),h=0;1>Math.abs(r)?Math.abs(l-g)<(n[0].width+n[n.length-1].width)/2&&(h=0):h=0<r?r:1>Math.abs(q)?0:q;q=!1;q=Math.abs(g)>Math.abs(p)?0<g!==m>p:0<p!==l<g;if(q=e===Es?q:!q)h=-Math.abs(h),h=Math.min(h,-n[n.length-1].width),
h=Math.min(h,-n[n.length-1].height);a.Zw.compare(h,n);1<Math.abs(h)&&(a.ge=8>a.fn?a.ge-h/(2*Math.PI):5>n.length&&10<h?a.ge/2:a.ge-(0<h?1.7:-2.3),a.Rg=a.ge*k,ct(a,b,c,d,e))}}}
function bt(a,b,c,d,e){for(var g=a.ge,h=a.Rg,k=a.Vo,l=g*Math.cos(d*Math.PI/180),m=h*Math.sin(d*Math.PI/180),n=C.P(),p=b.nc(),q=0;q<p.length;q++){p[q].oa=l;p[q].xa=m;if(q>=p.length-1)break;dt(a,l,m,p,q,e,n)||et(a,l,m,p,q,e,n);l=n.x;m=n.y}C.A(n);a.fn++;if(!(23<a.fn)){l=Math.atan2(m,l);l=e===Es?a.Bv-l:l-a.Bv;l=Math.abs(l)<Math.abs(l-2*Math.PI)?l:l-2*Math.PI;g=l*(g+h)/2;h=a.Zw;if(Math.abs(g)<Math.abs(h.mq))for(h.mq=g,h.wo=[],h.Yq=[],l=0;l<p.length;l++)h.wo[l]=p[l].sb.x,h.Yq[l]=p[l].sb.y;1<Math.abs(g)&&
(a.ge=8>a.fn?a.ge-g/(2*Math.PI):a.ge-(0<g?1.7:-2.3),a.Rg=a.ge*k,bt(a,b,c,d,e))}}function dt(a,b,c,d,e,g,h){var k=a.ge,l=a.Rg,m=0,n=0;a=(d[e].width+d[e+1].width)/2+a.tl;var p=!1;if(0<=c!==(g===Es)){if(m=b+a,m>k){m=b-a;if(m<-k)return h.x=m,h.y=n,!1;p=!0}}else if(m=b-a,m<-k){m=b+a;if(m>k)return h.x=m,h.y=n,!1;p=!0}n=Math.sqrt(1-Math.min(1,m*m/(k*k)))*l;0>c!==p&&(n=-n);if(Math.abs(c-n)>(d[e].height+d[e+1].height)/2)return h.x=m,h.y=n,!1;h.x=m;h.y=n;return!0}
function et(a,b,c,d,e,g,h){var k=a.ge,l=a.Rg,m=0,n=0;a=(d[e].height+d[e+1].height)/2+a.tl;d=!1;if(0<=b!==(g===Es)){if(n=c-a,n<-l){n=c+a;if(n>l){h.x=m;h.y=n;return}d=!0}}else if(n=c+a,n>l){n=c-a;if(n<-l){h.x=m;h.y=n;return}d=!0}m=Math.sqrt(1-Math.min(1,n*n/(l*l)))*k;0>b!==d&&(m=-m);h.x=m;h.y=n}Bs.prototype.commitLayout=function(){this.commitNodes();this.xu&&this.commitLinks()};
Bs.prototype.commitNodes=function(){for(var a=this.GH,b=this.network.vertexes.j;b.next();){var c=b.value;c.x+=a.x;c.y+=a.y;c.commit()}};Bs.prototype.commitLinks=function(){for(var a=this.network.edges.j;a.next();)a.value.commit()};
function Ws(a,b,c,d,e){var g=a.vH;if(.001>Math.abs(a.Vo-1))return void 0!==d&&void 0!==e?e*b:2*Math.PI*b;a=b>c?Math.sqrt(b*b-c*c)/b:Math.sqrt(c*c-b*b)/c;for(var h=0,k=0,k=void 0!==d&&void 0!==e?e/(g+1):Math.PI/(2*(g+1)),l=0,m=0;m<=g;m++)l=void 0!==d&&void 0!==e?d+m*e/g:m*Math.PI/(2*g),l=Math.sin(l),h+=Math.sqrt(1-a*a*l*l)*k;return void 0!==d&&void 0!==e?(b>c?b:c)*h:4*(b>c?b:c)*h}function Vs(a,b,c,d,e){var g=0,g=void 0!==d&&void 0!==e?Ws(a,1,c,d,e):Ws(a,1,c);return b/g}
function Xs(a,b,c,d,e){if(.001>Math.abs(a.Vo-1))return e/b;var g=b>c?Math.sqrt(b*b-c*c)/b:Math.sqrt(c*c-b*b)/c,h=0;a=2*Math.PI/(700*a.network.vertexes.count);b>c&&(d+=Math.PI/2);for(var k=0;;k++){var l=Math.sin(d+k*a),h=h+(b>c?b:c)*Math.sqrt(1-g*g*l*l)*a;if(h>=e)return k*a}}
Bs.prototype.sort=function(a){switch(this.sorting){case Js:break;case Ks:a.reverse();break;case Hs:a.sort(this.comparer);break;case Is:a.sort(this.comparer);a.reverse();break;case Fs:for(var b=[],c=0;c<a.length;c++)b.push(0);for(var d=new K(Ts),c=0;c<a.length;c++){var e=-1,g=-1;if(0===c)for(var h=0;h<a.length;h++){var k=a.fa(h).AI;k>e&&(e=k,g=h)}else for(h=0;h<a.length;h++)k=b[h],k>e&&(e=k,g=h);d.add(a.fa(g));b[g]=-1;g=a.fa(g);e=0;for(h=g.vc;h.next();)e=a.indexOf(h.value.fromVertex),0>e||0<=b[e]&&
b[e]++;for(g=g.sc;g.next();)e=a.indexOf(g.value.toVertex),0>e||0<=b[e]&&b[e]++}a=[];for(b=0;b<d.length;b++){h=d.fa(b);a[b]=[];for(var l=0,c=h.sc;c.next();)l=d.indexOf(c.value.toVertex),l!==b&&0>a[b].indexOf(l)&&a[b].push(l);for(c=h.vc;c.next();)l=d.indexOf(c.value.fromVertex),l!==b&&0>a[b].indexOf(l)&&a[b].push(l)}h=[];for(b=0;b<a.length;b++)h[b]=0;for(var c=[],k=[],m=[],e=[],g=new K(Ts),n=0,b=0;b<a.length;b++){var p=a[b].length;if(1===p)e.push(b);else if(0===p)g.add(d.fa(b));else{if(0===n)c.push(b);
else{for(var q=Infinity,r=Infinity,s=-1,v=[],p=0;p<c.length;p++)0>a[c[p]].indexOf(c[p===c.length-1?0:p+1])&&v.push(p===c.length-1?0:p+1);if(0===v.length)for(p=0;p<c.length;p++)v.push(p);for(p=0;p<v.length;p++){var t=v[p],x,l=a[b];x=k;for(var y=m,B=h,A=t,N=c,G=0,T=0;T<x.length;T++){var fa=B[x[T]],W=B[y[T]],P=0,aa=0;fa<W?(P=fa,aa=W):(P=W,aa=fa);if(P<A&&A<=aa)for(fa=0;fa<l.length;fa++)W=l[fa],0>N.indexOf(W)||P<B[W]&&B[W]<aa||P===B[W]||aa===B[W]||G++;else for(fa=0;fa<l.length;fa++)W=l[fa],0>N.indexOf(W)||
P<B[W]&&B[W]<aa&&P!==B[W]&&aa!==B[W]&&G++}x=G;for(B=y=0;B<a[b].length;B++)l=c.indexOf(a[b][B]),0<=l&&(l=Math.abs(t-(l>=t?l+1:l)),y+=l<c.length+1-l?l:c.length+1-l);for(B=0;B<k.length;B++)l=h[k[B]],A=h[m[B]],l>=t&&l++,A>=t&&A++,l>A&&(N=A,A=l,l=N),A-l<(c.length+2)/2===(l<t&&t<=A)&&y++;if(x<q||x===q&&y<r)q=x,r=y,s=t}c.splice(s,0,b);for(p=0;p<c.length;p++)h[c[p]]=p;for(p=0;p<a[b].length;p++)q=a[b][p],0<=c.indexOf(q)&&(k.push(b),m.push(q))}n++}}k=!1;for(m=c.length;;){k=!0;for(h=0;h<e.length;h++)if(b=e[h],
n=a[b][0],l=c.indexOf(n),0<=l){for(r=p=0;r<a[n].length;r++)q=a[n][r],q=c.indexOf(q),0>q||q===l||(s=q>l?q-l:l-q,p+=q<l!==s>m-s?1:-1);c.splice(0>p?l:l+1,0,b);e.splice(h,1);h--}else k=!1;if(k)break;else c.push(e[0]),e.splice(0,1)}for(b=0;b<c.length;b++)l=c[b],g.add(d.fa(l));return g;default:C.k("Invalid sorting type.")}return a};C.defineProperty(Bs,{TJ:"radius"},function(){return this.Ys},function(a){this.Ys!==a&&(C.h(a,"number",Bs,"radius"),0<a||isNaN(a))&&(this.Ys=a,this.N())});
C.defineProperty(Bs,{RH:"aspectRatio"},function(){return this.jr},function(a){this.jr!==a&&(C.h(a,"number",Bs,"aspectRatio"),0<a&&(this.jr=a,this.N()))});C.defineProperty(Bs,{Me:"startAngle"},function(){return this.wt},function(a){this.wt!==a&&(C.h(a,"number",Bs,"startAngle"),this.wt=a,this.N())});C.defineProperty(Bs,{Af:"sweepAngle"},function(){return this.zt},function(a){this.zt!==a&&(C.h(a,"number",Bs,"sweepAngle"),this.zt=0<a&&360>=a?a:360,this.N())});
C.defineProperty(Bs,{$f:"arrangement"},function(){return this.yd},function(a){this.yd!==a&&(C.Ca(a,Bs,Bs,"arrangement"),a===Qs||a===Cs||a===Ps||a===Os)&&(this.yd=a,this.N())});C.defineProperty(Bs,{direction:"direction"},function(){return this.ga},function(a){this.ga!==a&&(C.Ca(a,Bs,Bs,"direction"),a===Es||a===Ns||a===Ls||a===Ms)&&(this.ga=a,this.N())});
C.defineProperty(Bs,{sorting:"sorting"},function(){return this.qi},function(a){this.qi!==a&&(C.Ca(a,Bs,Bs,"sorting"),a===Js||a===Ks||a===Hs||Is||a===Fs)&&(this.qi=a,this.N())});C.defineProperty(Bs,{comparer:"comparer"},function(){return this.Zh},function(a){this.Zh!==a&&(C.h(a,"function",Bs,"comparer"),this.Zh=a,this.N())});C.defineProperty(Bs,{spacing:"spacing"},function(){return this.ri},function(a){this.ri!==a&&(C.h(a,"number",Bs,"spacing"),this.ri=a,this.N())});
C.defineProperty(Bs,{by:"nodeDiameterFormula"},function(){return this.Ns},function(a){this.Ns!==a&&(C.Ca(a,Bs,Bs,"nodeDiameterFormula"),a===Gs||a===Rs)&&(this.Ns=a,this.N())});C.w(Bs,{HH:"actualXRadius"},function(){return this.ge});C.w(Bs,{IH:"actualYRadius"},function(){return this.Rg});C.w(Bs,{GK:"actualSpacing"},function(){return this.tl});C.w(Bs,{GH:"actualCenter"},function(){return isNaN(this.Ce.x)||isNaN(this.Ce.y)?new O(0,0):new O(this.Ce.x+this.HH,this.Ce.y+this.IH)});var Cs;
Bs.ConstantSpacing=Cs=C.s(Bs,"ConstantSpacing",0);var Ps;Bs.ConstantDistance=Ps=C.s(Bs,"ConstantDistance",1);var Os;Bs.ConstantAngle=Os=C.s(Bs,"ConstantAngle",2);var Qs;Bs.Packed=Qs=C.s(Bs,"Packed",3);var Es;Bs.Clockwise=Es=C.s(Bs,"Clockwise",4);var Ns;Bs.Counterclockwise=Ns=C.s(Bs,"Counterclockwise",5);var Ls;Bs.BidirectionalLeft=Ls=C.s(Bs,"BidirectionalLeft",6);var Ms;Bs.BidirectionalRight=Ms=C.s(Bs,"BidirectionalRight",7);var Js;Bs.Forwards=Js=C.s(Bs,"Forwards",8);var Ks;
Bs.Reverse=Ks=C.s(Bs,"Reverse",9);var Hs;Bs.Ascending=Hs=C.s(Bs,"Ascending",10);var Is;Bs.Descending=Is=C.s(Bs,"Descending",11);var Fs;Bs.Optimized=Fs=C.s(Bs,"Optimized",12);var Gs;Bs.Pythagorean=Gs=C.s(Bs,"Pythagorean",13);var Rs;Bs.Circular=Rs=C.s(Bs,"Circular",14);function Ds(){this.mq=-Infinity;this.Yq=this.wo=null}
Ds.prototype.compare=function(a,b){if(0<a&&0>this.mq||Math.abs(a)<Math.abs(this.mq)&&!(0>a&&0<this.mq)){this.mq=a;this.wo=[];this.Yq=[];for(var c=0;c<b.length;c++)this.wo[c]=b[c].sb.x,this.Yq[c]=b[c].sb.y}};Ds.prototype.commit=function(a){if(null!==this.wo&&null!==this.Yq)for(var b=0;b<this.wo.length;b++){var c=a.fa(b);c.x=this.wo[b];c.y=this.Yq[b]}};function Ss(){ya.call(this)}C.Ta(Ss,ya);C.ka("CircularNetwork",Ss);Ss.prototype.createVertex=function(){return new Ts};Ss.prototype.createEdge=function(){return new ft};
function Ts(){za.call(this);this.actualAngle=this.diameter=NaN}C.Ta(Ts,za);C.ka("CircularVertex",Ts);
function Us(a,b){var c=a.network;if(null===c)return NaN;c=c.Wb;if(null===c)return NaN;if(c.$f===Qs)if(c.by===Rs)a.diameter=Math.max(a.width,a.height);else{var c=Math.abs(Math.sin(b)),d=Math.abs(Math.cos(b));if(0===c)return a.width;if(0===d)return a.height;a.diameter=Math.min(a.height/c,a.width/d)}else a.diameter=c.by===Rs?Math.max(a.width,a.height):Math.sqrt(a.width*a.width+a.height*a.height);return a.diameter}function ft(){Aa.call(this)}C.Ta(ft,Aa);C.ka("CircularEdge",ft);
function gt(){0<arguments.length&&C.wd(gt);ch.call(this);this.Qg=null;this.ns=0;this.sg=(new Fa(100,100)).freeze();this.ir=!1;this.pi=!0;this.Yh=!1;this.vp=100;this.Qr=1;this.di=1E3;this.Zs=Math;this.Ro=.05;this.Qo=50;this.Oo=150;this.Po=0;this.Er=10;this.Dr=5}C.Ta(gt,ch);C.ka("ForceDirectedLayout",gt);
gt.prototype.cloneProtected=function(a){ch.prototype.cloneProtected.call(this,a);a.sg.assign(this.sg);a.ir=this.ir;a.pi=this.pi;a.Yh=this.Yh;a.vp=this.vp;a.Qr=this.Qr;a.di=this.di;a.Zs=this.Zs;a.Ro=this.Ro;a.Qo=this.Qo;a.Oo=this.Oo;a.Po=this.Po;a.Er=this.Er;a.Dr=this.Dr};gt.prototype.createNetwork=function(){return new ht};
gt.prototype.doLayout=function(a){null===a&&C.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");null===this.network&&(this.network=this.makeNetwork(a));a=this.$A;if(0<this.network.vertexes.count){this.network.wx();for(var b=this.network.vertexes.j;b.next();){var c=b.value;c.charge=this.electricalCharge(c);c.mass=this.gravitationalMass(c)}for(b=this.network.edges.j;b.next();)c=b.value,c.stiffness=this.springStiffness(c),c.length=this.springLength(c);
this.iA();this.ns=0;if(this.needsClusterLayout()){b=this.network;for(c=b.pK().j;c.next();){this.network=c.value;for(var d=this.network.vertexes.j;d.next();){var e=d.value;e.og=e.vertexes.count;e.Yk=1;e.Gn=null;e.Uh=null}ot(this,0,a)}this.network=b;c.reset();u&&C.l(b,ht,gt,"arrangeConnectedGraphs:singletons");for(var d=this.AE,g=c.count,h=!0,k=e=0,l=C.tb(),m=0;m<g+b.vertexes.count+2;m++)l[m]=null;g=0;c.reset();for(var n=C.Nf();c.next();)if(m=c.value,this.Jh(m,n),h)h=!1,e=n.x+n.width/2,k=n.y+n.height/
2,l[0]=new O(n.x+n.width+d.width,n.y),l[1]=new O(n.x,n.y+n.height+d.height),g=2;else{var p=Wt(l,g,e,k,n.width,n.height,d),q=l[p],r=new O(q.x+n.width+d.width,q.y),s=new O(q.x,q.y+n.height+d.height);p+1<g&&l.splice(p+1,0,null);l[p]=r;l[p+1]=s;g++;p=q.x-n.x;q=q.y-n.y;for(m=m.vertexes.j;m.next();)r=m.value,r.oa+=p,r.xa+=q}C.Lb(n);for(m=b.vertexes.j;m.next();)h=m.value,n=h.sb,2>g?(e=n.x+n.width/2,k=n.y+n.height/2,l[0]=new O(n.x+n.width+d.width,n.y),l[1]=new O(n.x,n.y+n.height+d.height),g=2):(p=Wt(l,g,
e,k,n.width,n.height,d),q=l[p],r=new O(q.x+n.width+d.width,q.y),s=new O(q.x,q.y+n.height+d.height),p+1<g&&l.splice(p+1,0,null),l[p]=r,l[p+1]=s,g++,h.oa=q.x+h.width/2,h.xa=q.y+h.height/2);C.Ba(l);for(c.reset();c.next();){d=c.value;for(e=d.vertexes.j;e.next();)b.Vl(e.value);for(d=d.edges.j;d.next();)b.Up(d.value)}}Xt(this,a);this.updateParts()}this.vp=a;this.network=null;this.If=!0};
gt.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var a=0,b=0,c=this.network.vertexes.first().sb,d=this.network.vertexes.j;d.next();){if(d.value.sb.Wg(c)&&(a++,2<a))return!0;if(10<b)break;b++}return!1};gt.prototype.Jh=function(a,b){for(var c=!0,d=a.vertexes.j;d.next();){var e=d.value;c?(c=!1,b.set(e.sb)):b.Wh(e.sb)}return b};
function Yt(a,b,c){u&&(C.p(b,gt,"computeClusterLayoutIterations:level"),C.p(c,gt,"computeClusterLayoutIterations:maxiter"));return Math.max(Math.min(a.network.vertexes.count,c*(b+1)/11),10)}
function ot(a,b,c){u&&(C.p(b,gt,"layoutClusters:level"),C.p(c,gt,"layoutClusters:maxiter"));if(Zt(a,b)){var d=a.di;a.di*=1+1/(b+1);var e=$t(a,b),g=Math.max(0,Yt(a,b,c));a.$A+=g;ot(a,b+1,c);Xt(a,g);au(a,e,b);c=a.Qg;null===c?c=new K(bu):c.clear();c.Vc(e.vertexes);c.sort(function(a,b){return null===a||null===b||a===b?0:b.og-a.og});for(e=c.j;e.next();)cu(a,e.value,b);a.di=d}}
function Zt(a,b){u&&C.p(b,gt,"hasClusters:level");if(10<b||3>a.network.vertexes.count)return!1;null===a.Qg?a.Qg=new K(bu):a.Qg.clear();a.Qg.Vc(a.network.vertexes);var c=a.Qg;c.sort(function(a,b){return null===a||null===b||a===b?0:b.og-a.og});for(var d=c.count-1;0<=d&&1>=c.fa(d).og;)d--;return 1<c.count-d}
function $t(a,b){u&&C.p(b,gt,"pushSubNetwork:level");for(var c=a.network,d=new ht,e=a.Qg.j;e.next();){var g=e.value;if(1<g.og){d.Vl(g);var h=new du;h.Iy=g.og;h.Jy=g.width;h.Hy=g.height;h.WB=g.W.x;h.XB=g.W.y;null===g.Uh&&(g.Uh=new K(du));g.Uh.add(h);g.tB=g.Uh.count-1}else break}for(var k=c.edges.j;k.next();)if(e=k.value,e.fromVertex.network===d&&e.toVertex.network===d)d.Up(e);else if(e.fromVertex.network===d){var l=e.fromVertex.Gn;null===l&&(l=new K(bu),e.fromVertex.Gn=l);l.add(e.toVertex);e.fromVertex.og--;
e.fromVertex.Yk+=e.toVertex.Yk}else e.toVertex.network===d&&(l=e.toVertex.Gn,null===l&&(l=new K(bu),e.toVertex.Gn=l),l.add(e.fromVertex),e.toVertex.og--,e.toVertex.Yk+=e.fromVertex.Yk);for(e=d.edges.j;e.next();)g=e.value,g.length*=Math.max(1,pe((g.fromVertex.Yk+g.toVertex.Yk)/(4*b+1)));for(e=d.vertexes.j;e.next();)if(g=e.value,l=g.Gn,null!==l&&0<l.count&&(h=g.Uh.fa(g.Uh.count-1),h=h.Iy-g.og,!(0>=h))){for(var m=0,n=0,p=l.count-h;p<l.count;p++){for(var q=l.fa(p),r=null,k=q.edges.j;k.next();){var s=
k.value;if(s.KI(q)===g){r=s;break}}null!==r&&(n+=r.length,m+=q.width*q.height)}l=g.oa;k=g.xa;p=g.width;q=g.height;r=g.W;s=p*q;1>s&&(s=1);m=pe((m+s+n*n*4/(h*h))/s);h=(m-1)*p/2;m=(m-1)*q/2;g.sb=new z(l-r.x-h,k-r.y-m,p+2*h,q+2*m);g.focus=new O(r.x+h,r.y+m)}a.network=d;return c}
function au(a,b,c){u&&(C.l(b,ht,gt,"popNetwork:oldnet"),C.p(c,gt,"popNetwork:level"));for(c=a.network.vertexes.j;c.next();){var d=c.value;d.network=b;if(null!==d.Uh){var e=d.Uh.fa(d.tB);d.og=e.Iy;var g=e.WB,h=e.XB;d.sb=new z(d.oa-g,d.xa-h,e.Jy,e.Hy);d.focus=new O(g,h);d.tB--}}for(c=a.network.edges.j;c.next();)c.value.network=b;a.network=b}
function cu(a,b,c){u&&(C.l(b,bu,gt,"surroundNode:oldnet"),C.p(c,gt,"surroundNode:level"));var d=b.Gn;if(null!==d&&0!==d.count){c=b.oa;var e=b.xa,g=b.width,h=b.height;null!==b.Uh&&0<b.Uh.count&&(h=b.Uh.fa(0),g=h.Jy,h=h.Hy);for(var g=pe(g*g+h*h)/2,k=!1,l=h=0,m=0,n=b.vertexes.j;n.next();){var p=n.value;1>=p.og?l++:(k=!0,m++,h+=Math.atan2(b.xa-p.xa,b.oa-p.oa))}if(0!==l)for(0<m&&(h/=m),m=b=0,b=k?2*Math.PI/(l+1):2*Math.PI/l,0===l%2&&(m=b/2),1<d.count&&d.sort(function(a,b){return null===a||null===b||a===
b?0:b.width*b.height-a.width*a.height}),k=0===l%2?0:1,d=d.j;d.next();)if(l=d.value,!(1<l.og||a.isFixed(l))){n=null;for(p=l.edges.j;p.next();){n=p.value;break}var p=l.width,q=l.height,p=pe(p*p+q*q)/2,n=g+n.length+p,p=h+(b*(k/2>>1)+m)*(0===k%2?1:-1);l.oa=c+n*Math.cos(p);l.xa=e+n*Math.sin(p);k++}}}
function Wt(a,b,c,d,e,g,h){var k=9E19,l=-1,m=0;a:for(;m<b;m++){var n=a[m],p=n.x-c,q=n.y-d,p=p*p+q*q;if(p<k){for(q=m-1;0<=q;q--)if(a[q].y>n.y&&a[q].x-n.x<e+h.width)continue a;for(q=m+1;q<b;q++)if(a[q].x>n.x&&a[q].y-n.y<g+h.height)continue a;l=m;k=p}}return l}gt.prototype.iA=function(){if(this.comments)for(var a=this.network.vertexes.j;a.next();)this.addComments(a.value)};
gt.prototype.addComments=function(a){var b=a.Zc;if(null!==b)for(b=b.eF();b.next();){var c=b.value;if("Comment"===c.rc&&c.isVisible()){var d=this.network.Qn(c);null===d&&(d=this.network.Ot(c));d.charge=this.lI;for(var c=null,e=d.sc;e.next();){var g=e.value;if(g.toVertex===a){c=g;break}}if(null===c)for(e=d.vc;e.next();)if(g=e.value,g.fromVertex===a){c=g;break}null===c&&(c=this.network.yq(a,d,null));c.length=this.mI}}};
function eu(a,b){u&&(C.l(a,bu,gt,"getNodeDistance:vertexA"),C.l(b,bu,gt,"getNodeDistance:vertexB"));var c=a.R,d=c.x,e=c.y,g=c.width,c=c.height,h=b.R,k=h.x,l=h.y,m=h.width,h=h.height;return d+g<k?e>l+h?(d=d+g-k,e=e-l-h,pe(d*d+e*e)):e+c<l?(d=d+g-k,e=e+c-l,pe(d*d+e*e)):k-(d+g):d>k+m?e>l+h?(d=d-k-m,e=e-l-h,pe(d*d+e*e)):e+c<l?(d=d-k-m,e=e+c-l,pe(d*d+e*e)):d-(k+m):e>l+h?e-(l+h):e+c<l?l-(e+c):.1}
function Xt(a,b){u&&C.p(b,gt,"performIterations:num");a.Qg=null;for(var c=a.ns+b;a.ns<c&&(a.ns++,fu(a)););a.Qg=null}
function fu(a){null===a.Qg&&(a.Qg=new K(bu),a.Qg.Vc(a.network.vertexes));var b=a.Qg.o;if(0>=b.length)return!1;var c=b[0];c.forceX=0;c.forceY=0;for(var d=c.oa,e=d,g=c.xa,h=g,c=1;c<b.length;c++){var k=b[c];k.forceX=0;k.forceY=0;var l=k.oa,k=k.xa,d=Math.min(d,l),e=Math.max(e,l),g=Math.min(g,k),h=Math.max(h,k)}(g=e-d>h-g)?b.sort(function(a,b){return null===a||null===b||a===b?0:a.oa-b.oa}):b.sort(function(a,b){return null===a||null===b||a===b?0:a.xa-b.xa});for(var h=a.di,m=0,n=0,p=0,c=0;c<b.length;c++){var k=
b[c],l=k.R,q=k.W,d=l.x+q.x,l=l.y+q.y,n=k.charge*a.electricalFieldX(d,l),p=k.charge*a.electricalFieldY(d,l),n=n+k.mass*a.gravitationalFieldX(d,l),p=p+k.mass*a.gravitationalFieldY(d,l);k.forceX+=n;k.forceY+=p;for(q=c+1;q<b.length;q++)if(e=b[q],e!==k){var r=e.R,n=e.W,p=r.x+n.x,r=r.y+n.y;if(d-p>h||p-d>h){if(g)break}else if(l-r>h||r-l>h){if(!g)break}else{var s=eu(k,e);1>s?(n=a.my,null===n&&(a.my=n=new Ka(0)),m=n.random(),s=n.random(),d>p?(n=Math.abs(e.R.right-k.R.x),n=(1+n)*m):d<p?(n=Math.abs(e.R.x-k.R.right),
n=-(1+n)*m):(n=Math.max(e.width,k.width),n=(1+n)*m-n/2),l>r?(p=Math.abs(e.R.bottom-k.R.y),p=(1+p)*s):d<p?(p=Math.abs(e.R.y-k.R.bottom),p=-(1+p)*s):(p=Math.max(e.height,k.height),p=(1+p)*s-p/2)):(m=-(k.charge*e.charge)/(s*s),n=(p-d)/s*m,p=(r-l)/s*m);k.forceX+=n;k.forceY+=p;e.forceX-=n;e.forceY-=p}}}for(c=a.network.edges.j;c.next();)g=c.value,k=g.fromVertex,e=g.toVertex,l=k.R,q=k.W,d=l.x+q.x,l=l.y+q.y,r=e.R,n=e.W,p=r.x+n.x,r=r.y+n.y,s=eu(k,e),1>s?(n=a.my,null===n&&(a.my=n=new Ka(0)),m=n.random(),s=
n.random(),n=(d>p?1:-1)*(1+(e.width>k.width)?e.width:k.width)*m,p=(l>r?1:-1)*(1+(e.height>k.height)?e.height:k.height)*s):(m=g.stiffness*(s-g.length),n=(p-d)/s*m,p=(r-l)/s*m),k.forceX+=n,k.forceY+=p,e.forceX-=n,e.forceY-=p;c=0;d=Math.max(a.di/20,50);for(e=0;e<b.length;e++)k=b[e],a.isFixed(k)?a.moveFixedVertex(k):(g=k.forceX,h=k.forceY,g<-d?g=-d:g>d&&(g=d),h<-d?h=-d:h>d&&(h=d),k.oa+=g,k.xa+=h,c=Math.max(c,g*g+h*h));return c>a.bF*a.bF}gt.prototype.moveFixedVertex=function(){};
gt.prototype.commitLayout=function(){this.AB();this.commitNodes();this.xu&&this.commitLinks()};gt.prototype.AB=function(){if(this.Sq)for(var a=this.network.edges.j;a.next();){var b=a.value.link;null!==b&&(b.Gb=Rc,b.Hb=Rc)}};gt.prototype.commitNodes=function(){var a=0,b=0;if(this.QH){var c=C.Nf();this.Jh(this.network,c);b=this.Ce;a=b.x-c.x;b=b.y-c.y;C.Lb(c)}for(var c=C.Nf(),d=this.network.vertexes.j;d.next();){var e=d.value;if(0!==a||0!==b)c.assign(e.sb),c.x+=a,c.y+=b,e.sb=c;e.commit()}C.Lb(c)};
gt.prototype.commitLinks=function(){for(var a=this.network.edges.j;a.next();)a.value.commit()};gt.prototype.springStiffness=function(a){a=a.stiffness;return isNaN(a)?this.Ro:a};gt.prototype.springLength=function(a){a=a.length;return isNaN(a)?this.Qo:a};gt.prototype.electricalCharge=function(a){a=a.charge;return isNaN(a)?this.Oo:a};gt.prototype.electricalFieldX=function(){return 0};gt.prototype.electricalFieldY=function(){return 0};
gt.prototype.gravitationalMass=function(a){a=a.mass;return isNaN(a)?this.Po:a};gt.prototype.gravitationalFieldX=function(){return 0};gt.prototype.gravitationalFieldY=function(){return 0};gt.prototype.isFixed=function(a){return a.isFixed};C.w(gt,{iL:"currentIteration"},function(){return this.ns});C.defineProperty(gt,{AE:"arrangementSpacing"},function(){return this.sg},function(a){C.l(a,Fa,gt,"arrangementSpacing");this.sg.O(a)||(this.sg.assign(a),this.N())});
C.defineProperty(gt,{QH:"arrangesToOrigin"},function(){return this.ir},function(a){this.ir!==a&&(C.h(a,"boolean",gt,"arrangesToOrigin"),this.ir=a,this.N())});C.defineProperty(gt,{Sq:"setsPortSpots"},function(){return this.pi},function(a){this.pi!==a&&(C.h(a,"boolean",gt,"setsPortSpots"),this.pi=a,this.N())});C.defineProperty(gt,{comments:"comments"},function(){return this.Yh},function(a){this.Yh!==a&&(C.h(a,"boolean",gt,"comments"),this.Yh=a,this.N())});
C.defineProperty(gt,{$A:"maxIterations"},function(){return this.vp},function(a){this.vp!==a&&(C.h(a,"number",gt,"maxIterations"),0<=a&&(this.vp=a,this.N()))});C.defineProperty(gt,{bF:"epsilonDistance"},function(){return this.Qr},function(a){this.Qr!==a&&(C.h(a,"number",gt,"epsilonDistance"),0<a&&(this.Qr=a,this.N()))});C.defineProperty(gt,{GL:"infinityDistance"},function(){return this.di},function(a){this.di!==a&&(C.h(a,"number",gt,"infinityDistance"),1<a&&(this.di=a,this.N()))});
C.defineProperty(gt,{my:"randomNumberGenerator"},function(){return this.Zs},function(a){this.Zs!==a&&(null!==a&&"function"!==typeof a.random&&C.k('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+a),this.Zs=a)});C.defineProperty(gt,{uL:"defaultSpringStiffness"},function(){return this.Ro},function(a){this.Ro!==a&&(C.h(a,"number",gt,"defaultSpringStiffness"),this.Ro=a,this.N())});
C.defineProperty(gt,{tL:"defaultSpringLength"},function(){return this.Qo},function(a){this.Qo!==a&&(C.h(a,"number",gt,"defaultSpringLength"),this.Qo=a,this.N())});C.defineProperty(gt,{nL:"defaultElectricalCharge"},function(){return this.Oo},function(a){this.Oo!==a&&(C.h(a,"number",gt,"defaultElectricalCharge"),this.Oo=a,this.N())});C.defineProperty(gt,{oL:"defaultGravitationalMass"},function(){return this.Po},function(a){this.Po!==a&&(C.h(a,"number",gt,"defaultGravitationalMass"),this.Po=a,this.N())});
C.defineProperty(gt,{mI:"defaultCommentSpringLength"},function(){return this.Er},function(a){this.Er!==a&&(C.h(a,"number",gt,"defaultCommentSpringLength"),this.Er=a,this.N())});C.defineProperty(gt,{lI:"defaultCommentElectricalCharge"},function(){return this.Dr},function(a){this.Dr!==a&&(C.h(a,"number",gt,"defaultCommentElectricalCharge"),this.Dr=a,this.N())});function du(){this.XB=this.WB=this.Hy=this.Jy=this.Iy=0}function ht(){ya.call(this)}C.Ta(ht,ya);C.ka("ForceDirectedNetwork",ht);
ht.prototype.createVertex=function(){return new bu};ht.prototype.createEdge=function(){return new gu};function bu(){za.call(this);this.isFixed=!1;this.mass=this.charge=NaN;this.Yk=this.og=this.forceY=this.forceX=0;this.Uh=this.Gn=null;this.tB=0}C.Ta(bu,za);C.ka("ForceDirectedVertex",bu);function gu(){Aa.call(this);this.length=this.stiffness=NaN}C.Ta(gu,Aa);C.ka("ForceDirectedEdge",gu);
function hu(){0<arguments.length&&C.wd(hu);ch.call(this);this.ee=this.Xm=25;this.ga=0;this.No=iu;this.qp=ju;this.fp=ku;this.Vm=4;this.zo=lu;this.oj=mu;this.pi=!0;this.ss=4;this.Pb=this.iw=this.zb=-1;this.Uf=this.Bs=0;this.Vb=this.Sf=this.Tf=this.Fg=this.ue=null;this.Js=0;this.Is=this.bn=null;this.Hg=0;this.Ks=null;this.fC=new O;this.wh=[];this.wh.length=100}C.Ta(hu,ch);C.ka("LayeredDigraphLayout",hu);
hu.prototype.cloneProtected=function(a){ch.prototype.cloneProtected.call(this,a);a.Xm=this.Xm;a.ee=this.ee;a.ga=this.ga;a.No=this.No;a.qp=this.qp;a.fp=this.fp;a.Vm=this.Vm;a.zo=this.zo;a.oj=this.oj;a.pi=this.pi;a.ss=this.ss};hu.prototype.pc=function(a){a.Pe===hu?0===a.name.indexOf("Aggressive")?this.OH=a:0===a.name.indexOf("Cycle")?this.kI=a:0===a.name.indexOf("Init")?this.bJ=a:0===a.name.indexOf("Layer")?this.oJ=a:C.k("Unknown enum value: "+a):ch.prototype.pc.call(this,a)};
hu.prototype.createNetwork=function(){return new nu};
hu.prototype.doLayout=function(a){null===a&&C.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");null===this.network&&(this.network=this.makeNetwork(a));this.Ce=this.initialOrigin(this.Ce);this.iw=-1;this.Uf=this.Bs=0;this.Ks=this.Is=this.bn=null;for(a=0;a<this.wh.length;a++)this.wh[a]=null;if(0<this.network.vertexes.count){this.network.wx();for(a=this.network.edges.j;a.next();)a.value.rev=!1;switch(this.No){default:case ou:var b=0,c=this.network.vertexes.count-
1;a=[];a.length=c+1;for(var d=this.network.vertexes.j;d.next();)d.value.valid=!0;for(;null!==pu(this.network);){for(d=qu(this.network);null!==d;)a[c]=d,c--,d.valid=!1,d=qu(this.network);for(d=ru(this.network);null!==d;)a[b]=d,b++,d.valid=!1,d=ru(this.network);for(var d=null,e=0,g=this.network.vertexes.j;g.next();){var h=g.value;if(h.valid){for(var k=0,l=h.sc;l.next();)l.value.toVertex.valid&&k++;for(var l=0,m=h.vc;m.next();)m.value.fromVertex.valid&&l++;if(null===d||e<k-l)d=h,e=k-l}}null!==d&&(a[b]=
d,b++,d.valid=!1)}for(b=0;b<this.network.vertexes.count;b++)a[b].index=b;for(a=this.network.edges.j;a.next();)b=a.value,b.fromVertex.index>b.toVertex.index&&(this.network.sy(b),b.rev=!0);break;case iu:for(b=this.network.vertexes.j;b.next();)a=b.value,a.gq=-1,a.finish=-1;for(a=this.network.edges.j;a.next();)a.value.forest=!1;this.Js=0;for(b.reset();b.next();)c=b.value,0===c.vc.count&&su(this,c);for(b.reset();b.next();)c=b.value,-1===c.gq&&su(this,c);for(a.reset();a.next();)b=a.value,b.forest||(c=b.fromVertex,
d=c.finish,e=b.toVertex,g=e.finish,e.gq<c.gq&&d<g&&(this.network.sy(b),b.rev=!0))}for(a=this.network.vertexes.j;a.next();)a.value.layer=-1;this.zb=-1;this.assignLayers();for(a.reset();a.next();)this.zb=Math.max(this.zb,a.value.layer);a=[];for(c=this.network.edges.j;c.next();)b=c.value,b.valid=!1,a.push(b);for(c=0;c<a.length;c++)if(b=a[c],!b.valid&&(null!==b.fromVertex.Pd&&null!==b.toVertex.Pd||b.fromVertex.layer!==b.toVertex.layer)){l=h=k=g=0;e=b.fromVertex;d=b.toVertex;if(null!==b.link){k=b.link;
if(null===k)continue;var n=e.Pd,g=d.Pd;if(null===n||null===g)continue;var p=k.aa,h=k.ea,q=k.gd,l=k.Md;b.rev&&(k=p,m=q,p=h,q=l,h=k,l=m);var r=e.W,k=b.toVertex.W,s=b.rev?d.R:e.R,m=C.P();s.F()?(dr(p,q,mc,m),m.F()||m.assign(r)):m.assign(r);n!==p&&s.F()&&p.isVisible()&&(n=e.R,n.F()&&(m.x+=s.x-n.x,m.y+=s.y-n.y));p=b.rev?e.R:d.R;n=C.P();p.F()?(dr(h,l,mc,n),n.F()||n.assign(k)):n.assign(k);g!==h&&p.F()&&h.isVisible()&&(g=d.R,g.F()&&(n.x+=p.x-g.x,n.y+=p.y-g.y));90===this.ga||270===this.ga?(g=Math.round((m.x-
r.x)/this.ee),h=m.x,k=Math.round((n.x-k.x)/this.ee),l=n.x):(g=Math.round((m.y-r.y)/this.ee),h=m.y,k=Math.round((n.y-k.y)/this.ee),l=n.y);C.A(m);C.A(n);b.portFromColOffset=g;b.portFromPos=h;b.portToColOffset=k;b.portToPos=l}else b.portFromColOffset=0,b.portFromPos=0,b.portToColOffset=0,b.portToPos=0;m=e.layer;r=d.layer;a:if(n=b,p=0,s=n.link,null!==s){var v=s.gd,t=s.Md;if(null!==v&&null!==t){var x=s.aa,q=s.ea;if(null!==x&&null!==q){var y=v.Gb,B=t.Hb;this.Sq||(s.Gb.hd()||(y=s.Gb),s.Hb.hd()||(B=s.Hb));
var A=s.tc,N=tu(this,!0);if(y.hd()||y===gc)y=N;var G=tu(this,!1);if(B.hd()||B===gc)B=G;if(y.Ij()&&y.Hj(G)&&B.Ij()&&B.Hj(N)){p=0;break a}N=s.getLinkPoint(x,v,y,!0,A,q,t,C.P());y=s.getLinkDirection(x,v,N,y,!0,A,q,t);C.A(N);y===uu(this,n,!0)?p+=1:this.Sq&&null!==x&&1===x.ports.count&&n.rev&&(p+=1);y=s.getLinkPoint(q,t,B,!1,A,x,v,C.P());s=s.getLinkDirection(q,t,y,B,!1,A,x,v);C.A(y);s===uu(this,n,!1)?p+=2:this.Sq&&null!==q&&1===q.ports.count&&n.rev&&(p+=2)}}}n=1===p||3===p?!0:!1;if(p=2===p||3===p?!0:!1)q=
this.network.createVertex(),q.Pd=null,q.Dn=1,q.layer=m,q.near=e,this.network.Vl(q),e=this.network.yq(e,q,b.link),e.valid=!1,e.rev=b.rev,e.portFromColOffset=g,e.portToColOffset=0,e.portFromPos=h,e.portToPos=0,e=q;s=1;n&&s--;if(m-r>s&&0<m){b.valid=!1;q=this.network.createVertex();q.Pd=null;q.Dn=2;q.layer=m-1;this.network.Vl(q);e=this.network.yq(e,q,b.link);e.valid=!0;e.rev=b.rev;e.portFromColOffset=p?0:g;e.portToColOffset=0;e.portFromPos=p?0:h;e.portToPos=0;e=q;for(m--;m-r>s&&0<m;)q=this.network.createVertex(),
q.Pd=null,q.Dn=3,q.layer=m-1,this.network.Vl(q),e=this.network.yq(e,q,b.link),e.valid=!0,e.rev=b.rev,e.portFromColOffset=0,e.portToColOffset=0,e.portFromPos=0,e.portToPos=0,e=q,m--;e=this.network.yq(q,d,b.link);e.valid=!n;n&&(q.near=d);e.rev=b.rev;e.portFromColOffset=0;e.portToColOffset=k;e.portFromPos=0;e.portToPos=l}else b.valid=!0}b=this.ue=[];for(c=0;c<=this.zb;c++)b[c]=0;for(a=this.network.vertexes.j;a.next();)c=a.value,c.index=-1;this.initializeIndices();this.iw=-1;for(c=this.Uf=this.Bs=0;c<=
this.zb;c++)b[c]>b[this.Uf]&&(this.iw=b[c]-1,this.Uf=c),b[c]<b[this.Bs]&&(this.Bs=c);this.Ks=[];for(c=0;c<b.length;c++)this.Ks[c]=[];for(a.reset();a.next();)b=a.value,c=this.Ks[b.layer],c[b.index]=b;this.Pb=-1;for(a=0;a<=this.zb;a++){b=vu(this,a);c=0;d=this.ue[a];for(e=0;e<d;e++)g=b[e],c+=this.nodeMinColumnSpace(g,!0),g.column=c,c+=1,c+=this.nodeMinColumnSpace(g,!1);this.Pb=Math.max(this.Pb,c-1);wu(this,a,b)}this.reduceCrossings();this.straightenAndPack();this.updateParts()}this.network=null;this.If=
!0};hu.prototype.linkMinLength=function(){return 1};function xu(a){var b=a.fromVertex.Pd;a=a.toVertex.Pd;return null===b&&null===a?8:null===b||null===a?4:1}hu.prototype.nodeMinLayerSpace=function(a,b){return null===a.Pd?0:90===this.ga||270===this.ga?b?a.W.y+10:a.R.height-a.W.y+10:b?a.W.x+10:a.R.width-a.W.x+10};
hu.prototype.nodeMinColumnSpace=function(a,b){if(null===a.Pd)return 0;var c=b?a.hB:a.gB;if(null!==c)return c;c=this.ga;return 90===c||270===c?b?a.hB=a.W.x/this.ee+1|0:a.gB=(a.R.width-a.W.x)/this.ee+1|0:b?a.hB=a.W.y/this.ee+1|0:a.gB=(a.R.height-a.W.y)/this.ee+1|0};function yu(a){null===a.bn&&(a.bn=[]);for(var b=0,c=a.network.vertexes.j;c.next();){var d=c.value;a.bn[b]=d.layer;b++;a.bn[b]=d.column;b++;a.bn[b]=d.index;b++}return a.bn}
function zu(a,b){for(var c=0,d=a.network.vertexes.j;d.next();){var e=d.value;e.layer=b[c];c++;e.column=b[c];c++;e.index=b[c];c++}}
function Au(a,b,c){u&&(C.p(b,hu,"crossingMatrix:unfixedLayer"),C.p(c,hu,"crossingMatrix:direction"));var d=vu(a,b),e=a.ue[b];if(null===a.Is||a.Is.length<e*e)a.Is=[];for(var g=a.Is,h=0;h<e;h++){var k=0,l=d[h],m=l.near,n=0;if(null!==m&&m.layer===l.layer)if(n=m.index,n>h)for(var p=h+1;p<n;p++)l=d[p],l.near===m&&l.Dn===m.Dn||k++;else for(p=h-1;p>n;p--)l=d[p],l.near===m&&l.Dn===m.Dn||k++;var m=0,q,r=q=p=l=0,s,v=0,t=0;s=0;var x;if(0<=c)for(n=d[h].nf,m=0;m<n.count;m++)if(q=n.o[m],q.valid&&q.fromVertex.layer!==
b)for(l=q.fromVertex.index,p=q.portToPos,q=q.portFromPos,r=m+1;r<n.count;r++)s=n.o[r],s.valid&&s.fromVertex.layer!==b&&(v=s.fromVertex.index,t=s.portToPos,s=s.portFromPos,p<t&&(l>v||l===v&&q>s)&&k++,t<p&&(v>l||v===l&&s>q)&&k++);if(0>=c)for(n=d[h].hf,m=0;m<n.count;m++)if(q=n.o[m],q.valid&&q.toVertex.layer!==b)for(l=q.toVertex.index,p=q.portToPos,q=q.portFromPos,r=m+1;r<n.count;r++)s=n.o[r],s.valid&&s.toVertex.layer!==b&&(v=s.toVertex.index,t=s.portToPos,s=s.portFromPos,q<s&&(l>v||l===v&&p>t)&&k++,
s<q&&(v>l||v===l&&t>p)&&k++);g[h*e+h]=k;for(n=h+1;n<e;n++){var y=0,B=0;if(0<=c)for(k=d[h].nf,x=d[n].nf,m=0;m<k.count;m++)if(q=k.o[m],q.valid&&q.fromVertex.layer!==b)for(l=q.fromVertex.index,q=q.portFromPos,r=0;r<x.count;r++)s=x.o[r],s.valid&&s.fromVertex.layer!==b&&(v=s.fromVertex.index,s=s.portFromPos,(l<v||l===v&&q<s)&&B++,(v<l||v===l&&s<q)&&y++);if(0>=c)for(k=d[h].hf,x=d[n].hf,m=0;m<k.count;m++)if(q=k.o[m],q.valid&&q.toVertex.layer!==b)for(l=q.toVertex.index,p=q.portToPos,r=0;r<x.count;r++)s=x.o[r],
s.valid&&s.toVertex.layer!==b&&(v=s.toVertex.index,t=s.portToPos,(l<v||l===v&&p<t)&&B++,(v<l||v===l&&t<p)&&y++);g[h*e+n]=y;g[n*e+h]=B}}wu(a,b,d);return g}hu.prototype.countCrossings=function(){for(var a=0,b=0;b<=this.zb;b++)for(var c=Au(this,b,1),d=this.ue[b],e=0;e<d;e++)for(var g=e;g<d;g++)a+=c[e*d+g];return a};
function Bu(a){for(var b=0,c=0;c<=a.zb;c++){for(var d=a,e=c,g=vu(d,e),h=d.ue[e],k=0,l=0;l<h;l++){var m=null,m=g[l].hf,n,p=0,q=0;if(null!==m)for(var r=0;r<m.count;r++)n=m.o[r],n.valid&&n.toVertex.layer!==e&&(p=n.fromVertex.column+n.portFromColOffset,q=n.toVertex.column+n.portToColOffset,k+=(Math.abs(p-q)+1)*xu(n))}wu(d,e,g);b+=k}return b}
hu.prototype.normalize=function(){var a=Infinity;this.Pb=-1;for(var b=this.network.vertexes.j;b.next();){var c=b.value,a=Math.min(a,c.column-this.nodeMinColumnSpace(c,!0));this.Pb=Math.max(this.Pb,c.column+this.nodeMinColumnSpace(c,!1))}for(b.reset();b.next();)b.value.column-=a;this.Pb-=a};
function Cu(a,b,c){u&&(C.p(b,hu,"barycenters:unfixedLayer"),C.p(c,hu,"barycenters:direction"));for(var d=vu(a,b),e=a.ue[b],g=[],h=0;h<e;h++){var k=d[h],l=null;0>=c&&(l=k.nf);var m=null;0<=c&&(m=k.hf);var n=0,p=0,q=k.near;null!==q&&q.layer===k.layer&&(n+=q.column-1,p++);if(null!==l)for(q=0;q<l.count;q++){var k=l.o[q],r=k.fromVertex;k.valid&&!k.rev&&r.layer!==b&&(n+=r.column,p++)}if(null!==m)for(l=0;l<m.count;l++)k=m.o[l],q=k.toVertex,k.valid&&!k.rev&&q.layer!==b&&(n+=q.column,p++);g[h]=0===p?-1:n/
p}wu(a,b,d);return g}
function Du(a,b,c){u&&(C.p(b,hu,"medians:unfixedLayer"),C.p(c,hu,"medians:direction"));for(var d=vu(a,b),e=a.ue[b],g=[],h=0;h<e;h++){var k=d[h],l=null;0>=c&&(l=k.nf);var m=null;0<=c&&(m=k.hf);var n=0,p=[],q=k.near;null!==q&&q.layer===k.layer&&(p[n]=q.column-1,n++);if(null!==l)for(q=0;q<l.count;q++){var k=l.o[q],r=k.fromVertex;k.valid&&!k.rev&&r.layer!==b&&(p[n]=r.column+k.portFromColOffset,n++)}if(null!==m)for(l=0;l<m.count;l++)k=m.o[l],q=k.toVertex,k.valid&&!k.rev&&q.layer!==b&&(p[n]=q.column+k.portToColOffset,
n++);0===n?g[h]=-1:(p.sort(function(a,b){return a-b}),m=n>>1,g[h]=n&1?p[m]:p[m-1]+p[m]>>1)}wu(a,b,d);return g}function Eu(a,b,c,d,e,g){if(b.component===d){b.component=c;var h=0,k=0;if(e)for(var l=b.sc;l.next();){var k=l.value,m=k.toVertex,h=b.layer-m.layer,k=a.linkMinLength(k);h===k&&Eu(a,m,c,d,e,g)}if(g)for(l=b.vc;l.next();)k=l.value,m=k.fromVertex,h=m.layer-b.layer,k=a.linkMinLength(k),h===k&&Eu(a,m,c,d,e,g)}}
function Fu(a,b,c,d,e,g){if(b.component===d){b.component=c;if(e)for(var h=b.sc;h.next();)Fu(a,h.value.toVertex,c,d,e,g);if(g)for(b=b.vc;b.next();)Fu(a,b.value.fromVertex,c,d,e,g)}}function pu(a){for(a=a.vertexes.j;a.next();){var b=a.value;if(b.valid)return b}return null}function qu(a){for(a=a.vertexes.j;a.next();){var b=a.value;if(b.valid){for(var c=!0,d=b.sc;d.next();)if(d.value.toVertex.valid){c=!1;break}if(c)return b}}return null}
function ru(a){for(a=a.vertexes.j;a.next();){var b=a.value;if(b.valid){for(var c=!0,d=b.vc;d.next();)if(d.value.fromVertex.valid){c=!1;break}if(c)return b}}return null}function su(a,b){b.gq=a.Js;a.Js++;for(var c=b.sc;c.next();){var d=c.value,e=d.toVertex;-1===e.gq&&(d.forest=!0,su(a,e))}b.finish=a.Js;a.Js++}
hu.prototype.assignLayers=function(){switch(this.qp){case Gu:Hu(this);break;case Iu:for(var a=0,b=this.network.vertexes.j;b.next();)a=Ju(this,b.value),this.zb=Math.max(a,this.zb);for(b.reset();b.next();)a=b.value,a.layer=this.zb-a.layer;break;default:case ju:Hu(this);for(b=this.network.vertexes.j;b.next();)b.value.valid=!1;for(b.reset();b.next();)a=b.value,0===a.vc.count&&Ku(this,a);a=Infinity;for(b.reset();b.next();)a=Math.min(a,b.value.layer);this.zb=-1;for(b.reset();b.next();){var c=b.value;c.layer-=
a;this.zb=Math.max(this.zb,c.layer)}}};function Hu(a){for(var b=a.network.vertexes.j;b.next();){var c=Lu(a,b.value);a.zb=Math.max(c,a.zb)}}function Lu(a,b){var c=0;if(-1===b.layer){for(var d=b.sc;d.next();)var e=d.value,g=e.toVertex,e=a.linkMinLength(e),c=Math.max(c,Lu(a,g)+e);b.layer=c}else c=b.layer;return c}function Ju(a,b){var c=0;if(-1===b.layer){for(var d=b.vc;d.next();)var e=d.value,g=e.fromVertex,e=a.linkMinLength(e),c=Math.max(c,Ju(a,g)+e);b.layer=c}else c=b.layer;return c}
function Ku(a,b){if(!b.valid){b.valid=!0;for(var c=b.sc;c.next();)Ku(a,c.value.toVertex);for(c=a.network.vertexes.j;c.next();)c.value.component=-1;for(var d=b.nf.o,e=d.length,g=0;g<e;g++){var h=d[g],k=a.linkMinLength(h);h.fromVertex.layer-h.toVertex.layer>k&&Eu(a,h.fromVertex,0,-1,!0,!1)}for(Eu(a,b,1,-1,!0,!0);0!==b.component;){for(var k=0,d=Infinity,l=0,m=null,n=a.network.vertexes.j;n.next();){var p=n.value;if(1===p.component){for(var q=0,r=!1,s=p.nf.o,e=s.length,g=0;g<e;g++){var h=s[g],v=h.fromVertex,
q=q+1;1!==v.component&&(k+=1,v=v.layer-p.layer,h=a.linkMinLength(h),d=Math.min(d,v-h))}h=p.hf.o;e=h.length;for(g=0;g<e;g++)s=h[g].toVertex,q-=1,1!==s.component?k-=1:r=!0;(null===m||q<l)&&!r&&(m=p,l=q)}}if(0<k){for(c.reset();c.next();)e=c.value,1===e.component&&(e.layer+=d);b.component=0}else m.component=0}for(c=a.network.vertexes.j;c.next();)c.value.component=-1;for(Eu(a,b,1,-1,!0,!1);0!==b.component;){g=0;e=Infinity;d=0;k=null;for(l=a.network.vertexes.j;l.next();)if(m=l.value,1===m.component){n=
0;p=!1;h=m.nf.o;q=h.length;for(r=0;r<q;r++)s=h[r].fromVertex,n+=1,1!==s.component?g+=1:p=!0;h=m.hf.o;q=h.length;for(r=0;r<q;r++)s=h[r],v=s.toVertex,n-=1,1!==v.component&&(g-=1,v=m.layer-v.layer,s=a.linkMinLength(s),e=Math.min(e,v-s));(null===k||n>d)&&!p&&(k=m,d=n)}if(0>g){for(c.reset();c.next();)g=c.value,1===g.component&&(g.layer-=e);b.component=0}else k.component=0}}}
function uu(a,b,c){return 90===a.ga?c&&!b.rev||!c&&b.rev?270:90:180===a.ga?c&&!b.rev||!c&&b.rev?0:180:270===a.ga?c&&!b.rev||!c&&b.rev?90:270:c&&!b.rev||!c&&b.rev?180:0}
hu.prototype.initializeIndices=function(){switch(this.fp){default:case Mu:for(var a=this.network.vertexes.j;a.next();){var b=a.value,c=b.layer;b.index=this.ue[c];this.ue[c]++}break;case ku:a=this.network.vertexes.j;for(b=this.zb;0<=b;b--)for(a.reset();a.next();)c=a.value,c.layer===b&&-1===c.index&&Nu(this,c);break;case Ou:for(a=this.network.vertexes.j,b=0;b<=this.zb;b++)for(a.reset();a.next();)c=a.value,c.layer===b&&-1===c.index&&Pu(this,c)}};
function Nu(a,b){var c=b.layer;b.index=a.ue[c];a.ue[c]++;for(var c=b.hf.nc(),d=!0;d;)for(var d=!1,e=0;e<c.length-1;e++){var g=c[e],h=c[e+1];g.portFromColOffset>h.portFromColOffset&&(d=!0,c[e]=h,c[e+1]=g)}for(e=0;e<c.length;e++)d=c[e],d.valid&&(d=d.toVertex,-1===d.index&&Nu(a,d))}
function Pu(a,b){var c=b.layer;b.index=a.ue[c];a.ue[c]++;for(var c=b.nf.nc(),d=!0,e=0;d;)for(d=!1,e=0;e<c.length-1;e++){var g=c[e],h=c[e+1];g.portToColOffset>h.portToColOffset&&(d=!0,c[e]=h,c[e+1]=g)}for(e=0;e<c.length;e++)d=c[e],d.valid&&(d=d.fromVertex,-1===d.index&&Pu(a,d))}
hu.prototype.reduceCrossings=function(){for(var a=this.countCrossings(),b=yu(this),c=0,d=0,e=0,c=0;c<this.Vm;c++){for(d=0;d<=this.zb;d++)Qu(this,d,1),Ru(this,d,1);e=this.countCrossings();e<a&&(a=e,b=yu(this));for(d=this.zb;0<=d;d--)Qu(this,d,-1),Ru(this,d,-1);e=this.countCrossings();e<a&&(a=e,b=yu(this))}zu(this,b);for(c=0;c<this.Vm;c++){for(d=0;d<=this.zb;d++)Qu(this,d,0),Ru(this,d,0);e=this.countCrossings();e<a&&(a=e,b=yu(this));for(d=this.zb;0<=d;d--)Qu(this,d,0),Ru(this,d,0);e=this.countCrossings();
e<a&&(a=e,b=yu(this))}zu(this,b);var g=!1,h=c=0,k=0,d=0;switch(this.zo){case Su:break;case Tu:for(k=a+1;(d=this.countCrossings())<k;)for(k=d,c=this.zb;0<=c;c--)for(h=0;h<=c;h++){for(g=!0;g;)for(g=!1,d=c;d>=h;d--)g=Ru(this,d,-1)||g;e=this.countCrossings();e>=a?zu(this,b):(a=e,b=yu(this));for(g=!0;g;)for(g=!1,d=c;d>=h;d--)g=Ru(this,d,1)||g;e=this.countCrossings();e>=a?zu(this,b):(a=e,b=yu(this));for(g=!0;g;)for(g=!1,d=h;d<=c;d++)g=Ru(this,d,1)||g;e>=a?zu(this,b):(a=e,b=yu(this));for(g=!0;g;)for(g=!1,
d=h;d<=c;d++)g=Ru(this,d,-1)||g;e>=a?zu(this,b):(a=e,b=yu(this));for(g=!0;g;)for(g=!1,d=c;d>=h;d--)g=Ru(this,d,0)||g;e>=a?zu(this,b):(a=e,b=yu(this));for(g=!0;g;)for(g=!1,d=h;d<=c;d++)g=Ru(this,d,0)||g;e>=a?zu(this,b):(a=e,b=yu(this))}break;default:case lu:for(c=this.zb,h=0,k=a+1;(d=this.countCrossings())<k;){k=d;for(g=!0;g;)for(g=!1,d=c;d>=h;d--)g=Ru(this,d,-1)||g;e=this.countCrossings();e>=a?zu(this,b):(a=e,b=yu(this));for(g=!0;g;)for(g=!1,d=c;d>=h;d--)g=Ru(this,d,1)||g;e=this.countCrossings();
e>=a?zu(this,b):(a=e,b=yu(this));for(g=!0;g;)for(g=!1,d=h;d<=c;d++)g=Ru(this,d,1)||g;e>=a?zu(this,b):(a=e,b=yu(this));for(g=!0;g;)for(g=!1,d=h;d<=c;d++)g=Ru(this,d,-1)||g;e>=a?zu(this,b):(a=e,b=yu(this));for(g=!0;g;)for(g=!1,d=c;d>=h;d--)g=Ru(this,d,0)||g;e>=a?zu(this,b):(a=e,b=yu(this));for(g=!0;g;)for(g=!1,d=h;d<=c;d++)g=Ru(this,d,0)||g;e>=a?zu(this,b):(a=e,b=yu(this))}}zu(this,b)};
function Qu(a,b,c){u&&(C.p(b,hu,"medianBarycenterCrossingReduction:unfixedLayer"),C.p(c,hu,"medianBarycenterCrossingReduction:direction"));var d=0,e=vu(a,b),g=a.ue[b],h=Du(a,b,c);c=Cu(a,b,c);for(d=0;d<g;d++)-1===c[d]&&(c[d]=e[d].column),-1===h[d]&&(h[d]=e[d].column);for(var k=!0,l;k;)for(k=!1,d=0;d<g-1;d++)if(h[d+1]<h[d]||h[d+1]===h[d]&&c[d+1]<c[d])k=!0,l=h[d],h[d]=h[d+1],h[d+1]=l,l=c[d],c[d]=c[d+1],c[d+1]=l,l=e[d],e[d]=e[d+1],e[d+1]=l;for(d=h=0;d<g;d++)l=e[d],l.index=d,h+=a.nodeMinColumnSpace(l,
!0),l.column=h,h+=1,h+=a.nodeMinColumnSpace(l,!1);wu(a,b,e)}
function Ru(a,b,c){var d=vu(a,b),e=a.ue[b];c=Au(a,b,c);var g=0,h;h=[];for(g=0;g<e;g++)h[g]=-1;var k;k=[];for(g=0;g<e;g++)k[g]=-1;for(var l=!1,m=!0;m;)for(m=!1,g=0;g<e-1;g++){var n=c[d[g].index*e+d[g+1].index],p=c[d[g+1].index*e+d[g].index],q=0,r=0,s=d[g].column,v=d[g+1].column,t=a.nodeMinColumnSpace(d[g],!0),x=a.nodeMinColumnSpace(d[g],!1),y=a.nodeMinColumnSpace(d[g+1],!0),B=a.nodeMinColumnSpace(d[g+1],!1),t=s-t+y,x=v-x+B,y=y=0,A=d[g].vc.j;for(A.reset();A.next();)if(B=A.value,B.valid&&B.fromVertex.layer===
b){B=B.fromVertex;for(y=0;d[y]!==B;)y++;y<g&&(q+=2*(g-y),r+=2*(g+1-y));y===g+1&&(q+=1);y>g+1&&(q+=4*(y-g),r+=4*(y-(g+1)))}A=d[g].sc.j;for(A.reset();A.next();)if(B=A.value,B.valid&&B.toVertex.layer===b){B=B.toVertex;for(y=0;d[y]!==B;)y++;y===g+1&&(r+=1)}A=d[g+1].vc.j;for(A.reset();A.next();)if(B=A.value,B.valid&&B.fromVertex.layer===b){B=B.fromVertex;for(y=0;d[y]!==B;)y++;y<g&&(q+=2*(g+1-y),r+=2*(g-y));y===g&&(r+=1);y>g+1&&(q+=4*(y-(g+1)),r+=4*(y-g))}A=d[g+1].sc.j;for(A.reset();A.next();)if(B=A.value,
B.valid&&B.toVertex.layer===b){B=B.toVertex;for(y=0;d[y]!==B;)y++;y===g&&(q+=1)}var y=B=0,A=h[d[g].index],N=k[d[g].index],G=h[d[g+1].index],T=k[d[g+1].index];-1!==A&&(B+=Math.abs(A-s),y+=Math.abs(A-x));-1!==N&&(B+=Math.abs(N-s),y+=Math.abs(N-x));-1!==G&&(B+=Math.abs(G-v),y+=Math.abs(G-t));-1!==T&&(B+=Math.abs(T-v),y+=Math.abs(T-t));if(r<q-.5||r===q&&p<n-.5||r===q&&p===n&&y<B-.5)m=l=!0,d[g].column=x,d[g+1].column=t,n=d[g],d[g]=d[g+1],d[g+1]=n}for(g=0;g<e;g++)d[g].index=g;wu(a,b,d);return l}
hu.prototype.straightenAndPack=function(){var a=0,b=!1,c=0!==(this.oj&Uu),a=this.oj===mu;1E3<this.network.edges.count&&!a&&(c=!1);if(c){b=[];for(a=a=0;a<=this.zb;a++)b[a]=0;for(var d=0,e=this.network.vertexes.j;e.next();){var g=e.value,a=g.layer,d=g.column,g=this.nodeMinColumnSpace(g,!1);b[a]=Math.max(b[a],d+g)}for(e.reset();e.next();)g=e.value,a=g.layer,d=g.column,g.column=(8*(this.Pb-b[a])>>1)+8*d;this.Pb*=8}if(0!==(this.oj&Vu))for(b=!0;b;){b=!1;for(a=this.Uf+1;a<=this.zb;a++)b=Wu(this,a,1)||b;
for(a=this.Uf-1;0<=a;a--)b=Wu(this,a,-1)||b;b=Wu(this,this.Uf,0)||b}if(0!==(this.oj&Xu)){for(a=this.Uf+1;a<=this.zb;a++)Yu(this,a,1);for(a=this.Uf-1;0<=a;a--)Yu(this,a,-1);Yu(this,this.Uf,0)}c&&(Zu(this,-1),Zu(this,1));if(0!==(this.oj&Vu))for(b=!0;b;){b=!1;b=Wu(this,this.Uf,0)||b;for(a=this.Uf+1;a<=this.zb;a++)b=Wu(this,a,0)||b;for(a=this.Uf-1;0<=a;a--)b=Wu(this,a,0)||b}};
function Wu(a,b,c){u&&(C.p(b,hu,"bendStraighten:unfixedLayer"),C.p(c,hu,"bendStraighten:direction"));for(var d=!1;$u(a,b,c);)d=!0;return d}
function $u(a,b,c){u&&(C.p(b,hu,"shiftbendStraighten:unfixedLayer"),C.p(c,hu,"shiftbendStraighten:direction"));var d=0,e=vu(a,b),g=a.ue[b],h=Cu(a,b,-1);if(0<c)for(d=0;d<g;d++)h[d]=-1;var k=Cu(a,b,1);if(0>c)for(d=0;d<g;d++)k[d]=-1;for(var l=!1,m=!0;m;)for(m=!1,d=0;d<g;d++){var n=e[d].column,p=a.nodeMinColumnSpace(e[d],!0),q=a.nodeMinColumnSpace(e[d],!1),r=0,r=0>d-1||n-e[d-1].column-1>p+a.nodeMinColumnSpace(e[d-1],!1)?n-1:n,p=0,p=d+1>=g||e[d+1].column-n-1>q+a.nodeMinColumnSpace(e[d+1],!0)?n+1:n,s=q=
0,v=0,t=0,x=0,y=0;if(0>=c)for(var B=e[d].vc.j;B.next();){var A=B.value;A.valid&&A.fromVertex.layer!==b&&(t=xu(A),x=A.portFromColOffset,y=A.portToColOffset,A=A.fromVertex.column,q+=(Math.abs(n+y-(A+x))+1)*t,s+=(Math.abs(r+y-(A+x))+1)*t,v+=(Math.abs(p+y-(A+x))+1)*t)}if(0<=c)for(B=e[d].sc.j;B.next();)A=B.value,A.valid&&A.toVertex.layer!==b&&(t=xu(A),x=A.portFromColOffset,y=A.portToColOffset,A=A.toVertex.column,q+=(Math.abs(n+x-(A+y))+1)*t,s+=(Math.abs(r+x-(A+y))+1)*t,v+=(Math.abs(p+x-(A+y))+1)*t);y=
x=t=0;B=h[e[d].index];A=k[e[d].index];-1!==B&&(t+=Math.abs(B-n),x+=Math.abs(B-r),y+=Math.abs(B-p));-1!==A&&(t+=Math.abs(A-n),x+=Math.abs(A-r),y+=Math.abs(A-p));if(s<q||s===q&&x<t)m=l=!0,e[d].column=r;else if(v<q||v===q&&y<t)m=l=!0,e[d].column=p}wu(a,b,e);a.normalize();return l}
function Yu(a,b,c){u&&(C.p(b,hu,"medianStraighten:unfixedLayer"),C.p(c,hu,"medianStraighten:direction"));var d=0,e=vu(a,b),g=a.ue[b],h=Du(a,b,c);c=[];for(d=0;d<g;d++)c[d]=h[d];for(h=!0;h;)for(h=!1,d=0;d<g;d++){var k=e[d].column,l=a.nodeMinColumnSpace(e[d],!0),m=a.nodeMinColumnSpace(e[d],!1),n=0,p=0,q=0,q=p=0;-1===c[d]?0===d&&d===g-1?n=k:0===d?(p=e[d+1].column,n=p-k===m+a.nodeMinColumnSpace(e[d+1],!0)?k-1:k):d===g-1?(q=e[d-1].column,n=k-q===l+a.nodeMinColumnSpace(e[d-1],!1)?k+1:k):(q=e[d-1].column,
q=q+a.nodeMinColumnSpace(e[d-1],!1)+l+1,p=e[d+1].column,p=p-a.nodeMinColumnSpace(e[d+1],!0)-m-1,n=(q+p)/2|0):0===d&&d===g-1?n=c[d]:0===d?(p=e[d+1].column,p=p-a.nodeMinColumnSpace(e[d+1],!0)-m-1,n=Math.min(c[d],p)):d===g-1?(q=e[d-1].column,q=q+a.nodeMinColumnSpace(e[d-1],!1)+l+1,n=Math.max(c[d],q)):(q=e[d-1].column,q=q+a.nodeMinColumnSpace(e[d-1],!1)+l+1,p=e[d+1].column,p=p-a.nodeMinColumnSpace(e[d+1],!0)-m-1,q<c[d]&&c[d]<p?n=c[d]:q>=c[d]?n=q:p<=c[d]&&(n=p));n!==k&&(h=!0,e[d].column=n)}wu(a,b,e);a.normalize()}
function av(a,b){u&&(C.p(b,hu,"packAux:column"),C.p(1,hu,"packAux:direction"));for(var c=!0,d=a.network.vertexes.j;d.next();){var e=d.value,g=a.nodeMinColumnSpace(e,!0),h=a.nodeMinColumnSpace(e,!1);if(e.column-g<=b&&e.column+h>=b){c=!1;break}}e=!1;if(c)for(d.reset();d.next();)c=d.value,c.column>b&&(c.column-=1,e=!0);return e}
function bv(a,b){u&&(C.p(b,hu,"tightPackAux:column"),C.p(1,hu,"tightPackAux:direction"));for(var c=b,c=b+1,d=0,e=[],g=[],d=0;d<=a.zb;d++)e[d]=!1,g[d]=!1;for(var h=a.network.vertexes.j;h.next();){var d=h.value,k=d.column-a.nodeMinColumnSpace(d,!0),l=d.column+a.nodeMinColumnSpace(d,!1);k<=b&&l>=b&&(e[d.layer]=!0);k<=c&&l>=c&&(g[d.layer]=!0)}k=!0;c=!1;for(d=0;d<=a.zb;d++)k=k&&!(e[d]&&g[d]);if(k)for(h.reset();h.next();)e=h.value,e.column>b&&(e.column-=1,c=!0);return c}
function Zu(a,b){u&&C.p(b,hu,"componentPack:direction");for(var c=0;c<=a.Pb;c++)for(;av(a,c););a.normalize();for(c=0;c<a.Pb;c++)for(;bv(a,c););a.normalize();var c=0,d,e=0,g=0,h=0;if(0<b)for(c=0;c<=a.Pb;c++)for(d=yu(a),e=Bu(a),g=e+1;e<g;)g=e,cv(a,c,1),h=Bu(a),h>e?zu(a,d):h<e&&(e=h,d=yu(a));if(0>b)for(c=a.Pb;0<=c;c--)for(d=yu(a),e=Bu(a),g=e+1;e<g;)g=e,cv(a,c,-1),h=Bu(a),h>e?zu(a,d):h<e&&(e=h,d=yu(a));a.normalize()}
function cv(a,b,c){a.Hg=0;for(var d=a.network.vertexes.j;d.next();)d.value.component=-1;if(0<c)for(d.reset();d.next();){var e=d.value;e.column-a.nodeMinColumnSpace(e,!0)<=b&&(e.component=a.Hg)}if(0>c)for(d.reset();d.next();)e=d.value,e.column+a.nodeMinColumnSpace(e,!1)>=b&&(e.component=a.Hg);a.Hg++;for(d.reset();d.next();)b=d.value,-1===b.component&&(Fu(a,b,a.Hg,-1,!0,!0),a.Hg++);var g=0;b=[];for(g=0;g<a.Hg*a.Hg;g++)b[g]=!1;e=[];for(g=0;g<(a.zb+1)*(a.Pb+1);g++)e[g]=-1;for(d.reset();d.next();)for(var g=
d.value,h=g.layer,k=Math.max(0,g.column-a.nodeMinColumnSpace(g,!0)),l=Math.min(a.Pb,g.column+a.nodeMinColumnSpace(g,!1));k<=l;k++)e[h*(a.Pb+1)+k]=g.component;for(g=0;g<=a.zb;g++){if(0<c)for(k=0;k<a.Pb;k++)-1!==e[g*(a.Pb+1)+k]&&-1!==e[g*(a.Pb+1)+k+1]&&e[g*(a.Pb+1)+k]!==e[g*(a.Pb+1)+k+1]&&(b[e[g*(a.Pb+1)+k]*a.Hg+e[g*(a.Pb+1)+k+1]]=!0);if(0>c)for(k=a.Pb;0<k;k--)-1!==e[g*(a.Pb+1)+k]&&-1!==e[g*(a.Pb+1)+k-1]&&e[g*(a.Pb+1)+k]!==e[g*(a.Pb+1)+k-1]&&(b[e[g*(a.Pb+1)+k]*a.Hg+e[g*(a.Pb+1)+k-1]]=!0)}e=[];for(g=
0;g<a.Hg;g++)e[g]=!0;h=new K("number");h.add(0);for(l=0;0!==h.count;)if(l=h.o[h.count-1],h.md(h.count-1),e[l])for(e[l]=!1,g=0;g<a.Hg;g++)b[l*a.Hg+g]&&h.Xd(0,g);if(0<c)for(d.reset();d.next();)a=d.value,e[a.component]&&(a.column-=1);if(0>c)for(d.reset();d.next();)c=d.value,e[c.component]&&(c.column+=1)}
hu.prototype.commitLayout=function(){if(this.Sq)for(var a=tu(this,!0),b=tu(this,!1),c=this.network.edges.j;c.next();){var d=c.value.link;null!==d&&(d.Gb=a,d.Hb=b)}this.commitNodes();this.mA();this.xu&&this.commitLinks()};function tu(a,b){return 270===a.ga?b?$c:cd:90===a.ga?b?cd:$c:180===a.ga?b?ad:bd:b?bd:ad}
hu.prototype.commitNodes=function(){this.Fg=[];this.Tf=[];this.Sf=[];this.Vb=[];for(var a=0;a<=this.zb;a++)this.Fg[a]=0,this.Tf[a]=0,this.Sf[a]=0,this.Vb[a]=0;for(a=this.network.vertexes.j;a.next();){var b=a.value,c=b.layer;this.Fg[c]=Math.max(this.Fg[c],this.nodeMinLayerSpace(b,!0));this.Tf[c]=Math.max(this.Tf[c],this.nodeMinLayerSpace(b,!1))}for(var b=0,d=this.Xm,c=0;c<=this.zb;c++){var e=d;0>=this.Fg[c]+this.Tf[c]&&(e=0);0<c&&(b+=e/2);90===this.ga||0===this.ga?(b+=this.Tf[c],this.Sf[c]=b,b+=this.Fg[c]):
(b+=this.Fg[c],this.Sf[c]=b,b+=this.Tf[c]);c<this.zb&&(b+=e/2);this.Vb[c]=b}d=b;b=this.Ce;for(c=0;c<=this.zb;c++)270===this.ga?this.Sf[c]=b.y+this.Sf[c]:90===this.ga?(this.Sf[c]=b.y+d-this.Sf[c],this.Vb[c]=d-this.Vb[c]):180===this.ga?this.Sf[c]=b.x+this.Sf[c]:(this.Sf[c]=b.x+d-this.Sf[c],this.Vb[c]=d-this.Vb[c]);a.reset();for(d=e=Infinity;a.next();){var c=a.value,g=c.layer,h=c.column|0,k=0,l=0;270===this.ga||90===this.ga?(k=b.x+this.ee*h,l=this.Sf[g]):(k=this.Sf[g],l=b.y+this.ee*h);c.oa=k;c.xa=l;
e=Math.min(c.x,e);d=Math.min(c.y,d)}e=b.x-e;b=b.y-d;this.fC=new O(e,b);for(a.reset();a.next();)c=a.value,c.x+=e,c.y+=b,c.commit()};
hu.prototype.mA=function(){for(var a=0,b=this.Xm,c=0;c<=this.zb;c++)a+=this.Fg[c],a+=this.Tf[c];for(var a=a+this.zb*b,b=[],c=this.ee*this.Pb,d=this.xJ;0<=d;d--)270===this.ga?0===d?b.push(new z(0,0,c,Math.abs(this.Vb[0]))):b.push(new z(0,this.Vb[d-1],c,Math.abs(this.Vb[d-1]-this.Vb[d]))):90===this.ga?0===d?b.push(new z(0,this.Vb[0],c,Math.abs(this.Vb[0]-a))):b.push(new z(0,this.Vb[d],c,Math.abs(this.Vb[d-1]-this.Vb[d]))):180===this.ga?0===d?b.push(new z(0,0,Math.abs(this.Vb[0]),c)):b.push(new z(this.Vb[d-
1],0,Math.abs(this.Vb[d-1]-this.Vb[d]),c)):0===d?b.push(new z(this.Vb[0],0,Math.abs(this.Vb[0]-a),c)):b.push(new z(this.Vb[d],0,Math.abs(this.Vb[d-1]-this.Vb[d]),c));this.commitLayers(b,this.fC)};hu.prototype.commitLayers=function(){};
hu.prototype.commitLinks=function(){for(var a=this.network.edges.j,b;a.next();)b=a.value.link,null!==b&&(b.xm(),b.$p(),b.Aj());for(a.reset();a.next();)b=a.value.link,null!==b&&b.uo();for(a.reset();a.next();){var c=a.value;b=c.link;if(null!==b){b.xm();var d=b,e=d.aa,g=d.ea,h=d.gd,k=d.Md;if(c.valid){if(b.gf===Dj&&4===b.ua){if(c.rev)var l=e,e=g,g=l,m=h,h=k,k=m;if(c.fromVertex.column===c.toVertex.column){var n=b.getLinkPoint(e,h,b.computeSpot(!0),!0,!1,g,k),p=b.getLinkPoint(g,k,b.computeSpot(!1),!1,!1,
e,h);n.F()||n.set(e.Z.$l);p.F()||p.set(g.Z.$l);b.$p();b.Ul(n.x,n.y);b.Ul((2*n.x+p.x)/3,(2*n.y+p.y)/3);b.Ul((n.x+2*p.x)/3,(n.y+2*p.y)/3);b.Ul(p.x,p.y)}else{var q=!1,r=!1;null!==h&&b.computeSpot(!0)===gc&&(q=!0);null!==k&&b.computeSpot(!1)===gc&&(r=!0);if(q||r){var s=b.n(0).x,v=b.n(0).y,t=b.n(1).x,x=b.n(1).y,y=b.n(2).x,B=b.n(2).y,A=b.n(3).x,N=b.n(3).y;if(q){90===this.ga||270===this.ga?(t=s,x=(v+N)/2):(t=(s+A)/2,x=v);b.ja(1,t,x);var G=b.getLinkPoint(e,h,b.computeSpot(!0),!0,!1,g,k);G.F()||G.set(e.Z.$l);
b.ja(0,G.x,G.y)}r&&(90===this.ga||270===this.ga?(y=A,B=(v+N)/2):(y=(s+A)/2,B=N),b.ja(2,y,B),G=b.getLinkPoint(g,k,b.computeSpot(!1),!1,!1,e,h),G.F()||G.set(g.Z.$l),b.ja(3,G.x,G.y))}}}b.Aj()}else if(c.fromVertex.layer===c.toVertex.layer)b.Aj();else{var T=!1,fa=!1,W=0,P=b.gu+1;if(b.tc)fa=!0,W=b.ua,4<W&&b.points.removeRange(2,W-3);else if(b.gf===Dj)T=!0,W=b.ua,4<W&&b.points.removeRange(2,W-3),P=2;else{var W=b.ua,aa=b.computeSpot(!0)===gc,Oa=b.computeSpot(!1)===gc;2<W&&aa&&Oa?b.points.removeRange(1,W-
2):3<W&&aa&&!Oa?b.points.removeRange(1,W-3):3<W&&!aa&&Oa?b.points.removeRange(2,W-2):4<W&&!aa&&!Oa&&b.points.removeRange(2,W-3)}var sa=c.fromVertex,Ma=c.toVertex,va,Pa;if(c.rev){for(var xa=0;null!==Ma&&sa!==Ma;){Pa=va=null;for(var Ic=Ma.vc.j;Ic.next();){var tc=Ic.value;if(tc.link===c.link&&(va=tc.fromVertex,Pa=tc.toVertex,null===va.Pd))break}if(va!==sa)if(db=b.n(P-1).x,vb=b.n(P-1).y,qa=va.oa,ra=va.xa,fa)180===this.ga||0===this.ga?2===P?(b.B(P++,db,vb),b.B(P++,db,ra)):(re=null!==Pa?Pa.xa:vb,re!==ra&&
(kb=this.Vb[va.layer-1],b.B(P++,kb,vb),b.B(P++,kb,ra))):2===P?(b.B(P++,db,vb),b.B(P++,qa,vb)):(fd=null!==Pa?Pa.oa:db,fd!==qa&&(kb=this.Vb[va.layer-1],b.B(P++,db,kb),b.B(P++,qa,kb)));else if(2===P)if(bb=Math.max(10,this.Fg[Ma.layer]),Ya=Math.max(10,this.Tf[Ma.layer]),T)180===this.ga?qa<=Ma.R.x?(xa=Ma.R.x,b.B(P++,xa-bb,ra),b.B(P++,xa,ra),b.B(P++,xa+Ya,ra)):(b.B(P++,qa-bb,ra),b.B(P++,qa,ra),b.B(P++,qa+Ya,ra)):90===this.ga?ra>=Ma.R.bottom?(xa=Ma.R.y+Ma.R.height,b.B(P++,qa,xa+Ya),b.B(P++,qa,xa),b.B(P++,
qa,xa-bb)):(b.B(P++,qa,ra+Ya),b.B(P++,qa,ra),b.B(P++,qa,ra-bb)):270===this.ga?ra<=Ma.R.y?(xa=Ma.R.y,b.B(P++,qa,xa-bb),b.B(P++,qa,xa),b.B(P++,qa,xa+Ya)):(b.B(P++,qa,ra-bb),b.B(P++,qa,ra),b.B(P++,qa,ra+Ya)):0===this.ga&&(qa>=Ma.R.right?(xa=Ma.R.x+Ma.R.width,b.B(P++,xa+Ya,ra),b.B(P++,xa,ra),b.B(P++,xa-bb,ra)):(b.B(P++,qa+Ya,ra),b.B(P++,qa,ra),b.B(P++,qa-bb,ra)));else{b.B(P++,db,vb);var Fd=0;if(180===this.ga||0===this.ga){if(180===this.ga?qa>=Ma.R.right:qa<=Ma.R.x)Fd=(0===this.ga?-bb:Ya)/2;b.B(P++,db+
Fd,ra)}else{if(270===this.ga?ra>=Ma.R.bottom:ra<=Ma.R.y)Fd=(90===this.ga?-bb:Ya)/2;b.B(P++,qa,vb+Fd)}b.B(P++,qa,ra)}else bb=Math.max(10,this.Fg[va.layer]),Ya=Math.max(10,this.Tf[va.layer]),180===this.ga?(T&&b.B(P++,qa-bb,ra),b.B(P++,qa,ra),T&&b.B(P++,qa+Ya,ra)):90===this.ga?(T&&b.B(P++,qa,ra+Ya),b.B(P++,qa,ra),T&&b.B(P++,qa,ra-bb)):270===this.ga?(T&&b.B(P++,qa,ra-bb),b.B(P++,qa,ra),T&&b.B(P++,qa,ra+Ya)):(T&&b.B(P++,qa+Ya,ra),b.B(P++,qa,ra),T&&b.B(P++,qa-bb,ra));Ma=va}if(null===k||b.computeSpot(!1)!==
gc||fa)if(db=b.n(P-1).x,vb=b.n(P-1).y,qa=b.n(P).x,ra=b.n(P).y,fa){var uf=this.Tf[sa.layer],ac=0;180===this.ga||0===this.ga?(ac=vb,ac>=sa.R.y&&ac<=sa.R.bottom&&(180===this.ga?qa>=sa.R.x:qa<=sa.R.right)&&(xa=sa.oa+(180===this.ga?-uf:uf),ac=ac<sa.R.y+sa.R.height/2?sa.R.y-this.ee/2:sa.R.bottom+this.ee/2,b.B(P++,xa,vb),b.B(P++,xa,ac)),b.B(P++,qa,ac)):(ac=db,ac>=sa.R.x&&ac<=sa.R.right&&(270===this.ga?ra>=sa.R.y:ra<=sa.R.bottom)&&(xa=sa.xa+(270===this.ga?-uf:uf),ac=ac<sa.R.x+sa.R.width/2?sa.R.x-this.ee/
2:sa.R.right+this.ee/2,b.B(P++,db,xa),b.B(P++,ac,xa)),b.B(P++,ac,ra));b.B(P++,qa,ra)}else if(T)bb=Math.max(10,this.Fg[sa.layer]),Ya=Math.max(10,this.Tf[sa.layer]),180===this.ga&&qa>=sa.R.x?(xa=sa.R.x+sa.R.width,b.ja(P-2,xa,vb),b.ja(P-1,xa+Ya,vb)):90===this.ga&&ra<=sa.R.bottom?(xa=sa.R.y,b.ja(P-2,db,xa),b.ja(P-1,db,xa-bb)):270===this.ga&&ra>=sa.R.y?(xa=sa.R.y+sa.R.height,b.ja(P-2,db,xa),b.ja(P-1,db,xa+Ya)):0===this.ga&&qa<=sa.R.right&&(xa=sa.R.x,b.ja(P-2,xa,vb),b.ja(P-1,xa-bb,vb));else{bb=Math.max(10,
this.Fg[sa.layer]);Ya=Math.max(10,this.Tf[sa.layer]);Fd=0;if(180===this.ga||0===this.ga){if(180===this.ga?qa<=sa.R.x:qa>=sa.R.right)Fd=(0===this.ga?Ya:-bb)/2;b.B(P++,qa+Fd,vb)}else{if(270===this.ga?ra<=sa.R.y:ra>=sa.R.bottom)Fd=(90===this.ga?Ya:-bb)/2;b.B(P++,db,ra+Fd)}b.B(P++,qa,ra)}}else{for(;null!==sa&&sa!==Ma;){Pa=va=null;for(var Gg=sa.sc.j;Gg.next();){var Hg=Gg.value;if(Hg.link===c.link&&(va=Hg.toVertex,Pa=Hg.fromVertex,null!==Pa.Pd&&(Pa=null),null===va.Pd))break}var db=0,vb=0,qa=0,ra=0,kb=0,
bb=0,Ya=0;if(va!==Ma)if(db=b.n(P-1).x,vb=b.n(P-1).y,qa=va.oa,ra=va.xa,fa)if(180===this.ga||0===this.ga){var re=null!==Pa?Pa.xa:vb;re!==ra&&(kb=this.Vb[va.layer],2===P&&(kb=0===this.ga?Math.max(kb,db):Math.min(kb,db)),b.B(P++,kb,vb),b.B(P++,kb,ra))}else{var fd=null!==Pa?Pa.oa:db;fd!==qa&&(kb=this.Vb[va.layer],2===P&&(kb=90===this.ga?Math.max(kb,vb):Math.min(kb,vb)),b.B(P++,db,kb),b.B(P++,qa,kb))}else bb=Math.max(10,this.Fg[va.layer]),Ya=Math.max(10,this.Tf[va.layer]),180===this.ga?(b.B(P++,qa+Ya,ra),
T&&b.B(P++,qa,ra),b.B(P++,qa-bb,ra)):90===this.ga?(b.B(P++,qa,ra-bb),T&&b.B(P++,qa,ra),b.B(P++,qa,ra+Ya)):270===this.ga?(b.B(P++,qa,ra+Ya),T&&b.B(P++,qa,ra),b.B(P++,qa,ra-bb)):(b.B(P++,qa-bb,ra),T&&b.B(P++,qa,ra),b.B(P++,qa+Ya,ra));sa=va}fa&&(db=b.n(P-1).x,vb=b.n(P-1).y,qa=b.n(P).x,ra=b.n(P).y,180===this.ga||0===this.ga?vb!==ra&&(kb=0===this.ga?Math.min(Math.max((qa+db)/2,this.Vb[Ma.layer]),qa):Math.max(Math.min((qa+db)/2,this.Vb[Ma.layer]),qa),b.B(P++,kb,vb),b.B(P++,kb,ra)):db!==qa&&(kb=90===this.ga?
Math.min(Math.max((ra+vb)/2,this.Vb[Ma.layer]),ra):Math.max(Math.min((ra+vb)/2,this.Vb[Ma.layer]),ra),b.B(P++,db,kb),b.B(P++,qa,kb)))}if(null!==d&&T){if(null!==h){if(b.computeSpot(!0)===gc){var Jc=b.n(0),se=b.n(2);Jc.O(se)||b.ja(1,(Jc.x+se.x)/2,(Jc.y+se.y)/2)}G=b.getLinkPoint(e,h,gc,!0,!1,g,k);G.F()||G.set(e.Z.$l);b.ja(0,G.x,G.y)}null!==k&&(b.computeSpot(!1)===gc&&(Jc=b.n(b.ua-1),se=b.n(b.ua-3),Jc.O(se)||b.ja(b.ua-2,(Jc.x+se.x)/2,(Jc.y+se.y)/2)),G=b.getLinkPoint(g,k,gc,!1,!1,e,h),G.F()||G.set(g.Z.$l),
b.ja(b.ua-1,G.x,G.y))}b.Aj();c.commit()}}}for(var te=new K(I),cg=this.network.edges.j;cg.next();){var vf=cg.value.link;null!==vf&&vf.tc&&!te.contains(vf)&&te.add(vf)}if(0<te.count)if(90===this.ga||270===this.ga){for(var rj=0,pb=new K(dv),bc,gd,ai=te.j;ai.next();){var Mb=ai.value;if(null!==Mb&&Mb.tc)for(var qb=2;qb<Mb.ua-3;qb++)if(bc=Mb.n(qb),gd=Mb.n(qb+1),ev(bc.y,gd.y)&&!ev(bc.x,gd.x)){var eb=new dv;eb.layer=Math.floor(bc.y/2);var wf=Mb.n(0),xf=Mb.n(Mb.ua-1);eb.first=wf.x*wf.x+wf.y;eb.re=xf.x*xf.x+
xf.y;eb.ef=Math.min(bc.x,gd.x);eb.De=Math.max(bc.x,gd.x);eb.index=qb;eb.link=Mb;if(qb+2<Mb.ua){var Ig=Mb.n(qb-1),hd=Mb.n(qb+2),Tb=0;Ig.y<bc.y?Tb=hd.y<bc.y?3:bc.x<gd.x?2:1:Ig.y>bc.y&&(Tb=hd.y>bc.y?0:gd.x<bc.x?2:1);eb.Ji=Tb}pb.add(eb)}}if(1<pb.count){pb.sort(this.zG);for(var id=0;id<pb.count;){for(var Ye=pb.o[id].layer,Cb=id+1;Cb<pb.count&&pb.o[Cb].layer===Ye;)Cb++;if(1<Cb-id)for(var fb=id;fb<Cb;){for(var Gd=pb.o[fb].De,rb=id+1;rb<Cb&&pb.o[rb].ef<Gd;)Gd=Math.max(Gd,pb.o[rb].De),rb++;var Hd=rb-fb;if(1<
Hd){pb.Vq(this.uy,fb,fb+Hd);for(var He=1,ab=pb.o[fb].re,qb=fb;qb<rb;qb++){var Ta=pb.o[qb];Ta.re!==ab&&(He++,ab=Ta.re)}pb.Vq(this.yG,fb,fb+Hd);for(var Ra=1,ab=pb.o[fb].first,qb=fb;qb<rb;qb++)Ta=pb.o[qb],Ta.first!==ab&&(Ra++,ab=Ta.first);var cc=!0,dg=Ra;He<Ra?(cc=!1,dg=He,ab=pb.o[fb].re,pb.Vq(this.uy,fb,fb+Hd)):ab=pb.o[fb].first;for(var eg=0,qb=fb;qb<rb;qb++){Ta=pb.o[qb];(cc?Ta.first:Ta.re)!==ab&&(eg++,ab=cc?Ta.first:Ta.re);Mb=Ta.link;bc=Mb.n(Ta.index);gd=Mb.n(Ta.index+1);var fg=this.SF*(eg-(dg-1)/
2);if(!Mb.Di||fv(bc.x,bc.y+fg,gd.x,gd.y+fg))rj++,Mb.xm(),Mb.ja(Ta.index,bc.x,bc.y+fg),Mb.ja(Ta.index+1,gd.x,gd.y+fg),Mb.Aj()}}fb=rb}id=Cb}}}else{for(var bi=0,Gb=new K(dv),Ub,Wb,Ze=te.j;Ze.next();){var Nb=Ze.value;if(null!==Nb&&Nb.tc)for(var Ob=2;Ob<Nb.ua-3;Ob++)if(Ub=Nb.n(Ob),Wb=Nb.n(Ob+1),ev(Ub.x,Wb.x)&&!ev(Ub.y,Wb.y)){var Id=new dv;Id.layer=Math.floor(Ub.x/2);var Hb=Nb.n(0),uc=Nb.n(Nb.ua-1);Id.first=Hb.x+Hb.y*Hb.y;Id.re=uc.x+uc.y*uc.y;Id.ef=Math.min(Ub.y,Wb.y);Id.De=Math.max(Ub.y,Wb.y);Id.index=
Ob;Id.link=Nb;if(Ob+2<Nb.ua){var ci=Nb.n(Ob-1),di=Nb.n(Ob+2),rd=0;ci.x<Ub.x?rd=di.x<Ub.x?3:Ub.y<Wb.y?2:1:ci.x>Ub.x&&(rd=di.x>Ub.x?0:Wb.y<Ub.y?2:1);Id.Ji=rd}Gb.add(Id)}}if(1<Gb.count){Gb.sort(this.zG);for(var $e=0;$e<Gb.count;){for(var gg=Gb.o[$e].layer,jd=$e+1;jd<Gb.count&&Gb.o[jd].layer===gg;)jd++;if(1<jd-$e)for(var Ib=$e;Ib<jd;){for(var sd=Gb.o[Ib].De,dc=$e+1;dc<jd&&Gb.o[dc].ef<sd;)sd=Math.max(sd,Gb.o[dc].De),dc++;var Xb=dc-Ib;if(1<Xb){Gb.Vq(this.uy,Ib,Ib+Xb);for(var yf=1,Wc=Gb.o[Ib].re,Ob=Ib;Ob<
dc;Ob++){var Ua=Gb.o[Ob];Ua.re!==Wc&&(yf++,Wc=Ua.re)}Gb.Vq(this.yG,Ib,Ib+Xb);for(var Ie=1,Wc=Gb.o[Ib].first,Ob=Ib;Ob<dc;Ob++)Ua=Gb.o[Ob],Ua.first!==Wc&&(Ie++,Wc=Ua.first);var ei=!0,Xc=Ie;yf<Ie?(ei=!1,Xc=yf,Wc=Gb.o[Ib].re,Gb.Vq(this.uy,Ib,Ib+Xb)):Wc=Gb.o[Ib].first;for(var xh=0,Ob=Ib;Ob<dc;Ob++){Ua=Gb.o[Ob];(ei?Ua.first:Ua.re)!==Wc&&(xh++,Wc=ei?Ua.first:Ua.re);Nb=Ua.link;Ub=Nb.n(Ua.index);Wb=Nb.n(Ua.index+1);var Kc=this.SF*(xh-(Xc-1)/2);if(!Nb.Di||fv(Ub.x+Kc,Ub.y,Wb.x+Kc,Wb.y))bi++,Nb.xm(),Nb.ja(Ua.index,
Ub.x+Kc,Ub.y),Nb.ja(Ua.index+1,Wb.x+Kc,Wb.y),Nb.Aj()}}Ib=dc}$e=jd}}}};hu.prototype.zG=function(a,b){return a instanceof dv&&b instanceof dv&&a!==b?a.layer<b.layer?-1:a.layer>b.layer?1:a.ef<b.ef?-1:a.ef>b.ef?1:a.De<b.De?-1:a.De>b.De?1:0:0};hu.prototype.yG=function(a,b){return a instanceof dv&&b instanceof dv&&a!==b?a.first<b.first?-1:a.first>b.first||a.Ji<b.Ji?1:a.Ji>b.Ji||a.ef<b.ef?-1:a.ef>b.ef?1:a.De<b.De?-1:a.De>b.De?1:0:0};
hu.prototype.uy=function(a,b){return a instanceof dv&&b instanceof dv&&a!==b?a.re<b.re?-1:a.re>b.re||a.Ji<b.Ji?1:a.Ji>b.Ji||a.ef<b.ef?-1:a.ef>b.ef?1:a.De<b.De?-1:a.De>b.De?1:0:0};function ev(a,b){u&&(C.p(a,hu,"isApprox:a"),C.p(b,hu,"isApprox:b"));var c=a-b;return-1<c&&1>c}function fv(a,b,c,d){u&&(C.p(a,hu,"isUnoccupied2:px"),C.p(b,hu,"isUnoccupied2:py"),C.p(c,hu,"isUnoccupied2:qx"),C.p(d,hu,"isUnoccupied2:qy"));return!0}
function vu(a,b){var c,d=a.ue[b];if(d>=a.wh.length){c=[];for(var e=0;e<a.wh.length;e++)c[e]=a.wh[e];a.wh=c}void 0===a.wh[d]||null===a.wh[d]?c=[]:(c=a.wh[d],a.wh[d]=null);d=a.Ks[b];for(e=0;e<d.length;e++){var g=d[e];c[g.index]=g}return c}function wu(a,b,c){a.wh[a.ue[b]]=c}C.defineProperty(hu,{layerSpacing:"layerSpacing"},function(){return this.Xm},function(a){this.Xm!==a&&(C.h(a,"number",hu,"layerSpacing"),0<=a&&(this.Xm=a,this.N()))});
C.defineProperty(hu,{fL:"columnSpacing"},function(){return this.ee},function(a){this.ee!==a&&(C.h(a,"number",hu,"columnSpacing"),0<a&&(this.ee=a,this.N()))});C.defineProperty(hu,{direction:"direction"},function(){return this.ga},function(a){this.ga!==a&&(C.h(a,"number",hu,"direction"),0===a||90===a||180===a||270===a?(this.ga=a,this.N()):C.k("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))});
C.defineProperty(hu,{angle:"angle"},function(){return this.direction},function(a){this.direction=a});C.defineProperty(hu,{kI:"cycleRemoveOption"},function(){return this.No},function(a){this.No!==a&&(C.Ca(a,hu,hu,"cycleRemoveOption"),a===ou||a===iu)&&(this.No=a,this.N())});C.defineProperty(hu,{oJ:"layeringOption"},function(){return this.qp},function(a){this.qp!==a&&(C.Ca(a,hu,hu,"layeringOption"),a===ju||a===Gu||a===Iu)&&(this.qp=a,this.N())});
C.defineProperty(hu,{bJ:"initializeOption"},function(){return this.fp},function(a){this.fp!==a&&(C.Ca(a,hu,hu,"initializeOption"),a===ku||a===Ou||a===Mu)&&(this.fp=a,this.N())});C.defineProperty(hu,{PL:"iterations"},function(){return this.Vm},function(a){this.Vm!==a&&(C.p(a,nu,"iterations"),0<=a&&(this.Vm=a,this.N()))});C.defineProperty(hu,{OH:"aggressiveOption"},function(){return this.zo},function(a){this.zo!==a&&(C.Ca(a,hu,hu,"aggressiveOption"),a===Su||a===lu||a===Tu)&&(this.zo=a,this.N())});
C.defineProperty(hu,{iM:"packOption"},function(){return this.oj},function(a){this.oj!==a&&(C.h(a,"number",hu,"packOption"),0<=a&&8>a&&(this.oj=a,this.N()))});C.defineProperty(hu,{Sq:"setsPortSpots"},function(){return this.pi},function(a){this.pi!==a&&(C.h(a,"boolean",hu,"setsPortSpots"),this.pi=a,this.N())});C.defineProperty(hu,{SF:"linkSpacing"},function(){return this.ss},function(a){this.ss!==a&&(C.h(a,"number",hu,"linkSpacing"),0<=a&&(this.ss=a,this.N()))});C.w(hu,{xJ:"maxLayer"},function(){return this.zb});
C.w(hu,{UL:"maxIndex"},function(){return this.iw});C.w(hu,{TL:"maxColumn"},function(){return this.Pb});C.w(hu,{ZL:"minIndexLayer"},function(){return this.Bs});C.w(hu,{VL:"maxIndexLayer"},function(){return this.Uf});var iu;hu.CycleDepthFirst=iu=C.s(hu,"CycleDepthFirst",0);var ou;hu.CycleGreedy=ou=C.s(hu,"CycleGreedy",1);var ju;hu.LayerOptimalLinkLength=ju=C.s(hu,"LayerOptimalLinkLength",0);var Gu;hu.LayerLongestPathSink=Gu=C.s(hu,"LayerLongestPathSink",1);var Iu;
hu.LayerLongestPathSource=Iu=C.s(hu,"LayerLongestPathSource",2);var ku;hu.InitDepthFirstOut=ku=C.s(hu,"InitDepthFirstOut",0);var Ou;hu.InitDepthFirstIn=Ou=C.s(hu,"InitDepthFirstIn",1);var Mu;hu.InitNaive=Mu=C.s(hu,"InitNaive",2);var Su;hu.AggressiveNone=Su=C.s(hu,"AggressiveNone",0);var lu;hu.AggressiveLess=lu=C.s(hu,"AggressiveLess",1);var Tu;hu.AggressiveMore=Tu=C.s(hu,"AggressiveMore",2);hu.PackNone=0;var Uu;hu.PackExpand=Uu=1;var Vu;hu.PackStraighten=Vu=2;var Xu;hu.PackMedian=Xu=4;var mu;
hu.PackAll=mu=7;function dv(){this.index=this.De=this.ef=this.re=this.first=this.layer=0;this.link=null;this.Ji=0}C.le(dv,{layer:!0,first:!0,re:!0,ef:!0,De:!0,index:!0,link:!0,Ji:!0});function nu(){ya.call(this)}C.Ta(nu,ya);C.ka("LayeredDigraphNetwork",nu);nu.prototype.createVertex=function(){return new gv};nu.prototype.createEdge=function(){return new hv};
function gv(){za.call(this);this.index=this.column=this.layer=-1;this.component=NaN;this.near=null;this.valid=!1;this.finish=this.gq=NaN;this.Dn=0;this.gB=this.hB=null}C.Ta(gv,za);C.ka("LayeredDigraphVertex",gv);function hv(){Aa.call(this);this.forest=this.rev=this.valid=!1;this.portToPos=this.portFromPos=NaN;this.portToColOffset=this.portFromColOffset=0}C.Ta(hv,Aa);C.ka("LayeredDigraphEdge",hv);
function Z(){0<arguments.length&&C.wd(Z);ch.call(this);this.Ed=new L(Object);this.Ts=iv;this.Rf=jv;this.It=kv;this.gw=lv;this.dC=null;this.Yh=!0;this.yd=mv;this.sg=(new Fa(10,10)).freeze();this.za=new nv;this.Aa=new nv;this.Xz=[]}C.Ta(Z,ch);C.ka("TreeLayout",Z);Z.prototype.cloneProtected=function(a){ch.prototype.cloneProtected.call(this,a);a.Ts=this.Ts;a.It=this.It;a.gw=this.gw;a.Yh=this.Yh;a.yd=this.yd;a.sg.assign(this.sg);a.za.copyInheritedPropertiesFrom(this.za);a.Aa.copyInheritedPropertiesFrom(this.Aa)};
Z.prototype.pc=function(a){a.Pe===Z?0===a.name.indexOf("Alignment")?this.alignment=a:0===a.name.indexOf("Arrangement")?this.$f=a:0===a.name.indexOf("Compaction")?this.compaction=a:0===a.name.indexOf("Path")?this.path=a:0===a.name.indexOf("Sorting")?this.sorting=a:0===a.name.indexOf("Style")?this.zK=a:C.k("Unknown enum value: "+a):ch.prototype.pc.call(this,a)};Z.prototype.createNetwork=function(){return new ov};
Z.prototype.makeNetwork=function(a){function b(a){if(a instanceof F)return!a.wf&&"Comment"!==a.rc;if(a instanceof I){var b=a.aa;if(null===b||b.wf||"Comment"===b.rc)return!1;a=a.ea;return null===a||a.wf||"Comment"===a.rc?!1:!0}return!1}var c=this.createNetwork();c.Wb=this;a instanceof D?(c.Hk(a.ng,!0,b),c.Hk(a.links,!0,b)):a instanceof H?c.Hk(a.Pc,!1,b):c.Hk(a.j,!1,b);return c};
Z.prototype.doLayout=function(a){null===a&&C.k("Layout.doLayout(collection) argument must not be null but a Diagram, a Group, or an Iterable of Parts");null===this.network&&(this.network=this.makeNetwork(a));this.$f!==pv&&(this.Ce=this.initialOrigin(this.Ce));var b=this.g;null===b&&a instanceof D&&(b=a);this.Rf=this.path===iv&&null!==b?b.$d?jv:qv:this.path===iv?jv:this.path;if(0<this.network.vertexes.count){this.network.wx();for(a=this.network.vertexes.j;a.next();)b=a.value,b.initialized=!1,b.level=
0,b.parent=null,b.children=[];if(0<this.Ed.count){a=new L(nv);for(b=this.Ed.j;b.next();){var c=b.value;c instanceof F?(c=this.network.Qn(c),null!==c&&a.add(c)):c instanceof nv&&a.add(c)}this.Ed=a}0===this.Ed.count&&this.findRoots();for(a=this.Ed.copy().j;a.next();)b=a.value,b.initialized||(b.initialized=!0,rv(this,b));b=this.network.vertexes;for(a=null;a=sv(b),0<a.count;)b=tv(this,a),null!==b&&this.Ed.add(b),b.initialized=!0,rv(this,b),b=a;for(a=this.Ed.j;a.next();)b=a.value,b instanceof nv&&uv(this,
b);for(a=this.Ed.j;a.next();)b=a.value,b instanceof nv&&vv(this,b);for(a=this.Ed.j;a.next();)b=a.value,b instanceof nv&&wv(this,b);this.iA();if(this.UA===xv){c=[];for(a=this.network.vertexes.j;a.next();){var d=a.value,b=d.parent;null===b&&(b=d);var b=0===b.angle||180===b.angle,e=c[d.level];void 0===e&&(e=0);c[d.level]=Math.max(e,b?d.width:d.height)}for(d=0;d<c.length;d++)void 0===c[d]&&(c[d]=0);this.dC=c;for(a=this.network.vertexes.j;a.next();)d=a.value,b=d.parent,null===b&&(b=d),0===b.angle||180===
b.angle?(180===b.angle&&(d.iu+=c[d.level]-d.width),d.width=c[d.level]):(270===b.angle&&(d.ju+=c[d.level]-d.height),d.height=c[d.level])}else if(this.UA===yv)for(a=this.network.vertexes.j;a.next();){c=a.value;b=0===c.angle||180===c.angle;e=-1;for(d=0;d<c.children.length;d++)var g=c.children[d],e=Math.max(e,b?g.width:g.height);if(0<=e)for(d=0;d<c.children.length;d++)g=c.children[d],b?(180===c.angle&&(g.iu+=e-g.width),g.width=e):(270===c.angle&&(g.ju+=e-g.height),g.height=e)}for(a=this.Ed.j;a.next();)b=
a.value,b instanceof nv&&this.layoutTree(b);this.arrangeTrees();this.updateParts()}this.network=null;this.Ed=new L(Object);this.If=!0};function sv(a){var b=new L;for(a=a.j;a.next();){var c=a.value;c.initialized||b.add(c)}return b}
Z.prototype.findRoots=function(){for(var a=this.network.vertexes.j;a.next();){var b=a.value;switch(this.Rf){case jv:0===b.vc.count&&this.Ed.add(b);break;case qv:0===b.sc.count&&this.Ed.add(b);break;default:C.k("Unhandled path value "+this.Rf.toString())}}0===this.Ed.count&&(a=tv(this,this.network.vertexes),null!==a&&this.Ed.add(a))};
function tv(a,b){for(var c=999999,d=null,e=b.j;e.next();){var g=e.value;switch(a.Rf){case jv:g.vc.count<c&&(c=g.vc.count,d=g);break;case qv:g.sc.count<c&&(c=g.sc.count,d=g);break;default:C.k("Unhandled path value "+a.Rf.toString())}}return d}
function rv(a,b){if(null!==b){u&&C.l(b,nv,Z,"walkTree:v");switch(a.Rf){case jv:if(0<b.sc.count){for(var c=new K(nv),d=b.pI;d.next();){var e=d.value;zv(a,b,e)&&c.add(e)}0<c.count&&(b.children=c.nc())}break;case qv:if(0<b.vc.count){c=new K(nv);for(d=b.oK;d.next();)e=d.value,zv(a,b,e)&&c.add(e);0<c.count&&(b.children=c.nc())}break;default:C.k("Unhandled path value"+a.Rf.toString())}c=b.children;d=c.length;for(e=0;e<d;e++){var g=c[e];g.initialized=!0;g.level=b.level+1;g.parent=b;a.Ed.remove(g)}for(e=
0;e<d;e++)g=c[e],rv(a,g)}}function zv(a,b,c){u&&C.l(b,nv,Z,"walkOK:v");u&&C.l(c,nv,Z,"walkOK:c");if(c.initialized){var d;if(null===b)d=!1;else{u&&C.l(c,nv,Z,"isAncestor:a");u&&C.l(b,nv,Z,"isAncestor:b");for(d=b.parent;null!==d&&d!==c;)d=d.parent;d=d===c}if(d||c.level>b.level)return!1;a.removeChild(c.parent,c)}return!0}
Z.prototype.removeChild=function(a,b){if(null!==a&&null!==b){u&&C.l(a,nv,Z,"removeChild:p");u&&C.l(b,nv,Z,"removeChild:c");for(var c=a.children,d=0,e=0;e<c.length;e++)c[e]===b&&d++;if(0<d){for(var d=Array(c.length-d),g=0,e=0;e<c.length;e++)c[e]!==b&&(d[g++]=c[e]);a.children=d}}};
function uv(a,b){if(null!==b){u&&C.l(b,nv,Z,"initializeTree:v");a.initializeTreeVertexValues(b);b.alignment===Av&&a.sortTreeVertexChildren(b);for(var c=0,d=b.Fn,e=0,g=b.children,h=g.length,k=0;k<h;k++){var l=g[k];uv(a,l);c+=l.descendantCount+1;d=Math.max(d,l.maxChildrenCount);e=Math.max(e,l.maxGenerationCount)}b.descendantCount=c;b.maxChildrenCount=d;b.maxGenerationCount=0<d?e+1:0}}
function Bv(a,b){u&&C.l(b,nv,Z,"mom:v");switch(a.It){default:case kv:return null!==b.parent?b.parent:a.za;case Cv:return null===b.parent?a.za:null===b.parent.parent?a.Aa:b.parent;case Dv:return null!==b.parent?null!==b.parent.parent?b.parent.parent:a.Aa:a.za;case Ev:var c=!0;if(0===b.Fn)c=!1;else for(var d=b.children,e=d.length,g=0;g<e;g++)if(0<d[g].Fn){c=!1;break}return c&&null!==b.parent?a.Aa:null!==b.parent?b.parent:a.za}}
Z.prototype.initializeTreeVertexValues=function(a){u&&C.l(a,nv,Z,"initializeTreeVertexValues:v");var b=Bv(this,a);a.copyInheritedPropertiesFrom(b);if(null!==a.parent&&a.parent.alignment===Av){for(var b=a.angle,c=a.parent.children,d=0;d<c.length&&a!==c[d];)d++;0===d%2?d!==c.length-1&&(b=90===b?180:180===b?270:270===b?180:270):b=90===b?0:180===b?90:270===b?0:90;a.angle=b}a.initialized=!0};
function vv(a,b){if(null!==b){u&&C.l(b,nv,Z,"assignTree:v");a.assignTreeVertexValues(b);for(var c=b.children,d=c.length,e=0;e<d;e++)vv(a,c[e])}}Z.prototype.assignTreeVertexValues=function(){};function wv(a,b){if(null!==b){u&&C.l(b,nv,Z,"sortTree:v");b.alignment!==Av&&a.sortTreeVertexChildren(b);for(var c=b.children,d=c.length,e=0;e<d;e++)wv(a,c[e])}}
Z.prototype.sortTreeVertexChildren=function(a){u&&C.l(a,nv,Z,"sortTreeVertexChildren:v");switch(a.sorting){case Fv:break;case Gv:a.children.reverse();break;case Hv:a.children.sort(a.comparer);break;case Iv:a.children.sort(a.comparer);a.children.reverse();break;default:C.k("Unhandled sorting value "+a.sorting.toString())}};Z.prototype.iA=function(){if(this.comments)for(var a=this.network.vertexes.j;a.next();)this.addComments(a.value)};
Z.prototype.addComments=function(a){u&&C.l(a,nv,Z,"addComments:v");var b=a.angle,c=a.parent,d=0,e=Jv,e=!1;null!==c&&(d=c.angle,e=c.alignment,e=Kv(e));var b=90===b||270===b,d=90===d||270===d,c=0===a.Fn,g=0,h=0,k=0,l=a.commentSpacing;if(null!==a.Zc)for(var m=a.Zc.eF();m.next();){var n=m.value;"Comment"===n.rc&&n.canLayout()&&(null===a.comments&&(a.comments=[]),a.comments.push(n),n.jf(),n=n.Ea,b&&!c||!e&&!d&&c||e&&d&&c?(g=Math.max(g,n.width),h+=n.height+Math.abs(k)):(g+=n.width+Math.abs(k),h=Math.max(h,
n.height)),k=l)}null!==a.comments&&(b&&!c||!e&&!d&&c||e&&d&&c?(g+=Math.abs(a.commentMargin),h=Math.max(0,h-a.height)):(h+=Math.abs(a.commentMargin),g=Math.max(0,g-a.width)),e=C.fh(0,0,a.R.width+g,a.R.height+h),a.sb=e,C.Lb(e))};function Kv(a){return a===Lv||a===Av||a===Mv||a===Nv}function Ov(a){return a===Lv||a===Av}
function Pv(a){u&&C.l(a,nv,Z,"isLeftSideBus:v");var b=a.parent;if(null!==b){var c=b.alignment;if(Kv(c)){if(Ov(c)){b=b.children;for(c=0;c<b.length&&a!==b[c];)c++;return 0===c%2}if(c===Mv)return!0}}return!1}
Z.prototype.layoutComments=function(a){u&&C.l(a,nv,Z,"layoutComments:v");if(null!==a.comments){var b=a.Zc.Ea,c=a.parent,d=a.angle,e=0,g=Jv,g=!1;null!==c&&(e=c.angle,g=c.alignment,g=Kv(g));for(var c=90===d||270===d,d=90===e||270===e,h=0===a.Fn,k=Pv(a),l=0,m=a.comments,n=m.length,p=C.P(),q=0;q<n;q++){var r=m[q],s=r.Ea;if(c&&!h||!g&&!d&&h||g&&d&&h){if(135<e&&!g||d&&k)if(0<=a.commentMargin)for(p.m(a.R.x-a.commentMargin-s.width,a.R.y+l),r.move(p),r=r.Vg();r.next();){var v=r.value;v.Gb=ad;v.Hb=bd}else for(p.m(a.R.x+
2*a.W.x-a.commentMargin,a.R.y+l),r.move(p),r=r.Vg();r.next();)v=r.value,v.Gb=bd,v.Hb=ad;else if(0<=a.commentMargin)for(p.m(a.R.x+2*a.W.x+a.commentMargin,a.R.y+l),r.move(p),r=r.Vg();r.next();)v=r.value,v.Gb=bd,v.Hb=ad;else for(p.m(a.R.x+a.commentMargin-s.width,a.R.y+l),r.move(p),r=r.Vg();r.next();)v=r.value,v.Gb=ad,v.Hb=bd;l=0<=a.commentSpacing?l+(s.height+a.commentSpacing):l+(a.commentSpacing-s.height)}else{if(135<e&&!g||!d&&k)if(0<=a.commentMargin)for(p.m(a.R.x+l,a.R.y-a.commentMargin-s.height),
r.move(p),r=r.Vg();r.next();)v=r.value,v.Gb=$c,v.Hb=cd;else for(p.m(a.R.x+l,a.R.y+2*a.W.y-a.commentMargin),r.move(p),r=r.Vg();r.next();)v=r.value,v.Gb=cd,v.Hb=$c;else if(0<=a.commentMargin)for(p.m(a.R.x+l,a.R.y+2*a.W.y+a.commentMargin),r.move(p),r=r.Vg();r.next();)v=r.value,v.Gb=cd,v.Hb=$c;else for(p.m(a.R.x+l,a.R.y+a.commentMargin-s.height),r.move(p),r=r.Vg();r.next();)v=r.value,v.Gb=$c,v.Hb=cd;l=0<=a.commentSpacing?l+(s.width+a.commentSpacing):l+(a.commentSpacing-s.width)}}C.A(p);b=l-a.commentSpacing-
(c?b.height:b.width);if(this.Rf===jv)for(e=a.sc;e.next();)a=e.value.link,null===a||a.Di||(a.lm=0<b?b:NaN);else for(e=a.vc;e.next();)a=e.value.link,null===a||a.Di||(a.Bm=0<b?b:NaN)}};
Z.prototype.layoutTree=function(a){if(null!==a){u&&C.l(a,nv,Z,"layoutTree:v");for(var b=a.children,c=b.length,d=0;d<c;d++)this.layoutTree(b[d]);switch(a.compaction){case Qv:Rv(this,a);break;case Sv:if(a.alignment===Av)Rv(this,a);else if(u&&C.l(a,nv,Z,"layoutTreeBlock:v"),0===a.Fn){var d=a.parent,b=!1,c=0,e=Jv;null!==d&&(c=d.angle,e=d.alignment,b=Kv(e));d=Pv(a);a.ta.m(0,0);a.rb.m(a.width,a.height);null===a.parent||null===a.comments||(180!==c&&270!==c||b)&&!d?a.Wa.m(0,0):180===c&&!b||(90===c||270===
c)&&d?a.Wa.m(a.width-2*a.W.x,0):a.Wa.m(0,a.height-2*a.W.y);a.zu=null;a.Tu=null}else{for(var g=Tv(a),b=90===g||270===g,h=0,k=a.children,l=k.length,m=0;m<l;m++)var n=k[m],h=Math.max(h,b?n.rb.width:n.rb.height);var p=a.alignment,d=p===Uv,q=p===Vv,r=Kv(p),s=Math.max(0,a.breadthLimit),c=Wv(a),v=a.nodeSpacing,t=Xv(a),x=a.rowSpacing,y=0;if(d||q||a.Mq||a.Nq&&1===a.maxGenerationCount)y=Math.max(0,a.rowIndent);var d=a.width,e=a.height,B=0,A=0,N=0,G=null,T=null,fa=0,W=0,P=0,aa=0,Oa=0,sa=0,Ma=0,va=0,n=0;r&&!Ov(p)&&
135<g&&k.reverse();if(Ov(p))if(1<l)for(m=0;m<l;m++)0===m%2&&m!==l-1?va=Math.max(va,b?k[m].rb.width:k[m].rb.height):0!==m%2&&(n=Math.max(n,b?k[m].rb.width:k[m].rb.height));else 1===l&&(va=b?k[0].rb.width:k[0].rb.height);if(r){switch(p){case Lv:W=135>g?Yv(a,k,va,B,A):Zv(a,k,va,B,A);va=W.x;B=W.width;A=W.height;break;case Mv:for(m=0;m<l;m++){var n=k[m],Pa=n.rb,G=0===sa?0:x;b?(n.ta.m(h-Pa.width,aa+G),B=Math.max(B,Pa.width),A=Math.max(A,aa+G+Pa.height),aa+=G+Pa.height):(n.ta.m(P+G,h-Pa.height),B=Math.max(B,
P+G+Pa.width),A=Math.max(A,Pa.height),P+=G+Pa.width);sa++}break;case Nv:for(m=0;m<l;m++)n=k[m],Pa=n.rb,G=0===sa?0:x,b?(n.ta.m(v/2+a.W.x,aa+G),B=Math.max(B,Pa.width),A=Math.max(A,aa+G+Pa.height),aa+=G+Pa.height):(n.ta.m(P+G,v/2+a.W.y),B=Math.max(B,P+G+Pa.width),A=Math.max(A,Pa.height),P+=G+Pa.width),sa++}G=Ew(this,2);T=Ew(this,2);b?(G[0].m(0,0),G[1].m(0,A),T[0].m(B,0)):(G[0].m(0,0),G[1].m(B,0),T[0].m(0,A));T[1].m(B,A)}else for(m=0;m<l;m++){n=k[m];Pa=n.rb;if(b){0<s&&0<sa&&P+v+Pa.width>s&&(P<h&&Fw(a,
p,h-P,0,Ma,m-1),Oa++,sa=0,Ma=m,N=A,P=0,aa=135<g?-A-x:A+x);Gw(this,n,0,aa);var xa=0;if(0===sa){if(G=n.zu,T=n.Tu,fa=Pa.width,W=Pa.height,null===G||null===T||g!==Tv(n))G=Ew(this,2),T=Ew(this,2),G[0].m(0,0),G[1].m(0,W),T[0].m(fa,0),T[1].m(fa,W)}else{var Ic=C.tb(),W=Hw(this,a,n,G,T,fa,W,Ic),xa=W.x,G=Ic[0],T=Ic[1],fa=W.width,W=W.height;C.Ba(Ic);P<Pa.width&&0>xa&&(Iw(a,-xa,0,Ma,m-1),Jw(G,-xa,0),Jw(T,-xa,0),xa=0)}n.ta.m(xa,aa);B=Math.max(B,fa);A=Math.max(A,N+(0===Oa?0:x)+Pa.height);P=fa}else{0<s&&0<sa&&aa+
v+Pa.height>s&&(aa<h&&Fw(a,p,0,h-aa,Ma,m-1),Oa++,sa=0,Ma=m,N=B,aa=0,P=135<g?-B-x:B+x);Gw(this,n,P,0);xa=0;if(0===sa){if(G=n.zu,T=n.Tu,fa=Pa.width,W=Pa.height,null===G||null===T||g!==Tv(n))G=Ew(this,2),T=Ew(this,2),G[0].m(0,0),G[1].m(fa,0),T[0].m(0,W),T[1].m(fa,W)}else Ic=C.tb(),W=Hw(this,a,n,G,T,fa,W,Ic),xa=W.x,G=Ic[0],T=Ic[1],fa=W.width,W=W.height,C.Ba(Ic),aa<Pa.height&&0>xa&&(Iw(a,0,-xa,Ma,m-1),Jw(G,0,-xa),Jw(T,0,-xa),xa=0);n.ta.m(P,xa);A=Math.max(A,W);B=Math.max(B,N+(0===Oa?0:x)+Pa.width);aa=W}sa++}0<
Oa&&(b?(A+=Math.max(0,c),P<B&&Fw(a,p,B-P,0,Ma,l-1),0<y&&(q||Iw(a,y,0,0,l-1),B+=y)):(B+=Math.max(0,c),aa<A&&Fw(a,p,0,A-aa,Ma,l-1),0<y&&(q||Iw(a,0,y,0,l-1),A+=y)));q=h=0;switch(p){case Kw:b?h+=B/2-a.W.x-t/2:q+=A/2-a.W.y-t/2;break;case Jv:0<Oa?b?h+=B/2-a.W.x-t/2:q+=A/2-a.W.y-t/2:b?(m=k[0].ta.x+k[0].Wa.x,va=k[l-1].ta.x+k[l-1].Wa.x+2*k[l-1].W.x,h+=m+(va-m)/2-a.W.x-t/2):(m=k[0].ta.y+k[0].Wa.y,va=k[l-1].ta.y+k[l-1].Wa.y+2*k[l-1].W.y,q+=m+(va-m)/2-a.W.y-t/2);break;case Uv:b?(h-=t,B+=t):(q-=t,A+=t);break;
case Vv:b?(h+=B-a.width+t,B+=t):(q+=A-a.height+t,A+=t);break;case Lv:b?h=1<l?h+(va+v/2-a.W.x):h+(k[0].W.x-a.W.x+k[0].Wa.x):q=1<l?q+(va+v/2-a.W.y):q+(k[0].W.y-a.W.y+k[0].Wa.y);break;case Mv:b?h+=B+v/2-a.W.x:q+=A+v/2-a.W.y;break;case Nv:break;default:C.k("Unhandled alignment value "+p.toString())}for(m=0;m<l;m++)n=k[m],b?n.ta.m(n.ta.x+n.Wa.x-h,n.ta.y+(135<g?(r?-A:-n.rb.height)+n.Wa.y-c:e+c+n.Wa.y)):n.ta.m(n.ta.x+(135<g?(r?-B:-n.rb.width)+n.Wa.x-c:d+c+n.Wa.x),n.ta.y+n.Wa.y-q);l=k=0;r?b?(B=Lw(a,B,h),
0>h&&(h=0),135<g&&(q+=A+c),A+=e+c,p===Nv&&(k+=v/2+a.W.x),l+=e+c):(135<g&&(h+=B+c),B+=d+c,A=Mw(a,A,q),0>q&&(q=0),p===Nv&&(l+=v/2+a.W.y),k+=d+c):b?(null===a.comments?d>B&&(p=Nw(p,d-B,0),k=p.x,l=p.y,B=d,h=0):B=Lw(a,B,h),0>h&&(k-=h,h=0),135<g&&(q+=A+c),A=Math.max(Math.max(A,e),A+e+c),l+=e+c):(135<g&&(h+=B+c),B=Math.max(Math.max(B,d),B+d+c),null===a.comments?e>A&&(p=Nw(p,0,e-A),k=p.x,l=p.y,A=e,q=0):A=Mw(a,A,q),0>q&&(l-=q,q=0),k+=d+c);if(0<Oa)g=Ew(this,4),p=Ew(this,4),b?(g[2].m(0,e+c),g[3].m(g[2].x,A),
p[2].m(B,g[2].y),p[3].m(p[2].x,g[3].y)):(g[2].m(d+c,0),g[3].m(B,g[2].y),p[2].m(g[2].x,A),p[3].m(g[3].x,p[2].y));else{g=Ew(this,G.length+2);p=Ew(this,T.length+2);for(m=0;m<G.length;m++)r=G[m],g[m+2].m(r.x+k,r.y+l);for(m=0;m<T.length;m++)r=T[m],p[m+2].m(r.x+k,r.y+l)}b?(g[0].m(h,0),g[1].m(g[0].x,e),g[2].y<g[1].y&&(g[2].x>g[0].x?g[2].assign(g[1]):g[1].assign(g[2])),g[3].y<g[2].y&&(g[3].x>g[0].x?g[3].assign(g[2]):g[2].assign(g[3])),p[0].m(h+d,0),p[1].m(p[0].x,e),p[2].y<p[1].y&&(p[2].x<p[0].x?p[2].assign(p[1]):
p[1].assign(p[2])),p[3].y<p[2].y&&(p[3].x<p[0].x?p[3].assign(p[2]):p[2].assign(p[3])),g[2].y-=c/2,p[2].y-=c/2):(g[0].m(0,q),g[1].m(d,g[0].y),g[2].x<g[1].x&&(g[2].y>g[0].y?g[2].assign(g[1]):g[1].assign(g[2])),g[3].x<g[2].x&&(g[3].y>g[0].y?g[3].assign(g[2]):g[2].assign(g[3])),p[0].m(0,q+e),p[1].m(d,p[0].y),p[2].x<p[1].x&&(p[2].y<p[0].y?p[2].assign(p[1]):p[1].assign(p[2])),p[3].x<p[2].x&&(p[3].y<p[0].y?p[3].assign(p[2]):p[2].assign(p[3])),g[2].x-=c/2,p[2].x-=c/2);Ow(this,G);Ow(this,T);a.zu=g;a.Tu=p;
a.Wa.m(h,q);a.rb.m(B,A)}break;default:C.k("Unhandled compaction value "+a.compaction.toString())}}};
function Rv(a,b){u&&C.l(b,nv,Z,"layoutTreeNone:v");if(0===b.Fn){var c=!1,d=0,e=Jv;null!==b.parent&&(d=b.parent.angle,e=b.parent.alignment,c=Kv(e));e=Pv(b);b.ta.m(0,0);b.rb.m(b.width,b.height);null===b.parent||null===b.comments||(180!==d&&270!==d||c)&&!e?b.Wa.m(0,0):180===d&&!c||(90===d||270===d)&&e?b.Wa.m(b.width-2*b.W.x,0):b.Wa.m(0,b.height-2*b.W.y)}else{for(var c=Tv(b),d=90===c||270===c,g=0,e=b.children,h=e.length,k=0;k<h;k++)var l=e[k],g=Math.max(g,d?l.rb.width:l.rb.height);var m=b.alignment,n=
m===Uv,p=m===Vv,q=Kv(m),r=Math.max(0,b.breadthLimit),s=Wv(b),v=b.nodeSpacing,t=Xv(b),x=n||p?0:t/2,y=b.rowSpacing,B=0;if(n||p||b.Mq||b.Nq&&1===b.maxGenerationCount)B=Math.max(0,b.rowIndent);var n=b.width,A=b.height,N=0,G=0,T=0,fa=0,W=0,P=0,aa=0,Oa=0,sa=0,Ma=0;q&&!Ov(m)&&135<c&&e.reverse();if(Ov(m))if(1<h)for(k=0;k<h;k++){var l=e[k],va=l.rb;0===k%2&&k!==h-1?sa=Math.max(sa,(d?va.width:va.height)+Pw(l)-v):0!==k%2&&(Ma=Math.max(Ma,(d?va.width:va.height)+Pw(l)-v))}else 1===h&&(sa=d?e[0].rb.width:e[0].rb.height);
if(q)switch(m){case Lv:case Av:G=135>c?Yv(b,e,sa,N,G):Zv(b,e,sa,N,G);sa=G.x;N=G.width;G=G.height;break;case Mv:for(k=0;k<h;k++)l=e[k],va=l.rb,r=0===aa?0:y,d?(l.ta.m(g-va.width,W+r),N=Math.max(N,va.width),G=Math.max(G,W+r+va.height),W+=r+va.height):(l.ta.m(fa+r,g-va.height),N=Math.max(N,fa+r+va.width),G=Math.max(G,va.height),fa+=r+va.width),aa++;break;case Nv:for(g=0;g<h;g++)l=e[g],va=l.rb,r=0===aa?0:y,d?(l.ta.m(v/2+b.W.x,W+r),N=Math.max(N,va.width),G=Math.max(G,W+r+va.height),W+=r+va.height):(l.ta.m(fa+
r,v/2+b.W.y),N=Math.max(N,fa+r+va.width),G=Math.max(G,va.height),fa+=r+va.width),aa++}else for(k=0;k<h;k++)l=e[k],va=l.rb,d?(0<r&&0<aa&&fa+v+va.width>r&&(fa<g&&Fw(b,m,g-fa,0,Oa,k-1),P++,aa=0,Oa=k,T=G,fa=0,W=135<c?-G-y:G+y),Ma=0===aa?x:v,Gw(a,l,0,W),l.ta.m(fa+Ma,W),N=Math.max(N,fa+Ma+va.width),G=Math.max(G,T+(0===P?0:y)+va.height),fa+=Ma+va.width):(0<r&&0<aa&&W+v+va.height>r&&(W<g&&Fw(b,m,0,g-W,Oa,k-1),P++,aa=0,Oa=k,T=N,W=0,fa=135<c?-N-y:N+y),Ma=0===aa?x:v,Gw(a,l,fa,0),l.ta.m(fa,W+Ma),G=Math.max(G,
W+Ma+va.height),N=Math.max(N,T+(0===P?0:y)+va.width),W+=Ma+va.height),aa++;0<P&&(d?(G+=Math.max(0,s),fa<N&&Fw(b,m,N-fa,0,Oa,h-1),0<B&&(p||Iw(b,B,0,0,h-1),N+=B)):(N+=Math.max(0,s),W<G&&Fw(b,m,0,G-W,Oa,h-1),0<B&&(p||Iw(b,0,B,0,h-1),G+=B)));B=p=0;switch(m){case Kw:d?p+=N/2-b.W.x-t/2:B+=G/2-b.W.y-t/2;break;case Jv:0<P?d?p+=N/2-b.W.x-t/2:B+=G/2-b.W.y-t/2:d?(m=e[0].ta.x+e[0].Wa.x,v=e[h-1].ta.x+e[h-1].Wa.x+2*e[h-1].W.x,p+=m+(v-m)/2-b.W.x-t/2):(m=e[0].ta.y+e[0].Wa.y,v=e[h-1].ta.y+e[h-1].Wa.y+2*e[h-1].W.y,
B+=m+(v-m)/2-b.W.y-t/2);break;case Uv:d?(p-=t,N+=t):(B-=t,G+=t);break;case Vv:d?(p+=N-b.width+t,N+=t):(B+=G-b.height+t,G+=t);break;case Lv:case Av:d?p=1<h?p+(sa+v/2-b.W.x):p+(e[0].W.x-b.W.x+e[0].Wa.x):B=1<h?B+(sa+v/2-b.W.y):B+(e[0].W.y-b.W.y+e[0].Wa.y);break;case Mv:d?p+=N+v/2-b.W.x:B+=G+v/2-b.W.y;break;case Nv:break;default:C.k("Unhandled alignment value "+m.toString())}for(k=0;k<h;k++)l=e[k],d?l.ta.m(l.ta.x+l.Wa.x-p,l.ta.y+(135<c?(q?-G:-l.rb.height)+l.Wa.y-s:A+s+l.Wa.y)):l.ta.m(l.ta.x+(135<c?(q?
-N:-l.rb.width)+l.Wa.x-s:n+s+l.Wa.x),l.ta.y+l.Wa.y-B);d?(N=Lw(b,N,p),0>p&&(p=0),135<c&&(B+=G+s),G+=A+s):(135<c&&(p+=N+s),N+=n+s,G=Mw(b,G,B),0>B&&(B=0));b.Wa.m(p,B);b.rb.m(N,G)}}
function Yv(a,b,c,d,e){u&&C.l(a,nv,Z,"layoutBusChildrenPosDir:v");var g=b.length;if(0===g)return new z(c,0,d,e);if(1===g){var h=b[0];d=h.rb.width;e=h.rb.height;return new z(c,0,d,e)}for(var k=a.nodeSpacing,l=a.rowSpacing,m=90===Tv(a),n=0,p=0,q=0,r=0;r<g;r++)if(!(0!==r%2||1<g&&r===g-1)){var h=b[r],s=h.rb,v=0===n?0:l;if(m){var t=Pw(h)-k;h.ta.m(c-(s.width+t),q+v);d=Math.max(d,s.width+t);e=Math.max(e,q+v+s.height);q+=v+s.height}else t=Pw(h)-k,h.ta.m(p+v,c-(s.height+t)),e=Math.max(e,s.height+t),d=Math.max(d,
p+v+s.width),p+=v+s.width;n++}var n=0,x=p,y=q;m?(p=c+k,q=0):(p=0,q=c+k);for(r=0;r<g;r++)0!==r%2&&(h=b[r],s=h.rb,v=0===n?0:l,m?(t=Pw(h)-k,h.ta.m(p+t,q+v),d=Math.max(d,p+s.width+t),e=Math.max(e,q+v+s.height),q+=v+s.height):(t=Pw(h)-k,h.ta.m(p+v,q+t),d=Math.max(d,p+v+s.width),e=Math.max(e,q+s.height+t),p+=v+s.width),n++);1<g&&1===g%2&&(h=b[g-1],s=h.rb,b=Qw(h,m?Math.max(Math.abs(y),Math.abs(q)):Math.max(Math.abs(x),Math.abs(p))),m?(h.ta.m(c+k/2-h.W.x-h.Wa.x,e+b),m=c+k/2-h.W.x-h.Wa.x,d=Math.max(d,m+s.width),
0>m&&(d-=m),e=Math.max(e,Math.max(y,q)+b+s.height),0>h.ta.x&&(c=Rw(a,h.ta.x,!1,c,k))):(h.ta.m(d+b,c+k/2-h.W.y-h.Wa.y),d=Math.max(d,Math.max(x,p)+b+s.width),m=c+k/2-h.W.y-h.Wa.y,e=Math.max(e,m+s.height),0>m&&(e-=m),0>h.ta.y&&(c=Rw(a,h.ta.y,!0,c,k))));return new z(c,0,d,e)}
function Zv(a,b,c,d,e){u&&C.l(a,nv,Z,"layoutBusChildrenNegDir:v");var g=b.length;if(0===g)return new z(c,0,d,e);if(1===g){var h=b[0];d=h.rb.width;e=h.rb.height;return new z(c,0,d,e)}for(var k=a.nodeSpacing,l=a.rowSpacing,m=270===Tv(a),n=0,p=0,q=0,r=0;r<g;r++)if(!(0!==r%2||1<g&&r===g-1)){var h=b[r],s=h.rb,v=0===n?0:l;if(m){var t=Pw(h)-k,q=q-(v+s.height);h.ta.m(c-(s.width+t),q);d=Math.max(d,s.width+t);e=Math.max(e,Math.abs(q))}else t=Pw(h)-k,p-=v+s.width,h.ta.m(p,c-(s.height+t)),e=Math.max(e,s.height+
t),d=Math.max(d,Math.abs(p));n++}var n=0,x=p,y=q;m?(p=c+k,q=0):(p=0,q=c+k);for(r=0;r<g;r++)0!==r%2&&(h=b[r],s=h.rb,v=0===n?0:l,m?(t=Pw(h)-k,q-=v+s.height,h.ta.m(p+t,q),d=Math.max(d,p+s.width+t),e=Math.max(e,Math.abs(q))):(t=Pw(h)-k,p-=v+s.width,h.ta.m(p,q+t),e=Math.max(e,q+s.height+t),d=Math.max(d,Math.abs(p))),n++);1<g&&1===g%2&&(h=b[g-1],s=h.rb,l=Qw(h,m?Math.max(Math.abs(y),Math.abs(q)):Math.max(Math.abs(x),Math.abs(p))),m?(h.ta.m(c+k/2-h.W.x-h.Wa.x,-e-s.height-l),p=c+k/2-h.W.x-h.Wa.x,d=Math.max(d,
p+s.width),0>p&&(d-=p),e=Math.max(e,Math.abs(Math.min(y,q))+l+s.height),0>h.ta.x&&(c=Rw(a,h.ta.x,!1,c,k))):(h.ta.m(-d-s.width-l,c+k/2-h.W.y-h.Wa.y),d=Math.max(d,Math.abs(Math.min(x,p))+l+s.width),p=c+k/2-h.W.y-h.Wa.y,e=Math.max(e,p+s.height),0>p&&(e-=p),0>h.ta.y&&(c=Rw(a,h.ta.y,!0,c,k))));for(r=0;r<g;r++)h=b[r],m?h.ta.m(h.ta.x,h.ta.y+e):h.ta.m(h.ta.x+d,h.ta.y);return new z(c,0,d,e)}function Pw(a){u&&C.l(a,nv,Z,"fixRelativePostions:child");return null===a.parent?0:a.parent.nodeSpacing}
function Qw(a){u&&C.l(a,nv,Z,"fixRelativePostions:lastchild");return null===a.parent?0:a.parent.rowSpacing}function Rw(a,b,c,d,e){u&&C.l(a,nv,Z,"fixRelativePostions:v");a=a.children;for(var g=a.length,h=0;h<g;h++)c?a[h].ta.m(a[h].ta.x,a[h].ta.y-b):a[h].ta.m(a[h].ta.x-b,a[h].ta.y);b=a[g-1];return Math.max(d,c?b.Wa.y+b.W.y-e/2:b.Wa.x+b.W.x-e/2)}
function Lw(a,b,c){u&&C.l(a,nv,Z,"calculateSubwidth:v");switch(a.alignment){case Jv:case Kw:var d=b;c+a.width>d&&(d=c+a.width);0>c&&(d-=c);return d;case Uv:return a.width>b?a.width:b;case Vv:return 2*a.W.x>b?a.width:b+a.width-2*a.W.x;case Lv:case Av:return d=Math.min(0,c),c=Math.max(b,c+a.width),Math.max(a.width,c-d);case Mv:return a.width-a.W.x+a.nodeSpacing/2+b;case Nv:return Math.max(a.width,a.W.x+a.nodeSpacing/2+b);default:return b}}
function Mw(a,b,c){u&&C.l(a,nv,Z,"calculateSubheight:v");switch(a.alignment){case Jv:case Kw:var d=b;c+a.height>d&&(d=c+a.height);0>c&&(d-=c);return d;case Uv:return a.height>b?a.height:b;case Vv:return 2*a.W.y>b?a.height:b+a.height-2*a.W.y;case Lv:case Av:return d=Math.min(0,c),c=Math.max(b,c+a.height),Math.max(a.height,c-d);case Mv:return a.height-a.W.y+a.nodeSpacing/2+b;case Nv:return Math.max(a.height,a.W.y+a.nodeSpacing/2+b);default:return b}}
function Nw(a,b,c){u&&C.l(a,Ca,Z,"alignOffset:align");switch(a){case Kw:b/=2;c/=2;break;case Jv:b/=2;c/=2;break;case Uv:c=b=0;break;case Vv:break;default:C.k("Unhandled alignment value "+a.toString())}return new O(b,c)}function Fw(a,b,c,d,e,g){u&&C.l(a,nv,Z,"shiftRelPosAlign:v");u&&C.l(b,Ca,Z,"shiftRelPosAlign:align");b=Nw(b,c,d);Iw(a,b.x,b.y,e,g)}function Iw(a,b,c,d,e){u&&C.l(a,nv,Z,"shiftRelPos:v");if(0!==b||0!==c)for(a=a.children;d<=e;d++){var g=a[d].ta;g.x+=b;g.y+=c}}
function Gw(a,b,c,d){u&&(C.l(b,nv,Z,"recordMidPoints:v"),C.h(c,"number",Z,"recordMidPoints:x"),C.h(d,"number",Z,"recordMidPoints:y"));var e=b.parent;switch(a.Rf){case jv:for(a=b.vc;a.next();)b=a.value,b.fromVertex===e&&b.$s.m(c,d);break;case qv:for(a=b.sc;a.next();)b=a.value,b.toVertex===e&&b.$s.m(c,d);break;default:C.k("Unhandled path value "+a.Rf.toString())}}function Jw(a,b,c){for(var d=0;d<a.length;d++){var e=a[d];e.x+=b;e.y+=c}}
function Hw(a,b,c,d,e,g,h,k){u&&C.l(b,nv,Z,"mergeFringes:parent");u&&C.l(c,nv,Z,"mergeFringes:child");var l=Tv(b),m=90===l||270===l,n=b.nodeSpacing;b=d;var p=e;d=g;e=h;var q=c.zu,r=c.Tu;h=c.rb;var s=m?Math.max(e,h.height):Math.max(d,h.width);if(null===q||l!==Tv(c))q=Ew(a,2),r=Ew(a,2),m?(q[0].m(0,0),q[1].m(0,h.height),r[0].m(h.width,0),r[1].m(r[0].x,q[1].y)):(q[0].m(0,0),q[1].m(h.width,0),r[0].m(0,h.height),r[1].m(q[1].x,r[0].y));if(m){c=d;d=9999999;if(!(null===p||2>p.length||null===q||2>q.length))for(m=
l=0;l<p.length&&m<q.length;){e=p[l];var v=q[m];g=v.x;var t=v.y;g+=c;var x=e;l+1<p.length&&(x=p[l+1]);var y=v,v=y.x,y=y.y;m+1<q.length&&(y=q[m+1],v=y.x,y=y.y,v+=c);var B=d;e.y===t?B=g-e.x:e.y>t&&e.y<y?B=g+(e.y-t)/(y-t)*(v-g)-e.x:t>e.y&&t<x.y&&(B=g-(e.x+(t-e.y)/(x.y-e.y)*(x.x-e.x)));B<d&&(d=B);x.y<=e.y?l++:y<=t?m++:(x.y<=y&&l++,y<=x.y&&m++)}c-=d;c+=n;l=q;m=c;if(null===b||2>b.length||null===l||2>l.length)d=null;else{n=Ew(a,b.length+l.length);for(d=g=e=0;g<l.length&&l[g].y<b[0].y;)t=l[g++],n[d++].m(t.x+
m,t.y);for(;e<b.length;)t=b[e++],n[d++].m(t.x,t.y);for(e=b[b.length-1].y;g<l.length&&l[g].y<=e;)g++;for(;g<l.length&&l[g].y>e;)t=l[g++],n[d++].m(t.x+m,t.y);l=Ew(a,d);for(e=0;e<d;e++)l[e].assign(n[e]);Ow(a,n);d=l}g=r;t=c;if(null===p||2>p.length||null===g||2>g.length)e=null;else{n=Ew(a,p.length+g.length);for(m=x=l=0;l<p.length&&p[l].y<g[0].y;)e=p[l++],n[m++].m(e.x,e.y);for(;x<g.length;)e=g[x++],n[m++].m(e.x+t,e.y);for(g=g[g.length-1].y;l<p.length&&p[l].y<=g;)l++;for(;l<p.length&&p[l].y>g;)e=p[l++],
n[m++].m(e.x,e.y);e=Ew(a,m);for(l=0;l<m;l++)e[l].assign(n[l]);Ow(a,n)}g=Math.max(0,c)+h.width;h=s}else{c=e;d=9999999;if(!(null===p||2>p.length||null===q||2>q.length))for(m=l=0;l<p.length&&m<q.length;)e=p[l],v=q[m],g=v.x,t=v.y,t+=c,x=e,l+1<p.length&&(x=p[l+1]),y=v,v=y.x,y=y.y,m+1<q.length&&(y=q[m+1],v=y.x,y=y.y,y+=c),B=d,e.x===g?B=t-e.y:e.x>g&&e.x<v?B=t+(e.x-g)/(v-g)*(y-t)-e.y:g>e.x&&g<x.x&&(B=t-(e.y+(g-e.x)/(x.x-e.x)*(x.y-e.y))),B<d&&(d=B),x.x<=e.x?l++:v<=g?m++:(x.x<=v&&l++,v<=x.x&&m++);c-=d;c+=n;
l=q;m=c;if(null===b||2>b.length||null===l||2>l.length)d=null;else{n=Ew(a,b.length+l.length);for(d=g=e=0;g<l.length&&l[g].x<b[0].x;)t=l[g++],n[d++].m(t.x,t.y+m);for(;e<b.length;)t=b[e++],n[d++].m(t.x,t.y);for(e=b[b.length-1].x;g<l.length&&l[g].x<=e;)g++;for(;g<l.length&&l[g].x>e;)t=l[g++],n[d++].m(t.x,t.y+m);l=Ew(a,d);for(e=0;e<d;e++)l[e].assign(n[e]);Ow(a,n);d=l}g=r;t=c;if(null===p||2>p.length||null===g||2>g.length)e=null;else{n=Ew(a,p.length+g.length);for(m=x=l=0;l<p.length&&p[l].x<g[0].x;)e=p[l++],
n[m++].m(e.x,e.y);for(;x<g.length;)e=g[x++],n[m++].m(e.x,e.y+t);for(g=g[g.length-1].x;l<p.length&&p[l].x<=g;)l++;for(;l<p.length&&p[l].x>g;)e=p[l++],n[m++].m(e.x,e.y);e=Ew(a,m);for(l=0;l<m;l++)e[l].assign(n[l]);Ow(a,n)}g=s;h=Math.max(0,c)+h.height}Ow(a,b);Ow(a,q);Ow(a,p);Ow(a,r);k[0]=d;k[1]=e;return new z(c,0,g,h)}function Ew(a,b){var c=a.Xz[b];if(void 0!==c&&(c=c.pop(),void 0!==c))return c;for(var c=[],d=0;d<b;d++)c[d]=new O;return c}
function Ow(a,b){var c=b.length,d=a.Xz[c];void 0===d&&(d=[],a.Xz[c]=d);d.push(b)}
Z.prototype.arrangeTrees=function(){if(this.yd===pv)for(var a=this.Ed.j;a.next();){var b=a.value;if(b instanceof nv){var c=b.Zc;if(null!==c){var d=c.position,c=d.x,d=d.y;isFinite(c)||(c=0);isFinite(d)||(d=0);Sw(this,b,c,d)}}}else{c=[];for(a=this.Ed.j;a.next();)b=a.value,b instanceof nv&&c.push(b);switch(this.sorting){case Fv:break;case Gv:c.reverse();break;case Hv:c.sort(this.comparer);break;case Iv:c.sort(this.comparer);c.reverse();break;default:C.k("Unhandled sorting value "+this.sorting.toString())}b=
this.Ce;a=b.x;b=b.y;for(d=0;d<c.length;d++){var e=c[d];Sw(this,e,a+e.Wa.x,b+e.Wa.y);switch(this.yd){case mv:b+=e.rb.height+this.sg.height;break;case Tw:a+=e.rb.width+this.sg.width;break;default:C.k("Unhandled arrangement value "+this.yd.toString())}}}};function Sw(a,b,c,d){if(null!==b){u&&C.l(b,nv,Z,"assignAbsolutePositions:v");b.x=c;b.y=d;b=b.children;for(var e=b.length,g=0;g<e;g++){var h=b[g];Sw(a,h,c+h.ta.x,d+h.ta.y)}}}
Z.prototype.commitLayout=function(){this.AB();this.commitNodes();this.mA();this.xu&&this.commitLinks()};Z.prototype.commitNodes=function(){for(var a=this.network.vertexes.j;a.next();)a.value.commit();for(a.reset();a.next();)this.layoutComments(a.value)};
Z.prototype.mA=function(){if(this.UA===xv){for(var a=this.dC,b=[],c=null,d=this.network.vertexes.j;d.next();){var e=d.value;null===c?c=e.sb.copy():c.Wh(e.sb);var g=b[e.level],g=void 0===g?Wv(e):Math.max(g,Wv(e));b[e.level]=g}for(d=0;d<b.length;d++)void 0===b[d]&&(b[d]=0);90===this.angle||270===this.angle?(c.eg(this.nodeSpacing/2,this.layerSpacing),e=new O(-this.nodeSpacing/2,-this.layerSpacing/2)):(c.eg(this.layerSpacing,this.nodeSpacing/2),e=new O(-this.layerSpacing/2,-this.nodeSpacing/2));var g=
[],c=90===this.angle||270===this.angle?c.width:c.height,h=0;if(180===this.angle||270===this.angle)for(d=0;d<a.length;d++)h+=a[d]+b[d];for(d=0;d<a.length;d++){var k=a[d]+b[d];270===this.angle?(h-=k,g.push(new z(0,h,c,k))):90===this.angle?(g.push(new z(0,h,c,k)),h+=k):180===this.angle?(h-=k,g.push(new z(h,0,k,c))):(g.push(new z(h,0,k,c)),h+=k)}this.commitLayers(g,e)}};Z.prototype.commitLayers=function(){};Z.prototype.commitLinks=function(){for(var a=this.network.edges.j;a.next();)a.value.commit()};
Z.prototype.AB=function(){for(var a=this.Ed.j;a.next();){var b=a.value;b instanceof nv&&Uw(this,b)}};function Uw(a,b){if(null!==b){u&&C.l(b,nv,Z,"setPortSpotsTree:v");a.setPortSpots(b);for(var c=b.children,d=c.length,e=0;e<d;e++)Uw(a,c[e])}}
Z.prototype.setPortSpots=function(a){u&&C.l(a,nv,Z,"setPortSpots:v");var b=a.alignment;if(Kv(b)){u&&C.l(a,nv,Z,"setPortSpotsBus:v");u&&C.l(b,Ca,Z,"setPortSpots:align");var c=this.Rf===jv,d=Tv(a),e;switch(d){case 0:e=bd;break;case 90:e=cd;break;case 180:e=ad;break;default:e=$c}var g=a.children,h=g.length;switch(b){case Lv:case Av:for(b=0;b<h;b++){var k=g[b],k=(c?k.vc:k.sc).first();if(null!==k&&(k=k.link,null!==k)){var l=90===d||270===d?ad:$c;if(1===h||b===h-1&&1===h%2)switch(d){case 0:l=ad;break;case 90:l=
$c;break;case 180:l=bd;break;default:l=cd}else 0===b%2&&(l=90===d||270===d?bd:cd);c?(a.setsPortSpot&&(k.Gb=e),a.setsChildPortSpot&&(k.Hb=l)):(a.setsPortSpot&&(k.Gb=l),a.setsChildPortSpot&&(k.Hb=e))}}break;case Mv:l=90===d||270===d?bd:cd;for(d=c?a.sc:a.vc;d.next();)k=d.value.link,null!==k&&(c?(a.setsPortSpot&&(k.Gb=e),a.setsChildPortSpot&&(k.Hb=l)):(a.setsPortSpot&&(k.Gb=l),a.setsChildPortSpot&&(k.Hb=e)));break;case Nv:for(l=90===d||270===d?ad:$c,d=c?a.sc:a.vc;d.next();)k=d.value.link,null!==k&&(c?
(a.setsPortSpot&&(k.Gb=e),a.setsChildPortSpot&&(k.Hb=l)):(a.setsPortSpot&&(k.Gb=l),a.setsChildPortSpot&&(k.Hb=e)))}}else if(c=Tv(a),this.Rf===jv)for(e=a.sc;e.next();){if(d=e.value.link,null!==d){if(a.setsPortSpot)if(a.portSpot.hd())switch(c){case 0:d.Gb=bd;break;case 90:d.Gb=cd;break;case 180:d.Gb=ad;break;default:d.Gb=$c}else d.Gb=a.portSpot;if(a.setsChildPortSpot)if(a.childPortSpot.hd())switch(c){case 0:d.Hb=ad;break;case 90:d.Hb=$c;break;case 180:d.Hb=bd;break;default:d.Hb=cd}else d.Hb=a.childPortSpot}}else for(e=
a.vc;e.next();)if(d=e.value.link,null!==d){if(a.setsPortSpot)if(a.portSpot.hd())switch(c){case 0:d.Hb=bd;break;case 90:d.Hb=cd;break;case 180:d.Hb=ad;break;default:d.Hb=$c}else d.Hb=a.portSpot;if(a.setsChildPortSpot)if(a.childPortSpot.hd())switch(c){case 0:d.Gb=ad;break;case 90:d.Gb=$c;break;case 180:d.Gb=bd;break;default:d.Gb=cd}else d.Gb=a.childPortSpot}};function Tv(a){a=a.angle;return 45>=a?0:135>=a?90:225>=a?180:315>=a?270:0}
function Wv(a){u&&C.l(a,nv,Z,"computeLayerSpacing:v");var b=Tv(a),b=90===b||270===b,c=a.layerSpacing;if(0<a.layerSpacingParentOverlap)var d=Math.min(1,a.layerSpacingParentOverlap),c=c-(b?a.height*d:a.width*d);c<(b?-a.height:-a.width)&&(c=b?-a.height:-a.width);return c}function Xv(a){u&&C.l(a,nv,Z,"computeNodeIndent:v");var b=Tv(a),b=90===b||270===b,c=a.nodeIndent;if(0<a.nodeIndentPastParent)var d=Math.min(1,a.nodeIndentPastParent),c=c+(b?a.width*d:a.height*d);return c=Math.max(0,c)}
C.defineProperty(Z,{sM:"roots"},function(){return this.Ed},function(a){this.Ed!==a&&(C.l(a,L,Z,"roots"),this.Ed=a,this.N())});C.defineProperty(Z,{path:"path"},function(){return this.Ts},function(a){this.Ts!==a&&(C.Ca(a,Z,Z,"path"),this.Ts=a,this.N())});C.defineProperty(Z,{zK:"treeStyle"},function(){return this.It},function(a){this.yd!==a&&(C.Ca(a,Z,Z,"treeStyle"),a===kv||a===Dv||a===Ev||a===Cv)&&(this.It=a,this.N())});
C.defineProperty(Z,{UA:"layerStyle"},function(){return this.gw},function(a){this.yd!==a&&(C.Ca(a,Z,Z,"layerStyle"),a===lv||a===yv||a===xv)&&(this.gw=a,this.N())});C.defineProperty(Z,{comments:"comments"},function(){return this.Yh},function(a){this.Yh!==a&&(C.h(a,"boolean",Z,"comments"),this.Yh=a,this.N())});C.defineProperty(Z,{$f:"arrangement"},function(){return this.yd},function(a){this.yd!==a&&(C.Ca(a,Z,Z,"arrangement"),a===mv||a===Tw||a===pv)&&(this.yd=a,this.N())});
C.defineProperty(Z,{AE:"arrangementSpacing"},function(){return this.sg},function(a){C.l(a,Fa,Z,"arrangementSpacing");this.sg.O(a)||(this.sg.assign(a),this.N())});C.defineProperty(Z,{rM:"rootDefaults"},function(){return this.za},function(a){this.za!==a&&(C.l(a,nv,Z,"rootDefaults"),this.za=a,this.N())});C.defineProperty(Z,{QK:"alternateDefaults"},function(){return this.Aa},function(a){this.Aa!==a&&(C.l(a,nv,Z,"alternateDefaults"),this.Aa=a,this.N())});
C.defineProperty(Z,{sorting:"sorting"},function(){return this.za.sorting},function(a){this.za.sorting!==a&&(C.Ca(a,Z,Z,"sorting"),a===Fv||a===Gv||a===Hv||Iv)&&(this.za.sorting=a,this.N())});C.defineProperty(Z,{comparer:"comparer"},function(){return this.za.comparer},function(a){this.za.comparer!==a&&(C.h(a,"function",Z,"comparer"),this.za.comparer=a,this.N())});
C.defineProperty(Z,{angle:"angle"},function(){return this.za.angle},function(a){this.za.angle!==a&&(C.h(a,"number",Z,"angle"),0===a||90===a||180===a||270===a?(this.za.angle=a,this.N()):C.k("TreeLayout.angle must be 0, 90, 180, or 270"))});C.defineProperty(Z,{alignment:"alignment"},function(){return this.za.alignment},function(a){this.za.alignment!==a&&(C.Ca(a,Z,Z,"alignment"),this.za.alignment=a,this.N())});
C.defineProperty(Z,{nodeIndent:"nodeIndent"},function(){return this.za.nodeIndent},function(a){this.za.nodeIndent!==a&&(C.h(a,"number",Z,"nodeIndent"),0<=a&&(this.za.nodeIndent=a,this.N()))});C.defineProperty(Z,{nodeIndentPastParent:"nodeIndentPastParent"},function(){return this.za.nodeIndentPastParent},function(a){this.za.nodeIndentPastParent!==a&&(C.h(a,"number",Z,"nodeIndentPastParent"),0<=a&&1>=a&&(this.za.nodeIndentPastParent=a,this.N()))});
C.defineProperty(Z,{nodeSpacing:"nodeSpacing"},function(){return this.za.nodeSpacing},function(a){this.za.nodeSpacing!==a&&(C.h(a,"number",Z,"nodeSpacing"),this.za.nodeSpacing=a,this.N())});C.defineProperty(Z,{layerSpacing:"layerSpacing"},function(){return this.za.layerSpacing},function(a){this.za.layerSpacing!==a&&(C.h(a,"number",Z,"layerSpacing"),this.za.layerSpacing=a,this.N())});
C.defineProperty(Z,{layerSpacingParentOverlap:"layerSpacingParentOverlap"},function(){return this.za.layerSpacingParentOverlap},function(a){this.za.layerSpacingParentOverlap!==a&&(C.h(a,"number",Z,"layerSpacingParentOverlap"),0<=a&&1>=a&&(this.za.layerSpacingParentOverlap=a,this.N()))});C.defineProperty(Z,{compaction:"compaction"},function(){return this.za.compaction},function(a){this.za.compaction!==a&&(C.Ca(a,Z,Z,"compaction"),a===Qv||a===Sv)&&(this.za.compaction=a,this.N())});
C.defineProperty(Z,{breadthLimit:"breadthLimit"},function(){return this.za.breadthLimit},function(a){this.za.breadthLimit!==a&&(C.h(a,"number",Z,"breadthLimit"),0<=a&&(this.za.breadthLimit=a,this.N()))});C.defineProperty(Z,{rowSpacing:"rowSpacing"},function(){return this.za.rowSpacing},function(a){this.za.rowSpacing!==a&&(C.h(a,"number",Z,"rowSpacing"),this.za.rowSpacing=a,this.N())});
C.defineProperty(Z,{rowIndent:"rowIndent"},function(){return this.za.rowIndent},function(a){this.za.rowIndent!==a&&(C.h(a,"number",Z,"rowIndent"),0<=a&&(this.za.rowIndent=a,this.N()))});C.defineProperty(Z,{commentSpacing:"commentSpacing"},function(){return this.za.commentSpacing},function(a){this.za.commentSpacing!==a&&(C.h(a,"number",Z,"commentSpacing"),this.za.commentSpacing=a,this.N())});
C.defineProperty(Z,{commentMargin:"commentMargin"},function(){return this.za.commentMargin},function(a){this.za.commentMargin!==a&&(C.h(a,"number",Z,"commentMargin"),this.za.commentMargin=a,this.N())});C.defineProperty(Z,{setsPortSpot:"setsPortSpot"},function(){return this.za.setsPortSpot},function(a){this.za.setsPortSpot!==a&&(C.h(a,"boolean",Z,"setsPortSpot"),this.za.setsPortSpot=a,this.N())});
C.defineProperty(Z,{portSpot:"portSpot"},function(){return this.za.portSpot},function(a){C.l(a,S,Z,"portSpot");this.za.portSpot.O(a)||(this.za.portSpot=a,this.N())});C.defineProperty(Z,{setsChildPortSpot:"setsChildPortSpot"},function(){return this.za.setsChildPortSpot},function(a){this.za.setsChildPortSpot!==a&&(C.h(a,"boolean",Z,"setsChildPortSpot"),this.za.setsChildPortSpot=a,this.N())});
C.defineProperty(Z,{childPortSpot:"childPortSpot"},function(){return this.za.childPortSpot},function(a){C.l(a,S,Z,"childPortSpot");this.za.childPortSpot.O(a)||(this.za.childPortSpot=a,this.N())});C.defineProperty(Z,{aL:"alternateSorting"},function(){return this.Aa.sorting},function(a){this.Aa.sorting!==a&&(C.Ca(a,Z,Z,"alternateSorting"),a===Fv||a===Gv||a===Hv||Iv)&&(this.Aa.sorting=a,this.N())});
C.defineProperty(Z,{PK:"alternateComparer"},function(){return this.Aa.comparer},function(a){this.Aa.comparer!==a&&(C.h(a,"function",Z,"alternateComparer"),this.Aa.comparer=a,this.N())});C.defineProperty(Z,{JK:"alternateAngle"},function(){return this.Aa.angle},function(a){this.Aa.angle!==a&&(C.h(a,"number",Z,"alternateAngle"),0===a||90===a||180===a||270===a)&&(this.Aa.angle=a,this.N())});
C.defineProperty(Z,{IK:"alternateAlignment"},function(){return this.Aa.alignment},function(a){this.Aa.alignment!==a&&(C.Ca(a,Z,Z,"alternateAlignment"),this.Aa.alignment=a,this.N())});C.defineProperty(Z,{TK:"alternateNodeIndent"},function(){return this.Aa.nodeIndent},function(a){this.Aa.nodeIndent!==a&&(C.h(a,"number",Z,"alternateNodeIndent"),0<=a&&(this.Aa.nodeIndent=a,this.N()))});
C.defineProperty(Z,{UK:"alternateNodeIndentPastParent"},function(){return this.Aa.nodeIndentPastParent},function(a){this.Aa.nodeIndentPastParent!==a&&(C.h(a,"number",Z,"alternateNodeIndentPastParent"),0<=a&&1>=a&&(this.Aa.nodeIndentPastParent=a,this.N()))});C.defineProperty(Z,{VK:"alternateNodeSpacing"},function(){return this.Aa.nodeSpacing},function(a){this.Aa.nodeSpacing!==a&&(C.h(a,"number",Z,"alternateNodeSpacing"),this.Aa.nodeSpacing=a,this.N())});
C.defineProperty(Z,{RK:"alternateLayerSpacing"},function(){return this.Aa.layerSpacing},function(a){this.Aa.layerSpacing!==a&&(C.h(a,"number",Z,"alternateLayerSpacing"),this.Aa.layerSpacing=a,this.N())});C.defineProperty(Z,{SK:"alternateLayerSpacingParentOverlap"},function(){return this.Aa.layerSpacingParentOverlap},function(a){this.Aa.layerSpacingParentOverlap!==a&&(C.h(a,"number",Z,"alternateLayerSpacingParentOverlap"),0<=a&&1>=a&&(this.Aa.layerSpacingParentOverlap=a,this.N()))});
C.defineProperty(Z,{OK:"alternateCompaction"},function(){return this.Aa.compaction},function(a){this.Aa.compaction!==a&&(C.Ca(a,Z,Z,"alternateCompaction"),a===Qv||a===Sv)&&(this.Aa.compaction=a,this.N())});C.defineProperty(Z,{KK:"alternateBreadthLimit"},function(){return this.Aa.breadthLimit},function(a){this.Aa.breadthLimit!==a&&(C.h(a,"number",Z,"alternateBreadthLimit"),0<=a&&(this.Aa.breadthLimit=a,this.N()))});
C.defineProperty(Z,{YK:"alternateRowSpacing"},function(){return this.Aa.rowSpacing},function(a){this.Aa.rowSpacing!==a&&(C.h(a,"number",Z,"alternateRowSpacing"),this.Aa.rowSpacing=a,this.N())});C.defineProperty(Z,{XK:"alternateRowIndent"},function(){return this.Aa.rowIndent},function(a){this.Aa.rowIndent!==a&&(C.h(a,"number",Z,"alternateRowIndent"),0<=a&&(this.Aa.rowIndent=a,this.N()))});
C.defineProperty(Z,{NK:"alternateCommentSpacing"},function(){return this.Aa.commentSpacing},function(a){this.Aa.commentSpacing!==a&&(C.h(a,"number",Z,"alternateCommentSpacing"),this.Aa.commentSpacing=a,this.N())});C.defineProperty(Z,{MK:"alternateCommentMargin"},function(){return this.Aa.commentMargin},function(a){this.Aa.commentMargin!==a&&(C.h(a,"number",Z,"alternateCommentMargin"),this.Aa.commentMargin=a,this.N())});
C.defineProperty(Z,{$K:"alternateSetsPortSpot"},function(){return this.Aa.setsPortSpot},function(a){this.Aa.setsPortSpot!==a&&(C.h(a,"boolean",Z,"alternateSetsPortSpot"),this.Aa.setsPortSpot=a,this.N())});C.defineProperty(Z,{WK:"alternatePortSpot"},function(){return this.Aa.portSpot},function(a){C.l(a,S,Z,"alternatePortSpot");this.Aa.portSpot.O(a)||(this.Aa.portSpot=a,this.N())});
C.defineProperty(Z,{ZK:"alternateSetsChildPortSpot"},function(){return this.Aa.setsChildPortSpot},function(a){this.Aa.setsChildPortSpot!==a&&(C.h(a,"boolean",Z,"alternateSetsChildPortSpot"),this.Aa.setsChildPortSpot=a,this.N())});C.defineProperty(Z,{LK:"alternateChildPortSpot"},function(){return this.Aa.childPortSpot},function(a){C.l(a,S,Z,"alternateChildPortSpot");this.Aa.childPortSpot.O(a)||(this.Aa.childPortSpot=a,this.N())});var iv;Z.PathDefault=iv=C.s(Z,"PathDefault",-1);var jv;
Z.PathDestination=jv=C.s(Z,"PathDestination",0);var qv;Z.PathSource=qv=C.s(Z,"PathSource",1);var Fv;Z.SortingForwards=Fv=C.s(Z,"SortingForwards",10);var Gv;Z.SortingReverse=Gv=C.s(Z,"SortingReverse",11);var Hv;Z.SortingAscending=Hv=C.s(Z,"SortingAscending",12);var Iv;Z.SortingDescending=Iv=C.s(Z,"SortingDescending",13);var Kw;Z.AlignmentCenterSubtrees=Kw=C.s(Z,"AlignmentCenterSubtrees",20);var Jv;Z.AlignmentCenterChildren=Jv=C.s(Z,"AlignmentCenterChildren",21);var Uv;
Z.AlignmentStart=Uv=C.s(Z,"AlignmentStart",22);var Vv;Z.AlignmentEnd=Vv=C.s(Z,"AlignmentEnd",23);var Lv;Z.AlignmentBus=Lv=C.s(Z,"AlignmentBus",24);var Av;Z.AlignmentBusBranching=Av=C.s(Z,"AlignmentBusBranching",25);var Mv;Z.AlignmentTopLeftBus=Mv=C.s(Z,"AlignmentTopLeftBus",26);var Nv;Z.AlignmentBottomRightBus=Nv=C.s(Z,"AlignmentBottomRightBus",27);var Qv;Z.CompactionNone=Qv=C.s(Z,"CompactionNone",30);var Sv;Z.CompactionBlock=Sv=C.s(Z,"CompactionBlock",31);var kv;
Z.StyleLayered=kv=C.s(Z,"StyleLayered",40);var Ev;Z.StyleLastParents=Ev=C.s(Z,"StyleLastParents",41);var Dv;Z.StyleAlternating=Dv=C.s(Z,"StyleAlternating",42);var Cv;Z.StyleRootOnly=Cv=C.s(Z,"StyleRootOnly",43);var mv;Z.ArrangementVertical=mv=C.s(Z,"ArrangementVertical",50);var Tw;Z.ArrangementHorizontal=Tw=C.s(Z,"ArrangementHorizontal",51);var pv;Z.ArrangementFixedRoots=pv=C.s(Z,"ArrangementFixedRoots",52);var lv;Z.LayerIndividual=lv=C.s(Z,"LayerIndividual",60);var yv;
Z.LayerSiblings=yv=C.s(Z,"LayerSiblings",61);var xv;Z.LayerUniform=xv=C.s(Z,"LayerUniform",62);function ov(){ya.call(this)}C.Ta(ov,ya);C.ka("TreeNetwork",ov);ov.prototype.createVertex=function(){return new nv};ov.prototype.createEdge=function(){return new Vw};
function nv(){za.call(this);this.initialized=!1;this.parent=null;this.children=[];this.maxGenerationCount=this.maxChildrenCount=this.descendantCount=this.level=0;this.comments=null;this.ta=new O(0,0);this.rb=new Fa(0,0);this.Wa=new O(0,0);this.Nq=this.Mq=this.dK=!1;this.Tu=this.zu=null;this.sorting=Fv;this.comparer=rs;this.angle=0;this.alignment=Jv;this.nodeIndentPastParent=this.nodeIndent=0;this.nodeSpacing=20;this.layerSpacing=50;this.layerSpacingParentOverlap=0;this.compaction=Sv;this.breadthLimit=
0;this.rowSpacing=25;this.commentSpacing=this.rowIndent=10;this.commentMargin=20;this.setsPortSpot=!0;this.portSpot=Rc;this.setsChildPortSpot=!0;this.childPortSpot=Rc}C.Ta(nv,za);C.ka("TreeVertex",nv);
nv.prototype.copyInheritedPropertiesFrom=function(a){null!==a&&(this.sorting=a.sorting,this.comparer=a.comparer,this.angle=a.angle,this.alignment=a.alignment,this.nodeIndent=a.nodeIndent,this.nodeIndentPastParent=a.nodeIndentPastParent,this.nodeSpacing=a.nodeSpacing,this.layerSpacing=a.layerSpacing,this.layerSpacingParentOverlap=a.layerSpacingParentOverlap,this.compaction=a.compaction,this.breadthLimit=a.breadthLimit,this.rowSpacing=a.rowSpacing,this.rowIndent=a.rowIndent,this.commentSpacing=a.commentSpacing,
this.commentMargin=a.commentMargin,this.setsPortSpot=a.setsPortSpot,this.portSpot=a.portSpot,this.setsChildPortSpot=a.setsChildPortSpot,this.childPortSpot=a.childPortSpot)};C.w(nv,{Fn:"childrenCount"},function(){return this.children.length});C.defineProperty(nv,{qM:"relativePosition"},function(){return this.ta},function(a){this.ta.set(a)});C.defineProperty(nv,{CM:"subtreeSize"},function(){return this.rb},function(a){this.rb.set(a)});
C.defineProperty(nv,{BM:"subtreeOffset"},function(){return this.Wa},function(a){this.Wa.set(a)});function Vw(){Aa.call(this);this.$s=new O(0,0)}C.Ta(Vw,Aa);C.ka("TreeEdge",Vw);
Vw.prototype.commit=function(){var a=this.link;if(null!==a&&!a.Di){var b=this.network.Wb,c=null,d=null;switch(b.Rf){case jv:c=this.fromVertex;d=this.toVertex;break;case qv:c=this.toVertex;d=this.fromVertex;break;default:C.k("Unhandled path value "+b.Rf.toString())}if(null!==c&&null!==d)if(b=this.$s,0!==b.x||0!==b.y||c.dK){var d=c.sb,e=Tv(c),g=Wv(c),h=c.rowSpacing;a.uo();var k=a.gf===Dj,l=a.tc,m=0,n,p;a.xm();if(l||k){for(m=2;4<a.ua;)a.kG(2);n=a.n(1);p=a.n(2)}else{for(m=1;3<a.ua;)a.kG(1);n=a.n(0);p=
a.n(a.ua-1)}var q=a.n(a.ua-1),r=0;0===e?(c.alignment===Vv?(r=d.bottom+b.y,0===b.y&&n.y>q.y+c.rowIndent&&(r=Math.min(r,Math.max(n.y,r-Xv(c))))):c.alignment===Uv?(r=d.top+b.y,0===b.y&&n.y<q.y-c.rowIndent&&(r=Math.max(r,Math.min(n.y,r+Xv(c))))):r=c.Mq||c.Nq&&1===c.maxGenerationCount?d.top-c.Wa.y+b.y:d.y+d.height/2+b.y,k?(a.B(m,n.x,r),m++,a.B(m,d.right+g,r),m++,a.B(m,d.right+g+(b.x-h)/3,r),m++,a.B(m,d.right+g+2*(b.x-h)/3,r),m++,a.B(m,d.right+g+(b.x-h),r),m++,a.B(m,p.x,r)):(l&&(a.B(m,d.right+g/2,n.y),
m++),a.B(m,d.right+g/2,r),m++,a.B(m,d.right+g+b.x-(l?h/2:h),r),m++,l&&a.B(m,a.n(m-1).x,p.y))):90===e?(c.alignment===Vv?(r=d.right+b.x,0===b.x&&n.x>q.x+c.rowIndent&&(r=Math.min(r,Math.max(n.x,r-Xv(c))))):c.alignment===Uv?(r=d.left+b.x,0===b.x&&n.x<q.x-c.rowIndent&&(r=Math.max(r,Math.min(n.x,r+Xv(c))))):r=c.Mq||c.Nq&&1===c.maxGenerationCount?d.left-c.Wa.x+b.x:d.x+d.width/2+b.x,k?(a.B(m,r,n.y),m++,a.B(m,r,d.bottom+g),m++,a.B(m,r,d.bottom+g+(b.y-h)/3),m++,a.B(m,r,d.bottom+g+2*(b.y-h)/3),m++,a.B(m,r,d.bottom+
g+(b.y-h)),m++,a.B(m,r,p.y)):(l&&(a.B(m,n.x,d.bottom+g/2),m++),a.B(m,r,d.bottom+g/2),m++,a.B(m,r,d.bottom+g+b.y-(l?h/2:h)),m++,l&&a.B(m,p.x,a.n(m-1).y))):180===e?(c.alignment===Vv?(r=d.bottom+b.y,0===b.y&&n.y>q.y+c.rowIndent&&(r=Math.min(r,Math.max(n.y,r-Xv(c))))):c.alignment===Uv?(r=d.top+b.y,0===b.y&&n.y<q.y-c.rowIndent&&(r=Math.max(r,Math.min(n.y,r+Xv(c))))):r=c.Mq||c.Nq&&1===c.maxGenerationCount?d.top-c.Wa.y+b.y:d.y+d.height/2+b.y,k?(a.B(m,n.x,r),m++,a.B(m,d.left-g,r),m++,a.B(m,d.left-g+(b.x+
h)/3,r),m++,a.B(m,d.left-g+2*(b.x+h)/3,r),m++,a.B(m,d.left-g+(b.x+h),r),m++,a.B(m,p.x,r)):(l&&(a.B(m,d.left-g/2,n.y),m++),a.B(m,d.left-g/2,r),m++,a.B(m,d.left-g+b.x+(l?h/2:h),r),m++,l&&a.B(m,a.n(m-1).x,p.y))):270===e?(c.alignment===Vv?(r=d.right+b.x,0===b.x&&n.x>q.x+c.rowIndent&&(r=Math.min(r,Math.max(n.x,r-Xv(c))))):c.alignment===Uv?(r=d.left+b.x,0===b.x&&n.x<q.x-c.rowIndent&&(r=Math.max(r,Math.min(n.x,r+Xv(c))))):r=c.Mq||c.Nq&&1===c.maxGenerationCount?d.left-c.Wa.x+b.x:d.x+d.width/2+b.x,k?(a.B(m,
r,n.y),m++,a.B(m,r,d.top-g),m++,a.B(m,r,d.top-g+(b.y+h)/3),m++,a.B(m,r,d.top-g+2*(b.y+h)/3),m++,a.B(m,r,d.top-g+(b.y+h)),m++,a.B(m,r,p.y)):(l&&(a.B(m,n.x,d.top-g/2),m++),a.B(m,r,d.top-g/2),m++,a.B(m,r,d.top-g+b.y+(l?h/2:h)),m++,l&&a.B(m,p.x,a.n(m-1).y))):C.k("Invalid angle "+e);a.Aj()}else e=c,g=d,u&&C.l(e,nv,Vw,"adjustRouteForAngleChange:parent"),u&&C.l(g,nv,Vw,"adjustRouteForAngleChange:child"),a=this.link,c=Tv(e),c!==Tv(g)&&(b=Wv(e),d=e.sb,e=g.sb,0===c&&e.left-d.right<b+1||90===c&&e.top-d.bottom<
b+1||180===c&&d.left-e.right<b+1||270===c&&d.top-e.bottom<b+1||(a.uo(),e=a.gf===Dj,g=a.tc,h=Kv(this.fromVertex.alignment),a.xm(),0===c?(c=d.right+b/2,e?4===a.ua&&(b=a.n(3).y,a.ja(1,c-20,a.n(1).y),a.B(2,c-20,b),a.B(3,c,b),a.B(4,c+20,b),a.ja(5,a.n(5).x,b)):g?h?a.ja(3,a.n(2).x,a.n(4).y):6===a.ua&&(a.ja(2,c,a.n(2).y),a.ja(3,c,a.n(3).y)):4===a.ua?a.B(2,c,a.n(2).y):3===a.ua?a.ja(1,c,a.n(2).y):2===a.ua&&a.B(1,c,a.n(1).y)):90===c?(b=d.bottom+b/2,e?4===a.ua&&(c=a.n(3).x,a.ja(1,a.n(1).x,b-20),a.B(2,c,b-20),
a.B(3,c,b),a.B(4,c,b+20),a.ja(5,c,a.n(5).y)):g?h?a.ja(3,a.n(2).x,a.n(4).y):6===a.ua&&(a.ja(2,a.n(2).x,b),a.ja(3,a.n(3).x,b)):4===a.ua?a.B(2,a.n(2).x,b):3===a.ua?a.ja(1,a.n(2).x,b):2===a.ua&&a.B(1,a.n(1).x,b)):180===c?(c=d.left-b/2,e?4===a.ua&&(b=a.n(3).y,a.ja(1,c+20,a.n(1).y),a.B(2,c+20,b),a.B(3,c,b),a.B(4,c-20,b),a.ja(5,a.n(5).x,b)):g?h?a.ja(3,a.n(2).x,a.n(4).y):6===a.ua&&(a.ja(2,c,a.n(2).y),a.ja(3,c,a.n(3).y)):4===a.ua?a.B(2,c,a.n(2).y):3===a.ua?a.ja(1,c,a.n(2).y):2===a.ua&&a.B(1,c,a.n(1).y)):270===
c&&(b=d.top-b/2,e?4===a.ua&&(c=a.n(3).x,a.ja(1,a.n(1).x,b+20),a.B(2,c,b+20),a.B(3,c,b),a.B(4,c,b-20),a.ja(5,c,a.n(5).y)):g?h?a.ja(3,a.n(2).x,a.n(4).y):6===a.ua&&(a.ja(2,a.n(2).x,b),a.ja(3,a.n(3).x,b)):4===a.ua?a.B(2,a.n(2).x,b):3===a.ua?a.ja(1,a.n(2).x,b):2===a.ua&&a.B(1,a.n(1).x,b)),a.Aj()))}};C.defineProperty(Vw,{pM:"relativePoint"},function(){return this.$s},function(a){this.$s.set(a)});function Ww(){Q.call(this);this.Ze=null}C.Ta(Ww,Q);
Ww.prototype.cloneProtected=function(a){Q.prototype.cloneProtected.call(this,a);a.element=this.Ze.cloneNode(!0)};Ww.prototype.toString=function(){return"HTMLHost("+this.Ze.toString()+")#"+C.Gd(this)};
Ww.prototype.Ok=function(a,b){var c=this.Ze;if(null!==c){var d=this.fb(mc);d.x-=this.Z.width/2;d.y-=this.Z.height/2;d.x-=this.Z.x;d.y-=this.Z.y;var d=b.MB(d),e=b.Cj;null===e||e.contains(c)||e.appendChild(c);e=this.transform;c.style.transform="matrix("+e.m11+","+e.m12+","+e.m21+","+e.m22+","+e.dx+","+e.dy+")";c.style.transformOrigin="0 0";e=d.y;c.style.left=d.x+"px";c.style.top=e+"px"}};
Ww.prototype.zq=function(a,b,c,d){var e=this.Da;isFinite(e.width)&&(a=e.width);isFinite(e.height)&&(b=e.height);var e=this.lf,g=this.hg;c=Math.max(c,g.width);d=Math.max(d,g.height);a=Math.min(e.width,a);b=Math.min(e.height,b);a=Math.max(c,a);b=Math.max(d,b);c=this.Ze;null!==c&&(b=c.getBoundingClientRect(),a=b.width,b=b.height);Ab(this.Uc,a,b);Bo(this,0,0,a,b)};Ww.prototype.yj=function(a,b,c,d){Go(this,a,b,c,d)};C.w(Ww,{Ja:"naturalBounds"},function(){return this.Uc});
C.defineProperty(Ww,{element:"element"},function(){return this.Ze},function(a){var b=this.Ze;b!==a&&(a instanceof Element||C.k("HTMLHost.element must be an instance of Element."),this.Ze=a,a.className="HTMLHost",this.i("element",b,a),this.ra())});ca.version="1.7.4";window&&(window.module&&"object"===typeof window.module&&"object"===typeof window.module.exports?window.module.exports=ca:window.define&&"function"===typeof window.define&&window.define.amd?(window.go=ca,window.define(ca)):window.go=ca);
"undefined"!==typeof module&&"object"===typeof module.exports&&(module.exports=ca); })(window);
